const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/reaction.service-Ry572Umw.js","assets/vendor-DW-3xwEg.js","assets/ui-BypyKLY8.js"])))=>i.map(i=>d[i]);
import{a as b_,b as S_,R as na,N as Po,u as Lx,r as C,L as sf,g as Vx,B as __,c as w_,d as Uo}from"./vendor-DW-3xwEg.js";import{C as zs,E as of,a as rf,A as lf,b as C_,c as T_,X as Oi,I as A_,d as E_,e as j_,T as M_,f as R_,U as D_,g as Yl,h as k_,P as z_,i as Ix,L as Px,S as N_,K as O_,j as cf,k as U_,M as B_,l as L_,m as V_,n as I_,R as P_,o as H_,p as F_,B as q_,q as G_,r as $_}from"./ui-BypyKLY8.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var Ed={exports:{}},Bo={};var Ey;function Y_(){if(Ey)return Bo;Ey=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(o,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:n,type:o,key:d,ref:l!==void 0?l:null,props:u}}return Bo.Fragment=a,Bo.jsx=s,Bo.jsxs=s,Bo}var jy;function X_(){return jy||(jy=1,Ed.exports=Y_()),Ed.exports}var h=X_(),jd={exports:{}},Lo={},Md={exports:{}},Rd={};var My;function K_(){return My||(My=1,(function(n){function a(L,G){var ee=L.length;L.push(G);e:for(;0<ee;){var oe=ee-1>>>1,we=L[oe];if(0<l(we,G))L[oe]=G,L[ee]=we,ee=oe;else break e}}function s(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var G=L[0],ee=L.pop();if(ee!==G){L[0]=ee;e:for(var oe=0,we=L.length,Ee=we>>>1;oe<Ee;){var _e=2*(oe+1)-1,pe=L[_e],Re=_e+1,nt=L[Re];if(0>l(pe,ee))Re<we&&0>l(nt,pe)?(L[oe]=nt,L[Re]=ee,oe=Re):(L[oe]=pe,L[_e]=ee,oe=_e);else if(Re<we&&0>l(nt,ee))L[oe]=nt,L[Re]=ee,oe=Re;else break e}}return G}function l(L,G){var ee=L.sortIndex-G.sortIndex;return ee!==0?ee:L.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var m=[],v=[],y=1,x=null,S=3,T=!1,_=!1,j=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function Y(L){for(var G=s(v);G!==null;){if(G.callback===null)o(v);else if(G.startTime<=L)o(v),G.sortIndex=G.expirationTime,a(m,G);else break;G=s(v)}}function $(L){if(j=!1,Y(L),!_)if(s(m)!==null)_=!0,ae||(ae=!0,Ve());else{var G=s(v);G!==null&&Ae($,G.startTime-L)}}var ae=!1,J=-1,ie=5,ve=-1;function ce(){return R?!0:!(n.unstable_now()-ve<ie)}function ke(){if(R=!1,ae){var L=n.unstable_now();ve=L;var G=!0;try{e:{_=!1,j&&(j=!1,H(J),J=-1),T=!0;var ee=S;try{t:{for(Y(L),x=s(m);x!==null&&!(x.expirationTime>L&&ce());){var oe=x.callback;if(typeof oe=="function"){x.callback=null,S=x.priorityLevel;var we=oe(x.expirationTime<=L);if(L=n.unstable_now(),typeof we=="function"){x.callback=we,Y(L),G=!0;break t}x===s(m)&&o(m),Y(L)}else o(m);x=s(m)}if(x!==null)G=!0;else{var Ee=s(v);Ee!==null&&Ae($,Ee.startTime-L),G=!1}}break e}finally{x=null,S=ee,T=!1}G=void 0}}finally{G?Ve():ae=!1}}}var Ve;if(typeof N=="function")Ve=function(){N(ke)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Te=xe.port2;xe.port1.onmessage=ke,Ve=function(){Te.postMessage(null)}}else Ve=function(){E(ke,0)};function Ae(L,G){J=E(function(){L(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(L){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var ee=S;S=G;try{return L()}finally{S=ee}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=S;S=L;try{return G()}finally{S=ee}},n.unstable_scheduleCallback=function(L,G,ee){var oe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?oe+ee:oe):ee=oe,L){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ee+we,L={id:y++,callback:G,priorityLevel:L,startTime:ee,expirationTime:we,sortIndex:-1},ee>oe?(L.sortIndex=ee,a(v,L),s(m)===null&&L===s(v)&&(j?(H(J),J=-1):j=!0,Ae($,ee-oe))):(L.sortIndex=we,a(m,L),_||T||(_=!0,ae||(ae=!0,Ve()))),L},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(L){var G=S;return function(){var ee=S;S=G;try{return L.apply(this,arguments)}finally{S=ee}}}})(Rd)),Rd}var Ry;function W_(){return Ry||(Ry=1,Md.exports=K_()),Md.exports}var Dy;function Q_(){if(Dy)return Lo;Dy=1;var n=W_(),a=b_(),s=S_();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(o(188))}function v(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,r=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return m(c),e;if(f===r)return m(c),t;f=f.sibling}throw Error(o(188))}if(i.return!==r.return)i=c,r=f;else{for(var g=!1,b=c.child;b;){if(b===i){g=!0,i=c,r=f;break}if(b===r){g=!0,r=c,i=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===i){g=!0,i=f,r=c;break}if(b===r){g=!0,r=f,i=c;break}b=b.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==r)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),N=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function Ve(e){return e===null||typeof e!="object"?null:(e=ke&&e[ke]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function Te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case E:return"Profiler";case R:return"StrictMode";case $:return"Suspense";case ae:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case N:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:Te(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return Te(e(t))}catch{}}return null}var Ae=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},oe=[],we=-1;function Ee(e){return{current:e}}function _e(e){0>we||(e.current=oe[we],oe[we]=null,we--)}function pe(e,t){we++,oe[we]=e.current,e.current=t}var Re=Ee(null),nt=Ee(null),ct=Ee(null),te=Ee(null);function Ct(e,t){switch(pe(ct,t),pe(nt,e),pe(Re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wg(t),e=Qg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Re),pe(Re,e)}function pt(){_e(Re),_e(nt),_e(ct)}function nn(e){e.memoizedState!==null&&pe(te,e);var t=Re.current,i=Qg(t,e.type);t!==i&&(pe(nt,e),pe(Re,i))}function Ht(e){nt.current===e&&(_e(Re),_e(nt)),te.current===e&&(_e(te),ko._currentValue=ee)}var F,K;function me(e){if(F===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||"",K=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+e+K}var at=!1;function jt(e,t){if(!e||at)return"";at=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(B){var O=B}Reflect.construct(e,[],q)}else{try{q.call()}catch(B){O=B}e.call(q.prototype)}}else{try{throw Error()}catch(B){O=B}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(B){if(B&&O&&typeof B.stack=="string")return[B.stack,O.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var w=g.split(`
`),k=b.split(`
`);for(c=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(r===w.length||c===k.length)for(r=w.length-1,c=k.length-1;1<=r&&0<=c&&w[r]!==k[c];)c--;for(;1<=r&&0<=c;r--,c--)if(w[r]!==k[c]){if(r!==1||c!==1)do if(r--,c--,0>c||w[r]!==k[c]){var V=`
`+w[r].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=r&&0<=c);break}}}finally{at=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?me(i):""}function Ge(e,t){switch(e.tag){case 26:case 27:case 5:return me(e.type);case 16:return me("Lazy");case 13:return e.child!==t&&t!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return jt(e.type,!1);case 11:return jt(e.type.render,!1);case 1:return jt(e.type,!0);case 31:return me("Activity");default:return""}}function In(e){try{var t="",i=null;do t+=Ge(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var an=Object.prototype.hasOwnProperty,ut=n.unstable_scheduleCallback,Wt=n.unstable_cancelCallback,qs=n.unstable_shouldYield,Gs=n.unstable_requestPaint,Q=n.unstable_now,fe=n.unstable_getCurrentPriorityLevel,ot=n.unstable_ImmediatePriority,ht=n.unstable_UserBlockingPriority,Mt=n.unstable_NormalPriority,oa=n.unstable_LowPriority,An=n.unstable_IdlePriority,ai=n.log,ii=n.unstable_setDisableYieldValue,Pn=null,Rt=null;function sn(e){if(typeof ai=="function"&&ii(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Pn,e)}catch{}}var X=Math.clz32?Math.clz32:Ie,W=Math.log,le=Math.LN2;function Ie(e){return e>>>=0,e===0?32:31-(W(e)/le|0)|0}var de=256,ge=262144,Se=4194304;function ne(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xt(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~f,r!==0?c=ne(r):(g&=b,g!==0?c=ne(g):i||(i=b&~e,i!==0&&(c=ne(i))))):(b=r&~f,b!==0?c=ne(b):g!==0?c=ne(g):i||(i=r&~e,i!==0&&(c=ne(i)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:c}function Ze(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function si(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function Vi(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function mt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ea(e,t,i,r,c,f){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(i=g&~i;0<i;){var V=31-X(i),q=1<<V;b[V]=0,w[V]=-1;var O=k[V];if(O!==null)for(k[V]=null,V=0;V<O.length;V++){var B=O[V];B!==null&&(B.lane&=-536870913)}i&=~q}r!==0&&kp(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function kp(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-X(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function zp(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-X(i),c=1<<r;c&t|e[r]&t&&(e[r]|=t),i&=~c}}function Np(e,t){var i=t&-t;return i=(i&42)!==0?1:gc(i),(i&(e.suspendedLanes|t))!==0?0:i}function gc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Op(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:by(e.type))}function Up(e,t){var i=G.p;try{return G.p=e,t()}finally{G.p=i}}var ja=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ja,on="__reactProps$"+ja,Ii="__reactContainer$"+ja,vc="__reactEvents$"+ja,cS="__reactListeners$"+ja,uS="__reactHandles$"+ja,Bp="__reactResources$"+ja,$s="__reactMarker$"+ja;function xc(e){delete e[Ft],delete e[on],delete e[vc],delete e[cS],delete e[uS]}function Pi(e){var t=e[Ft];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ii]||i[Ft]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=iy(e);e!==null;){if(i=e[Ft])return i;e=iy(e)}return t}e=i,i=e.parentNode}return null}function Hi(e){if(e=e[Ft]||e[Ii]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ys(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Fi(e){var t=e[Bp];return t||(t=e[Bp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function It(e){e[$s]=!0}var Lp=new Set,Vp={};function oi(e,t){qi(e,t),qi(e+"Capture",t)}function qi(e,t){for(Vp[e]=t,e=0;e<t.length;e++)Lp.add(t[e])}var dS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ip={},Pp={};function fS(e){return an.call(Pp,e)?!0:an.call(Ip,e)?!1:dS.test(e)?Pp[e]=!0:(Ip[e]=!0,!1)}function yr(e,t,i){if(fS(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function vr(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ra(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pS(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bc(e){if(!e._valueTracker){var t=Hp(e)?"checked":"value";e._valueTracker=pS(e,t,""+e[t])}}function Fp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Hp(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hS=/[\n"\\]/g;function jn(e){return e.replace(hS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Sc(e,t,i,r,c,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+En(t)):e.value!==""+En(t)&&(e.value=""+En(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?_c(e,g,En(t)):i!=null?_c(e,g,En(i)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+En(b):e.removeAttribute("name")}function qp(e,t,i,r,c,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){bc(e);return}i=i!=null?""+En(i):"",t=t!=null?""+En(t):i,b||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),bc(e)}function _c(e,t,i){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gi(e,t,i,r){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&r&&(e[i].defaultSelected=!0)}else{for(i=""+En(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Gp(e,t,i){if(t!=null&&(t=""+En(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+En(i):""}function $p(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(o(92));if(Ae(r)){if(1<r.length)throw Error(o(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=En(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),bc(e)}function $i(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var mS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yp(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||mS.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Xp(e,t,i){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&i[c]!==r&&Yp(e,c,r)}else for(var f in t)t.hasOwnProperty(f)&&Yp(e,f,t[f])}function wc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return yS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function la(){}var Cc=null;function Tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yi=null,Xi=null;function Kp(e){var t=Hi(e);if(t&&(e=t.stateNode)){var i=e[on]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+jn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var c=r[on]||null;if(!c)throw Error(o(90));Sc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Fp(r)}break e;case"textarea":Gp(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Gi(e,!!i.multiple,t,!1)}}}var Ac=!1;function Wp(e,t,i){if(Ac)return e(t,i);Ac=!0;try{var r=e(t);return r}finally{if(Ac=!1,(Yi!==null||Xi!==null)&&(rl(),Yi&&(t=Yi,e=Xi,Xi=Yi=null,Kp(t),e)))for(t=0;t<e.length;t++)Kp(e[t])}}function Xs(e,t){var i=e.stateNode;if(i===null)return null;var r=i[on]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(ca)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Ec=!1}var Ma=null,jc=null,Sr=null;function Qp(){if(Sr)return Sr;var e,t=jc,i=t.length,r,c="value"in Ma?Ma.value:Ma.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(r=1;r<=g&&t[i-r]===c[f-r];r++);return Sr=c.slice(e,1<r?1-r:void 0)}function _r(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wr(){return!0}function Zp(){return!1}function rn(e){function t(i,r,c,f,g){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wr:Zp,this.isPropagationStopped=Zp,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=rn(ri),Ws=x({},ri,{view:0,detail:0}),vS=rn(Ws),Mc,Rc,Qs,Tr=x({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(Mc=e.screenX-Qs.screenX,Rc=e.screenY-Qs.screenY):Rc=Mc=0,Qs=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Rc}}),Jp=rn(Tr),xS=x({},Tr,{dataTransfer:0}),bS=rn(xS),SS=x({},Ws,{relatedTarget:0}),Dc=rn(SS),_S=x({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),wS=rn(_S),CS=x({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TS=rn(CS),AS=x({},ri,{data:0}),eh=rn(AS),ES={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MS[e])?!!t[e]:!1}function kc(){return RS}var DS=x({},Ws,{key:function(e){if(e.key){var t=ES[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kS=rn(DS),zS=x({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),th=rn(zS),NS=x({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),OS=rn(NS),US=x({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),BS=rn(US),LS=x({},Tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=rn(LS),IS=x({},ri,{newState:0,oldState:0}),PS=rn(IS),HS=[9,13,27,32],zc=ca&&"CompositionEvent"in window,Zs=null;ca&&"documentMode"in document&&(Zs=document.documentMode);var FS=ca&&"TextEvent"in window&&!Zs,nh=ca&&(!zc||Zs&&8<Zs&&11>=Zs),ah=" ",ih=!1;function sh(e,t){switch(e){case"keyup":return HS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function qS(e,t){switch(e){case"compositionend":return oh(t);case"keypress":return t.which!==32?null:(ih=!0,ah);case"textInput":return e=t.data,e===ah&&ih?null:e;default:return null}}function GS(e,t){if(Ki)return e==="compositionend"||!zc&&sh(e,t)?(e=Qp(),Sr=jc=Ma=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nh&&t.locale!=="ko"?null:t.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$S[e.type]:t==="textarea"}function lh(e,t,i,r){Yi?Xi?Xi.push(r):Xi=[r]:Yi=r,t=hl(t,"onChange"),0<t.length&&(i=new Cr("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Js=null,eo=null;function YS(e){qg(e,0)}function Ar(e){var t=Ys(e);if(Fp(t))return e}function ch(e,t){if(e==="change")return t}var uh=!1;if(ca){var Nc;if(ca){var Oc="oninput"in document;if(!Oc){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),Oc=typeof dh.oninput=="function"}Nc=Oc}else Nc=!1;uh=Nc&&(!document.documentMode||9<document.documentMode)}function fh(){Js&&(Js.detachEvent("onpropertychange",ph),eo=Js=null)}function ph(e){if(e.propertyName==="value"&&Ar(eo)){var t=[];lh(t,eo,e,Tc(e)),Wp(YS,t)}}function XS(e,t,i){e==="focusin"?(fh(),Js=t,eo=i,Js.attachEvent("onpropertychange",ph)):e==="focusout"&&fh()}function KS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ar(eo)}function WS(e,t){if(e==="click")return Ar(t)}function QS(e,t){if(e==="input"||e==="change")return Ar(t)}function ZS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:ZS;function to(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!an.call(t,c)||!gn(e[c],t[c]))return!1}return!0}function hh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mh(e,t){var i=hh(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hh(i)}}function gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=xr(e.document)}return t}function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var JS=ca&&"documentMode"in document&&11>=document.documentMode,Wi=null,Bc=null,no=null,Lc=!1;function vh(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Lc||Wi==null||Wi!==xr(r)||(r=Wi,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),no&&to(no,r)||(no=r,r=hl(Bc,"onSelect"),0<r.length&&(t=new Cr("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Wi)))}function li(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Qi={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Vc={},xh={};ca&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function ci(e){if(Vc[e])return Vc[e];if(!Qi[e])return e;var t=Qi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in xh)return Vc[e]=t[i];return e}var bh=ci("animationend"),Sh=ci("animationiteration"),_h=ci("animationstart"),e1=ci("transitionrun"),t1=ci("transitionstart"),n1=ci("transitioncancel"),wh=ci("transitionend"),Ch=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function Hn(e,t){Ch.set(e,t),oi(t,[e])}var Er=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Zi=0,Pc=0;function jr(){for(var e=Zi,t=Pc=Zi=0;t<e;){var i=Mn[t];Mn[t++]=null;var r=Mn[t];Mn[t++]=null;var c=Mn[t];Mn[t++]=null;var f=Mn[t];if(Mn[t++]=null,r!==null&&c!==null){var g=r.pending;g===null?c.next=c:(c.next=g.next,g.next=c),r.pending=c}f!==0&&Th(i,c,f)}}function Mr(e,t,i,r){Mn[Zi++]=e,Mn[Zi++]=t,Mn[Zi++]=i,Mn[Zi++]=r,Pc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Hc(e,t,i,r){return Mr(e,t,i,r),Rr(e)}function ui(e,t){return Mr(e,null,null,t),Rr(e)}function Th(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-X(i),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=i|536870912),f):null}function Rr(e){if(50<To)throw To=0,Qu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ji={};function a1(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,i,r){return new a1(e,t,i,r)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ua(e,t){var i=e.alternate;return i===null?(i=yn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ah(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Dr(e,t,i,r,c,f){var g=0;if(r=e,typeof e=="function")Fc(e)&&(g=1);else if(typeof e=="string")g=l_(e,i,Re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=yn(31,i,t,c),e.elementType=ve,e.lanes=f,e;case j:return di(i.children,c,f,t);case R:g=8,c|=24;break;case E:return e=yn(12,i,t,c|2),e.elementType=E,e.lanes=f,e;case $:return e=yn(13,i,t,c),e.elementType=$,e.lanes=f,e;case ae:return e=yn(19,i,t,c),e.elementType=ae,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:g=10;break e;case H:g=9;break e;case Y:g=11;break e;case J:g=14;break e;case ie:g=16,r=null;break e}g=29,i=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=yn(g,i,t,c),t.elementType=e,t.type=r,t.lanes=f,t}function di(e,t,i,r){return e=yn(7,e,r,t),e.lanes=i,e}function qc(e,t,i){return e=yn(6,e,null,t),e.lanes=i,e}function Eh(e){var t=yn(18,null,null,0);return t.stateNode=e,t}function Gc(e,t,i){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jh=new WeakMap;function Rn(e,t){if(typeof e=="object"&&e!==null){var i=jh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:In(t)},jh.set(e,t),t)}return{value:e,source:t,stack:In(t)}}var es=[],ts=0,kr=null,ao=0,Dn=[],kn=0,Ra=null,Kn=1,Wn="";function da(e,t){es[ts++]=ao,es[ts++]=kr,kr=e,ao=t}function Mh(e,t,i){Dn[kn++]=Kn,Dn[kn++]=Wn,Dn[kn++]=Ra,Ra=e;var r=Kn;e=Wn;var c=32-X(r)-1;r&=~(1<<c),i+=1;var f=32-X(t)+c;if(30<f){var g=c-c%5;f=(r&(1<<g)-1).toString(32),r>>=g,c-=g,Kn=1<<32-X(t)+c|i<<c|r,Wn=f+e}else Kn=1<<f|i<<c|r,Wn=e}function $c(e){e.return!==null&&(da(e,1),Mh(e,1,0))}function Yc(e){for(;e===kr;)kr=es[--ts],es[ts]=null,ao=es[--ts],es[ts]=null;for(;e===Ra;)Ra=Dn[--kn],Dn[kn]=null,Wn=Dn[--kn],Dn[kn]=null,Kn=Dn[--kn],Dn[kn]=null}function Rh(e,t){Dn[kn++]=Kn,Dn[kn++]=Wn,Dn[kn++]=Ra,Kn=t.id,Wn=t.overflow,Ra=e}var qt=null,rt=null,Le=!1,Da=null,zn=!1,Xc=Error(o(519));function ka(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(Rn(t,e)),Xc}function Dh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[Ft]=e,t[on]=r,i){case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":case"embed":Ne("load",t);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Ne(Eo[i],t);break;case"source":Ne("error",t);break;case"img":case"image":case"link":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"input":Ne("invalid",t),qp(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ne("invalid",t);break;case"textarea":Ne("invalid",t),$p(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Xg(t.textContent,i)?(r.popover!=null&&(Ne("beforetoggle",t),Ne("toggle",t)),r.onScroll!=null&&Ne("scroll",t),r.onScrollEnd!=null&&Ne("scrollend",t),r.onClick!=null&&(t.onclick=la),t=!0):t=!1,t||ka(e,!0)}function kh(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:qt=qt.return}}function ns(e){if(e!==qt)return!1;if(!Le)return kh(e),Le=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||fd(e.type,e.memoizedProps)),i=!i),i&&rt&&ka(e),kh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));rt=ay(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));rt=ay(e)}else t===27?(t=rt,$a(e.type)?(e=yd,yd=null,rt=e):rt=t):rt=qt?On(e.stateNode.nextSibling):null;return!0}function fi(){rt=qt=null,Le=!1}function Kc(){var e=Da;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Da=null),e}function io(e){Da===null?Da=[e]:Da.push(e)}var Wc=Ee(null),pi=null,fa=null;function za(e,t,i){pe(Wc,t._currentValue),t._currentValue=i}function pa(e){e._currentValue=Wc.current,_e(Wc)}function Qc(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Zc(e,t,i,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var w=0;w<t.length;w++)if(b.context===t[w]){f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),Qc(f.return,i,e),r||(g=null);break e}f=b.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(o(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Qc(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function as(e,t,i,r){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var b=c.type;gn(c.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(c===te.current){if(g=c.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ko):e=[ko])}c=c.return}e!==null&&Zc(t,e,i,r),t.flags|=262144}function zr(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hi(e){pi=e,fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return zh(pi,e)}function Nr(e,t){return pi===null&&hi(e),zh(e,t)}function zh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},fa===null){if(e===null)throw Error(o(308));fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fa=fa.next=t;return i}var i1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},s1=n.unstable_scheduleCallback,o1=n.unstable_NormalPriority,Dt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new i1,data:new Map,refCount:0}}function so(e){e.refCount--,e.refCount===0&&s1(o1,function(){e.controller.abort()})}var oo=null,eu=0,is=0,ss=null;function r1(e,t){if(oo===null){var i=oo=[];eu=0,is=ad(),ss={status:"pending",value:void 0,then:function(r){i.push(r)}}}return eu++,t.then(Nh,Nh),t}function Nh(){if(--eu===0&&oo!==null){ss!==null&&(ss.status="fulfilled");var e=oo;oo=null,is=0,ss=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l1(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var Oh=L.S;L.S=function(e,t){vg=Q(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&r1(e,t),Oh!==null&&Oh(e,t)};var mi=Ee(null);function tu(){var e=mi.current;return e!==null?e:Je.pooledCache}function Or(e,t){t===null?pe(mi,mi.current):pe(mi,t.pool)}function Uh(){var e=tu();return e===null?null:{parent:Dt._currentValue,pool:e}}var os=Error(o(460)),nu=Error(o(474)),Ur=Error(o(542)),Br={then:function(){}};function Bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(la,la),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ih(e),e;default:if(typeof t.status=="string")t.then(la,la);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ih(e),e}throw yi=t,os}}function gi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(yi=i,os):i}}var yi=null;function Vh(){if(yi===null)throw Error(o(459));var e=yi;return yi=null,e}function Ih(e){if(e===os||e===Ur)throw Error(o(483))}var rs=null,ro=0;function Lr(e){var t=ro;return ro+=1,rs===null&&(rs=[]),Lh(rs,e,t)}function lo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vr(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ph(e){function t(M,A){if(e){var D=M.deletions;D===null?(M.deletions=[A],M.flags|=16):D.push(A)}}function i(M,A){if(!e)return null;for(;A!==null;)t(M,A),A=A.sibling;return null}function r(M){for(var A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function c(M,A){return M=ua(M,A),M.index=0,M.sibling=null,M}function f(M,A,D){return M.index=D,e?(D=M.alternate,D!==null?(D=D.index,D<A?(M.flags|=67108866,A):D):(M.flags|=67108866,A)):(M.flags|=1048576,A)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function b(M,A,D,I){return A===null||A.tag!==6?(A=qc(D,M.mode,I),A.return=M,A):(A=c(A,D),A.return=M,A)}function w(M,A,D,I){var ue=D.type;return ue===j?V(M,A,D.props.children,I,D.key):A!==null&&(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ie&&gi(ue)===A.type)?(A=c(A,D.props),lo(A,D),A.return=M,A):(A=Dr(D.type,D.key,D.props,null,M.mode,I),lo(A,D),A.return=M,A)}function k(M,A,D,I){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Gc(D,M.mode,I),A.return=M,A):(A=c(A,D.children||[]),A.return=M,A)}function V(M,A,D,I,ue){return A===null||A.tag!==7?(A=di(D,M.mode,I,ue),A.return=M,A):(A=c(A,D),A.return=M,A)}function q(M,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=qc(""+A,M.mode,D),A.return=M,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return D=Dr(A.type,A.key,A.props,null,M.mode,D),lo(D,A),D.return=M,D;case _:return A=Gc(A,M.mode,D),A.return=M,A;case ie:return A=gi(A),q(M,A,D)}if(Ae(A)||Ve(A))return A=di(A,M.mode,D,null),A.return=M,A;if(typeof A.then=="function")return q(M,Lr(A),D);if(A.$$typeof===N)return q(M,Nr(M,A),D);Vr(M,A)}return null}function O(M,A,D,I){var ue=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ue!==null?null:b(M,A,""+D,I);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return D.key===ue?w(M,A,D,I):null;case _:return D.key===ue?k(M,A,D,I):null;case ie:return D=gi(D),O(M,A,D,I)}if(Ae(D)||Ve(D))return ue!==null?null:V(M,A,D,I,null);if(typeof D.then=="function")return O(M,A,Lr(D),I);if(D.$$typeof===N)return O(M,A,Nr(M,D),I);Vr(M,D)}return null}function B(M,A,D,I,ue){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return M=M.get(D)||null,b(A,M,""+I,ue);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case T:return M=M.get(I.key===null?D:I.key)||null,w(A,M,I,ue);case _:return M=M.get(I.key===null?D:I.key)||null,k(A,M,I,ue);case ie:return I=gi(I),B(M,A,D,I,ue)}if(Ae(I)||Ve(I))return M=M.get(D)||null,V(A,M,I,ue,null);if(typeof I.then=="function")return B(M,A,D,Lr(I),ue);if(I.$$typeof===N)return B(M,A,D,Nr(A,I),ue);Vr(A,I)}return null}function se(M,A,D,I){for(var ue=null,Pe=null,re=A,De=A=0,Be=null;re!==null&&De<D.length;De++){re.index>De?(Be=re,re=null):Be=re.sibling;var He=O(M,re,D[De],I);if(He===null){re===null&&(re=Be);break}e&&re&&He.alternate===null&&t(M,re),A=f(He,A,De),Pe===null?ue=He:Pe.sibling=He,Pe=He,re=Be}if(De===D.length)return i(M,re),Le&&da(M,De),ue;if(re===null){for(;De<D.length;De++)re=q(M,D[De],I),re!==null&&(A=f(re,A,De),Pe===null?ue=re:Pe.sibling=re,Pe=re);return Le&&da(M,De),ue}for(re=r(re);De<D.length;De++)Be=B(re,M,De,D[De],I),Be!==null&&(e&&Be.alternate!==null&&re.delete(Be.key===null?De:Be.key),A=f(Be,A,De),Pe===null?ue=Be:Pe.sibling=Be,Pe=Be);return e&&re.forEach(function(Qa){return t(M,Qa)}),Le&&da(M,De),ue}function he(M,A,D,I){if(D==null)throw Error(o(151));for(var ue=null,Pe=null,re=A,De=A=0,Be=null,He=D.next();re!==null&&!He.done;De++,He=D.next()){re.index>De?(Be=re,re=null):Be=re.sibling;var Qa=O(M,re,He.value,I);if(Qa===null){re===null&&(re=Be);break}e&&re&&Qa.alternate===null&&t(M,re),A=f(Qa,A,De),Pe===null?ue=Qa:Pe.sibling=Qa,Pe=Qa,re=Be}if(He.done)return i(M,re),Le&&da(M,De),ue;if(re===null){for(;!He.done;De++,He=D.next())He=q(M,He.value,I),He!==null&&(A=f(He,A,De),Pe===null?ue=He:Pe.sibling=He,Pe=He);return Le&&da(M,De),ue}for(re=r(re);!He.done;De++,He=D.next())He=B(re,M,De,He.value,I),He!==null&&(e&&He.alternate!==null&&re.delete(He.key===null?De:He.key),A=f(He,A,De),Pe===null?ue=He:Pe.sibling=He,Pe=He);return e&&re.forEach(function(x_){return t(M,x_)}),Le&&da(M,De),ue}function Qe(M,A,D,I){if(typeof D=="object"&&D!==null&&D.type===j&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case T:e:{for(var ue=D.key;A!==null;){if(A.key===ue){if(ue=D.type,ue===j){if(A.tag===7){i(M,A.sibling),I=c(A,D.props.children),I.return=M,M=I;break e}}else if(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ie&&gi(ue)===A.type){i(M,A.sibling),I=c(A,D.props),lo(I,D),I.return=M,M=I;break e}i(M,A);break}else t(M,A);A=A.sibling}D.type===j?(I=di(D.props.children,M.mode,I,D.key),I.return=M,M=I):(I=Dr(D.type,D.key,D.props,null,M.mode,I),lo(I,D),I.return=M,M=I)}return g(M);case _:e:{for(ue=D.key;A!==null;){if(A.key===ue)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){i(M,A.sibling),I=c(A,D.children||[]),I.return=M,M=I;break e}else{i(M,A);break}else t(M,A);A=A.sibling}I=Gc(D,M.mode,I),I.return=M,M=I}return g(M);case ie:return D=gi(D),Qe(M,A,D,I)}if(Ae(D))return se(M,A,D,I);if(Ve(D)){if(ue=Ve(D),typeof ue!="function")throw Error(o(150));return D=ue.call(D),he(M,A,D,I)}if(typeof D.then=="function")return Qe(M,A,Lr(D),I);if(D.$$typeof===N)return Qe(M,A,Nr(M,D),I);Vr(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(i(M,A.sibling),I=c(A,D),I.return=M,M=I):(i(M,A),I=qc(D,M.mode,I),I.return=M,M=I),g(M)):i(M,A)}return function(M,A,D,I){try{ro=0;var ue=Qe(M,A,D,I);return rs=null,ue}catch(re){if(re===os||re===Ur)throw re;var Pe=yn(29,re,null,M.mode);return Pe.lanes=I,Pe.return=M,Pe}finally{}}}var vi=Ph(!0),Hh=Ph(!1),Na=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Fe&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=Rr(e),Th(e,null,i),t}return Mr(e,r,t,i),Rr(e)}function co(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,zp(e,i)}}function su(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ou=!1;function uo(){if(ou){var e=ss;if(e!==null)throw e}}function fo(e,t,i,r){ou=!1;var c=e.updateQueue;Na=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var w=b,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==g&&(b===null?V.firstBaseUpdate=k:b.next=k,V.lastBaseUpdate=w))}if(f!==null){var q=c.baseState;g=0,V=k=w=null,b=f;do{var O=b.lane&-536870913,B=O!==b.lane;if(B?(Ue&O)===O:(r&O)===O){O!==0&&O===is&&(ou=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var se=e,he=b;O=t;var Qe=i;switch(he.tag){case 1:if(se=he.payload,typeof se=="function"){q=se.call(Qe,q,O);break e}q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=he.payload,O=typeof se=="function"?se.call(Qe,q,O):se,O==null)break e;q=x({},q,O);break e;case 2:Na=!0}}O=b.callback,O!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[O]:B.push(O))}else B={lane:O,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(k=V=B,w=q):V=V.next=B,g|=O;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;B=b,b=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);V===null&&(w=q),c.baseState=w,c.firstBaseUpdate=k,c.lastBaseUpdate=V,f===null&&(c.shared.lanes=0),Pa|=g,e.lanes=g,e.memoizedState=q}}function Fh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function qh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Fh(i[e],t)}var ls=Ee(null),Ir=Ee(0);function Gh(e,t){e=_a,pe(Ir,e),pe(ls,t),_a=e|t.baseLanes}function ru(){pe(Ir,_a),pe(ls,ls.current)}function lu(){_a=Ir.current,_e(ls),_e(Ir)}var vn=Ee(null),Nn=null;function Ba(e){var t=e.alternate;pe(Tt,Tt.current&1),pe(vn,e),Nn===null&&(t===null||ls.current!==null||t.memoizedState!==null)&&(Nn=e)}function cu(e){pe(Tt,Tt.current),pe(vn,e),Nn===null&&(Nn=e)}function $h(e){e.tag===22?(pe(Tt,Tt.current),pe(vn,e),Nn===null&&(Nn=e)):La()}function La(){pe(Tt,Tt.current),pe(vn,vn.current)}function xn(e){_e(vn),Nn===e&&(Nn=null),_e(Tt)}var Tt=Ee(0);function Pr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||md(i)||gd(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=0,je=null,Ke=null,kt=null,Hr=!1,cs=!1,xi=!1,Fr=0,po=0,us=null,c1=0;function bt(){throw Error(o(321))}function uu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!gn(e[i],t[i]))return!1;return!0}function du(e,t,i,r,c,f){return ha=f,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Mm:Au,xi=!1,f=i(r,c),xi=!1,cs&&(f=Xh(t,i,r,c)),Yh(e),f}function Yh(e){L.H=go;var t=Ke!==null&&Ke.next!==null;if(ha=0,kt=Ke=je=null,Hr=!1,po=0,us=null,t)throw Error(o(300));e===null||zt||(e=e.dependencies,e!==null&&zr(e)&&(zt=!0))}function Xh(e,t,i,r){je=e;var c=0;do{if(cs&&(us=null),po=0,cs=!1,25<=c)throw Error(o(301));if(c+=1,kt=Ke=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Rm,f=t(i,r)}while(cs);return f}function u1(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?ho(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(je.flags|=1024),t}function fu(){var e=Fr!==0;return Fr=0,e}function pu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function hu(e){if(Hr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Hr=!1}ha=0,kt=Ke=je=null,cs=!1,po=Fr=0,us=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?je.memoizedState=kt=e:kt=kt.next=e,kt}function At(){if(Ke===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=kt===null?je.memoizedState:kt.next;if(t!==null)kt=t,Ke=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},kt===null?je.memoizedState=kt=e:kt=kt.next=e}return kt}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(e){var t=po;return po+=1,us===null&&(us=[]),e=Lh(us,e,t),t=je,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Mm:Au),e}function Gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ho(e);if(e.$$typeof===N)return Gt(e)}throw Error(o(438,String(e)))}function mu(e){var t=null,i=je.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=je.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=qr(),je.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=ce;return t.index++,i}function ma(e,t){return typeof t=="function"?t(e):t}function $r(e){var t=At();return gu(t,Ke,e)}function gu(e,t,i){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=i;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}t.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var b=g=null,w=null,k=t,V=!1;do{var q=k.lane&-536870913;if(q!==k.lane?(Ue&q)===q:(ha&q)===q){var O=k.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),q===is&&(V=!0);else if((ha&O)===O){k=k.next,O===is&&(V=!0);continue}else q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(b=w=q,g=f):w=w.next=q,je.lanes|=O,Pa|=O;q=k.action,xi&&i(f,q),f=k.hasEagerState?k.eagerState:i(f,q)}else O={lane:q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(b=w=O,g=f):w=w.next=O,je.lanes|=q,Pa|=q;k=k.next}while(k!==null&&k!==t);if(w===null?g=f:w.next=b,!gn(f,e.memoizedState)&&(zt=!0,V&&(i=ss,i!==null)))throw i;e.memoizedState=f,e.baseState=g,e.baseQueue=w,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function yu(e){var t=At(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var r=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);gn(f,t.memoizedState)||(zt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,r]}function Kh(e,t,i){var r=je,c=At(),f=Le;if(f){if(i===void 0)throw Error(o(407));i=i()}else i=t();var g=!gn((Ke||c).memoizedState,i);if(g&&(c.memoizedState=i,zt=!0),c=c.queue,bu(Zh.bind(null,r,c,e),[e]),c.getSnapshot!==t||g||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,ds(9,{destroy:void 0},Qh.bind(null,r,c,i,t),null),Je===null)throw Error(o(349));f||(ha&127)!==0||Wh(r,t,i)}return i}function Wh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=je.updateQueue,t===null?(t=qr(),je.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Qh(e,t,i,r){t.value=i,t.getSnapshot=r,Jh(t)&&em(e)}function Zh(e,t,i){return i(function(){Jh(t)&&em(e)})}function Jh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!gn(e,i)}catch{return!0}}function em(e){var t=ui(e,2);t!==null&&fn(t,e,2)}function vu(e){var t=en();if(typeof e=="function"){var i=e;if(e=i(),xi){sn(!0);try{i()}finally{sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function tm(e,t,i,r){return e.baseState=i,gu(e,Ke,typeof r=="function"?r:ma)}function d1(e,t,i,r,c){if(Kr(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?i(!0):f.isTransition=!1,r(f),i=t.pending,i===null?(f.next=t.pending=f,nm(t,f)):(f.next=i.next,t.pending=i.next=f)}}function nm(e,t){var i=t.action,r=t.payload,c=e.state;if(t.isTransition){var f=L.T,g={};L.T=g;try{var b=i(c,r),w=L.S;w!==null&&w(g,b),am(e,t,b)}catch(k){xu(e,t,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=i(c,r),am(e,t,f)}catch(k){xu(e,t,k)}}function am(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){im(e,t,r)},function(r){return xu(e,t,r)}):im(e,t,i)}function im(e,t,i){t.status="fulfilled",t.value=i,sm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,nm(e,i)))}function xu(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,sm(t),t=t.next;while(t!==r)}e.action=null}function sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function om(e,t){return t}function rm(e,t){if(Le){var i=Je.formState;if(i!==null){e:{var r=je;if(Le){if(rt){t:{for(var c=rt,f=zn;c.nodeType!==8;){if(!f){c=null;break t}if(c=On(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){rt=On(c.nextSibling),r=c.data==="F!";break e}}ka(r)}r=!1}r&&(t=i[0])}}return i=en(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:t},i.queue=r,i=Am.bind(null,je,r),r.dispatch=i,r=vu(!1),f=Tu.bind(null,je,!1,r.queue),r=en(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,i=d1.bind(null,je,c,f,i),c.dispatch=i,r.memoizedState=e,[t,i,!1]}function lm(e){var t=At();return cm(t,Ke,e)}function cm(e,t,i){if(t=gu(e,t,om)[0],e=$r(ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ho(t)}catch(g){throw g===os?Ur:g}else r=t;t=At();var c=t.queue,f=c.dispatch;return i!==t.memoizedState&&(je.flags|=2048,ds(9,{destroy:void 0},f1.bind(null,c,i),null)),[r,f,e]}function f1(e,t){e.action=t}function um(e){var t=At(),i=Ke;if(i!==null)return cm(t,i,e);At(),t=t.memoizedState,i=At();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function ds(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=je.updateQueue,t===null&&(t=qr(),je.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function dm(){return At().memoizedState}function Yr(e,t,i,r){var c=en();je.flags|=e,c.memoizedState=ds(1|t,{destroy:void 0},i,r===void 0?null:r)}function Xr(e,t,i,r){var c=At();r=r===void 0?null:r;var f=c.memoizedState.inst;Ke!==null&&r!==null&&uu(r,Ke.memoizedState.deps)?c.memoizedState=ds(t,f,i,r):(je.flags|=e,c.memoizedState=ds(1|t,f,i,r))}function fm(e,t){Yr(8390656,8,e,t)}function bu(e,t){Xr(2048,8,e,t)}function p1(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=qr(),je.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function pm(e){var t=At().memoizedState;return p1({ref:t,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function hm(e,t){return Xr(4,2,e,t)}function mm(e,t){return Xr(4,4,e,t)}function gm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,i){i=i!=null?i.concat([e]):null,Xr(4,4,gm.bind(null,t,e),i)}function Su(){}function vm(e,t){var i=At();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&uu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function xm(e,t){var i=At();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&uu(t,r[1]))return r[0];if(r=e(),xi){sn(!0);try{e()}finally{sn(!1)}}return i.memoizedState=[r,t],r}function _u(e,t,i){return i===void 0||(ha&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=bg(),je.lanes|=e,Pa|=e,i)}function bm(e,t,i,r){return gn(i,t)?i:ls.current!==null?(e=_u(e,i,r),gn(e,t)||(zt=!0),e):(ha&42)===0||(ha&1073741824)!==0&&(Ue&261930)===0?(zt=!0,e.memoizedState=i):(e=bg(),je.lanes|=e,Pa|=e,t)}function Sm(e,t,i,r,c){var f=G.p;G.p=f!==0&&8>f?f:8;var g=L.T,b={};L.T=b,Tu(e,!1,t,i);try{var w=c(),k=L.S;if(k!==null&&k(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=l1(w,r);mo(e,t,V,_n(e))}else mo(e,t,r,_n(e))}catch(q){mo(e,t,{then:function(){},status:"rejected",reason:q},_n())}finally{G.p=f,g!==null&&b.types!==null&&(g.types=b.types),L.T=g}}function h1(){}function wu(e,t,i,r){if(e.tag!==5)throw Error(o(476));var c=_m(e).queue;Sm(e,c,t,ee,i===null?h1:function(){return wm(e),i(r)})}function _m(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:ee},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wm(e){var t=_m(e);t.next===null&&(t=e.alternate.memoizedState),mo(e,t.next.queue,{},_n())}function Cu(){return Gt(ko)}function Cm(){return At().memoizedState}function Tm(){return At().memoizedState}function m1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=_n();e=Oa(i);var r=Ua(t,e,i);r!==null&&(fn(r,t,i),co(r,t,i)),t={cache:Jc()},e.payload=t;return}t=t.return}}function g1(e,t,i){var r=_n();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Kr(e)?Em(t,i):(i=Hc(e,t,i,r),i!==null&&(fn(i,e,r),jm(i,t,r)))}function Am(e,t,i){var r=_n();mo(e,t,i,r)}function mo(e,t,i,r){var c={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))Em(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,b=f(g,i);if(c.hasEagerState=!0,c.eagerState=b,gn(b,g))return Mr(e,t,c,0),Je===null&&jr(),!1}catch{}finally{}if(i=Hc(e,t,c,r),i!==null)return fn(i,e,r),jm(i,t,r),!0}return!1}function Tu(e,t,i,r){if(r={lane:2,revertLane:ad(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Kr(e)){if(t)throw Error(o(479))}else t=Hc(e,i,r,2),t!==null&&fn(t,e,2)}function Kr(e){var t=e.alternate;return e===je||t!==null&&t===je}function Em(e,t){cs=Hr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jm(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,zp(e,i)}}var go={readContext:Gt,use:Gr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};go.useEffectEvent=bt;var Mm={readContext:Gt,use:Gr,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:fm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Yr(4194308,4,gm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){Yr(4,2,e,t)},useMemo:function(e,t){var i=en();t=t===void 0?null:t;var r=e();if(xi){sn(!0);try{e()}finally{sn(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=en();if(i!==void 0){var c=i(t);if(xi){sn(!0);try{i(t)}finally{sn(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=g1.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:function(e){e=vu(e);var t=e.queue,i=Am.bind(null,je,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Su,useDeferredValue:function(e,t){var i=en();return _u(i,e,t)},useTransition:function(){var e=vu(!1);return e=Sm.bind(null,je,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=je,c=en();if(Le){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),Je===null)throw Error(o(349));(Ue&127)!==0||Wh(r,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,fm(Zh.bind(null,r,f,e),[e]),r.flags|=2048,ds(9,{destroy:void 0},Qh.bind(null,r,f,i,t),null),i},useId:function(){var e=en(),t=Je.identifierPrefix;if(Le){var i=Wn,r=Kn;i=(r&~(1<<32-X(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Fr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=c1++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Cu,useFormState:rm,useActionState:rm,useOptimistic:function(e){var t=en();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Tu.bind(null,je,!0,i),i.dispatch=t,[e,t]},useMemoCache:mu,useCacheRefresh:function(){return en().memoizedState=m1.bind(null,je)},useEffectEvent:function(e){var t=en(),i={impl:e};return t.memoizedState=i,function(){if((Fe&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}},Au={readContext:Gt,use:Gr,useCallback:vm,useContext:Gt,useEffect:bu,useImperativeHandle:ym,useInsertionEffect:hm,useLayoutEffect:mm,useMemo:xm,useReducer:$r,useRef:dm,useState:function(){return $r(ma)},useDebugValue:Su,useDeferredValue:function(e,t){var i=At();return bm(i,Ke.memoizedState,e,t)},useTransition:function(){var e=$r(ma)[0],t=At().memoizedState;return[typeof e=="boolean"?e:ho(e),t]},useSyncExternalStore:Kh,useId:Cm,useHostTransitionStatus:Cu,useFormState:lm,useActionState:lm,useOptimistic:function(e,t){var i=At();return tm(i,Ke,e,t)},useMemoCache:mu,useCacheRefresh:Tm};Au.useEffectEvent=pm;var Rm={readContext:Gt,use:Gr,useCallback:vm,useContext:Gt,useEffect:bu,useImperativeHandle:ym,useInsertionEffect:hm,useLayoutEffect:mm,useMemo:xm,useReducer:yu,useRef:dm,useState:function(){return yu(ma)},useDebugValue:Su,useDeferredValue:function(e,t){var i=At();return Ke===null?_u(i,e,t):bm(i,Ke.memoizedState,e,t)},useTransition:function(){var e=yu(ma)[0],t=At().memoizedState;return[typeof e=="boolean"?e:ho(e),t]},useSyncExternalStore:Kh,useId:Cm,useHostTransitionStatus:Cu,useFormState:um,useActionState:um,useOptimistic:function(e,t){var i=At();return Ke!==null?tm(i,Ke,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:mu,useCacheRefresh:Tm};Rm.useEffectEvent=pm;function Eu(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:x({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ju={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=_n(),c=Oa(r);c.payload=t,i!=null&&(c.callback=i),t=Ua(e,c,r),t!==null&&(fn(t,e,r),co(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=_n(),c=Oa(r);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Ua(e,c,r),t!==null&&(fn(t,e,r),co(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=_n(),r=Oa(i);r.tag=2,t!=null&&(r.callback=t),t=Ua(e,r,i),t!==null&&(fn(t,e,i),co(t,e,i))}};function Dm(e,t,i,r,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,g):t.prototype&&t.prototype.isPureReactComponent?!to(i,r)||!to(c,f):!0}function km(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function bi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=x({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function zm(e){Er(e)}function Nm(e){console.error(e)}function Om(e){Er(e)}function Wr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Um(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Mu(e,t,i){return i=Oa(i),i.tag=3,i.payload={element:null},i.callback=function(){Wr(e,t)},i}function Bm(e){return e=Oa(e),e.tag=3,e}function Lm(e,t,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){Um(t,i,r)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Um(t,i,r),typeof c!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function y1(e,t,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&as(t,i,c,!0),i=vn.current,i!==null){switch(i.tag){case 31:case 13:return Nn===null?ll():i.alternate===null&&St===0&&(St=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===Br?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),ed(e,r,c)),!1;case 22:return i.flags|=65536,r===Br?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),ed(e,r,c)),!1}throw Error(o(435,i.tag))}return ed(e,r,c),ll(),!1}if(Le)return t=vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Xc&&(e=Error(o(422),{cause:r}),io(Rn(e,i)))):(r!==Xc&&(t=Error(o(423),{cause:r}),io(Rn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Rn(r,i),c=Mu(e.stateNode,r,c),su(e,c),St!==4&&(St=2)),!1;var f=Error(o(520),{cause:r});if(f=Rn(f,i),Co===null?Co=[f]:Co.push(f),St!==4&&(St=2),t===null)return!0;r=Rn(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Mu(i.stateNode,r,e),su(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ha===null||!Ha.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Bm(c),Lm(c,e,i,r),su(i,c),!1}i=i.return}while(i!==null);return!1}var Ru=Error(o(461)),zt=!1;function $t(e,t,i,r){t.child=e===null?Hh(t,null,i,r):vi(t,e.child,i,r)}function Vm(e,t,i,r,c){i=i.render;var f=t.ref;if("ref"in r){var g={};for(var b in r)b!=="ref"&&(g[b]=r[b])}else g=r;return hi(t),r=du(e,t,i,g,f,c),b=fu(),e!==null&&!zt?(pu(e,t,c),ga(e,t,c)):(Le&&b&&$c(t),t.flags|=1,$t(e,t,r,c),t.child)}function Im(e,t,i,r,c){if(e===null){var f=i.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,Pm(e,t,f,r,c)):(e=Dr(i.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Lu(e,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:to,i(g,r)&&e.ref===t.ref)return ga(e,t,c)}return t.flags|=1,e=ua(f,r),e.ref=t.ref,e.return=t,t.child=e}function Pm(e,t,i,r,c){if(e!==null){var f=e.memoizedProps;if(to(f,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=f,Lu(e,c))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,ga(e,t,c)}return Du(e,t,i,r,c)}function Hm(e,t,i,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,t.child=null;return Fm(e,t,f,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Or(t,f!==null?f.cachePool:null),f!==null?Gh(t,f):ru(),$h(t);else return r=t.lanes=536870912,Fm(e,t,f!==null?f.baseLanes|i:i,i,r)}else f!==null?(Or(t,f.cachePool),Gh(t,f),La(),t.memoizedState=null):(e!==null&&Or(t,null),ru(),La());return $t(e,t,c,i),t.child}function yo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fm(e,t,i,r,c){var f=tu();return f=f===null?null:{parent:Dt._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&Or(t,null),ru(),$h(t),e!==null&&as(e,t,r,!0),t.childLanes=c,null}function Qr(e,t){return t=Jr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qm(e,t,i){return vi(t,e.child,null,i),e=Qr(t,t.pendingProps),e.flags|=2,xn(t),t.memoizedState=null,e}function v1(e,t,i){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(r.mode==="hidden")return e=Qr(t,r),t.lanes=536870912,yo(null,e);if(cu(t),(e=rt)?(e=ny(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Kn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},i=Eh(e),i.return=t,t.child=i,qt=t,rt=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return Qr(t,r)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cu(t),c)if(t.flags&256)t.flags&=-257,t=qm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(zt||as(e,t,i,!1),c=(i&e.childLanes)!==0,zt||c){if(r=Je,r!==null&&(g=Np(r,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,ui(e,g),fn(r,e,g),Ru;ll(),t=qm(e,t,i)}else e=f.treeContext,rt=On(g.nextSibling),qt=t,Le=!0,Da=null,zn=!1,e!==null&&Rh(t,e),t=Qr(t,r),t.flags|=4096;return t}return e=ua(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(o(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Du(e,t,i,r,c){return hi(t),i=du(e,t,i,r,void 0,c),r=fu(),e!==null&&!zt?(pu(e,t,c),ga(e,t,c)):(Le&&r&&$c(t),t.flags|=1,$t(e,t,i,c),t.child)}function Gm(e,t,i,r,c,f){return hi(t),t.updateQueue=null,i=Xh(t,r,i,c),Yh(e),r=fu(),e!==null&&!zt?(pu(e,t,f),ga(e,t,f)):(Le&&r&&$c(t),t.flags|=1,$t(e,t,i,f),t.child)}function $m(e,t,i,r,c){if(hi(t),t.stateNode===null){var f=Ji,g=i.contextType;typeof g=="object"&&g!==null&&(f=Gt(g)),f=new i(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ju,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},au(t),g=i.contextType,f.context=typeof g=="object"&&g!==null?Gt(g):Ji,f.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Eu(t,i,g,r),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&ju.enqueueReplaceState(f,f.state,null),fo(t,r,f,c),uo(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,w=bi(i,b);f.props=w;var k=f.context,V=i.contextType;g=Ji,typeof V=="object"&&V!==null&&(g=Gt(V));var q=i.getDerivedStateFromProps;V=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||k!==g)&&km(t,f,r,g),Na=!1;var O=t.memoizedState;f.state=O,fo(t,r,f,c),uo(),k=t.memoizedState,b||O!==k||Na?(typeof q=="function"&&(Eu(t,i,q,r),k=t.memoizedState),(w=Na||Dm(t,i,w,r,O,k,g))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=k),f.props=r,f.state=k,f.context=g,r=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,iu(e,t),g=t.memoizedProps,V=bi(i,g),f.props=V,q=t.pendingProps,O=f.context,k=i.contextType,w=Ji,typeof k=="object"&&k!==null&&(w=Gt(k)),b=i.getDerivedStateFromProps,(k=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==q||O!==w)&&km(t,f,r,w),Na=!1,O=t.memoizedState,f.state=O,fo(t,r,f,c),uo();var B=t.memoizedState;g!==q||O!==B||Na||e!==null&&e.dependencies!==null&&zr(e.dependencies)?(typeof b=="function"&&(Eu(t,i,b,r),B=t.memoizedState),(V=Na||Dm(t,i,V,r,O,B,w)||e!==null&&e.dependencies!==null&&zr(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,B,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),f.props=r,f.state=B,f.context=w,r=V):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,Zr(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=vi(t,e.child,null,c),t.child=vi(t,null,i,c)):$t(e,t,i,c),t.memoizedState=f.state,e=t.child):e=ga(e,t,c),e}function Ym(e,t,i,r){return fi(),t.flags|=256,$t(e,t,i,r),t.child}var ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zu(e){return{baseLanes:e,cachePool:Uh()}}function Nu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Sn),e}function Xm(e,t,i){var r=t.pendingProps,c=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(c?Ba(t):La(),(e=rt)?(e=ny(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Kn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},i=Eh(e),i.return=t,t.child=i,qt=t,rt=null)):e=null,e===null)throw ka(t);return gd(e)?t.lanes=32:t.lanes=536870912,null}var b=r.children;return r=r.fallback,c?(La(),c=t.mode,b=Jr({mode:"hidden",children:b},c),r=di(r,c,i,null),b.return=t,r.return=t,b.sibling=r,t.child=b,r=t.child,r.memoizedState=zu(i),r.childLanes=Nu(e,g,i),t.memoizedState=ku,yo(null,r)):(Ba(t),Ou(t,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(f)t.flags&256?(Ba(t),t.flags&=-257,t=Uu(e,t,i)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),b=r.fallback,c=t.mode,r=Jr({mode:"visible",children:r.children},c),b=di(b,c,i,null),b.flags|=2,r.return=t,b.return=t,r.sibling=b,t.child=r,vi(t,e.child,null,i),r=t.child,r.memoizedState=zu(i),r.childLanes=Nu(e,g,i),t.memoizedState=ku,t=yo(null,r));else if(Ba(t),gd(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var k=g.dgst;g=k,r=Error(o(419)),r.stack="",r.digest=g,io({value:r,source:null,stack:null}),t=Uu(e,t,i)}else if(zt||as(e,t,i,!1),g=(i&e.childLanes)!==0,zt||g){if(g=Je,g!==null&&(r=Np(g,i),r!==0&&r!==w.retryLane))throw w.retryLane=r,ui(e,r),fn(g,e,r),Ru;md(b)||ll(),t=Uu(e,t,i)}else md(b)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,rt=On(b.nextSibling),qt=t,Le=!0,Da=null,zn=!1,e!==null&&Rh(t,e),t=Ou(t,r.children),t.flags|=4096);return t}return c?(La(),b=r.fallback,c=t.mode,w=e.child,k=w.sibling,r=ua(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,k!==null?b=ua(k,b):(b=di(b,c,i,null),b.flags|=2),b.return=t,r.return=t,r.sibling=b,t.child=r,yo(null,r),r=t.child,b=e.child.memoizedState,b===null?b=zu(i):(c=b.cachePool,c!==null?(w=Dt._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Uh(),b={baseLanes:b.baseLanes|i,cachePool:c}),r.memoizedState=b,r.childLanes=Nu(e,g,i),t.memoizedState=ku,yo(e.child,r)):(Ba(t),i=e.child,e=i.sibling,i=ua(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function Ou(e,t){return t=Jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jr(e,t){return e=yn(22,e,null,t),e.lanes=0,e}function Uu(e,t,i){return vi(t,e.child,null,i),e=Ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qc(e.return,t,i)}function Bu(e,t,i,r,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=i,g.tailMode=c,g.treeForkCount=f)}function Wm(e,t,i){var r=t.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var g=Tt.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,pe(Tt,g),$t(e,t,r,i),r=Le?ao:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Km(e,i,t);else if(e.tag===19)Km(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Pr(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Bu(t,!1,c,i,f,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Pr(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Bu(t,!0,i,null,f,r);break;case"together":Bu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ga(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(as(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=ua(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ua(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Lu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zr(e)))}function x1(e,t,i){switch(t.tag){case 3:Ct(t,t.stateNode.containerInfo),za(t,Dt,e.memoizedState.cache),fi();break;case 27:case 5:nn(t);break;case 4:Ct(t,t.stateNode.containerInfo);break;case 10:za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,cu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ba(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Xm(e,t,i):(Ba(t),e=ga(e,t,i),e!==null?e.sibling:null);Ba(t);break;case 19:var c=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(as(e,t,i,!1),r=(i&t.childLanes)!==0),c){if(r)return Wm(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),pe(Tt,Tt.current),r)break;return null;case 22:return t.lanes=0,Hm(e,t,i,t.pendingProps);case 24:za(t,Dt,e.memoizedState.cache)}return ga(e,t,i)}function Qm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!Lu(e,i)&&(t.flags&128)===0)return zt=!1,x1(e,t,i);zt=(e.flags&131072)!==0}else zt=!1,Le&&(t.flags&1048576)!==0&&Mh(t,ao,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=gi(t.elementType),t.type=e,typeof e=="function")Fc(e)?(r=bi(e,r),t.tag=1,t=$m(null,t,e,r,i)):(t.tag=0,t=Du(null,t,e,r,i));else{if(e!=null){var c=e.$$typeof;if(c===Y){t.tag=11,t=Vm(null,t,e,r,i);break e}else if(c===J){t.tag=14,t=Im(null,t,e,r,i);break e}}throw t=Te(e)||e,Error(o(306,t,""))}}return t;case 0:return Du(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,c=bi(r,t.pendingProps),$m(e,t,r,c,i);case 3:e:{if(Ct(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var f=t.memoizedState;c=f.element,iu(e,t),fo(t,r,null,i);var g=t.memoizedState;if(r=g.cache,za(t,Dt,r),r!==f.cache&&Zc(t,[Dt],i,!0),uo(),r=g.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Ym(e,t,r,i);break e}else if(r!==c){c=Rn(Error(o(424)),t),io(c),t=Ym(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=On(e.firstChild),qt=t,Le=!0,Da=null,zn=!0,i=Hh(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(fi(),r===c){t=ga(e,t,i);break e}$t(e,t,r,i)}t=t.child}return t;case 26:return Zr(e,t),e===null?(i=ly(t.type,null,t.pendingProps,null))?t.memoizedState=i:Le||(i=t.type,e=t.pendingProps,r=ml(ct.current).createElement(i),r[Ft]=t,r[on]=e,Yt(r,i,e),It(r),t.stateNode=r):t.memoizedState=ly(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nn(t),e===null&&Le&&(r=t.stateNode=sy(t.type,t.pendingProps,ct.current),qt=t,zn=!0,c=rt,$a(t.type)?(yd=c,rt=On(r.firstChild)):rt=c),$t(e,t,t.pendingProps.children,i),Zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((c=r=rt)&&(r=K1(r,t.type,t.pendingProps,zn),r!==null?(t.stateNode=r,qt=t,rt=On(r.firstChild),zn=!1,c=!0):c=!1),c||ka(t)),nn(t),c=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,r=f.children,fd(c,f)?r=null:g!==null&&fd(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=du(e,t,u1,null,null,i),ko._currentValue=c),Zr(e,t),$t(e,t,r,i),t.child;case 6:return e===null&&Le&&((e=i=rt)&&(i=W1(i,t.pendingProps,zn),i!==null?(t.stateNode=i,qt=t,rt=null,e=!0):e=!1),e||ka(t)),null;case 13:return Xm(e,t,i);case 4:return Ct(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vi(t,null,r,i):$t(e,t,r,i),t.child;case 11:return Vm(e,t,t.type,t.pendingProps,i);case 7:return $t(e,t,t.pendingProps,i),t.child;case 8:return $t(e,t,t.pendingProps.children,i),t.child;case 12:return $t(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,za(t,t.type,r.value),$t(e,t,r.children,i),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,hi(t),c=Gt(c),r=r(c),t.flags|=1,$t(e,t,r,i),t.child;case 14:return Im(e,t,t.type,t.pendingProps,i);case 15:return Pm(e,t,t.type,t.pendingProps,i);case 19:return Wm(e,t,i);case 31:return v1(e,t,i);case 22:return Hm(e,t,i,t.pendingProps);case 24:return hi(t),r=Gt(Dt),e===null?(c=tu(),c===null&&(c=Je,f=Jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),t.memoizedState={parent:r,cache:c},au(t),za(t,Dt,c)):((e.lanes&i)!==0&&(iu(e,t),fo(t,null,null,i),uo()),c=e.memoizedState,f=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),za(t,Dt,r)):(r=f.cache,za(t,Dt,r),r!==c.cache&&Zc(t,[Dt],i,!0))),$t(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ya(e){e.flags|=4}function Vu(e,t,i,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Cg())e.flags|=8192;else throw yi=Br,nu}else e.flags&=-16777217}function Zm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!py(t))if(Cg())e.flags|=8192;else throw yi=Br,nu}function el(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gr():536870912,e.lanes|=t,ms|=t)}function vo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function b1(e,t,i){var r=t.pendingProps;switch(Yc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),pa(Dt),pt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ns(t)?ya(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kc())),lt(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(ya(t),f!==null?(lt(t),Zm(t,f)):(lt(t),Vu(t,c,null,r,i))):f?f!==e.memoizedState?(ya(t),lt(t),Zm(t,f)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ya(t),lt(t),Vu(t,c,e,r,i)),null;case 27:if(Ht(t),i=ct.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return lt(t),null}e=Re.current,ns(t)?Dh(t):(e=sy(c,r,i),t.stateNode=e,ya(t))}return lt(t),null;case 5:if(Ht(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return lt(t),null}if(f=Re.current,ns(t))Dh(t);else{var g=ml(ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?g.createElement(c,{is:r.is}):g.createElement(c)}}f[Ft]=t,f[on]=r;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(Yt(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ya(t)}}return lt(t),Vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=ct.current,ns(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,c=qt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Ft]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Xg(e.nodeValue,i)),e||ka(t,!0)}else e=ml(e).createTextNode(r),e[Ft]=t,t.stateNode=e}return lt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=ns(t),i!==null){if(e===null){if(!r)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ft]=t}else fi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else i=Kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(xn(t),t):(xn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return lt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ns(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Ft]=t}else fi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),c=!1}else c=Kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(xn(t),t):(xn(t),null)}return xn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),el(t,t.updateQueue),lt(t),null);case 4:return pt(),e===null&&rd(t.stateNode.containerInfo),lt(t),null;case 10:return pa(t.type),lt(t),null;case 19:if(_e(Tt),r=t.memoizedState,r===null)return lt(t),null;if(c=(t.flags&128)!==0,f=r.rendering,f===null)if(c)vo(r,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Pr(e),f!==null){for(t.flags|=128,vo(r,!1),e=f.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Ah(i,e),i=i.sibling;return pe(Tt,Tt.current&1|2),Le&&da(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Q()>sl&&(t.flags|=128,c=!0,vo(r,!1),t.lanes=4194304)}else{if(!c)if(e=Pr(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),vo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Le)return lt(t),null}else 2*Q()-r.renderingStartTime>sl&&i!==536870912&&(t.flags|=128,c=!0,vo(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Q(),e.sibling=null,i=Tt.current,pe(Tt,c?i&1|2:i&1),Le&&da(t,r.treeForkCount),e):(lt(t),null);case 22:case 23:return xn(t),lu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),i=t.updateQueue,i!==null&&el(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&_e(mi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pa(Dt),lt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function S1(e,t){switch(Yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pa(Dt),pt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ht(t),null;case 31:if(t.memoizedState!==null){if(xn(t),t.alternate===null)throw Error(o(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Tt),null;case 4:return pt(),null;case 10:return pa(t.type),null;case 22:case 23:return xn(t),lu(),e!==null&&_e(mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pa(Dt),null;case 25:return null;default:return null}}function Jm(e,t){switch(Yc(t),t.tag){case 3:pa(Dt),pt();break;case 26:case 27:case 5:Ht(t);break;case 4:pt();break;case 31:t.memoizedState!==null&&xn(t);break;case 13:xn(t);break;case 19:_e(Tt);break;case 10:pa(t.type);break;case 22:case 23:xn(t),lu(),e!==null&&_e(mi);break;case 24:pa(Dt)}}function xo(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&e)===e){r=void 0;var f=i.create,g=i.inst;r=f(),g.destroy=r}i=i.next}while(i!==c)}}catch(b){Ye(t,t.return,b)}}function Va(e,t,i){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var g=r.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,c=t;var w=i,k=b;try{k()}catch(V){Ye(c,w,V)}}}r=r.next}while(r!==f)}}catch(V){Ye(t,t.return,V)}}function eg(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{qh(t,i)}catch(r){Ye(e,e.return,r)}}}function tg(e,t,i){i.props=bi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Ye(e,t,r)}}function bo(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(c){Ye(e,t,c)}}function Qn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){Ye(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Ye(e,t,c)}else i.current=null}function ng(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){Ye(e,e.return,c)}}function Iu(e,t,i){try{var r=e.stateNode;F1(r,e.type,i,t),r[on]=t}catch(c){Ye(e,e.return,c)}}function ag(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$a(e.type)||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=la));else if(r!==4&&(r===27&&$a(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Hu(e,t,i),e=e.sibling;e!==null;)Hu(e,t,i),e=e.sibling}function tl(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&$a(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(tl(e,t,i),e=e.sibling;e!==null;)tl(e,t,i),e=e.sibling}function ig(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Yt(t,r,i),t[Ft]=e,t[on]=i}catch(f){Ye(e,e.return,f)}}var va=!1,Nt=!1,Fu=!1,sg=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function _1(e,t){if(e=e.containerInfo,ud=_l,e=yh(e),Uc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,b=-1,w=-1,k=0,V=0,q=e,O=null;t:for(;;){for(var B;q!==i||c!==0&&q.nodeType!==3||(b=g+c),q!==f||r!==0&&q.nodeType!==3||(w=g+r),q.nodeType===3&&(g+=q.nodeValue.length),(B=q.firstChild)!==null;)O=q,q=B;for(;;){if(q===e)break t;if(O===i&&++k===c&&(b=g),O===f&&++V===r&&(w=g),(B=q.nextSibling)!==null)break;q=O,O=q.parentNode}q=B}i=b===-1||w===-1?null:{start:b,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(dd={focusedElem:e,selectionRange:i},_l=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){switch(t=Pt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,c=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var se=bi(i.type,c);e=r.getSnapshotBeforeUpdate(se,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(he){Ye(i,i.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)hd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function og(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ba(e,i),r&4&&xo(5,i);break;case 1:if(ba(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){Ye(i,i.return,g)}else{var c=bi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ye(i,i.return,g)}}r&64&&eg(i),r&512&&bo(i,i.return);break;case 3:if(ba(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{qh(e,t)}catch(g){Ye(i,i.return,g)}}break;case 27:t===null&&r&4&&ig(i);case 26:case 5:ba(e,i),t===null&&r&4&&ng(i),r&512&&bo(i,i.return);break;case 12:ba(e,i);break;case 31:ba(e,i),r&4&&cg(e,i);break;case 13:ba(e,i),r&4&&ug(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=D1.bind(null,i),Q1(e,i))));break;case 22:if(r=i.memoizedState!==null||va,!r){t=t!==null&&t.memoizedState!==null||Nt,c=va;var f=Nt;va=r,(Nt=t)&&!f?Sa(e,i,(i.subtreeFlags&8772)!==0):ba(e,i),va=c,Nt=f}break;case 30:break;default:ba(e,i)}}function rg(e){var t=e.alternate;t!==null&&(e.alternate=null,rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,ln=!1;function xa(e,t,i){for(i=i.child;i!==null;)lg(e,t,i),i=i.sibling}function lg(e,t,i){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Pn,i)}catch{}switch(i.tag){case 26:Nt||Qn(i,t),xa(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Nt||Qn(i,t);var r=dt,c=ln;$a(i.type)&&(dt=i.stateNode,ln=!1),xa(e,t,i),Mo(i.stateNode),dt=r,ln=c;break;case 5:Nt||Qn(i,t);case 6:if(r=dt,c=ln,dt=null,xa(e,t,i),dt=r,ln=c,dt!==null)if(ln)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(i.stateNode)}catch(f){Ye(i,t,f)}else try{dt.removeChild(i.stateNode)}catch(f){Ye(i,t,f)}break;case 18:dt!==null&&(ln?(e=dt,ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ws(e)):ey(dt,i.stateNode));break;case 4:r=dt,c=ln,dt=i.stateNode.containerInfo,ln=!0,xa(e,t,i),dt=r,ln=c;break;case 0:case 11:case 14:case 15:Va(2,i,t),Nt||Va(4,i,t),xa(e,t,i);break;case 1:Nt||(Qn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&tg(i,t,r)),xa(e,t,i);break;case 21:xa(e,t,i);break;case 22:Nt=(r=Nt)||i.memoizedState!==null,xa(e,t,i),Nt=r;break;default:xa(e,t,i)}}function cg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ws(e)}catch(i){Ye(t,t.return,i)}}}function ug(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ws(e)}catch(i){Ye(t,t.return,i)}}function w1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sg),t;default:throw Error(o(435,e.tag))}}function nl(e,t){var i=w1(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var c=k1.bind(null,e,r);r.then(c,c)}})}function cn(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],f=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if($a(b.type)){dt=b.stateNode,ln=!1;break e}break;case 5:dt=b.stateNode,ln=!1;break e;case 3:case 4:dt=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(dt===null)throw Error(o(160));lg(f,g,c),dt=null,ln=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dg(t,e),t=t.sibling}var Fn=null;function dg(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(t,e),un(e),r&4&&(Va(3,e,e.return),xo(3,e),Va(5,e,e.return));break;case 1:cn(t,e),un(e),r&512&&(Nt||i===null||Qn(i,i.return)),r&64&&va&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=Fn;if(cn(t,e),un(e),r&512&&(Nt||i===null||Qn(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$s]||f[Ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),Yt(f,r,i),f[Ft]=e,It(f),r=f;break e;case"link":var g=dy("link","href",c).get(r+(i.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(b,1);break t}}f=c.createElement(r),Yt(f,r,i),c.head.appendChild(f);break;case"meta":if(g=dy("meta","content",c).get(r+(i.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(b,1);break t}}f=c.createElement(r),Yt(f,r,i),c.head.appendChild(f);break;default:throw Error(o(468,r))}f[Ft]=e,It(f),r=f}e.stateNode=r}else fy(c,e.type,e.stateNode);else e.stateNode=uy(c,r,e.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?fy(c,e.type,e.stateNode):uy(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Iu(e,e.memoizedProps,i.memoizedProps)}break;case 27:cn(t,e),un(e),r&512&&(Nt||i===null||Qn(i,i.return)),i!==null&&r&4&&Iu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(cn(t,e),un(e),r&512&&(Nt||i===null||Qn(i,i.return)),e.flags&32){c=e.stateNode;try{$i(c,"")}catch(se){Ye(e,e.return,se)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Iu(e,c,i!==null?i.memoizedProps:c)),r&1024&&(Fu=!0);break;case 6:if(cn(t,e),un(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(se){Ye(e,e.return,se)}}break;case 3:if(vl=null,c=Fn,Fn=gl(t.containerInfo),cn(t,e),Fn=c,un(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(se){Ye(e,e.return,se)}Fu&&(Fu=!1,fg(e));break;case 4:r=Fn,Fn=gl(e.stateNode.containerInfo),cn(t,e),un(e),Fn=r;break;case 12:cn(t,e),un(e);break;case 31:cn(t,e),un(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,nl(e,r)));break;case 13:cn(t,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(il=Q()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,nl(e,r)));break;case 22:c=e.memoizedState!==null;var w=i!==null&&i.memoizedState!==null,k=va,V=Nt;if(va=k||c,Nt=V||w,cn(t,e),Nt=V,va=k,un(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||w||va||Nt||Si(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){w=i=t;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=w.stateNode;var q=w.memoizedProps.style,O=q!=null&&q.hasOwnProperty("display")?q.display:null;b.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(se){Ye(w,w.return,se)}}}else if(t.tag===6){if(i===null){w=t;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(se){Ye(w,w.return,se)}}}else if(t.tag===18){if(i===null){w=t;try{var B=w.stateNode;c?ty(B,!0):ty(w.stateNode,!1)}catch(se){Ye(w,w.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,nl(e,i))));break;case 19:cn(t,e),un(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,nl(e,r)));break;case 30:break;case 21:break;default:cn(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(ag(r)){i=r;break}r=r.return}if(i==null)throw Error(o(160));switch(i.tag){case 27:var c=i.stateNode,f=Pu(e);tl(e,f,c);break;case 5:var g=i.stateNode;i.flags&32&&($i(g,""),i.flags&=-33);var b=Pu(e);tl(e,b,g);break;case 3:case 4:var w=i.stateNode.containerInfo,k=Pu(e);Hu(e,k,w);break;default:throw Error(o(161))}}catch(V){Ye(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)og(e,t.alternate,t),t=t.sibling}function Si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),Si(t);break;case 1:Qn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&tg(t,t.return,i),Si(t);break;case 27:Mo(t.stateNode);case 26:case 5:Qn(t,t.return),Si(t);break;case 22:t.memoizedState===null&&Si(t);break;case 30:Si(t);break;default:Si(t)}e=e.sibling}}function Sa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:Sa(c,f,i),xo(4,f);break;case 1:if(Sa(c,f,i),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Ye(r,r.return,k)}if(r=f,c=r.updateQueue,c!==null){var b=r.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Fh(w[c],b)}catch(k){Ye(r,r.return,k)}}i&&g&64&&eg(f),bo(f,f.return);break;case 27:ig(f);case 26:case 5:Sa(c,f,i),i&&r===null&&g&4&&ng(f),bo(f,f.return);break;case 12:Sa(c,f,i);break;case 31:Sa(c,f,i),i&&g&4&&cg(c,f);break;case 13:Sa(c,f,i),i&&g&4&&ug(c,f);break;case 22:f.memoizedState===null&&Sa(c,f,i),bo(f,f.return);break;case 30:break;default:Sa(c,f,i)}t=t.sibling}}function qu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&so(i))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&so(e))}function qn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pg(e,t,i,r),t=t.sibling}function pg(e,t,i,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:qn(e,t,i,r),c&2048&&xo(9,t);break;case 1:qn(e,t,i,r);break;case 3:qn(e,t,i,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&so(e)));break;case 12:if(c&2048){qn(e,t,i,r),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ye(t,t.return,w)}}else qn(e,t,i,r);break;case 31:qn(e,t,i,r);break;case 13:qn(e,t,i,r);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?qn(e,t,i,r):So(e,t):f._visibility&2?qn(e,t,i,r):(f._visibility|=2,fs(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&qu(g,t);break;case 24:qn(e,t,i,r),c&2048&&Gu(t.alternate,t);break;default:qn(e,t,i,r)}}function fs(e,t,i,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,b=i,w=r,k=g.flags;switch(g.tag){case 0:case 11:case 15:fs(f,g,b,w,c),xo(8,g);break;case 23:break;case 22:var V=g.stateNode;g.memoizedState!==null?V._visibility&2?fs(f,g,b,w,c):So(f,g):(V._visibility|=2,fs(f,g,b,w,c)),c&&k&2048&&qu(g.alternate,g);break;case 24:fs(f,g,b,w,c),c&&k&2048&&Gu(g.alternate,g);break;default:fs(f,g,b,w,c)}t=t.sibling}}function So(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,c=r.flags;switch(r.tag){case 22:So(i,r),c&2048&&qu(r.alternate,r);break;case 24:So(i,r),c&2048&&Gu(r.alternate,r);break;default:So(i,r)}t=t.sibling}}var _o=8192;function ps(e,t,i){if(e.subtreeFlags&_o)for(e=e.child;e!==null;)hg(e,t,i),e=e.sibling}function hg(e,t,i){switch(e.tag){case 26:ps(e,t,i),e.flags&_o&&e.memoizedState!==null&&c_(i,Fn,e.memoizedState,e.memoizedProps);break;case 5:ps(e,t,i);break;case 3:case 4:var r=Fn;Fn=gl(e.stateNode.containerInfo),ps(e,t,i),Fn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=_o,_o=16777216,ps(e,t,i),_o=r):ps(e,t,i));break;default:ps(e,t,i)}}function mg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Pt=r,yg(r,e)}mg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gg(e),e=e.sibling}function gg(e){switch(e.tag){case 0:case 11:case 15:wo(e),e.flags&2048&&Va(9,e,e.return);break;case 3:wo(e);break;case 12:wo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,al(e)):wo(e);break;default:wo(e)}}function al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Pt=r,yg(r,e)}mg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),al(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,al(t));break;default:al(t)}e=e.sibling}}function yg(e,t){for(;Pt!==null;){var i=Pt;switch(i.tag){case 0:case 11:case 15:Va(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:so(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Pt=r;else e:for(i=e;Pt!==null;){r=Pt;var c=r.sibling,f=r.return;if(rg(r),r===i){Pt=null;break e}if(c!==null){c.return=f,Pt=c;break e}Pt=f}}}var C1={getCacheForType:function(e){var t=Gt(Dt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Gt(Dt).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Je=null,ze=null,Ue=0,$e=0,bn=null,Ia=!1,hs=!1,$u=!1,_a=0,St=0,Pa=0,_i=0,Yu=0,Sn=0,ms=0,Co=null,dn=null,Xu=!1,il=0,vg=0,sl=1/0,ol=null,Ha=null,Bt=0,Fa=null,gs=null,wa=0,Ku=0,Wu=null,xg=null,To=0,Qu=null;function _n(){return(Fe&2)!==0&&Ue!==0?Ue&-Ue:L.T!==null?ad():Op()}function bg(){if(Sn===0)if((Ue&536870912)===0||Le){var e=ge;ge<<=1,(ge&3932160)===0&&(ge=262144),Sn=e}else Sn=536870912;return e=vn.current,e!==null&&(e.flags|=32),Sn}function fn(e,t,i){(e===Je&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(ys(e,0),qa(e,Ue,Sn,!1)),mt(e,i),((Fe&2)===0||e!==Je)&&(e===Je&&((Fe&2)===0&&(_i|=i),St===4&&qa(e,Ue,Sn,!1)),Zn(e))}function Sg(e,t,i){if((Fe&6)!==0)throw Error(o(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Ze(e,t),c=r?j1(e,t):Ju(e,t,!0),f=r;do{if(c===0){hs&&!r&&qa(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!A1(i)){c=Ju(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;c=Co;var w=b.current.memoizedState.isDehydrated;if(w&&(ys(b,g).flags|=256),g=Ju(b,g,!1),g!==2){if($u&&!w){b.errorRecoveryDisabledLanes|=f,_i|=f,c=4;break e}f=dn,dn=c,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ys(e,0),qa(e,t,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:qa(r,t,Sn,!Ia);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=il+300-Q(),10<c)){if(qa(r,t,Sn,!Ia),xt(r,0,!0)!==0)break e;wa=t,r.timeoutHandle=Zg(_g.bind(null,r,i,dn,ol,Xu,t,Sn,_i,ms,Ia,f,"Throttled",-0,0),c);break e}_g(r,i,dn,ol,Xu,t,Sn,_i,ms,Ia,f,null,-0,0)}}break}while(!0);Zn(e)}function _g(e,t,i,r,c,f,g,b,w,k,V,q,O,B){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:la},hg(t,f,q);var se=(f&62914560)===f?il-Q():(f&4194048)===f?vg-Q():0;if(se=u_(q,se),se!==null){wa=f,e.cancelPendingCommit=se(Rg.bind(null,e,t,f,i,r,c,g,b,w,V,q,null,O,B)),qa(e,f,g,!k);return}}Rg(e,t,f,i,r,c,g,b,w)}function A1(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t,i,r){t&=~Yu,t&=~_i,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var f=31-X(c),g=1<<f;r[f]=-1,c&=~g}i!==0&&kp(e,i,t)}function rl(){return(Fe&6)===0?(Ao(0),!1):!0}function Zu(){if(ze!==null){if($e===0)var e=ze.return;else e=ze,fa=pi=null,hu(e),rs=null,ro=0,e=ze;for(;e!==null;)Jm(e.alternate,e),e=e.return;ze=null}}function ys(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,$1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),wa=0,Zu(),Je=e,ze=i=ua(e.current,null),Ue=t,$e=0,bn=null,Ia=!1,hs=Ze(e,t),$u=!1,ms=Sn=Yu=_i=Pa=St=0,dn=Co=null,Xu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-X(r),f=1<<c;t|=e[c],r&=~f}return _a=t,jr(),i}function wg(e,t){je=null,L.H=go,t===os||t===Ur?(t=Vh(),$e=3):t===nu?(t=Vh(),$e=4):$e=t===Ru?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,bn=t,ze===null&&(St=1,Wr(e,Rn(t,e.current)))}function Cg(){var e=vn.current;return e===null?!0:(Ue&4194048)===Ue?Nn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===Nn:!1}function Tg(){var e=L.H;return L.H=go,e===null?go:e}function Ag(){var e=L.A;return L.A=C1,e}function ll(){St=4,Ia||(Ue&4194048)!==Ue&&vn.current!==null||(hs=!0),(Pa&134217727)===0&&(_i&134217727)===0||Je===null||qa(Je,Ue,Sn,!1)}function Ju(e,t,i){var r=Fe;Fe|=2;var c=Tg(),f=Ag();(Je!==e||Ue!==t)&&(ol=null,ys(e,t)),t=!1;var g=St;e:do try{if($e!==0&&ze!==null){var b=ze,w=bn;switch($e){case 8:Zu(),g=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(t=!0);var k=$e;if($e=0,bn=null,vs(e,b,w,k),i&&hs){g=0;break e}break;default:k=$e,$e=0,bn=null,vs(e,b,w,k)}}E1(),g=St;break}catch(V){wg(e,V)}while(!0);return t&&e.shellSuspendCounter++,fa=pi=null,Fe=r,L.H=c,L.A=f,ze===null&&(Je=null,Ue=0,jr()),g}function E1(){for(;ze!==null;)Eg(ze)}function j1(e,t){var i=Fe;Fe|=2;var r=Tg(),c=Ag();Je!==e||Ue!==t?(ol=null,sl=Q()+500,ys(e,t)):hs=Ze(e,t);e:do try{if($e!==0&&ze!==null){t=ze;var f=bn;t:switch($e){case 1:$e=0,bn=null,vs(e,t,f,1);break;case 2:case 9:if(Bh(f)){$e=0,bn=null,jg(t);break}t=function(){$e!==2&&$e!==9||Je!==e||($e=7),Zn(e)},f.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Bh(f)?($e=0,bn=null,jg(t)):($e=0,bn=null,vs(e,t,f,7));break;case 5:var g=null;switch(ze.tag){case 26:g=ze.memoizedState;case 5:case 27:var b=ze;if(g?py(g):b.stateNode.complete){$e=0,bn=null;var w=b.sibling;if(w!==null)ze=w;else{var k=b.return;k!==null?(ze=k,cl(k)):ze=null}break t}}$e=0,bn=null,vs(e,t,f,5);break;case 6:$e=0,bn=null,vs(e,t,f,6);break;case 8:Zu(),St=6;break e;default:throw Error(o(462))}}M1();break}catch(V){wg(e,V)}while(!0);return fa=pi=null,L.H=r,L.A=c,Fe=i,ze!==null?0:(Je=null,Ue=0,jr(),St)}function M1(){for(;ze!==null&&!qs();)Eg(ze)}function Eg(e){var t=Qm(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?cl(e):ze=t}function jg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Gm(i,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=Gm(i,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:hu(t);default:Jm(i,t),t=ze=Ah(t,_a),t=Qm(i,t,_a)}e.memoizedProps=e.pendingProps,t===null?cl(e):ze=t}function vs(e,t,i,r){fa=pi=null,hu(t),rs=null,ro=0;var c=t.return;try{if(y1(e,c,t,i,Ue)){St=1,Wr(e,Rn(i,e.current)),ze=null;return}}catch(f){if(c!==null)throw ze=c,f;St=1,Wr(e,Rn(i,e.current)),ze=null;return}t.flags&32768?(Le||r===1?e=!0:hs||(Ue&536870912)!==0?e=!1:(Ia=e=!0,(r===2||r===9||r===3||r===6)&&(r=vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Mg(t,e)):cl(t)}function cl(e){var t=e;do{if((t.flags&32768)!==0){Mg(t,Ia);return}e=t.return;var i=b1(t.alternate,t,_a);if(i!==null){ze=i;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);St===0&&(St=5)}function Mg(e,t){do{var i=S1(e.alternate,e);if(i!==null){i.flags&=32767,ze=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=i}while(e!==null);St=6,ze=null}function Rg(e,t,i,r,c,f,g,b,w){e.cancelPendingCommit=null;do ul();while(Bt!==0);if((Fe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=Pc,Ea(e,i,f,g,b,w),e===Je&&(ze=Je=null,Ue=0),gs=t,Fa=e,wa=i,Ku=f,Wu=c,xg=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(Mt,function(){return Og(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=L.T,L.T=null,c=G.p,G.p=2,g=Fe,Fe|=4;try{_1(e,t,i)}finally{Fe=g,G.p=c,L.T=r}}Bt=1,Dg(),kg(),zg()}}function Dg(){if(Bt===1){Bt=0;var e=Fa,t=gs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=L.T,L.T=null;var r=G.p;G.p=2;var c=Fe;Fe|=4;try{dg(t,e);var f=dd,g=yh(e.containerInfo),b=f.focusedElem,w=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&gh(b.ownerDocument.documentElement,b)){if(w!==null&&Uc(b)){var k=w.start,V=w.end;if(V===void 0&&(V=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min(V,b.value.length);else{var q=b.ownerDocument||document,O=q&&q.defaultView||window;if(O.getSelection){var B=O.getSelection(),se=b.textContent.length,he=Math.min(w.start,se),Qe=w.end===void 0?he:Math.min(w.end,se);!B.extend&&he>Qe&&(g=Qe,Qe=he,he=g);var M=mh(b,he),A=mh(b,Qe);if(M&&A&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var D=q.createRange();D.setStart(M.node,M.offset),B.removeAllRanges(),he>Qe?(B.addRange(D),B.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),B.addRange(D))}}}}for(q=[],B=b;B=B.parentNode;)B.nodeType===1&&q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<q.length;b++){var I=q[b];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}_l=!!ud,dd=ud=null}finally{Fe=c,G.p=r,L.T=i}}e.current=t,Bt=2}}function kg(){if(Bt===2){Bt=0;var e=Fa,t=gs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=L.T,L.T=null;var r=G.p;G.p=2;var c=Fe;Fe|=4;try{og(e,t.alternate,t)}finally{Fe=c,G.p=r,L.T=i}}Bt=3}}function zg(){if(Bt===4||Bt===3){Bt=0,Gs();var e=Fa,t=gs,i=wa,r=xg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Bt=5:(Bt=0,gs=Fa=null,Ng(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ha=null),yc(i),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Pn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=L.T,c=G.p,G.p=2,L.T=null;try{for(var f=e.onRecoverableError,g=0;g<r.length;g++){var b=r[g];f(b.value,{componentStack:b.stack})}}finally{L.T=t,G.p=c}}(wa&3)!==0&&ul(),Zn(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===Qu?To++:(To=0,Qu=e):To=0,Ao(0)}}function Ng(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,so(t)))}function ul(){return Dg(),kg(),zg(),Og()}function Og(){if(Bt!==5)return!1;var e=Fa,t=Ku;Ku=0;var i=yc(wa),r=L.T,c=G.p;try{G.p=32>i?32:i,L.T=null,i=Wu,Wu=null;var f=Fa,g=wa;if(Bt=0,gs=Fa=null,wa=0,(Fe&6)!==0)throw Error(o(331));var b=Fe;if(Fe|=4,gg(f.current),pg(f,f.current,g,i),Fe=b,Ao(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{G.p=c,L.T=r,Ng(e,t)}}function Ug(e,t,i){t=Rn(i,t),t=Mu(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(mt(e,2),Zn(e))}function Ye(e,t,i){if(e.tag===3)Ug(e,e,i);else for(;t!==null;){if(t.tag===3){Ug(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){e=Rn(i,e),i=Bm(2),r=Ua(t,i,2),r!==null&&(Lm(i,r,t,e),mt(r,2),Zn(r));break}}t=t.return}}function ed(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new T1;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(i)||($u=!0,c.add(i),e=R1.bind(null,e,t,i),t.then(e,e))}function R1(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Je===e&&(Ue&i)===i&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Q()-il?(Fe&2)===0&&ys(e,0):Yu|=i,ms===Ue&&(ms=0)),Zn(e)}function Bg(e,t){t===0&&(t=gr()),e=ui(e,t),e!==null&&(mt(e,t),Zn(e))}function D1(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Bg(e,i)}function k1(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),Bg(e,i)}function z1(e,t){return ut(e,t)}var dl=null,xs=null,td=!1,fl=!1,nd=!1,Ga=0;function Zn(e){e!==xs&&e.next===null&&(xs===null?dl=xs=e:xs=xs.next=e),fl=!0,td||(td=!0,O1())}function Ao(e,t){if(!nd&&fl){nd=!0;do for(var i=!1,r=dl;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var g=r.suspendedLanes,b=r.pingedLanes;f=(1<<31-X(42|e)+1)-1,f&=c&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Pg(r,f))}else f=Ue,f=xt(r,r===Je?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Ze(r,f)||(i=!0,Pg(r,f));r=r.next}while(i);nd=!1}}function N1(){Lg()}function Lg(){fl=td=!1;var e=0;Ga!==0&&G1()&&(e=Ga);for(var t=Q(),i=null,r=dl;r!==null;){var c=r.next,f=Vg(r,t);f===0?(r.next=null,i===null?dl=c:i.next=c,c===null&&(xs=i)):(i=r,(e!==0||(f&3)!==0)&&(fl=!0)),r=c}Bt!==0&&Bt!==5||Ao(e),Ga!==0&&(Ga=0)}function Vg(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-X(f),b=1<<g,w=c[g];w===-1?((b&i)===0||(b&r)!==0)&&(c[g]=si(b,t)):w<=t&&(e.expiredLanes|=b),f&=~b}if(t=Je,i=Ue,i=xt(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Wt(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ze(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Wt(r),yc(i)){case 2:case 8:i=ht;break;case 32:i=Mt;break;case 268435456:i=An;break;default:i=Mt}return r=Ig.bind(null,e),i=ut(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Wt(r),e.callbackPriority=2,e.callbackNode=null,2}function Ig(e,t){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ul()&&e.callbackNode!==i)return null;var r=Ue;return r=xt(e,e===Je?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Sg(e,r,t),Vg(e,Q()),e.callbackNode!=null&&e.callbackNode===i?Ig.bind(null,e):null)}function Pg(e,t){if(ul())return null;Sg(e,t,!0)}function O1(){Y1(function(){(Fe&6)!==0?ut(ot,N1):Lg()})}function ad(){if(Ga===0){var e=is;e===0&&(e=de,de<<=1,(de&261888)===0&&(de=256)),Ga=e}return Ga}function Hg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function Fg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function U1(e,t,i,r,c){if(t==="submit"&&i&&i.stateNode===c){var f=Hg((c[on]||null).action),g=r.submitter;g&&(t=(t=g[on]||null)?Hg(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var b=new Cr("action","action",null,r,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ga!==0){var w=g?Fg(c,g):new FormData(c);wu(i,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(b.preventDefault(),w=g?Fg(c,g):new FormData(c),wu(i,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var id=0;id<Ic.length;id++){var sd=Ic[id],B1=sd.toLowerCase(),L1=sd[0].toUpperCase()+sd.slice(1);Hn(B1,"on"+L1)}Hn(bh,"onAnimationEnd"),Hn(Sh,"onAnimationIteration"),Hn(_h,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(e1,"onTransitionRun"),Hn(t1,"onTransitionStart"),Hn(n1,"onTransitionCancel"),Hn(wh,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function qg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],c=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var g=r.length-1;0<=g;g--){var b=r[g],w=b.instance,k=b.currentTarget;if(b=b.listener,w!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=k;try{f(c)}catch(V){Er(V)}c.currentTarget=null,f=w}else for(g=0;g<r.length;g++){if(b=r[g],w=b.instance,k=b.currentTarget,b=b.listener,w!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=k;try{f(c)}catch(V){Er(V)}c.currentTarget=null,f=w}}}}function Ne(e,t){var i=t[vc];i===void 0&&(i=t[vc]=new Set);var r=e+"__bubble";i.has(r)||(Gg(t,e,2,!1),i.add(r))}function od(e,t,i){var r=0;t&&(r|=4),Gg(i,e,r,t)}var pl="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[pl]){e[pl]=!0,Lp.forEach(function(i){i!=="selectionchange"&&(V1.has(i)||od(i,!1,e),od(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pl]||(t[pl]=!0,od("selectionchange",!1,t))}}function Gg(e,t,i,r){switch(by(t)){case 2:var c=p_;break;case 8:c=h_;break;default:c=_d}i=c.bind(null,t,i,e),c=void 0,!Ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function ld(e,t,i,r,c){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var b=r.stateNode.containerInfo;if(b===c)break;if(g===4)for(g=r.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;b!==null;){if(g=Pi(b),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){r=f=g;continue e}b=b.parentNode}}r=r.return}Wp(function(){var k=f,V=Tc(i),q=[];e:{var O=Ch.get(e);if(O!==void 0){var B=Cr,se=e;switch(e){case"keypress":if(_r(i)===0)break e;case"keydown":case"keyup":B=kS;break;case"focusin":se="focus",B=Dc;break;case"focusout":se="blur",B=Dc;break;case"beforeblur":case"afterblur":B=Dc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=OS;break;case bh:case Sh:case _h:B=wS;break;case wh:B=BS;break;case"scroll":case"scrollend":B=vS;break;case"wheel":B=VS;break;case"copy":case"cut":case"paste":B=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=th;break;case"toggle":case"beforetoggle":B=PS}var he=(t&4)!==0,Qe=!he&&(e==="scroll"||e==="scrollend"),M=he?O!==null?O+"Capture":null:O;he=[];for(var A=k,D;A!==null;){var I=A;if(D=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||D===null||M===null||(I=Xs(A,M),I!=null&&he.push(jo(A,I,D))),Qe)break;A=A.return}0<he.length&&(O=new B(O,se,null,i,V),q.push({event:O,listeners:he}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",O&&i!==Cc&&(se=i.relatedTarget||i.fromElement)&&(Pi(se)||se[Ii]))break e;if((B||O)&&(O=V.window===V?V:(O=V.ownerDocument)?O.defaultView||O.parentWindow:window,B?(se=i.relatedTarget||i.toElement,B=k,se=se?Pi(se):null,se!==null&&(Qe=u(se),he=se.tag,se!==Qe||he!==5&&he!==27&&he!==6)&&(se=null)):(B=null,se=k),B!==se)){if(he=Jp,I="onMouseLeave",M="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(he=th,I="onPointerLeave",M="onPointerEnter",A="pointer"),Qe=B==null?O:Ys(B),D=se==null?O:Ys(se),O=new he(I,A+"leave",B,i,V),O.target=Qe,O.relatedTarget=D,I=null,Pi(V)===k&&(he=new he(M,A+"enter",se,i,V),he.target=D,he.relatedTarget=Qe,I=he),Qe=I,B&&se)t:{for(he=I1,M=B,A=se,D=0,I=M;I;I=he(I))D++;I=0;for(var ue=A;ue;ue=he(ue))I++;for(;0<D-I;)M=he(M),D--;for(;0<I-D;)A=he(A),I--;for(;D--;){if(M===A||A!==null&&M===A.alternate){he=M;break t}M=he(M),A=he(A)}he=null}else he=null;B!==null&&$g(q,O,B,he,!1),se!==null&&Qe!==null&&$g(q,Qe,se,he,!0)}}e:{if(O=k?Ys(k):window,B=O.nodeName&&O.nodeName.toLowerCase(),B==="select"||B==="input"&&O.type==="file")var Pe=ch;else if(rh(O))if(uh)Pe=QS;else{Pe=KS;var re=XS}else B=O.nodeName,!B||B.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?k&&wc(k.elementType)&&(Pe=ch):Pe=WS;if(Pe&&(Pe=Pe(e,k))){lh(q,Pe,i,V);break e}re&&re(e,O,k),e==="focusout"&&k&&O.type==="number"&&k.memoizedProps.value!=null&&_c(O,"number",O.value)}switch(re=k?Ys(k):window,e){case"focusin":(rh(re)||re.contentEditable==="true")&&(Wi=re,Bc=k,no=null);break;case"focusout":no=Bc=Wi=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,vh(q,i,V);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":vh(q,i,V)}var De;if(zc)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ki?sh(e,i)&&(Be="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Be="onCompositionStart");Be&&(nh&&i.locale!=="ko"&&(Ki||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ki&&(De=Qp()):(Ma=V,jc="value"in Ma?Ma.value:Ma.textContent,Ki=!0)),re=hl(k,Be),0<re.length&&(Be=new eh(Be,e,null,i,V),q.push({event:Be,listeners:re}),De?Be.data=De:(De=oh(i),De!==null&&(Be.data=De)))),(De=FS?qS(e,i):GS(e,i))&&(Be=hl(k,"onBeforeInput"),0<Be.length&&(re=new eh("onBeforeInput","beforeinput",null,i,V),q.push({event:re,listeners:Be}),re.data=De)),U1(q,e,k,i,V)}qg(q,t)})}function jo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function hl(e,t){for(var i=t+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Xs(e,i),c!=null&&r.unshift(jo(e,c,f)),c=Xs(e,t),c!=null&&r.push(jo(e,c,f))),e.tag===3)return r;e=e.return}return[]}function I1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $g(e,t,i,r,c){for(var f=t._reactName,g=[];i!==null&&i!==r;){var b=i,w=b.alternate,k=b.stateNode;if(b=b.tag,w!==null&&w===r)break;b!==5&&b!==26&&b!==27||k===null||(w=k,c?(k=Xs(i,f),k!=null&&g.unshift(jo(i,k,w))):c||(k=Xs(i,f),k!=null&&g.push(jo(i,k,w)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var P1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Yg(e){return(typeof e=="string"?e:""+e).replace(P1,`
`).replace(H1,"")}function Xg(e,t){return t=Yg(t),Yg(e)===t}function We(e,t,i,r,c,f){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||$i(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&$i(e,""+r);break;case"className":vr(e,"class",r);break;case"tabIndex":vr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(e,i,r);break;case"style":Xp(e,r,f);break;case"data":if(t!=="object"){vr(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=br(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&We(e,t,"name",c.name,c,null),We(e,t,"formEncType",c.formEncType,c,null),We(e,t,"formMethod",c.formMethod,c,null),We(e,t,"formTarget",c.formTarget,c,null)):(We(e,t,"encType",c.encType,c,null),We(e,t,"method",c.method,c,null),We(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=br(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=la);break;case"onScroll":r!=null&&Ne("scroll",e);break;case"onScrollEnd":r!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=br(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),yr(e,"popover",r);break;case"xlinkActuate":ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ra(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ra(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ra(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ra(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":yr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=gS.get(i)||i,yr(e,i,r))}}function cd(e,t,i,r,c,f){switch(i){case"style":Xp(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"children":typeof r=="string"?$i(e,r):(typeof r=="number"||typeof r=="bigint")&&$i(e,""+r);break;case"onScroll":r!=null&&Ne("scroll",e);break;case"onScrollEnd":r!=null&&Ne("scrollend",e);break;case"onClick":r!=null&&(e.onclick=la);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),f=e[on]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,c);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):yr(e,i,r)}}}function Yt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var r=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:We(e,t,f,g,i,null)}}c&&We(e,t,"srcSet",i.srcSet,i,null),r&&We(e,t,"src",i.src,i,null);return;case"input":Ne("invalid",e);var b=f=g=c=null,w=null,k=null;for(r in i)if(i.hasOwnProperty(r)){var V=i[r];if(V!=null)switch(r){case"name":c=V;break;case"type":g=V;break;case"checked":w=V;break;case"defaultChecked":k=V;break;case"value":f=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,t));break;default:We(e,t,r,V,i,null)}}qp(e,f,b,w,k,g,c,!1);return;case"select":Ne("invalid",e),r=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(b=i[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":r=b;default:We(e,t,c,b,i,null)}t=f,i=g,e.multiple=!!r,t!=null?Gi(e,!!r,t,!1):i!=null&&Gi(e,!!r,i,!0);return;case"textarea":Ne("invalid",e),f=c=r=null;for(g in i)if(i.hasOwnProperty(g)&&(b=i[g],b!=null))switch(g){case"value":r=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:We(e,t,g,b,i,null)}$p(e,r,c,f);return;case"option":for(w in i)if(i.hasOwnProperty(w)&&(r=i[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:We(e,t,w,r,i,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(r=0;r<Eo.length;r++)Ne(Eo[r],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in i)if(i.hasOwnProperty(k)&&(r=i[k],r!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:We(e,t,k,r,i,null)}return;default:if(wc(t)){for(V in i)i.hasOwnProperty(V)&&(r=i[V],r!==void 0&&cd(e,t,V,r,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(r=i[b],r!=null&&We(e,t,b,r,i,null))}function F1(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,b=null,w=null,k=null,V=null;for(B in i){var q=i[B];if(i.hasOwnProperty(B)&&q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=q;default:r.hasOwnProperty(B)||We(e,t,B,null,r,q)}}for(var O in r){var B=r[O];if(q=i[O],r.hasOwnProperty(O)&&(B!=null||q!=null))switch(O){case"type":f=B;break;case"name":c=B;break;case"checked":k=B;break;case"defaultChecked":V=B;break;case"value":g=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,t));break;default:B!==q&&We(e,t,O,B,r,q)}}Sc(e,g,b,w,k,V,f,c);return;case"select":B=g=b=O=null;for(f in i)if(w=i[f],i.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:r.hasOwnProperty(f)||We(e,t,f,null,r,w)}for(c in r)if(f=r[c],w=i[c],r.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":O=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==w&&We(e,t,c,f,r,w)}t=b,i=g,r=B,O!=null?Gi(e,!!i,O,!1):!!r!=!!i&&(t!=null?Gi(e,!!i,t,!0):Gi(e,!!i,i?[]:"",!1));return;case"textarea":B=O=null;for(b in i)if(c=i[b],i.hasOwnProperty(b)&&c!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(e,t,b,null,r,c)}for(g in r)if(c=r[g],f=i[g],r.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":O=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==f&&We(e,t,g,c,r,f)}Gp(e,O,B);return;case"option":for(var se in i)if(O=i[se],i.hasOwnProperty(se)&&O!=null&&!r.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:We(e,t,se,null,r,O)}for(w in r)if(O=r[w],B=i[w],r.hasOwnProperty(w)&&O!==B&&(O!=null||B!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:We(e,t,w,O,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in i)O=i[he],i.hasOwnProperty(he)&&O!=null&&!r.hasOwnProperty(he)&&We(e,t,he,null,r,O);for(k in r)if(O=r[k],B=i[k],r.hasOwnProperty(k)&&O!==B&&(O!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,t));break;default:We(e,t,k,O,r,B)}return;default:if(wc(t)){for(var Qe in i)O=i[Qe],i.hasOwnProperty(Qe)&&O!==void 0&&!r.hasOwnProperty(Qe)&&cd(e,t,Qe,void 0,r,O);for(V in r)O=r[V],B=i[V],!r.hasOwnProperty(V)||O===B||O===void 0&&B===void 0||cd(e,t,V,O,r,B);return}}for(var M in i)O=i[M],i.hasOwnProperty(M)&&O!=null&&!r.hasOwnProperty(M)&&We(e,t,M,null,r,O);for(q in r)O=r[q],B=i[q],!r.hasOwnProperty(q)||O===B||O==null&&B==null||We(e,t,q,O,r,B)}function Kg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var c=i[r],f=c.transferSize,g=c.initiatorType,b=c.duration;if(f&&b&&Kg(g)){for(g=0,b=c.responseEnd,r+=1;r<i.length;r++){var w=i[r],k=w.startTime;if(k>b)break;var V=w.transferSize,q=w.initiatorType;V&&Kg(q)&&(w=w.responseEnd,g+=V*(w<b?1:(b-k)/(w-k)))}if(--r,t+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,dd=null;function ml(e){return e.nodeType===9?e:e.ownerDocument}function Wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=null;function G1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var Zg=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(e){return Jg.resolve(null).then(e).catch(X1)}:Zg;function X1(e){setTimeout(function(){throw e})}function $a(e){return e==="head"}function ey(e,t){var i=t,r=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(c),ws(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Mo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Mo(i);for(var f=i.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[$s]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&Mo(e.ownerDocument.body);i=c}while(i);ws(t)}function ty(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function hd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":hd(i),xc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function K1(e,t,i,r){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[$s])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function W1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=On(e.nextSibling),e===null))return null;return e}function ny(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=On(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q1(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yd=null;function ay(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return On(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function sy(e,t,i){switch(t=ml(i),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Mo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xc(e)}var Un=new Map,oy=new Set;function gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=G.d;G.d={f:Z1,r:J1,D:e_,C:t_,L:n_,m:a_,X:s_,S:i_,M:o_};function Z1(){var e=Ca.f(),t=rl();return e||t}function J1(e){var t=Hi(e);t!==null&&t.tag===5&&t.type==="form"?wm(t):Ca.r(e)}var bs=typeof document>"u"?null:document;function ry(e,t,i){var r=bs;if(r&&typeof t=="string"&&t){var c=jn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),oy.has(c)||(oy.add(c),e={rel:e,crossOrigin:i,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),Yt(t,"link",e),It(t),r.head.appendChild(t)))}}function e_(e){Ca.D(e),ry("dns-prefetch",e,null)}function t_(e,t){Ca.C(e,t),ry("preconnect",e,t)}function n_(e,t,i){Ca.L(e,t,i);var r=bs;if(r&&e&&t){var c='link[rel="preload"][as="'+jn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+jn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+jn(i.imageSizes)+'"]')):c+='[href="'+jn(e)+'"]';var f=c;switch(t){case"style":f=Ss(e);break;case"script":f=_s(e)}Un.has(f)||(e=x({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Un.set(f,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Ro(f))||t==="script"&&r.querySelector(Do(f))||(t=r.createElement("link"),Yt(t,"link",e),It(t),r.head.appendChild(t)))}}function a_(e,t){Ca.m(e,t);var i=bs;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+jn(r)+'"][href="'+jn(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_s(e)}if(!Un.has(f)&&(e=x({rel:"modulepreload",href:e},t),Un.set(f,e),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Do(f)))return}r=i.createElement("link"),Yt(r,"link",e),It(r),i.head.appendChild(r)}}}function i_(e,t,i){Ca.S(e,t,i);var r=bs;if(r&&e){var c=Fi(r).hoistableStyles,f=Ss(e);t=t||"default";var g=c.get(f);if(!g){var b={loading:0,preload:null};if(g=r.querySelector(Ro(f)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Un.get(f))&&vd(e,i);var w=g=r.createElement("link");It(w),Yt(w,"link",e),w._p=new Promise(function(k,V){w.onload=k,w.onerror=V}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,yl(g,t,r)}g={type:"stylesheet",instance:g,count:1,state:b},c.set(f,g)}}}function s_(e,t){Ca.X(e,t);var i=bs;if(i&&e){var r=Fi(i).hoistableScripts,c=_s(e),f=r.get(c);f||(f=i.querySelector(Do(c)),f||(e=x({src:e,async:!0},t),(t=Un.get(c))&&xd(e,t),f=i.createElement("script"),It(f),Yt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function o_(e,t){Ca.M(e,t);var i=bs;if(i&&e){var r=Fi(i).hoistableScripts,c=_s(e),f=r.get(c);f||(f=i.querySelector(Do(c)),f||(e=x({src:e,async:!0,type:"module"},t),(t=Un.get(c))&&xd(e,t),f=i.createElement("script"),It(f),Yt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function ly(e,t,i,r){var c=(c=ct.current)?gl(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ss(i.href),i=Fi(c).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ss(i.href);var f=Fi(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(Ro(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Un.set(e,i),f||r_(c,e,i,g.state))),t&&r===null)throw Error(o(528,""));return g}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_s(i),i=Fi(c).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ss(e){return'href="'+jn(e)+'"'}function Ro(e){return'link[rel="stylesheet"]['+e+"]"}function cy(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function r_(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Yt(t,"link",i),It(t),e.head.appendChild(t))}function _s(e){return'[src="'+jn(e)+'"]'}function Do(e){return"script[async]"+e}function uy(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+jn(i.href)+'"]');if(r)return t.instance=r,It(r),r;var c=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),It(r),Yt(r,"style",c),yl(r,i.precedence,e),t.instance=r;case"stylesheet":c=Ss(i.href);var f=e.querySelector(Ro(c));if(f)return t.state.loading|=4,t.instance=f,It(f),f;r=cy(i),(c=Un.get(c))&&vd(r,c),f=(e.ownerDocument||e).createElement("link"),It(f);var g=f;return g._p=new Promise(function(b,w){g.onload=b,g.onerror=w}),Yt(f,"link",r),t.state.loading|=4,yl(f,i.precedence,e),t.instance=f;case"script":return f=_s(i.src),(c=e.querySelector(Do(f)))?(t.instance=c,It(c),c):(r=i,(c=Un.get(f))&&(r=x({},i),xd(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),It(c),Yt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,yl(r,i.precedence,e));return t.instance}function yl(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,g=0;g<r.length;g++){var b=r[g];if(b.dataset.precedence===t)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function vd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vl=null;function dy(e,t,i){if(vl===null){var r=new Map,c=vl=new Map;c.set(i,r)}else c=vl,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[$s]||f[Ft]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var b=r.get(g);b?b.push(f):r.set(g,[f])}}return r}function fy(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function l_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c_(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Ss(r.href),f=t.querySelector(Ro(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,It(f);return}f=t.ownerDocument||t,r=cy(r),(c=Un.get(c))&&vd(r,c),f=f.createElement("link"),It(f);var g=f;g._p=new Promise(function(b,w){g.onload=b,g.onerror=w}),Yt(f,"link",r),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=xl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var bd=0;function u_(e,t){return e.stylesheets&&e.count===0&&Sl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Sl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&bd===0&&(bd=62500*q1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function xl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bl=null;function Sl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bl=new Map,t.forEach(d_,e),bl=null,xl.call(e))}function d_(e,t){if(!(t.state.loading&4)){var i=bl.get(e);if(i)var r=i.get(null);else{i=new Map,bl.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),r=g)}r&&i.set(null,r)}c=t.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||r,f===r&&i.set(null,c),i.set(g,c),this.count++,r=xl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ko={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function f_(e,t,i,r,c,f,g,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function hy(e,t,i,r,c,f,g,b,w,k,V,q){return e=new f_(e,t,i,g,w,k,V,q,b),t=1,f===!0&&(t|=24),f=yn(3,null,null,t),e.current=f,f.stateNode=e,t=Jc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:t},au(f),e}function my(e){return e?(e=Ji,e):Ji}function gy(e,t,i,r,c,f){c=my(c),r.context===null?r.context=c:r.pendingContext=c,r=Oa(t),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=Ua(e,r,t),i!==null&&(fn(i,e,t),co(i,e,t))}function yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Sd(e,t){yy(e,t),(e=e.alternate)&&yy(e,t)}function vy(e){if(e.tag===13||e.tag===31){var t=ui(e,67108864);t!==null&&fn(t,e,67108864),Sd(e,67108864)}}function xy(e){if(e.tag===13||e.tag===31){var t=_n();t=gc(t);var i=ui(e,t);i!==null&&fn(i,e,t),Sd(e,t)}}var _l=!0;function p_(e,t,i,r){var c=L.T;L.T=null;var f=G.p;try{G.p=2,_d(e,t,i,r)}finally{G.p=f,L.T=c}}function h_(e,t,i,r){var c=L.T;L.T=null;var f=G.p;try{G.p=8,_d(e,t,i,r)}finally{G.p=f,L.T=c}}function _d(e,t,i,r){if(_l){var c=wd(r);if(c===null)ld(e,t,r,wl,i),Sy(e,r);else if(g_(c,e,t,i,r))r.stopPropagation();else if(Sy(e,r),t&4&&-1<m_.indexOf(e)){for(;c!==null;){var f=Hi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ne(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var w=1<<31-X(g);b.entanglements[1]|=w,g&=~w}Zn(f),(Fe&6)===0&&(sl=Q()+500,Ao(0))}}break;case 31:case 13:b=ui(f,2),b!==null&&fn(b,f,2),rl(),Sd(f,2)}if(f=wd(r),f===null&&ld(e,t,r,wl,i),f===c)break;c=f}c!==null&&r.stopPropagation()}else ld(e,t,r,null,i)}}function wd(e){return e=Tc(e),Cd(e)}var wl=null;function Cd(e){if(wl=null,e=Pi(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wl=e,null}function by(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case ot:return 2;case ht:return 8;case Mt:case oa:return 32;case An:return 268435456;default:return 32}default:return 32}}var Td=!1,Ya=null,Xa=null,Ka=null,zo=new Map,No=new Map,Wa=[],m_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(t.pointerId)}}function Oo(e,t,i,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Hi(t),t!==null&&vy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function g_(e,t,i,r,c){switch(t){case"focusin":return Ya=Oo(Ya,e,t,i,r,c),!0;case"dragenter":return Xa=Oo(Xa,e,t,i,r,c),!0;case"mouseover":return Ka=Oo(Ka,e,t,i,r,c),!0;case"pointerover":var f=c.pointerId;return zo.set(f,Oo(zo.get(f)||null,e,t,i,r,c)),!0;case"gotpointercapture":return f=c.pointerId,No.set(f,Oo(No.get(f)||null,e,t,i,r,c)),!0}return!1}function _y(e){var t=Pi(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Up(e.priority,function(){xy(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,Up(e.priority,function(){xy(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=wd(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Cc=r,i.target.dispatchEvent(r),Cc=null}else return t=Hi(i),t!==null&&vy(t),e.blockedOn=i,!1;t.shift()}return!0}function wy(e,t,i){Cl(e)&&i.delete(t)}function y_(){Td=!1,Ya!==null&&Cl(Ya)&&(Ya=null),Xa!==null&&Cl(Xa)&&(Xa=null),Ka!==null&&Cl(Ka)&&(Ka=null),zo.forEach(wy),No.forEach(wy)}function Tl(e,t){e.blockedOn===t&&(e.blockedOn=null,Td||(Td=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,y_)))}var Al=null;function Cy(e){Al!==e&&(Al=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Al===e&&(Al=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Cd(r||i)===null)continue;break}var f=Hi(i);f!==null&&(e.splice(t,3),t-=3,wu(f,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function ws(e){function t(w){return Tl(w,e)}Ya!==null&&Tl(Ya,e),Xa!==null&&Tl(Xa,e),Ka!==null&&Tl(Ka,e),zo.forEach(t),No.forEach(t);for(var i=0;i<Wa.length;i++){var r=Wa[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Wa.length&&(i=Wa[0],i.blockedOn===null);)_y(i),i.blockedOn===null&&Wa.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],f=i[r+1],g=c[on]||null;if(typeof f=="function")g||Cy(i);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[on]||null)b=g.formAction;else if(Cd(c)!==null)continue}else b=g.action;typeof b=="function"?i[r+1]=b:(i.splice(r,3),r-=3),Cy(i)}}}function Ty(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Ad(e){this._internalRoot=e}El.prototype.render=Ad.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var i=t.current,r=_n();gy(i,r,e,t,null,null)},El.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gy(e.current,2,null,e,null,null),rl(),t[Ii]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=Op();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Wa.length&&t!==0&&t<Wa[i].priority;i++);Wa.splice(i,0,e),i===0&&_y(e)}};var Ay=a.version;if(Ay!=="19.2.0")throw Error(o(527,Ay,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var v_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Pn=jl.inject(v_),Rt=jl}catch{}}return Lo.createRoot=function(e,t){if(!l(e))throw Error(o(299));var i=!1,r="",c=zm,f=Nm,g=Om;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=hy(e,1,!1,null,null,i,r,null,c,f,g,Ty),e[Ii]=t.current,rd(e),new Ad(t)},Lo.hydrateRoot=function(e,t,i){if(!l(e))throw Error(o(299));var r=!1,c="",f=zm,g=Nm,b=Om,w=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(w=i.formState)),t=hy(e,1,!0,t,i??null,r,c,w,f,g,b,Ty),t.context=my(null),i=t.current,r=_n(),r=gc(r),c=Oa(r),c.callback=null,Ua(i,c,r),i=r,t.current.lanes=i,mt(t,i),Zn(t),e[Ii]=t.current,rd(e),new El(t)},Lo.version="19.2.0",Lo}var ky;function Z_(){if(ky)return jd.exports;ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),jd.exports=Q_(),jd.exports}var J_=Z_();const ew="modulepreload",tw=function(n){return"/"+n},zy={},Vt=function(a,s,o){let l=Promise.resolve();if(s&&s.length>0){let m=function(v){return Promise.all(v.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");l=m(s.map(v=>{if(v=tw(v),v in zy)return;zy[v]=!0;const y=v.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":ew,y||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),y)return new Promise((T,_)=>{S.addEventListener("load",T),S.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return a().catch(u)})},Ny=n=>{let a;const s=new Set,o=(v,y)=>{const x=typeof v=="function"?v(a):v;if(!Object.is(x,a)){const S=a;a=y??(typeof x!="object"||x===null)?x:Object.assign({},a,x),s.forEach(T=>T(a,S))}},l=()=>a,p={setState:o,getState:l,getInitialState:()=>m,subscribe:v=>(s.add(v),()=>s.delete(v))},m=a=n(o,l,p);return p},nw=(n=>n?Ny(n):Ny),aw=n=>n;function iw(n,a=aw){const s=na.useSyncExternalStore(n.subscribe,na.useCallback(()=>a(n.getState()),[n,a]),na.useCallback(()=>a(n.getInitialState()),[n,a]));return na.useDebugValue(s),s}const Oy=n=>{const a=nw(n),s=o=>iw(a,o);return Object.assign(s,a),s},sc=(n=>n?Oy(n):Oy);function Hx(n,a){return function(){return n.apply(a,arguments)}}const{toString:sw}=Object.prototype,{getPrototypeOf:qf}=Object,{iterator:oc,toStringTag:Fx}=Symbol,rc=(n=>a=>{const s=sw.call(a);return n[s]||(n[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=n=>(n=n.toLowerCase(),a=>rc(a)===n),lc=n=>a=>typeof a===n,{isArray:Vs}=Array,Ns=lc("undefined");function rr(n){return n!==null&&!Ns(n)&&n.constructor!==null&&!Ns(n.constructor)&&hn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const qx=Xn("ArrayBuffer");function ow(n){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(n):a=n&&n.buffer&&qx(n.buffer),a}const rw=lc("string"),hn=lc("function"),Gx=lc("number"),lr=n=>n!==null&&typeof n=="object",lw=n=>n===!0||n===!1,Bl=n=>{if(rc(n)!=="object")return!1;const a=qf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Fx in n)&&!(oc in n)},cw=n=>{if(!lr(n)||rr(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},uw=Xn("Date"),dw=Xn("File"),fw=Xn("Blob"),pw=Xn("FileList"),hw=n=>lr(n)&&hn(n.pipe),mw=n=>{let a;return n&&(typeof FormData=="function"&&n instanceof FormData||hn(n.append)&&((a=rc(n))==="formdata"||a==="object"&&hn(n.toString)&&n.toString()==="[object FormData]"))},gw=Xn("URLSearchParams"),[yw,vw,xw,bw]=["ReadableStream","Request","Response","Headers"].map(Xn),Sw=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cr(n,a,{allOwnKeys:s=!1}={}){if(n===null||typeof n>"u")return;let o,l;if(typeof n!="object"&&(n=[n]),Vs(n))for(o=0,l=n.length;o<l;o++)a.call(null,n[o],o,n);else{if(rr(n))return;const u=s?Object.getOwnPropertyNames(n):Object.keys(n),d=u.length;let p;for(o=0;o<d;o++)p=u[o],a.call(null,n[p],p,n)}}function $x(n,a){if(rr(n))return null;a=a.toLowerCase();const s=Object.keys(n);let o=s.length,l;for(;o-- >0;)if(l=s[o],a===l.toLowerCase())return l;return null}const Ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yx=n=>!Ns(n)&&n!==Ei;function uf(){const{caseless:n,skipUndefined:a}=Yx(this)&&this||{},s={},o=(l,u)=>{const d=n&&$x(s,u)||u;Bl(s[d])&&Bl(l)?s[d]=uf(s[d],l):Bl(l)?s[d]=uf({},l):Vs(l)?s[d]=l.slice():(!a||!Ns(l))&&(s[d]=l)};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&cr(arguments[l],o);return s}const _w=(n,a,s,{allOwnKeys:o}={})=>(cr(a,(l,u)=>{s&&hn(l)?n[u]=Hx(l,s):n[u]=l},{allOwnKeys:o}),n),ww=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Cw=(n,a,s,o)=>{n.prototype=Object.create(a.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:a.prototype}),s&&Object.assign(n.prototype,s)},Tw=(n,a,s,o)=>{let l,u,d;const p={};if(a=a||{},n==null)return a;do{for(l=Object.getOwnPropertyNames(n),u=l.length;u-- >0;)d=l[u],(!o||o(d,n,a))&&!p[d]&&(a[d]=n[d],p[d]=!0);n=s!==!1&&qf(n)}while(n&&(!s||s(n,a))&&n!==Object.prototype);return a},Aw=(n,a,s)=>{n=String(n),(s===void 0||s>n.length)&&(s=n.length),s-=a.length;const o=n.indexOf(a,s);return o!==-1&&o===s},Ew=n=>{if(!n)return null;if(Vs(n))return n;let a=n.length;if(!Gx(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=n[a];return s},jw=(n=>a=>n&&a instanceof n)(typeof Uint8Array<"u"&&qf(Uint8Array)),Mw=(n,a)=>{const o=(n&&n[oc]).call(n);let l;for(;(l=o.next())&&!l.done;){const u=l.value;a.call(n,u[0],u[1])}},Rw=(n,a)=>{let s;const o=[];for(;(s=n.exec(a))!==null;)o.push(s);return o},Dw=Xn("HTMLFormElement"),kw=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,l){return o.toUpperCase()+l}),Uy=(({hasOwnProperty:n})=>(a,s)=>n.call(a,s))(Object.prototype),zw=Xn("RegExp"),Xx=(n,a)=>{const s=Object.getOwnPropertyDescriptors(n),o={};cr(s,(l,u)=>{let d;(d=a(l,u,n))!==!1&&(o[u]=d||l)}),Object.defineProperties(n,o)},Nw=n=>{Xx(n,(a,s)=>{if(hn(n)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=n[s];if(hn(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ow=(n,a)=>{const s={},o=l=>{l.forEach(u=>{s[u]=!0})};return Vs(n)?o(n):o(String(n).split(a)),s},Uw=()=>{},Bw=(n,a)=>n!=null&&Number.isFinite(n=+n)?n:a;function Lw(n){return!!(n&&hn(n.append)&&n[Fx]==="FormData"&&n[oc])}const Vw=n=>{const a=new Array(10),s=(o,l)=>{if(lr(o)){if(a.indexOf(o)>=0)return;if(rr(o))return o;if(!("toJSON"in o)){a[l]=o;const u=Vs(o)?[]:{};return cr(o,(d,p)=>{const m=s(d,l+1);!Ns(m)&&(u[p]=m)}),a[l]=void 0,u}}return o};return s(n,0)},Iw=Xn("AsyncFunction"),Pw=n=>n&&(lr(n)||hn(n))&&hn(n.then)&&hn(n.catch),Kx=((n,a)=>n?setImmediate:a?((s,o)=>(Ei.addEventListener("message",({source:l,data:u})=>{l===Ei&&u===s&&o.length&&o.shift()()},!1),l=>{o.push(l),Ei.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",hn(Ei.postMessage)),Hw=typeof queueMicrotask<"u"?queueMicrotask.bind(Ei):typeof process<"u"&&process.nextTick||Kx,Fw=n=>n!=null&&hn(n[oc]),U={isArray:Vs,isArrayBuffer:qx,isBuffer:rr,isFormData:mw,isArrayBufferView:ow,isString:rw,isNumber:Gx,isBoolean:lw,isObject:lr,isPlainObject:Bl,isEmptyObject:cw,isReadableStream:yw,isRequest:vw,isResponse:xw,isHeaders:bw,isUndefined:Ns,isDate:uw,isFile:dw,isBlob:fw,isRegExp:zw,isFunction:hn,isStream:hw,isURLSearchParams:gw,isTypedArray:jw,isFileList:pw,forEach:cr,merge:uf,extend:_w,trim:Sw,stripBOM:ww,inherits:Cw,toFlatObject:Tw,kindOf:rc,kindOfTest:Xn,endsWith:Aw,toArray:Ew,forEachEntry:Mw,matchAll:Rw,isHTMLForm:Dw,hasOwnProperty:Uy,hasOwnProp:Uy,reduceDescriptors:Xx,freezeMethods:Nw,toObjectSet:Ow,toCamelCase:kw,noop:Uw,toFiniteNumber:Bw,findKey:$x,global:Ei,isContextDefined:Yx,isSpecCompliantForm:Lw,toJSONObject:Vw,isAsyncFn:Iw,isThenable:Pw,setImmediate:Kx,asap:Hw,isIterable:Fw};function Me(n,a,s,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}U.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const Wx=Me.prototype,Qx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Qx[n]={value:n}});Object.defineProperties(Me,Qx);Object.defineProperty(Wx,"isAxiosError",{value:!0});Me.from=(n,a,s,o,l,u)=>{const d=Object.create(Wx);U.toFlatObject(n,d,function(y){return y!==Error.prototype},v=>v!=="isAxiosError");const p=n&&n.message?n.message:"Error",m=a==null&&n?n.code:a;return Me.call(d,p,m,s,o,l),n&&d.cause==null&&Object.defineProperty(d,"cause",{value:n,configurable:!0}),d.name=n&&n.name||"Error",u&&Object.assign(d,u),d};const qw=null;function df(n){return U.isPlainObject(n)||U.isArray(n)}function Zx(n){return U.endsWith(n,"[]")?n.slice(0,-2):n}function By(n,a,s){return n?n.concat(a).map(function(l,u){return l=Zx(l),!s&&u?"["+l+"]":l}).join(s?".":""):a}function Gw(n){return U.isArray(n)&&!n.some(df)}const $w=U.toFlatObject(U,{},null,function(a){return/^is[A-Z]/.test(a)});function cc(n,a,s){if(!U.isObject(n))throw new TypeError("target must be an object");a=a||new FormData,s=U.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,R){return!U.isUndefined(R[j])});const o=s.metaTokens,l=s.visitor||y,u=s.dots,d=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(a);if(!U.isFunction(l))throw new TypeError("visitor must be a function");function v(_){if(_===null)return"";if(U.isDate(_))return _.toISOString();if(U.isBoolean(_))return _.toString();if(!m&&U.isBlob(_))throw new Me("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(_)||U.isTypedArray(_)?m&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function y(_,j,R){let E=_;if(_&&!R&&typeof _=="object"){if(U.endsWith(j,"{}"))j=o?j:j.slice(0,-2),_=JSON.stringify(_);else if(U.isArray(_)&&Gw(_)||(U.isFileList(_)||U.endsWith(j,"[]"))&&(E=U.toArray(_)))return j=Zx(j),E.forEach(function(N,Y){!(U.isUndefined(N)||N===null)&&a.append(d===!0?By([j],Y,u):d===null?j:j+"[]",v(N))}),!1}return df(_)?!0:(a.append(By(R,j,u),v(_)),!1)}const x=[],S=Object.assign($w,{defaultVisitor:y,convertValue:v,isVisitable:df});function T(_,j){if(!U.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(_),U.forEach(_,function(E,H){(!(U.isUndefined(E)||E===null)&&l.call(a,E,U.isString(H)?H.trim():H,j,S))===!0&&T(E,j?j.concat(H):[H])}),x.pop()}}if(!U.isObject(n))throw new TypeError("data must be an object");return T(n),a}function Ly(n){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function Gf(n,a){this._pairs=[],n&&cc(n,this,a)}const Jx=Gf.prototype;Jx.append=function(a,s){this._pairs.push([a,s])};Jx.toString=function(a){const s=a?function(o){return a.call(this,o,Ly)}:Ly;return this._pairs.map(function(l){return s(l[0])+"="+s(l[1])},"").join("&")};function Yw(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eb(n,a,s){if(!a)return n;const o=s&&s.encode||Yw;U.isFunction(s)&&(s={serialize:s});const l=s&&s.serialize;let u;if(l?u=l(a,s):u=U.isURLSearchParams(a)?a.toString():new Gf(a,s).toString(o),u){const d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class Vy{constructor(){this.handlers=[]}use(a,s,o){return this.handlers.push({fulfilled:a,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){U.forEach(this.handlers,function(o){o!==null&&a(o)})}}const tb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xw=typeof URLSearchParams<"u"?URLSearchParams:Gf,Kw=typeof FormData<"u"?FormData:null,Ww=typeof Blob<"u"?Blob:null,Qw={isBrowser:!0,classes:{URLSearchParams:Xw,FormData:Kw,Blob:Ww},protocols:["http","https","file","blob","url","data"]},$f=typeof window<"u"&&typeof document<"u",ff=typeof navigator=="object"&&navigator||void 0,Zw=$f&&(!ff||["ReactNative","NativeScript","NS"].indexOf(ff.product)<0),Jw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eC=$f&&window.location.href||"http://localhost",tC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$f,hasStandardBrowserEnv:Zw,hasStandardBrowserWebWorkerEnv:Jw,navigator:ff,origin:eC},Symbol.toStringTag,{value:"Module"})),Zt={...tC,...Qw};function nC(n,a){return cc(n,new Zt.classes.URLSearchParams,{visitor:function(s,o,l,u){return Zt.isNode&&U.isBuffer(s)?(this.append(o,s.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...a})}function aC(n){return U.matchAll(/\w+|\[(\w*)]/g,n).map(a=>a[0]==="[]"?"":a[1]||a[0])}function iC(n){const a={},s=Object.keys(n);let o;const l=s.length;let u;for(o=0;o<l;o++)u=s[o],a[u]=n[u];return a}function nb(n){function a(s,o,l,u){let d=s[u++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),m=u>=s.length;return d=!d&&U.isArray(l)?l.length:d,m?(U.hasOwnProp(l,d)?l[d]=[l[d],o]:l[d]=o,!p):((!l[d]||!U.isObject(l[d]))&&(l[d]=[]),a(s,o,l[d],u)&&U.isArray(l[d])&&(l[d]=iC(l[d])),!p)}if(U.isFormData(n)&&U.isFunction(n.entries)){const s={};return U.forEachEntry(n,(o,l)=>{a(aC(o),l,s,0)}),s}return null}function sC(n,a,s){if(U.isString(n))try{return(a||JSON.parse)(n),U.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(n)}const ur={transitional:tb,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const o=s.getContentType()||"",l=o.indexOf("application/json")>-1,u=U.isObject(a);if(u&&U.isHTMLForm(a)&&(a=new FormData(a)),U.isFormData(a))return l?JSON.stringify(nb(a)):a;if(U.isArrayBuffer(a)||U.isBuffer(a)||U.isStream(a)||U.isFile(a)||U.isBlob(a)||U.isReadableStream(a))return a;if(U.isArrayBufferView(a))return a.buffer;if(U.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let p;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return nC(a,this.formSerializer).toString();if((p=U.isFileList(a))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return cc(p?{"files[]":a}:a,m&&new m,this.formSerializer)}}return u||l?(s.setContentType("application/json",!1),sC(a)):a}],transformResponse:[function(a){const s=this.transitional||ur.transitional,o=s&&s.forcedJSONParsing,l=this.responseType==="json";if(U.isResponse(a)||U.isReadableStream(a))return a;if(a&&U.isString(a)&&(o&&!this.responseType||l)){const d=!(s&&s.silentJSONParsing)&&l;try{return JSON.parse(a,this.parseReviver)}catch(p){if(d)throw p.name==="SyntaxError"?Me.from(p,Me.ERR_BAD_RESPONSE,this,null,this.response):p}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],n=>{ur.headers[n]={}});const oC=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rC=n=>{const a={};let s,o,l;return n&&n.split(`
`).forEach(function(d){l=d.indexOf(":"),s=d.substring(0,l).trim().toLowerCase(),o=d.substring(l+1).trim(),!(!s||a[s]&&oC[s])&&(s==="set-cookie"?a[s]?a[s].push(o):a[s]=[o]:a[s]=a[s]?a[s]+", "+o:o)}),a},Iy=Symbol("internals");function Vo(n){return n&&String(n).trim().toLowerCase()}function Ll(n){return n===!1||n==null?n:U.isArray(n)?n.map(Ll):String(n)}function lC(n){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(n);)a[o[1]]=o[2];return a}const cC=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Dd(n,a,s,o,l){if(U.isFunction(o))return o.call(this,a,s);if(l&&(a=s),!!U.isString(a)){if(U.isString(o))return a.indexOf(o)!==-1;if(U.isRegExp(o))return o.test(a)}}function uC(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,o)=>s.toUpperCase()+o)}function dC(n,a){const s=U.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+s,{value:function(l,u,d){return this[o].call(this,a,l,u,d)},configurable:!0})})}let mn=class{constructor(a){a&&this.set(a)}set(a,s,o){const l=this;function u(p,m,v){const y=Vo(m);if(!y)throw new Error("header name must be a non-empty string");const x=U.findKey(l,y);(!x||l[x]===void 0||v===!0||v===void 0&&l[x]!==!1)&&(l[x||m]=Ll(p))}const d=(p,m)=>U.forEach(p,(v,y)=>u(v,y,m));if(U.isPlainObject(a)||a instanceof this.constructor)d(a,s);else if(U.isString(a)&&(a=a.trim())&&!cC(a))d(rC(a),s);else if(U.isObject(a)&&U.isIterable(a)){let p={},m,v;for(const y of a){if(!U.isArray(y))throw TypeError("Object iterator must return a key-value pair");p[v=y[0]]=(m=p[v])?U.isArray(m)?[...m,y[1]]:[m,y[1]]:y[1]}d(p,s)}else a!=null&&u(s,a,o);return this}get(a,s){if(a=Vo(a),a){const o=U.findKey(this,a);if(o){const l=this[o];if(!s)return l;if(s===!0)return lC(l);if(U.isFunction(s))return s.call(this,l,o);if(U.isRegExp(s))return s.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Vo(a),a){const o=U.findKey(this,a);return!!(o&&this[o]!==void 0&&(!s||Dd(this,this[o],o,s)))}return!1}delete(a,s){const o=this;let l=!1;function u(d){if(d=Vo(d),d){const p=U.findKey(o,d);p&&(!s||Dd(o,o[p],p,s))&&(delete o[p],l=!0)}}return U.isArray(a)?a.forEach(u):u(a),l}clear(a){const s=Object.keys(this);let o=s.length,l=!1;for(;o--;){const u=s[o];(!a||Dd(this,this[u],u,a,!0))&&(delete this[u],l=!0)}return l}normalize(a){const s=this,o={};return U.forEach(this,(l,u)=>{const d=U.findKey(o,u);if(d){s[d]=Ll(l),delete s[u];return}const p=a?uC(u):String(u).trim();p!==u&&delete s[u],s[p]=Ll(l),o[p]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return U.forEach(this,(o,l)=>{o!=null&&o!==!1&&(s[l]=a&&U.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const o=new this(a);return s.forEach(l=>o.set(l)),o}static accessor(a){const o=(this[Iy]=this[Iy]={accessors:{}}).accessors,l=this.prototype;function u(d){const p=Vo(d);o[p]||(dC(l,d),o[p]=!0)}return U.isArray(a)?a.forEach(u):u(a),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(mn.prototype,({value:n},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>n,set(o){this[s]=o}}});U.freezeMethods(mn);function kd(n,a){const s=this||ur,o=a||s,l=mn.from(o.headers);let u=o.data;return U.forEach(n,function(p){u=p.call(s,u,l.normalize(),a?a.status:void 0)}),l.normalize(),u}function ab(n){return!!(n&&n.__CANCEL__)}function Is(n,a,s){Me.call(this,n??"canceled",Me.ERR_CANCELED,a,s),this.name="CanceledError"}U.inherits(Is,Me,{__CANCEL__:!0});function ib(n,a,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?n(s):a(new Me("Request failed with status code "+s.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function fC(n){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return a&&a[1]||""}function pC(n,a){n=n||10;const s=new Array(n),o=new Array(n);let l=0,u=0,d;return a=a!==void 0?a:1e3,function(m){const v=Date.now(),y=o[u];d||(d=v),s[l]=m,o[l]=v;let x=u,S=0;for(;x!==l;)S+=s[x++],x=x%n;if(l=(l+1)%n,l===u&&(u=(u+1)%n),v-d<a)return;const T=y&&v-y;return T?Math.round(S*1e3/T):void 0}}function hC(n,a){let s=0,o=1e3/a,l,u;const d=(v,y=Date.now())=>{s=y,l=null,u&&(clearTimeout(u),u=null),n(...v)};return[(...v)=>{const y=Date.now(),x=y-s;x>=o?d(v,y):(l=v,u||(u=setTimeout(()=>{u=null,d(l)},o-x)))},()=>l&&d(l)]}const Xl=(n,a,s=3)=>{let o=0;const l=pC(50,250);return hC(u=>{const d=u.loaded,p=u.lengthComputable?u.total:void 0,m=d-o,v=l(m),y=d<=p;o=d;const x={loaded:d,total:p,progress:p?d/p:void 0,bytes:m,rate:v||void 0,estimated:v&&p&&y?(p-d)/v:void 0,event:u,lengthComputable:p!=null,[a?"download":"upload"]:!0};n(x)},s)},Py=(n,a)=>{const s=n!=null;return[o=>a[0]({lengthComputable:s,total:n,loaded:o}),a[1]]},Hy=n=>(...a)=>U.asap(()=>n(...a)),mC=Zt.hasStandardBrowserEnv?((n,a)=>s=>(s=new URL(s,Zt.origin),n.protocol===s.protocol&&n.host===s.host&&(a||n.port===s.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,gC=Zt.hasStandardBrowserEnv?{write(n,a,s,o,l,u,d){if(typeof document>"u")return;const p=[`${n}=${encodeURIComponent(a)}`];U.isNumber(s)&&p.push(`expires=${new Date(s).toUTCString()}`),U.isString(o)&&p.push(`path=${o}`),U.isString(l)&&p.push(`domain=${l}`),u===!0&&p.push("secure"),U.isString(d)&&p.push(`SameSite=${d}`),document.cookie=p.join("; ")},read(n){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function yC(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function vC(n,a){return a?n.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):n}function sb(n,a,s){let o=!yC(a);return n&&(o||s==!1)?vC(n,a):a}const Fy=n=>n instanceof mn?{...n}:n;function Ui(n,a){a=a||{};const s={};function o(v,y,x,S){return U.isPlainObject(v)&&U.isPlainObject(y)?U.merge.call({caseless:S},v,y):U.isPlainObject(y)?U.merge({},y):U.isArray(y)?y.slice():y}function l(v,y,x,S){if(U.isUndefined(y)){if(!U.isUndefined(v))return o(void 0,v,x,S)}else return o(v,y,x,S)}function u(v,y){if(!U.isUndefined(y))return o(void 0,y)}function d(v,y){if(U.isUndefined(y)){if(!U.isUndefined(v))return o(void 0,v)}else return o(void 0,y)}function p(v,y,x){if(x in a)return o(v,y);if(x in n)return o(void 0,v)}const m={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(v,y,x)=>l(Fy(v),Fy(y),x,!0)};return U.forEach(Object.keys({...n,...a}),function(y){const x=m[y]||l,S=x(n[y],a[y],y);U.isUndefined(S)&&x!==p||(s[y]=S)}),s}const ob=n=>{const a=Ui({},n);let{data:s,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:u,headers:d,auth:p}=a;if(a.headers=d=mn.from(d),a.url=eb(sb(a.baseURL,a.url,a.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),U.isFormData(s)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(U.isFunction(s.getHeaders)){const m=s.getHeaders(),v=["content-type","content-length"];Object.entries(m).forEach(([y,x])=>{v.includes(y.toLowerCase())&&d.set(y,x)})}}if(Zt.hasStandardBrowserEnv&&(o&&U.isFunction(o)&&(o=o(a)),o||o!==!1&&mC(a.url))){const m=l&&u&&gC.read(u);m&&d.set(l,m)}return a},xC=typeof XMLHttpRequest<"u",bC=xC&&function(n){return new Promise(function(s,o){const l=ob(n);let u=l.data;const d=mn.from(l.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:v}=l,y,x,S,T,_;function j(){T&&T(),_&&_(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(l.method.toUpperCase(),l.url,!0),R.timeout=l.timeout;function E(){if(!R)return;const N=mn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),$={data:!p||p==="text"||p==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:N,config:n,request:R};ib(function(J){s(J),j()},function(J){o(J),j()},$),R=null}"onloadend"in R?R.onloadend=E:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(E)},R.onabort=function(){R&&(o(new Me("Request aborted",Me.ECONNABORTED,n,R)),R=null)},R.onerror=function(Y){const $=Y&&Y.message?Y.message:"Network Error",ae=new Me($,Me.ERR_NETWORK,n,R);ae.event=Y||null,o(ae),R=null},R.ontimeout=function(){let Y=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const $=l.transitional||tb;l.timeoutErrorMessage&&(Y=l.timeoutErrorMessage),o(new Me(Y,$.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,R)),R=null},u===void 0&&d.setContentType(null),"setRequestHeader"in R&&U.forEach(d.toJSON(),function(Y,$){R.setRequestHeader($,Y)}),U.isUndefined(l.withCredentials)||(R.withCredentials=!!l.withCredentials),p&&p!=="json"&&(R.responseType=l.responseType),v&&([S,_]=Xl(v,!0),R.addEventListener("progress",S)),m&&R.upload&&([x,T]=Xl(m),R.upload.addEventListener("progress",x),R.upload.addEventListener("loadend",T)),(l.cancelToken||l.signal)&&(y=N=>{R&&(o(!N||N.type?new Is(null,n,R):N),R.abort(),R=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const H=fC(l.url);if(H&&Zt.protocols.indexOf(H)===-1){o(new Me("Unsupported protocol "+H+":",Me.ERR_BAD_REQUEST,n));return}R.send(u||null)})},SC=(n,a)=>{const{length:s}=n=n?n.filter(Boolean):[];if(a||s){let o=new AbortController,l;const u=function(v){if(!l){l=!0,p();const y=v instanceof Error?v:this.reason;o.abort(y instanceof Me?y:new Is(y instanceof Error?y.message:y))}};let d=a&&setTimeout(()=>{d=null,u(new Me(`timeout ${a} of ms exceeded`,Me.ETIMEDOUT))},a);const p=()=>{n&&(d&&clearTimeout(d),d=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),n=null)};n.forEach(v=>v.addEventListener("abort",u));const{signal:m}=o;return m.unsubscribe=()=>U.asap(p),m}},_C=function*(n,a){let s=n.byteLength;if(s<a){yield n;return}let o=0,l;for(;o<s;)l=o+a,yield n.slice(o,l),o=l},wC=async function*(n,a){for await(const s of CC(n))yield*_C(s,a)},CC=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const a=n.getReader();try{for(;;){const{done:s,value:o}=await a.read();if(s)break;yield o}}finally{await a.cancel()}},qy=(n,a,s,o)=>{const l=wC(n,a);let u=0,d,p=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:v,value:y}=await l.next();if(v){p(),m.close();return}let x=y.byteLength;if(s){let S=u+=x;s(S)}m.enqueue(new Uint8Array(y))}catch(v){throw p(v),v}},cancel(m){return p(m),l.return()}},{highWaterMark:2})},Gy=64*1024,{isFunction:Ml}=U,TC=(({Request:n,Response:a})=>({Request:n,Response:a}))(U.global),{ReadableStream:$y,TextEncoder:Yy}=U.global,Xy=(n,...a)=>{try{return!!n(...a)}catch{return!1}},AC=n=>{n=U.merge.call({skipUndefined:!0},TC,n);const{fetch:a,Request:s,Response:o}=n,l=a?Ml(a):typeof fetch=="function",u=Ml(s),d=Ml(o);if(!l)return!1;const p=l&&Ml($y),m=l&&(typeof Yy=="function"?(_=>j=>_.encode(j))(new Yy):async _=>new Uint8Array(await new s(_).arrayBuffer())),v=u&&p&&Xy(()=>{let _=!1;const j=new s(Zt.origin,{body:new $y,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!j}),y=d&&p&&Xy(()=>U.isReadableStream(new o("").body)),x={stream:y&&(_=>_.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(j,R)=>{let E=j&&j[_];if(E)return E.call(j);throw new Me(`Response type '${_}' is not supported`,Me.ERR_NOT_SUPPORT,R)})});const S=async _=>{if(_==null)return 0;if(U.isBlob(_))return _.size;if(U.isSpecCompliantForm(_))return(await new s(Zt.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(U.isArrayBufferView(_)||U.isArrayBuffer(_))return _.byteLength;if(U.isURLSearchParams(_)&&(_=_+""),U.isString(_))return(await m(_)).byteLength},T=async(_,j)=>{const R=U.toFiniteNumber(_.getContentLength());return R??S(j)};return async _=>{let{url:j,method:R,data:E,signal:H,cancelToken:N,timeout:Y,onDownloadProgress:$,onUploadProgress:ae,responseType:J,headers:ie,withCredentials:ve="same-origin",fetchOptions:ce}=ob(_),ke=a||fetch;J=J?(J+"").toLowerCase():"text";let Ve=SC([H,N&&N.toAbortSignal()],Y),xe=null;const Te=Ve&&Ve.unsubscribe&&(()=>{Ve.unsubscribe()});let Ae;try{if(ae&&v&&R!=="get"&&R!=="head"&&(Ae=await T(ie,E))!==0){let Ee=new s(j,{method:"POST",body:E,duplex:"half"}),_e;if(U.isFormData(E)&&(_e=Ee.headers.get("content-type"))&&ie.setContentType(_e),Ee.body){const[pe,Re]=Py(Ae,Xl(Hy(ae)));E=qy(Ee.body,Gy,pe,Re)}}U.isString(ve)||(ve=ve?"include":"omit");const L=u&&"credentials"in s.prototype,G={...ce,signal:Ve,method:R.toUpperCase(),headers:ie.normalize().toJSON(),body:E,duplex:"half",credentials:L?ve:void 0};xe=u&&new s(j,G);let ee=await(u?ke(xe,ce):ke(j,G));const oe=y&&(J==="stream"||J==="response");if(y&&($||oe&&Te)){const Ee={};["status","statusText","headers"].forEach(nt=>{Ee[nt]=ee[nt]});const _e=U.toFiniteNumber(ee.headers.get("content-length")),[pe,Re]=$&&Py(_e,Xl(Hy($),!0))||[];ee=new o(qy(ee.body,Gy,pe,()=>{Re&&Re(),Te&&Te()}),Ee)}J=J||"text";let we=await x[U.findKey(x,J)||"text"](ee,_);return!oe&&Te&&Te(),await new Promise((Ee,_e)=>{ib(Ee,_e,{data:we,headers:mn.from(ee.headers),status:ee.status,statusText:ee.statusText,config:_,request:xe})})}catch(L){throw Te&&Te(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,_,xe),{cause:L.cause||L}):Me.from(L,L&&L.code,_,xe)}}},EC=new Map,rb=n=>{let a=n&&n.env||{};const{fetch:s,Request:o,Response:l}=a,u=[o,l,s];let d=u.length,p=d,m,v,y=EC;for(;p--;)m=u[p],v=y.get(m),v===void 0&&y.set(m,v=p?new Map:AC(a)),y=v;return v};rb();const Yf={http:qw,xhr:bC,fetch:{get:rb}};U.forEach(Yf,(n,a)=>{if(n){try{Object.defineProperty(n,"name",{value:a})}catch{}Object.defineProperty(n,"adapterName",{value:a})}});const Ky=n=>`- ${n}`,jC=n=>U.isFunction(n)||n===null||n===!1;function MC(n,a){n=U.isArray(n)?n:[n];const{length:s}=n;let o,l;const u={};for(let d=0;d<s;d++){o=n[d];let p;if(l=o,!jC(o)&&(l=Yf[(p=String(o)).toLowerCase()],l===void 0))throw new Me(`Unknown adapter '${p}'`);if(l&&(U.isFunction(l)||(l=l.get(a))))break;u[p||"#"+d]=l}if(!l){const d=Object.entries(u).map(([m,v])=>`adapter ${m} `+(v===!1?"is not supported by the environment":"is not available in the build"));let p=s?d.length>1?`since :
`+d.map(Ky).join(`
`):" "+Ky(d[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return l}const lb={getAdapter:MC,adapters:Yf};function zd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Is(null,n)}function Wy(n){return zd(n),n.headers=mn.from(n.headers),n.data=kd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),lb.getAdapter(n.adapter||ur.adapter,n)(n).then(function(o){return zd(n),o.data=kd.call(n,n.transformResponse,o),o.headers=mn.from(o.headers),o},function(o){return ab(o)||(zd(n),o&&o.response&&(o.response.data=kd.call(n,n.transformResponse,o.response),o.response.headers=mn.from(o.response.headers))),Promise.reject(o)})}const cb="1.13.2",uc={};["object","boolean","number","function","string","symbol"].forEach((n,a)=>{uc[n]=function(o){return typeof o===n||"a"+(a<1?"n ":" ")+n}});const Qy={};uc.transitional=function(a,s,o){function l(u,d){return"[Axios v"+cb+"] Transitional option '"+u+"'"+d+(o?". "+o:"")}return(u,d,p)=>{if(a===!1)throw new Me(l(d," has been removed"+(s?" in "+s:"")),Me.ERR_DEPRECATED);return s&&!Qy[d]&&(Qy[d]=!0,console.warn(l(d," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(u,d,p):!0}};uc.spelling=function(a){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function RC(n,a,s){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let l=o.length;for(;l-- >0;){const u=o[l],d=a[u];if(d){const p=n[u],m=p===void 0||d(p,u,n);if(m!==!0)throw new Me("option "+u+" must be "+m,Me.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Me("Unknown option "+u,Me.ERR_BAD_OPTION)}}const Vl={assertOptions:RC,validators:uc},Jn=Vl.validators;let Ri=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Vy,response:new Vy}}async request(a,s){try{return await this._request(a,s)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Ui(this.defaults,s);const{transitional:o,paramsSerializer:l,headers:u}=s;o!==void 0&&Vl.assertOptions(o,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),l!=null&&(U.isFunction(l)?s.paramsSerializer={serialize:l}:Vl.assertOptions(l,{encode:Jn.function,serialize:Jn.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Vl.assertOptions(s,{baseUrl:Jn.spelling("baseURL"),withXsrfToken:Jn.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=u&&U.merge(u.common,u[s.method]);u&&U.forEach(["delete","get","head","post","put","patch","common"],_=>{delete u[_]}),s.headers=mn.concat(d,u);const p=[];let m=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(m=m&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const v=[];this.interceptors.response.forEach(function(j){v.push(j.fulfilled,j.rejected)});let y,x=0,S;if(!m){const _=[Wy.bind(this),void 0];for(_.unshift(...p),_.push(...v),S=_.length,y=Promise.resolve(s);x<S;)y=y.then(_[x++],_[x++]);return y}S=p.length;let T=s;for(;x<S;){const _=p[x++],j=p[x++];try{T=_(T)}catch(R){j.call(this,R);break}}try{y=Wy.call(this,T)}catch(_){return Promise.reject(_)}for(x=0,S=v.length;x<S;)y=y.then(v[x++],v[x++]);return y}getUri(a){a=Ui(this.defaults,a);const s=sb(a.baseURL,a.url,a.allowAbsoluteUrls);return eb(s,a.params,a.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(a){Ri.prototype[a]=function(s,o){return this.request(Ui(o||{},{method:a,url:s,data:(o||{}).data}))}});U.forEach(["post","put","patch"],function(a){function s(o){return function(u,d,p){return this.request(Ui(p||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}Ri.prototype[a]=s(),Ri.prototype[a+"Form"]=s(!0)});let DC=class ub{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(u){s=u});const o=this;this.promise.then(l=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](l);o._listeners=null}),this.promise.then=l=>{let u;const d=new Promise(p=>{o.subscribe(p),u=p}).then(l);return d.cancel=function(){o.unsubscribe(u)},d},a(function(u,d,p){o.reason||(o.reason=new Is(u,d,p),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=o=>{a.abort(o)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new ub(function(l){a=l}),cancel:a}}};function kC(n){return function(s){return n.apply(null,s)}}function zC(n){return U.isObject(n)&&n.isAxiosError===!0}const pf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pf).forEach(([n,a])=>{pf[a]=n});function db(n){const a=new Ri(n),s=Hx(Ri.prototype.request,a);return U.extend(s,Ri.prototype,a,{allOwnKeys:!0}),U.extend(s,a,null,{allOwnKeys:!0}),s.create=function(l){return db(Ui(n,l))},s}const Et=db(ur);Et.Axios=Ri;Et.CanceledError=Is;Et.CancelToken=DC;Et.isCancel=ab;Et.VERSION=cb;Et.toFormData=cc;Et.AxiosError=Me;Et.Cancel=Et.CanceledError;Et.all=function(a){return Promise.all(a)};Et.spread=kC;Et.isAxiosError=zC;Et.mergeConfig=Ui;Et.AxiosHeaders=mn;Et.formToJSON=n=>nb(U.isHTMLForm(n)?new FormData(n):n);Et.getAdapter=lb.getAdapter;Et.HttpStatusCode=pf;Et.default=Et;const{Axios:xz,AxiosError:bz,CanceledError:Sz,isCancel:_z,CancelToken:wz,VERSION:Cz,all:Tz,Cancel:Az,isAxiosError:Ez,spread:jz,toFormData:Mz,AxiosHeaders:Rz,HttpStatusCode:Dz,formToJSON:kz,getAdapter:zz,mergeConfig:Nz}=Et,NC="https://your-domain.com/api",be=Et.create({baseURL:NC,headers:{"Content-Type":"application/json"},withCredentials:!0});be.interceptors.request.use(n=>{const a=localStorage.getItem("token");return a&&(console.log("[API] Adding token to request:",n.url,"Token:",a.substring(0,20)+"..."),n.headers.Authorization=`Bearer ${a}`),n});be.interceptors.response.use(n=>n,n=>(n.response?.status===401?(console.warn("[API] 401 Unauthorized - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"):n.response?.status===400&&console.error("[API] 400 Bad Request:",n.response?.data),Promise.reject(n)));const $o={login:async n=>{const a=await be.post("/auth/login",n);return a.data?.data||a.data},register:async n=>{const a=await be.post("/auth/register",n);return a.data?.data||a.data},sendOTP:async n=>(await be.post(`/otp/send-to-email?email=${encodeURIComponent(n)}`)).data,updatePassword:async(n,a)=>(await be.put("/auth/update-password",{oldPassword:n,newPassword:a})).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")}};function tt(n,a="An error occurred"){if(n.response?.data?.error?.message)return n.response.data.error.message;if(n.response?.data?.message)return n.response.data.message;if(n.response?.data?.validationErrors){const s=n.response.data.validationErrors,o=Object.values(s)[0];if(Array.isArray(o)&&o.length>0)return o[0]}return n.message?n.message:a}const OC=()=>{try{return localStorage.getItem("token")}catch{return null}},UC=()=>{try{const n=localStorage.getItem("user");return n?JSON.parse(n):null}catch{return null}},Xt=sc(n=>({user:null,token:null,isLoading:!1,error:null,initialized:!1,initializeAuth:()=>{const a=UC(),s=OC();console.log("[authStore] Initializing auth:",{hasUser:!!a,hasToken:!!s,user:a}),n({user:a,token:s,initialized:!0})},login:async a=>{n({isLoading:!0,error:null});try{console.log("[authStore] Logging in...");const s=await $o.login(a);if(console.log("[authStore] Token received:",s?s.substring(0,20)+"...":"No token"),!s)throw new Error("No token received from login");localStorage.setItem("token",s),console.log("[authStore] Fetching user profile from /users/me...");const{userService:o}=await Vt(async()=>{const{userService:u}=await Promise.resolve().then(()=>Ja);return{userService:u}},void 0),l=await o.getCurrentUser();!l.email&&a.credential.includes("@")&&(l.email=a.credential),console.log("[authStore] User profile fetched:",l),localStorage.setItem("user",JSON.stringify(l)),console.log("[authStore] Updating state with user and token..."),n({user:l,token:s,isLoading:!1}),console.log("[authStore] Login complete, state updated")}catch(s){const o=tt(s,"Login failed");throw console.error("[authStore] Login error:",o,s),n({error:o,isLoading:!1}),s}},register:async(a,s,o,l)=>{n({isLoading:!0,error:null});try{console.log("[authStore] Registering user...");const u=await $o.register({email:a,username:s,password:o,otpCode:l});if(console.log("[authStore] Token received:",u?u.substring(0,20)+"...":"No token"),!u)throw new Error("No token received from registration");localStorage.setItem("token",u),console.log("[authStore] Fetching user profile from /users/me...");const{userService:d}=await Vt(async()=>{const{userService:m}=await Promise.resolve().then(()=>Ja);return{userService:m}},void 0),p=await d.getCurrentUser();p.email||(p.email=a),console.log("[authStore] User profile fetched:",p),localStorage.setItem("user",JSON.stringify(p)),console.log("[authStore] Updating state with user and token..."),n({user:p,token:u,isLoading:!1}),console.log("[authStore] Registration complete, state updated")}catch(u){const d=tt(u,"Registration failed");throw console.error("[authStore] Registration error:",d,u),n({error:d,isLoading:!1}),u}},logout:()=>{$o.logout(),n({user:null,token:null})},setUser:a=>{localStorage.setItem("user",JSON.stringify(a)),n({user:a})},clearError:()=>n({error:null})})),dr=()=>{const n=Xt(x=>x.user),a=Xt(x=>x.token),s=Xt(x=>x.isLoading),o=Xt(x=>x.initialized),l=Xt(x=>x.error),u=Xt(x=>x.login),d=Xt(x=>x.register),p=Xt(x=>x.logout),m=Xt(x=>x.setUser),v=Xt(x=>x.clearError),y=Xt(x=>x.initializeAuth);return{user:n,token:a,isLoading:s,initialized:o,error:l,login:u,register:d,logout:p,setUser:m,clearError:v,initializeAuth:y,isAuthenticated:!!a&&!!n}},BC=({children:n})=>{const{isAuthenticated:a,isLoading:s,initialized:o}=dr();return console.log("[ProtectedRoute] Current state:",{isAuthenticated:a,isLoading:s,initialized:o}),s?h.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"var(--background)",color:"var(--text)"},children:h.jsx("div",{children:"Loading..."})}):a?h.jsx(h.Fragment,{children:n}):(console.warn("[ProtectedRoute] Not authenticated, redirecting to login"),h.jsx(Po,{to:"/login",replace:!0}))},LC="_authContainer_zo5x8_193",VC="_orb_zo5x8_223",IC="_orb1_zo5x8_241",PC="_orb2_zo5x8_259",HC="_orb3_zo5x8_277",FC="_authCard_zo5x8_297",qC="_header_zo5x8_329",GC="_iconWrapper_zo5x8_341",$C="_title_zo5x8_401",YC="_subtitle_zo5x8_427",XC="_errorAlert_zo5x8_443",KC="_form_zo5x8_499",WC="_inputGroup_zo5x8_507",QC="_label_zo5x8_527",ZC="_inputWrapper_zo5x8_545",JC="_input_zo5x8_507",eT="_inputPassword_zo5x8_605",tT="_togglePassword_zo5x8_613",nT="_forgotLink_zo5x8_655",aT="_submitBtn_zo5x8_719",iT="_footer_zo5x8_845",sT="_backBtn_zo5x8_911",oT="_verifiedBadge_zo5x8_955",rT="_otpInput_zo5x8_1007",lT="_resendSection_zo5x8_1025",cT="_resendBtn_zo5x8_1051",uT="_spinner_zo5x8_1095",Z={authContainer:LC,orb:VC,orb1:IC,orb2:PC,orb3:HC,authCard:FC,header:qC,iconWrapper:GC,title:$C,subtitle:YC,errorAlert:XC,form:KC,inputGroup:WC,label:QC,inputWrapper:ZC,input:JC,inputPassword:eT,togglePassword:tT,forgotLink:nT,submitBtn:aT,footer:iT,backBtn:sT,verifiedBadge:oT,otpInput:rT,resendSection:lT,resendBtn:cT,spinner:uT},dT=()=>{const n=Lx(),{login:a,isLoading:s,error:o,clearError:l}=dr(),[u,d]=C.useState(""),[p,m]=C.useState(""),[v,y]=C.useState(!1),x=async S=>{S.preventDefault(),l();try{console.log("[LoginForm] Starting login..."),await a({credential:u,password:p});const T=Xt.getState();console.log("[LoginForm] Login successful. Auth state:",{hasToken:!!T.token,hasUser:!!T.user,isLoading:T.isLoading}),T.token&&T.user?(console.log("[LoginForm] Auth state verified, navigating to dashboard..."),n("/dashboard")):console.error("[LoginForm] Login completed but auth state not set!")}catch(T){console.error("[LoginForm] Login error:",T)}};return h.jsxs("div",{className:Z.authContainer,children:[h.jsx("div",{className:`${Z.orb} ${Z.orb1}`}),h.jsx("div",{className:`${Z.orb} ${Z.orb2}`}),h.jsx("div",{className:`${Z.orb} ${Z.orb3}`}),h.jsxs("div",{className:Z.authCard,children:[h.jsxs("div",{className:Z.header,children:[h.jsx("div",{className:Z.iconWrapper,children:h.jsx("span",{children:""})}),h.jsx("h1",{className:Z.title,children:"Sign In"}),h.jsx("p",{className:Z.subtitle,children:"Welcome back to Simpchat"})]}),o&&h.jsxs("div",{className:Z.errorAlert,children:[h.jsx(zs,{size:20}),h.jsx("p",{children:o})]}),h.jsxs("form",{onSubmit:x,className:Z.form,children:[h.jsxs("div",{className:Z.inputGroup,children:[h.jsx("label",{htmlFor:"credential",className:Z.label,children:"Email or Username"}),h.jsx("input",{id:"credential",type:"text",value:u,onChange:S=>d(S.target.value),placeholder:"john@example.com",required:!0,disabled:s,className:Z.input})]}),h.jsxs("div",{className:Z.inputGroup,children:[h.jsx("label",{htmlFor:"password",className:Z.label,children:"Password"}),h.jsxs("div",{className:Z.inputWrapper,children:[h.jsx("input",{id:"password",type:v?"text":"password",value:p,onChange:S=>m(S.target.value),placeholder:"",required:!0,disabled:s,className:`${Z.input} ${Z.inputPassword}`}),h.jsx("button",{type:"button",onClick:()=>y(!v),disabled:s,className:Z.togglePassword,children:v?h.jsx(of,{size:20}):h.jsx(rf,{size:20})})]})]}),h.jsx("div",{className:Z.forgotLink,children:h.jsx(sf,{to:"/forgot-password",children:"Forgot password?"})}),h.jsx("button",{type:"submit",disabled:s||!u||!p,className:Z.submitBtn,children:s?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:Z.spinner}),"Signing in..."]}):h.jsxs(h.Fragment,{children:["Sign In",h.jsx(lf,{size:20})]})})]}),h.jsxs("div",{className:Z.footer,children:[h.jsx("p",{children:"Don't have an account?"}),h.jsx(sf,{to:"/register",children:"Create Account "})]})]})]})},fT=()=>h.jsx("div",{style:{minHeight:"100vh",background:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px"},children:h.jsx(dT,{})}),pT=n=>{const a=typeof n=="string"?new Date(n):n,o=new Date().getTime()-a.getTime(),l=Math.floor(o/6e4),u=Math.floor(o/36e5),d=Math.floor(o/864e5);return l<1?"just now":l<60?`${l}m ago`:u<24?`${u}h ago`:d<7?`${d}d ago`:a.toLocaleDateString()},fb=n=>{if(!n||n==="undefined"||n==="null")return"?";const a=String(n).trim();if(!a||a.length===0)return"?";const s=a.split(/\s+/).filter(o=>o.length>0);return s.length===0?"?":s.length===1?s[0][0]?.toUpperCase()||"?":s.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},hT=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n),ta=n=>{if(n)return n.replace("simpchat.filestorage:9000","localhost:9000")},hf=n=>{if(!n)return"Unknown";const a=new Date(n),o=new Date().getTime()-a.getTime(),l=Math.floor(o/6e4),u=Math.floor(o/36e5),d=Math.floor(o/864e5);if(l<1)return"just now";if(l===1)return"1 minute ago";if(l<60)return`${l} minutes ago`;if(u===1)return"1 hour ago";if(u<24)return`${u} hours ago`;if(d===1)return`Yesterday at ${a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;if(d<7){const p=a.toLocaleDateString([],{weekday:"long"}),m=a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${p} at ${m}`}return a.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})},mT=()=>{const n=Lx(),{register:a,isLoading:s}=dr(),[o,l]=C.useState("email"),[u,d]=C.useState(""),[p,m]=C.useState(""),[v,y]=C.useState(""),[x,S]=C.useState(""),[T,_]=C.useState(""),[j,R]=C.useState(!1),[E,H]=C.useState(!1),[N,Y]=C.useState(""),[$,ae]=C.useState(!1),J=async ce=>{if(ce.preventDefault(),Y(""),!hT(u)){Y("Please enter a valid email address");return}ae(!0);try{await $o.sendOTP(u),l("complete")}catch(ke){Y(tt(ke,"Failed to send verification code"))}finally{ae(!1)}},ie=async ce=>{if(ce.preventDefault(),Y(""),!p.trim()){Y("Username is required");return}if(p.length<3){Y("Username must be at least 3 characters");return}if(v.length<5){Y("Password must be at least 5 characters");return}if(v!==x){Y("Passwords do not match");return}if(!T.trim()){Y("Verification code is required");return}try{console.log("[RegisterForm] Registering user..."),await a(u,p,v,T);const ke=Xt.getState();console.log("[RegisterForm] Registration successful. Auth state:",{hasToken:!!ke.token,hasUser:!!ke.user,isLoading:ke.isLoading}),ke.token&&ke.user?(console.log("[RegisterForm] Auth state verified, navigating to dashboard..."),n("/dashboard")):console.error("[RegisterForm] Registration completed but auth state not set!")}catch(ke){Y(tt(ke,"Registration failed"))}},ve=async()=>{Y(""),ae(!0);try{await $o.sendOTP(u)}catch(ce){Y(tt(ce,"Failed to resend code"))}finally{ae(!1)}};return o==="email"?h.jsxs("div",{className:Z.authContainer,children:[h.jsx("div",{className:`${Z.orb} ${Z.orb1}`}),h.jsx("div",{className:`${Z.orb} ${Z.orb2}`}),h.jsx("div",{className:`${Z.orb} ${Z.orb3}`}),h.jsxs("div",{className:Z.authCard,children:[h.jsxs("div",{className:Z.header,children:[h.jsx("div",{className:Z.iconWrapper,children:h.jsx("span",{children:""})}),h.jsx("h1",{className:Z.title,children:"Create Account"}),h.jsx("p",{className:Z.subtitle,children:"Join Simpchat today"})]}),N&&h.jsxs("div",{className:Z.errorAlert,children:[h.jsx(zs,{size:20}),h.jsx("p",{children:N})]}),h.jsxs("form",{onSubmit:J,className:Z.form,children:[h.jsxs("div",{className:Z.inputGroup,children:[h.jsx("label",{htmlFor:"email",className:Z.label,children:"Email Address"}),h.jsx("input",{id:"email",type:"email",value:u,onChange:ce=>d(ce.target.value),placeholder:"you@example.com",required:!0,disabled:$,className:Z.input})]}),h.jsx("button",{type:"submit",disabled:$||!u,className:Z.submitBtn,children:$?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:Z.spinner}),"Sending..."]}):h.jsxs(h.Fragment,{children:["Continue",h.jsx(lf,{size:20})]})})]}),h.jsxs("div",{className:Z.footer,children:[h.jsx("p",{children:"Already have an account?"}),h.jsx(sf,{to:"/login",children:"Sign In "})]})]})]}):h.jsxs("div",{className:Z.authContainer,children:[h.jsx("div",{className:`${Z.orb} ${Z.orb1}`}),h.jsx("div",{className:`${Z.orb} ${Z.orb2}`}),h.jsx("div",{className:`${Z.orb} ${Z.orb3}`}),h.jsxs("div",{className:Z.authCard,children:[h.jsxs("div",{className:Z.header,style:{textAlign:"left"},children:[h.jsxs("button",{onClick:()=>l("email"),className:Z.backBtn,children:[h.jsx(C_,{size:16}),"Back"]}),h.jsx("h1",{className:Z.title,style:{textAlign:"left"},children:"Complete Profile"}),h.jsxs("div",{className:Z.verifiedBadge,children:[h.jsx(T_,{size:16}),h.jsxs("p",{children:["Email verified: ",u]})]})]}),N&&h.jsxs("div",{className:Z.errorAlert,children:[h.jsx(zs,{size:20}),h.jsx("p",{children:N})]}),h.jsxs("form",{onSubmit:ie,className:Z.form,children:[h.jsxs("div",{className:Z.inputGroup,children:[h.jsx("label",{htmlFor:"username",className:Z.label,children:"Username"}),h.jsx("input",{id:"username",type:"text",value:p,onChange:ce=>m(ce.target.value),placeholder:"johndoe",required:!0,disabled:s,className:Z.input})]}),h.jsxs("div",{className:Z.inputGroup,children:[h.jsx("label",{htmlFor:"password",className:Z.label,children:"Password"}),h.jsxs("div",{className:Z.inputWrapper,children:[h.jsx("input",{id:"password",type:j?"text":"password",value:v,onChange:ce=>y(ce.target.value),placeholder:"",required:!0,disabled:s,className:`${Z.input} ${Z.inputPassword}`}),h.jsx("button",{type:"button",onClick:()=>R(!j),disabled:s,className:Z.togglePassword,children:j?h.jsx(of,{size:20}):h.jsx(rf,{size:20})})]})]}),h.jsxs("div",{className:Z.inputGroup,children:[h.jsx("label",{htmlFor:"confirm-password",className:Z.label,children:"Confirm Password"}),h.jsxs("div",{className:Z.inputWrapper,children:[h.jsx("input",{id:"confirm-password",type:E?"text":"password",value:x,onChange:ce=>S(ce.target.value),placeholder:"",required:!0,disabled:s,className:`${Z.input} ${Z.inputPassword}`}),h.jsx("button",{type:"button",onClick:()=>H(!E),disabled:s,className:Z.togglePassword,children:E?h.jsx(of,{size:20}):h.jsx(rf,{size:20})})]})]}),h.jsxs("div",{className:Z.inputGroup,children:[h.jsx("label",{htmlFor:"otp-code",className:Z.label,children:"Verification Code"}),h.jsx("input",{id:"otp-code",type:"text",value:T,onChange:ce=>_(ce.target.value),placeholder:"000000",required:!0,disabled:s,className:`${Z.input} ${Z.otpInput}`})]}),h.jsx("button",{type:"submit",disabled:s||!p||!v||!x||!T,className:Z.submitBtn,children:s?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:Z.spinner}),"Creating..."]}):h.jsxs(h.Fragment,{children:["Create Account",h.jsx(lf,{size:20})]})})]}),h.jsxs("div",{className:Z.resendSection,children:[h.jsx("p",{children:"Didn't get the code?"}),h.jsx("button",{onClick:ve,disabled:$,className:Z.resendBtn,children:$?"Resending...":"Resend Code"})]})]})]})},gT=()=>h.jsx("div",{style:{minHeight:"100vh",background:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px"},children:h.jsx(mT,{})}),yT=n=>{if(!n)return"channel";const a=String(n).toLowerCase().trim();return a==="conversation"||a==="dm"||a==="directmessage"?"dm":a==="group"?"group":(a==="channel"||console.warn("[Normalizer] Unknown chat type:",n,"defaulting to channel"),"channel")},Ho=n=>{if(!n)return{};let a;return n.privacy!==null&&n.privacy!==void 0&&(typeof n.privacy=="number"?a=n.privacy===0?"public":"private":typeof n.privacy=="string"&&(a=n.privacy.toLowerCase())),{id:n.id,name:n.name||"Unknown",type:yT(n.type),avatar:ta(n.avatarUrl||n.AvatarUrl||n.avatar||n.profileImage),description:n.description||"",privacy:a,members:(n.members||[]).map(s=>{const o=s.user?{...s.user,id:s.user.id||s.user.userId||s.userId,avatar:ta(s.user.avatarUrl||s.user.AvatarUrl||s.user.avatar||s.user.profileImage)}:{id:s.userId||s.id,username:s.username||"Unknown",email:"",avatar:ta(s.avatarUrl||s.AvatarUrl||s.avatar),onlineStatus:"offline",lastSeen:new Date().toISOString()};return{id:s.id||s.userId||s.user?.id,userId:s.userId||s.id||s.user?.id,user:o,joinedAt:s.joinedAt,role:s.role||"member"}}),lastMessage:n.lastMessage?{id:n.lastMessage.id,content:n.lastMessage.content,createdAt:n.lastMessage.createdAt||n.lastMessage.sentAt||new Date().toISOString()}:void 0,unreadCount:n.unreadCount!==void 0?n.unreadCount:n.notificationsCount||0,isOnline:n.isOnline!==void 0?n.isOnline:!1,createdAt:n.created||n.createdAt||new Date().toISOString(),updatedAt:n.userLastMessage||n.updatedAt||n.createdAt||new Date().toISOString(),messages:n.messages?n.messages.map(s=>({...s,fileUrl:ta(s.fileUrl),senderAvatarUrl:ta(s.senderAvatarUrl)})):void 0,participantsCount:n.participantsCount,participantsOnline:n.participantsOnline,notificationsCount:n.notificationsCount}},mf=n=>{if(!n)return{};console.log("[Normalizer] Normalizing user:",n);const a=n.userId||n.id||n.entityId||n.EntityId;let s="offline";return typeof n.onlineStatus=="string"?s=n.onlineStatus.toLowerCase()||"offline":typeof n.isOnline=="boolean"&&(s=n.isOnline?"online":"offline"),{id:a,username:n.username||n.displayName||n.name||"Unknown",email:n.email||"",avatar:ta(n.avatarUrl||n.AvatarUrl||n.avatar||n.profileImage),bio:n.description||n.bio||"",onlineStatus:s,lastSeen:n.lastSeen||new Date().toISOString(),addMePolicy:n.addMePolicy||"everyone"}},pb=n=>Array.isArray(n)?n.map(a=>Ho(a)):(console.warn("[Normalizer] Expected array of chats, got:",typeof n),[]),Nd=n=>Array.isArray(n)?n.map(a=>mf(a)):(console.warn("[Normalizer] Expected array of users, got:",typeof n),[]),it={getAllChats:async()=>{const n=await be.get("/chats/me"),a=n.data?.data||n.data;return pb(a)},getChat:async n=>{const a=await be.get(`/chats/${n}`),s=a.data?.data||a.data;return Ho(s)},getChatProfile:async n=>{const a=await be.get(`/chats/${n}/profile`),s=a.data?.data||a.data;return Ho(s)},createGroup:async n=>{const a=await be.post("/groups",n,{headers:{"Content-Type":"multipart/form-data"}}),s=a.data?.data||a.data;return Ho(s)},createChannel:async n=>{const a=await be.post("/channels",n,{headers:{"Content-Type":"multipart/form-data"}}),s=a.data?.data||a.data;return Ho(s)},updateChat:async(n,a,s)=>{const o=a==="group"?"/groups":"/channels",l=await be.put(o,s,{headers:{"Content-Type":"multipart/form-data"},params:{chatId:n}});return l.data?.data||l.data},deleteChat:async(n,a)=>{const s=a==="group"?"/groups":"/channels",o=await be.delete(s,{params:{chatId:n}});return o.data?.data||o.data},joinChat:async(n,a)=>{const s=a==="group"?"/groups/join":"/channels/join",o=a==="group"?"groupId":"channelId",l=await be.post(s,null,{params:{[o]:n}});return l.data?.data||l.data},leaveChat:async(n,a)=>{const s=a==="group"?"/groups/leave":"/channels/leave",o=await be.post(s,null,{params:{chatId:n}});return o.data?.data||o.data},searchChats:async n=>{const a=await be.post("/chats/search",{pageNumber:1,pageSize:10,searchTerm:n});console.log("[ChatService] searchChats full response:",a);const s=a.data?.data;if(!Array.isArray(s))return console.warn("[ChatService] Search returned non-array data:",s),[];const o=s.map(l=>{const u=l.type||l.chatType,d=String(u).toLowerCase().trim();let p="channel";return d==="conversation"||d==="dm"||d==="directmessage"?p="dm":d==="group"?p="group":d==="channel"&&(p="channel"),{id:l.id||l.entityId,name:l.name||l.displayName||"Unknown",type:p,avatar:ta(l.avatarUrl||l.avatar||l.profileImage),description:l.description||"",memberCount:l.memberCount||l.participantsCount||0}});return console.log("[ChatService] Normalized search results:",o),o},banUser:async(n,a)=>{const s=await be.post(`/chats/ban/${a}`,null,{params:{chatId:n}});return s.data?.data||s.data},unbanUser:async(n,a)=>{const s=await be.post(`/chats/unban/${a}`,null,{params:{chatId:n}});return s.data?.data||s.data},addMemberToGroup:async(n,a)=>{const s=await be.post("/groups/add-member",null,{params:{chatId:n,addingUserId:a}});return s.data?.data||s.data},addMemberToChannel:async(n,a)=>{const s=await be.post("/channels/add-member",null,{params:{chatId:n,addingUserId:a}});return s.data?.data||s.data},removeMemberFromGroup:async(n,a)=>{const s=await be.post("/groups/remove-member",null,{params:{chatId:n,removingUserId:a}});return s.data?.data||s.data},removeMemberFromChannel:async(n,a)=>{const s=await be.post("/channels/remove-member",null,{params:{chatId:n,removingUserId:a}});return s.data?.data||s.data},updateChatPrivacy:async(n,a)=>{const s=a==="public"?0:1,o=await be.put("/chats/privacy-type",null,{params:{chatId:n,privacyType:s}});return o.data?.data||o.data},addUserPermission:async(n,a,s)=>{const o=await be.post("/chats/add-user-permission",null,{params:{chatId:n,addingUserId:a,permissionName:s}});return o.data?.data||o.data},createOrGetDM:async(n,a)=>{try{if(console.log("[ChatService] createOrGetDM called with:",{recipientId:n,recipientIdType:typeof n,initialMessage:a,isRecipientIdValid:n&&n!=="undefined"}),!n||n==="undefined")throw new Error(`Invalid recipientId: ${n}`);const s=await it.getAllChats();console.log("[ChatService] Fetched chats, looking for existing DM with recipient:",n);let o;for(const l of s)if(console.log("[ChatService] Checking chat:",{chatId:l.id,type:l.type,memberCount:l.members?.length||0}),l.type==="dm")if(l.members&&l.members.length>0){if(l.members.some(d=>{const p=d.userId===n||d.id===n||d.user?.id===n;return p&&console.log("[ChatService] Found matching member:",d),p})){o=l;break}}else{console.log("[ChatService] Members array empty for DM, fetching full details for chat:",l.id);try{const u=await it.getChat(l.id);if(console.log("[ChatService] Full chat details:",{id:u.id,memberCount:u.members?.length||0,members:u.members?.map(d=>({userId:d.userId,id:d.id}))}),u.members&&u.members.length>0&&u.members.some(p=>{const m=p.userId===n||p.id===n||p.user?.id===n;return m&&console.log("[ChatService] Found matching member in full chat:",p),m})){o=u;break}}catch(u){console.error("[ChatService] Error fetching full chat details:",u)}}if(console.log("[ChatService] DM chat found:",o?.id||"NOT FOUND"),o&&a){console.log("[ChatService] Sending to existing DM with chatId:",o.id);const l=new FormData;return l.append("chatId",o.id),l.append("content",a),console.log("[ChatService] FormData entries:",{chatId:o.id,content:a}),await be.post("/messages/",l,{headers:{"Content-Type":"multipart/form-data"}}),console.log("[ChatService] Message sent to existing DM:",o.id),o}if(!o&&a){console.log("[ChatService] Creating new DM conversation with user:",n);const l=new FormData;l.append("receiverId",n),l.append("content",a),console.log("[ChatService] FormData entries for new DM:",{receiverId:n,content:a});const u=await be.post("/messages/",l,{headers:{"Content-Type":"multipart/form-data"}});console.log("[ChatService] Message sent to new DM, conversation auto-created. Response:",u);const p=(await it.getAllChats()).find(m=>m.type==="dm"&&m.members?.some(v=>v.id===n||v.userId===n));return console.log("[ChatService] Newly created DM:",p?.id||"NOT FOUND"),p}return console.log("[ChatService] No action taken (no message to send)"),o}catch(s){throw console.error("[ChatService] Error in createOrGetDM:",s),s}}};let gf={},Zy=!1;async function Jy(){if(!Zy)try{const n=await be.get("/reactions");(n.data?.data||n.data).forEach(s=>{const o=s.name.match(/^(.)/);o&&(gf[o[1]]=s.id)}),Zy=!0}catch(n){console.warn("Failed to load reaction mapping:",n),gf={"":"00000000-0000-0000-0000-000000000001","":"00000000-0000-0000-0000-000000000002","":"00000000-0000-0000-0000-000000000003","":"00000000-0000-0000-0000-000000000004","":"00000000-0000-0000-0000-000000000005","":"00000000-0000-0000-0000-000000000006"}}}function ev(n){return gf[n]||n}const Ts={sendMessage:async n=>{try{console.log("[MessageService] sendMessage called"),console.log("[MessageService] FormData entries:");for(const[s,o]of n.entries())o instanceof File?console.log(`  ${s}: File(${o.name}, ${o.size} bytes, ${o.type})`):console.log(`  ${s}: ${o}`);const a=await be.post("/messages",n,{headers:{"Content-Type":"multipart/form-data"}});return console.log("[MessageService] Response:",a.data),a.data?.data||a.data}catch(a){throw console.error("[MessageService] Error sending message:",a),a}},editMessage:async(n,a)=>{const s=new FormData;s.append("Content",a);const o=await be.put(`/messages/${n}`,s,{headers:{"Content-Type":"multipart/form-data"}});return o.data?.data||o.data},deleteMessage:async n=>{const a=await be.delete(`/messages/${n}`);return a.data?.data||a.data},addReaction:async(n,a)=>{await Jy();const s=ev(a),o=new URLSearchParams;o.append("messageId",n),o.append("reactionId",s);const l=await be.post(`/messages/reaction?${o.toString()}`);return l.data?.data||l.data},removeReaction:async(n,a)=>{await Jy();const s=ev(a),o=new URLSearchParams;o.append("messageId",n),o.append("reactionId",s);const l=await be.delete(`/messages/reaction?${o.toString()}`);return l.data?.data||l.data}},Fo=Object.freeze(Object.defineProperty({__proto__:null,messageService:Ts},Symbol.toStringTag,{value:"Module"})),st=sc((n,a)=>({chats:[],currentChat:null,messages:[],isLoadingChats:!1,isLoadingMessages:!1,error:null,typingUsers:new Map,onlineUsers:new Map,userLastSeen:new Map,loadChats:async()=>{n({isLoadingChats:!0,error:null});try{const s=await it.getAllChats();console.log("[ChatStore] Raw chats from API:",s);const o=pb(s);console.log("[ChatStore] Normalized chats:",o),console.log("[ChatStore] Chat types after normalization:",o.map(l=>({id:l.id,name:l.name,type:l.type}))),n({chats:o,isLoadingChats:!1})}catch(s){const o=tt(s,"Failed to load chats");console.error("[ChatStore] Error loading chats:",s),n({error:o,isLoadingChats:!1})}},setCurrentChat:s=>{n({currentChat:s})},setMessages:s=>{n({messages:s})},loadMessages:async(s,o=1)=>{n({isLoadingMessages:!0,error:null});try{n({isLoadingMessages:!1})}catch(l){const u=tt(l,"Failed to load messages");n({error:u,isLoadingMessages:!1})}},sendMessage:async(s,o,l,u)=>{n({error:null});try{if(u){const d=new FormData;s&&d.append("chatId",s),o&&d.append("receiverId",o),l&&d.append("content",l),d.append("file",u);const p=await Ts.sendMessage(d);n(m=>({messages:[...m.messages,p]}))}else await(await Vt(()=>Promise.resolve().then(()=>Nk),void 0).then(p=>p.signalRService)).sendMessage(s,l,o||void 0,null)}catch(d){const p=tt(d,"Failed to send message");n({error:p})}},editMessage:async(s,o)=>{n({error:null});try{const l=await Ts.editMessage(s,o);n(u=>({messages:u.messages.map(d=>d.messageId===s?l:d)}))}catch(l){const u=tt(l,"Failed to edit message");n({error:u})}},deleteMessage:async s=>{n({error:null});try{await Ts.deleteMessage(s),n(o=>({messages:o.messages.filter(l=>l.messageId!==s)}))}catch(o){const l=tt(o,"Failed to delete message");n({error:l})}},addReaction:async(s,o)=>{n({error:null});try{await Ts.addReaction(s,o)}catch(l){const u=tt(l,"Failed to add reaction");n({error:u})}},removeReaction:async(s,o)=>{n({error:null});try{await Ts.removeReaction(s,o)}catch(l){const u=tt(l,"Failed to remove reaction");n({error:u})}},clearError:()=>n({error:null}),isUserOnline:s=>a().onlineUsers.get(s)||!1,getUserLastSeen:s=>a().userLastSeen.get(s),getOnlineMembersCount:s=>{const o=a().chats.find(d=>d.id===s);if(!o||!o.members)return 0;let l=0;const u=a().onlineUsers;for(const d of o.members)u.get(d.userId)&&l++;return l},setInitialPresenceStates:s=>{console.log("[ChatStore] Setting initial presence states for",Object.keys(s).length,"users"),console.log("[ChatStore] Raw presence states:",s);const o=new Map,l=new Map;Object.entries(s).forEach(([u,d])=>{console.log(`[ChatStore] Processing user ${u}, state:`,d,"type:",typeof d),typeof d=="boolean"?(o.set(u,d),console.log(`[ChatStore] Set user ${u} to ${d?"online":"offline"}`)):(o.set(u,d.isOnline),d.lastSeen&&l.set(u,d.lastSeen),console.log(`[ChatStore] Set user ${u} to ${d.isOnline?"online":"offline"}, lastSeen: ${d.lastSeen||"none"}`))}),n({onlineUsers:o,userLastSeen:l}),console.log("[ChatStore] Presence states initialized:",{online:Array.from(o.entries()).filter(([u,d])=>d).length,total:o.size,onlineUserIds:Array.from(o.entries()).filter(([u,d])=>d).map(([u])=>u)})},handleReceiveMessage:s=>{console.log("[ChatStore] Received message:",s);const o=a();if(o.currentChat&&s.chatId===o.currentChat.id&&!o.messages.some(u=>u.messageId===s.messageId)){const u={messageId:s.messageId,chatId:s.chatId,senderId:s.senderId,senderUsername:s.senderUsername||"Unknown",senderAvatarUrl:s.senderAvatarUrl,content:s.content,fileUrl:s.fileUrl,replyId:s.replyId,sentAt:s.sentAt,isSeen:!1,isNotificated:!1,notificationId:"",messageReactions:[],isCurrentUser:!1};n({messages:[...o.messages,u]}),console.log("[ChatStore] Added new message to state")}a().loadChats()},handleMessageEdited:s=>{console.log("[ChatStore] Message edited:",s),n(o=>({messages:o.messages.map(l=>l.messageId===s.messageId?{...l,content:s.content}:l)}))},handleMessageDeleted:s=>{console.log("[ChatStore] Message deleted:",s),n(o=>({messages:o.messages.filter(l=>l.messageId!==s.messageId)}))},handleReactionAdded:s=>{console.log("[ChatStore] Reaction added:",s),n(o=>({messages:o.messages.map(l=>l.messageId===s.messageId?{...l,messageReactions:[...l.messageReactions||[],{id:s.reactionId,emoji:"",userId:s.userId,userName:""}]}:l)}))},handleReactionRemoved:s=>{console.log("[ChatStore] Reaction removed:",s)},handleUserOnline:s=>{console.log("[ChatStore] User online:",s),n(o=>{const l=new Map(o.onlineUsers);l.set(s.userId,!0);const u=new Map(o.userLastSeen);return u.delete(s.userId),{onlineUsers:l,userLastSeen:u,chats:o.chats.map(d=>d.members?.some(m=>m.userId===s.userId)?{...d,isOnline:d.type==="dm"?!0:d.isOnline,members:d.members?.map(m=>m.userId===s.userId?{...m,user:{...m.user,onlineStatus:"online",lastSeen:""}}:m)}:d)}})},handleUserOffline:s=>{console.log("[ChatStore] User offline:",s),n(o=>{const l=new Map(o.onlineUsers);l.set(s.userId,!1);const u=new Map(o.userLastSeen);return s.lastSeen&&u.set(s.userId,s.lastSeen),{onlineUsers:l,userLastSeen:u,chats:o.chats.map(d=>d.members?.some(m=>m.userId===s.userId)?{...d,isOnline:d.type==="dm"?!1:d.isOnline,members:d.members?.map(m=>m.userId===s.userId?{...m,user:{...m.user,onlineStatus:"offline",lastSeen:s.lastSeen}}:m)}:d)}})},handleUserTyping:s=>{console.log("[ChatStore] User typing:",s),n(o=>{const l=new Map(o.typingUsers);return l.set(`${s.chatId}-${s.userId}`,{userId:s.userId,timestamp:Date.now()}),{typingUsers:l}}),setTimeout(()=>{n(o=>{const l=new Map(o.typingUsers);return l.delete(`${s.chatId}-${s.userId}`),{typingUsers:l}})},3e3)},handleUserStoppedTyping:s=>{console.log("[ChatStore] User stopped typing:",s),n(o=>{const l=new Map(o.typingUsers);return l.delete(`${s.chatId}-${s.userId}`),{typingUsers:l}})}})),vT=()=>{const n=localStorage.getItem("simpchat-theme");return n==="dark"||n==="light"?n:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},Od=n=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("simpchat-theme",n)},xT=sc(n=>{const a=vT();return Od(a),{theme:a,toggleTheme:()=>{n(s=>{const o=s.theme==="light"?"dark":"light";return Od(o),{theme:o}})},setTheme:s=>{Od(s),n({theme:s})}}}),bT="_dashboard_1641l_106",ST="_gradientFlow_1641l_1",_T="_darkMode_1641l_137",wT="_leftPanel_1641l_151",CT="_panelGlow_1641l_1",TT="_panelHeader_1641l_172",AT="_title_1641l_203",ET="_menuButton_1641l_226",jT="_searchBar_1641l_261",MT="_searchInput_1641l_266",RT="_searchResults_1641l_296",DT="_slideDown_1641l_1",kT="_searchResultItem_1641l_330",zT="_searchResultAvatar_1641l_356",NT="_searchResultInfo_1641l_372",OT="_searchResultName_1641l_377",UT="_searchResultType_1641l_390",BT="_searchResultTypeIcon_1641l_400",LT="_searchLoading_1641l_407",VT="_searchNoResults_1641l_408",IT="_chatList_1641l_421",PT="_emptyState_1641l_455",HT="_loading_1641l_456",FT="_chatItem_1641l_469",qT="_active_1641l_483",GT="_chatAvatar_1641l_511",$T="_avatarFallback_1641l_537",YT="_onlineIndicator_1641l_548",XT="_chatInfo_1641l_564",KT="_chatHeader_1641l_571",WT="_chatNameWithType_1641l_578",QT="_headerRight_1641l_586",ZT="_chatName_1641l_578",JT="_chatTypeIcon_1641l_606",eA="_iconDm_1641l_623",tA="_iconGroup_1641l_634",nA="_iconChannel_1641l_645",aA="_timestamp_1641l_655",iA="_chatPreview_1641l_666",sA="_unreadBadge_1641l_679",oA="_unreadPulse_1641l_1",rA="_chatHeader2_1641l_703",lA="_headerInfo_1641l_720",cA="_headerTitle_1641l_727",uA="_chatTitle_1641l_733",dA="_headerChatType_1641l_750",fA="_headerActions_1641l_760",pA="_headerButton_1641l_766",hA="_messagesContainer_1641l_804",mA="_noMessages_1641l_838",gA="_welcomeScreen_1641l_850",yA="_welcomeIcon_1641l_865",vA="_welcomeText_1641l_871",xA="_welcomeSubtext_1641l_882",bA="_inputArea_1641l_892",SA="_inputWrapper_1641l_906",_A="_messageInput_1641l_912",wA="_sendButton_1641l_952",CA="_modalOverlay_1641l_999",TA="_modalFadeIn_1641l_1",AA="_modal_1641l_999",EA="_modalSlideUp_1641l_1",jA="_modalHeader_1641l_1031",MA="_closeButton_1641l_1054",RA="_modalBody_1641l_1084",DA="_modalFooter_1641l_1121",kA="_formGroup_1641l_1133",zA="_formInput_1641l_1149",NA="_primaryButton_1641l_1179",OA="_secondaryButton_1641l_1205",UA="_profileContent_1641l_1235",BA="_profileInfo_1641l_1241",LA="_avatarSection_1641l_1247",VA="_largeAvatar_1641l_1253",IA="_profileField_1641l_1274",PA="_loadingState_1641l_1305",HA="_menuDropdown_1641l_1312",FA="_menuItem_1641l_1344",qA="_menuDivider_1641l_1385",GA="_mainContent_1641l_1396",$A="_chatHeaderBar_1641l_1419",YA="_headerLeft_1641l_1434",XA="_headerAvatar_1641l_1441",KA="_headerStatus_1641l_1493",WA="_online_1641l_548",QA="_messageGroup_1641l_1513",ZA="_ownMessage_1641l_1521",JA="_messageBubble_1641l_1525",eE="_otherMessage_1641l_1531",tE="_senderAvatar_1641l_1546",nE="_senderName_1641l_1584",aE="_messageContent_1641l_1592",iE="_messageTime_1641l_1599",sE="_attachment_1641l_1607",oE="_reactionsContainer_1641l_1626",rE="_reaction_1641l_1626",lE="_inputField_1641l_1663",cE="_emojiButton_1641l_1700",uE="_attachButton_1641l_1701",dE="_rightPanel_1641l_1731",fE="_chatInfoPanel_1641l_1772",pE="_chatInfoHeader_1641l_1779",hE="_chatInfoAvatar_1641l_1789",mE="_chatInfoName_1641l_1810",gE="_chatInfoType_1641l_1821",yE="_editChatButton_1641l_1831",vE="_infoContent_1641l_1850",xE="_infoSection_1641l_1856",bE="_infoLabel_1641l_1860",SE="_memberList_1641l_1873",_E="_memberItem_1641l_1879",wE="_memberAvatar_1641l_1895",CE="_memberInfo_1641l_1916",TE="_memberName_1641l_1921",AE="_memberRole_1641l_1934",EE="_memberStatus_1641l_1944",jE="_emptyScreen_1641l_1954",ME="_emptyIcon_1641l_1964",RE="_emptyActions_1641l_1991",DE="_actionButton_1641l_1997",kE="_userSection_1641l_2020",zE="_userAvatar_1641l_2040",NE="_userInfo_1641l_2061",OE="_username_1641l_2066",UE="_userStatus_1641l_2080",BE="_logoutButton_1641l_2090",LE="_hidden_1641l_2122",VE="_truncate_1641l_2126",IE="_mobileMenuButton_1641l_2133",PE="_mobileOverlay_1641l_2138",HE="_mobileOpen_1641l_2190",FE="_borderGlow_1641l_1",qE="_chatItemHoverGlow_1641l_1",GE="_buttonPulse_1641l_1",$E="_inputFocusGlow_1641l_1",YE="_subtleFloat_1641l_1",XE="_messageSlideIn_1641l_1",KE="_shimmer_1641l_1",z={dashboard:bT,gradientFlow:ST,darkMode:_T,leftPanel:wT,panelGlow:CT,panelHeader:TT,title:AT,menuButton:ET,searchBar:jT,searchInput:MT,searchResults:RT,slideDown:DT,searchResultItem:kT,searchResultAvatar:zT,searchResultInfo:NT,searchResultName:OT,searchResultType:UT,searchResultTypeIcon:BT,searchLoading:LT,searchNoResults:VT,chatList:IT,emptyState:PT,loading:HT,chatItem:FT,active:qT,chatAvatar:GT,avatarFallback:$T,onlineIndicator:YT,chatInfo:XT,chatHeader:KT,chatNameWithType:WT,headerRight:QT,chatName:ZT,chatTypeIcon:JT,iconDm:eA,iconGroup:tA,iconChannel:nA,timestamp:aA,chatPreview:iA,unreadBadge:sA,unreadPulse:oA,chatHeader2:rA,headerInfo:lA,headerTitle:cA,chatTitle:uA,headerChatType:dA,headerActions:fA,headerButton:pA,messagesContainer:hA,noMessages:mA,welcomeScreen:gA,welcomeIcon:yA,welcomeText:vA,welcomeSubtext:xA,inputArea:bA,inputWrapper:SA,messageInput:_A,sendButton:wA,modalOverlay:CA,modalFadeIn:TA,modal:AA,modalSlideUp:EA,modalHeader:jA,closeButton:MA,modalBody:RA,modalFooter:DA,formGroup:kA,formInput:zA,primaryButton:NA,secondaryButton:OA,profileContent:UA,profileInfo:BA,avatarSection:LA,largeAvatar:VA,profileField:IA,loadingState:PA,menuDropdown:HA,menuItem:FA,menuDivider:qA,mainContent:GA,chatHeaderBar:$A,headerLeft:YA,headerAvatar:XA,headerStatus:KA,online:WA,messageGroup:QA,ownMessage:ZA,messageBubble:JA,otherMessage:eE,senderAvatar:tE,senderName:nE,messageContent:aE,messageTime:iE,attachment:sE,reactionsContainer:oE,reaction:rE,inputField:lE,emojiButton:cE,attachButton:uE,rightPanel:dE,chatInfoPanel:fE,chatInfoHeader:pE,chatInfoAvatar:hE,chatInfoName:mE,chatInfoType:gE,editChatButton:yE,infoContent:vE,infoSection:xE,infoLabel:bE,memberList:SE,memberItem:_E,memberAvatar:wE,memberInfo:CE,memberName:TE,memberRole:AE,memberStatus:EE,emptyScreen:jE,emptyIcon:ME,emptyActions:RE,actionButton:DE,userSection:kE,userAvatar:zE,userInfo:NE,username:OE,userStatus:UE,logoutButton:BE,hidden:LE,truncate:VE,mobileMenuButton:IE,mobileOverlay:PE,mobileOpen:HE,borderGlow:FE,chatItemHoverGlow:qE,buttonPulse:GE,inputFocusGlow:$E,subtleFloat:YE,messageSlideIn:XE,shimmer:KE},Qo={getCurrentUser:async()=>{const n=await be.get("/users/me"),a=n.data?.data||n.data;return mf(a)},updateProfile:async n=>(await be.put("/users/me",n,{headers:{"Content-Type":"multipart/form-data"}}),Qo.getCurrentUser()),searchUsers:async n=>{const a=await be.get(`/users/search/${encodeURIComponent(n)}`),s=a.data?.data||a.data;return Nd(s)},getUserProfile:async n=>{const a=await be.get(`/users/${n}`),s=a.data?.data||a.data;return mf(s)},updateLastSeen:async()=>{const n=await be.put("/users/last-seen");return n.data?.data||n.data},getAllUsers:async()=>{const n=await be.get("/users"),a=n.data?.data||n.data;return Nd(a)},deleteUser:async n=>{const a=await be.delete(`/users/${n}`);return a.data?.data||a.data},blockUser:async n=>{const a=await be.post(`/users/block/${n}`);return a.data?.data||a.data},unblockUser:async n=>{const a=await be.post(`/users/unblock/${n}`);return a.data?.data||a.data},getBlockedUsers:async()=>{const n=await be.get("/users/blocked"),a=n.data?.data||n.data;return Nd(a)}},Ja=Object.freeze(Object.defineProperty({__proto__:null,userService:Qo},Symbol.toStringTag,{value:"Module"})),WE="_container_nzeaj_52",QE="_toast_nzeaj_64",ZE="_slideIn_nzeaj_1",JE="_glowPulse_nzeaj_1",ej="_exit_nzeaj_84",tj="_slideOut_nzeaj_1",nj="_success_nzeaj_89",aj="_error_nzeaj_97",ij="_warning_nzeaj_105",sj="_info_nzeaj_113",oj="_iconWrapper_nzeaj_120",rj="_iconBounce_nzeaj_1",lj="_message_nzeaj_134",cj="_closeBtn_nzeaj_143",uj="_progressBar_nzeaj_168",dj="_progressShrink_nzeaj_1",Ci={container:WE,toast:QE,slideIn:ZE,glowPulse:JE,exit:ej,slideOut:tj,success:nj,error:aj,warning:ij,info:sj,iconWrapper:oj,iconBounce:rj,message:lj,closeBtn:cj,progressBar:uj,progressShrink:dj},fj=({toast:n,onClose:a})=>{const[s,o]=C.useState(!1);C.useEffect(()=>{const d=n.duration||4e3,p=setTimeout(()=>{o(!0)},d-300),m=setTimeout(()=>{a(n.id)},d);return()=>{clearTimeout(p),clearTimeout(m)}},[n.id,n.duration,a]);const l=()=>{o(!0),setTimeout(()=>a(n.id),300)},u=()=>{switch(n.type){case"success":return h.jsx(j_,{size:22});case"error":return h.jsx(E_,{size:22});case"warning":return h.jsx(zs,{size:22});case"info":return h.jsx(A_,{size:22})}};return h.jsxs("div",{className:`${Ci.toast} ${Ci[n.type]} ${s?Ci.exit:""}`,children:[h.jsx("div",{className:Ci.iconWrapper,children:u()}),h.jsx("span",{className:Ci.message,children:n.message}),h.jsx("button",{onClick:l,style:{background:"rgba(255, 255, 255, 0.15)",border:"none",borderRadius:"6px",color:"#ffffff",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"8px"},children:h.jsx(Oi,{size:16,strokeWidth:3})}),h.jsx("div",{className:Ci.progressBar,style:{animationDuration:`${n.duration||4e3}ms`}})]})},pj=({toasts:n,onClose:a})=>h.jsx("div",{className:Ci.container,children:n.map(s=>h.jsx(fj,{toast:s,onClose:a},s.id))});class hj{toasts=[];listeners=[];subscribe(a){return this.listeners.push(a),()=>{this.listeners=this.listeners.filter(s=>s!==a)}}notify(){this.listeners.forEach(a=>a([...this.toasts]))}show(a,s,o){const l=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u={id:l,type:a,message:s,duration:o};return this.toasts.push(u),this.notify(),l}success(a,s){return this.show("success",a,s)}error(a,s){return this.show("error",a,s||5e3)}warning(a,s){return this.show("warning",a,s)}info(a,s){return this.show("info",a,s)}remove(a){this.toasts=this.toasts.filter(s=>s.id!==a),this.notify()}getToasts(){return[...this.toasts]}}const As=new hj,Oe={success:(n,a)=>As.success(n,a),error:(n,a)=>As.error(n,a),warning:(n,a)=>As.warning(n,a),info:(n,a)=>As.info(n,a)},Xf=C.createContext({});function Kf(n){const a=C.useRef(null);return a.current===null&&(a.current=n()),a.current}const Wf=typeof window<"u",hb=Wf?C.useLayoutEffect:C.useEffect,dc=C.createContext(null);function Qf(n,a){n.indexOf(a)===-1&&n.push(a)}function Zf(n,a){const s=n.indexOf(a);s>-1&&n.splice(s,1)}const Ta=(n,a,s)=>s>a?a:s<n?n:s;let Jf=()=>{};const Aa={},mb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function gb(n){return typeof n=="object"&&n!==null}const yb=n=>/^0[^.\s]+$/u.test(n);function ep(n){let a;return()=>(a===void 0&&(a=n()),a)}const Vn=n=>n,mj=(n,a)=>s=>a(n(s)),fr=(...n)=>n.reduce(mj),Zo=(n,a,s)=>{const o=a-n;return o===0?1:(s-n)/o};class tp{constructor(){this.subscriptions=[]}add(a){return Qf(this.subscriptions,a),()=>Zf(this.subscriptions,a)}notify(a,s,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](a,s,o);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(a,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ia=n=>n*1e3,Ln=n=>n/1e3;function vb(n,a){return a?n*(1e3/a):0}const xb=(n,a,s)=>(((1-3*s+3*a)*n+(3*s-6*a))*n+3*a)*n,gj=1e-7,yj=12;function vj(n,a,s,o,l){let u,d,p=0;do d=a+(s-a)/2,u=xb(d,o,l)-n,u>0?s=d:a=d;while(Math.abs(u)>gj&&++p<yj);return d}function pr(n,a,s,o){if(n===a&&s===o)return Vn;const l=u=>vj(u,0,1,n,s);return u=>u===0||u===1?u:xb(l(u),a,o)}const bb=n=>a=>a<=.5?n(2*a)/2:(2-n(2*(1-a)))/2,Sb=n=>a=>1-n(1-a),_b=pr(.33,1.53,.69,.99),np=Sb(_b),wb=bb(np),Cb=n=>(n*=2)<1?.5*np(n):.5*(2-Math.pow(2,-10*(n-1))),ap=n=>1-Math.sin(Math.acos(n)),Tb=Sb(ap),Ab=bb(ap),xj=pr(.42,0,1,1),bj=pr(0,0,.58,1),Eb=pr(.42,0,.58,1),Sj=n=>Array.isArray(n)&&typeof n[0]!="number",jb=n=>Array.isArray(n)&&typeof n[0]=="number",_j={linear:Vn,easeIn:xj,easeInOut:Eb,easeOut:bj,circIn:ap,circInOut:Ab,circOut:Tb,backIn:np,backInOut:wb,backOut:_b,anticipate:Cb},wj=n=>typeof n=="string",tv=n=>{if(jb(n)){Jf(n.length===4);const[a,s,o,l]=n;return pr(a,s,o,l)}else if(wj(n))return _j[n];return n},Rl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Cj(n,a){let s=new Set,o=new Set,l=!1,u=!1;const d=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function m(y){d.has(y)&&(v.schedule(y),n()),y(p)}const v={schedule:(y,x=!1,S=!1)=>{const _=S&&l?s:o;return x&&d.add(y),_.has(y)||_.add(y),y},cancel:y=>{o.delete(y),d.delete(y)},process:y=>{if(p=y,l){u=!0;return}l=!0,[s,o]=[o,s],s.forEach(m),s.clear(),l=!1,u&&(u=!1,v.process(y))}};return v}const Tj=40;function Mb(n,a){let s=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=Rl.reduce((N,Y)=>(N[Y]=Cj(u),N),{}),{setup:p,read:m,resolveKeyframes:v,preUpdate:y,update:x,preRender:S,render:T,postRender:_}=d,j=()=>{const N=Aa.useManualTiming?l.timestamp:performance.now();s=!1,Aa.useManualTiming||(l.delta=o?1e3/60:Math.max(Math.min(N-l.timestamp,Tj),1)),l.timestamp=N,l.isProcessing=!0,p.process(l),m.process(l),v.process(l),y.process(l),x.process(l),S.process(l),T.process(l),_.process(l),l.isProcessing=!1,s&&a&&(o=!1,n(j))},R=()=>{s=!0,o=!0,l.isProcessing||n(j)};return{schedule:Rl.reduce((N,Y)=>{const $=d[Y];return N[Y]=(ae,J=!1,ie=!1)=>(s||R(),$.schedule(ae,J,ie)),N},{}),cancel:N=>{for(let Y=0;Y<Rl.length;Y++)d[Rl[Y]].cancel(N)},state:l,steps:d}}const{schedule:ft,cancel:ei,state:Kt,steps:Ud}=Mb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let Il;function Aj(){Il=void 0}const pn={now:()=>(Il===void 0&&pn.set(Kt.isProcessing||Aa.useManualTiming?Kt.timestamp:performance.now()),Il),set:n=>{Il=n,queueMicrotask(Aj)}},Rb=n=>a=>typeof a=="string"&&a.startsWith(n),Db=Rb("--"),Ej=Rb("var(--"),ip=n=>Ej(n)?jj.test(n.split("/*")[0].trim()):!1,jj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ps={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Jo={...Ps,transform:n=>Ta(0,1,n)},Dl={...Ps,default:1},Yo=n=>Math.round(n*1e5)/1e5,sp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mj(n){return n==null}const Rj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,op=(n,a)=>s=>!!(typeof s=="string"&&Rj.test(s)&&s.startsWith(n)||a&&!Mj(s)&&Object.prototype.hasOwnProperty.call(s,a)),kb=(n,a,s)=>o=>{if(typeof o!="string")return o;const[l,u,d,p]=o.match(sp);return{[n]:parseFloat(l),[a]:parseFloat(u),[s]:parseFloat(d),alpha:p!==void 0?parseFloat(p):1}},Dj=n=>Ta(0,255,n),Bd={...Ps,transform:n=>Math.round(Dj(n))},ji={test:op("rgb","red"),parse:kb("red","green","blue"),transform:({red:n,green:a,blue:s,alpha:o=1})=>"rgba("+Bd.transform(n)+", "+Bd.transform(a)+", "+Bd.transform(s)+", "+Yo(Jo.transform(o))+")"};function kj(n){let a="",s="",o="",l="";return n.length>5?(a=n.substring(1,3),s=n.substring(3,5),o=n.substring(5,7),l=n.substring(7,9)):(a=n.substring(1,2),s=n.substring(2,3),o=n.substring(3,4),l=n.substring(4,5),a+=a,s+=s,o+=o,l+=l),{red:parseInt(a,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const yf={test:op("#"),parse:kj,transform:ji.transform},hr=n=>({test:a=>typeof a=="string"&&a.endsWith(n)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${n}`}),Za=hr("deg"),sa=hr("%"),ye=hr("px"),zj=hr("vh"),Nj=hr("vw"),nv={...sa,parse:n=>sa.parse(n)/100,transform:n=>sa.transform(n*100)},Es={test:op("hsl","hue"),parse:kb("hue","saturation","lightness"),transform:({hue:n,saturation:a,lightness:s,alpha:o=1})=>"hsla("+Math.round(n)+", "+sa.transform(Yo(a))+", "+sa.transform(Yo(s))+", "+Yo(Jo.transform(o))+")"},Ot={test:n=>ji.test(n)||yf.test(n)||Es.test(n),parse:n=>ji.test(n)?ji.parse(n):Es.test(n)?Es.parse(n):yf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ji.transform(n):Es.transform(n),getAnimatableNone:n=>{const a=Ot.parse(n);return a.alpha=0,Ot.transform(a)}},Oj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Uj(n){return isNaN(n)&&typeof n=="string"&&(n.match(sp)?.length||0)+(n.match(Oj)?.length||0)>0}const zb="number",Nb="color",Bj="var",Lj="var(",av="${}",Vj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function er(n){const a=n.toString(),s=[],o={color:[],number:[],var:[]},l=[];let u=0;const p=a.replace(Vj,m=>(Ot.test(m)?(o.color.push(u),l.push(Nb),s.push(Ot.parse(m))):m.startsWith(Lj)?(o.var.push(u),l.push(Bj),s.push(m)):(o.number.push(u),l.push(zb),s.push(parseFloat(m))),++u,av)).split(av);return{values:s,split:p,indexes:o,types:l}}function Ob(n){return er(n).values}function Ub(n){const{split:a,types:s}=er(n),o=a.length;return l=>{let u="";for(let d=0;d<o;d++)if(u+=a[d],l[d]!==void 0){const p=s[d];p===zb?u+=Yo(l[d]):p===Nb?u+=Ot.transform(l[d]):u+=l[d]}return u}}const Ij=n=>typeof n=="number"?0:Ot.test(n)?Ot.getAnimatableNone(n):n;function Pj(n){const a=Ob(n);return Ub(n)(a.map(Ij))}const ti={test:Uj,parse:Ob,createTransformer:Ub,getAnimatableNone:Pj};function Ld(n,a,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(a-n)*6*s:s<1/2?a:s<2/3?n+(a-n)*(2/3-s)*6:n}function Hj({hue:n,saturation:a,lightness:s,alpha:o}){n/=360,a/=100,s/=100;let l=0,u=0,d=0;if(!a)l=u=d=s;else{const p=s<.5?s*(1+a):s+a-s*a,m=2*s-p;l=Ld(m,p,n+1/3),u=Ld(m,p,n),d=Ld(m,p,n-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:o}}function Kl(n,a){return s=>s>0?a:n}const vt=(n,a,s)=>n+(a-n)*s,Vd=(n,a,s)=>{const o=n*n,l=s*(a*a-o)+o;return l<0?0:Math.sqrt(l)},Fj=[yf,ji,Es],qj=n=>Fj.find(a=>a.test(n));function iv(n){const a=qj(n);if(!a)return!1;let s=a.parse(n);return a===Es&&(s=Hj(s)),s}const sv=(n,a)=>{const s=iv(n),o=iv(a);if(!s||!o)return Kl(n,a);const l={...s};return u=>(l.red=Vd(s.red,o.red,u),l.green=Vd(s.green,o.green,u),l.blue=Vd(s.blue,o.blue,u),l.alpha=vt(s.alpha,o.alpha,u),ji.transform(l))},vf=new Set(["none","hidden"]);function Gj(n,a){return vf.has(n)?s=>s<=0?n:a:s=>s>=1?a:n}function $j(n,a){return s=>vt(n,a,s)}function rp(n){return typeof n=="number"?$j:typeof n=="string"?ip(n)?Kl:Ot.test(n)?sv:Kj:Array.isArray(n)?Bb:typeof n=="object"?Ot.test(n)?sv:Yj:Kl}function Bb(n,a){const s=[...n],o=s.length,l=n.map((u,d)=>rp(u)(u,a[d]));return u=>{for(let d=0;d<o;d++)s[d]=l[d](u);return s}}function Yj(n,a){const s={...n,...a},o={};for(const l in s)n[l]!==void 0&&a[l]!==void 0&&(o[l]=rp(n[l])(n[l],a[l]));return l=>{for(const u in o)s[u]=o[u](l);return s}}function Xj(n,a){const s=[],o={color:0,var:0,number:0};for(let l=0;l<a.values.length;l++){const u=a.types[l],d=n.indexes[u][o[u]],p=n.values[d]??0;s[l]=p,o[u]++}return s}const Kj=(n,a)=>{const s=ti.createTransformer(a),o=er(n),l=er(a);return o.indexes.var.length===l.indexes.var.length&&o.indexes.color.length===l.indexes.color.length&&o.indexes.number.length>=l.indexes.number.length?vf.has(n)&&!l.values.length||vf.has(a)&&!o.values.length?Gj(n,a):fr(Bb(Xj(o,l),l.values),s):Kl(n,a)};function Lb(n,a,s){return typeof n=="number"&&typeof a=="number"&&typeof s=="number"?vt(n,a,s):rp(n)(n,a)}const Wj=n=>{const a=({timestamp:s})=>n(s);return{start:(s=!0)=>ft.update(a,s),stop:()=>ei(a),now:()=>Kt.isProcessing?Kt.timestamp:pn.now()}},Vb=(n,a,s=10)=>{let o="";const l=Math.max(Math.round(a/s),2);for(let u=0;u<l;u++)o+=Math.round(n(u/(l-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Wl=2e4;function lp(n){let a=0;const s=50;let o=n.next(a);for(;!o.done&&a<Wl;)a+=s,o=n.next(a);return a>=Wl?1/0:a}function Qj(n,a=100,s){const o=s({...n,keyframes:[0,a]}),l=Math.min(lp(o),Wl);return{type:"keyframes",ease:u=>o.next(l*u).value/a,duration:Ln(l)}}const Zj=5;function Ib(n,a,s){const o=Math.max(a-Zj,0);return vb(s-n(o),a-o)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Id=.001;function Jj({duration:n=wt.duration,bounce:a=wt.bounce,velocity:s=wt.velocity,mass:o=wt.mass}){let l,u,d=1-a;d=Ta(wt.minDamping,wt.maxDamping,d),n=Ta(wt.minDuration,wt.maxDuration,Ln(n)),d<1?(l=v=>{const y=v*d,x=y*n,S=y-s,T=xf(v,d),_=Math.exp(-x);return Id-S/T*_},u=v=>{const x=v*d*n,S=x*s+s,T=Math.pow(d,2)*Math.pow(v,2)*n,_=Math.exp(-x),j=xf(Math.pow(v,2),d);return(-l(v)+Id>0?-1:1)*((S-T)*_)/j}):(l=v=>{const y=Math.exp(-v*n),x=(v-s)*n+1;return-Id+y*x},u=v=>{const y=Math.exp(-v*n),x=(s-v)*(n*n);return y*x});const p=5/n,m=t2(l,u,p);if(n=ia(n),isNaN(m))return{stiffness:wt.stiffness,damping:wt.damping,duration:n};{const v=Math.pow(m,2)*o;return{stiffness:v,damping:d*2*Math.sqrt(o*v),duration:n}}}const e2=12;function t2(n,a,s){let o=s;for(let l=1;l<e2;l++)o=o-n(o)/a(o);return o}function xf(n,a){return n*Math.sqrt(1-a*a)}const n2=["duration","bounce"],a2=["stiffness","damping","mass"];function ov(n,a){return a.some(s=>n[s]!==void 0)}function i2(n){let a={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...n};if(!ov(n,a2)&&ov(n,n2))if(n.visualDuration){const s=n.visualDuration,o=2*Math.PI/(s*1.2),l=o*o,u=2*Ta(.05,1,1-(n.bounce||0))*Math.sqrt(l);a={...a,mass:wt.mass,stiffness:l,damping:u}}else{const s=Jj(n);a={...a,...s,mass:wt.mass},a.isResolvedFromDuration=!0}return a}function Ql(n=wt.visualDuration,a=wt.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:a}:n;let{restSpeed:o,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],p={done:!1,value:u},{stiffness:m,damping:v,mass:y,duration:x,velocity:S,isResolvedFromDuration:T}=i2({...s,velocity:-Ln(s.velocity||0)}),_=S||0,j=v/(2*Math.sqrt(m*y)),R=d-u,E=Ln(Math.sqrt(m/y)),H=Math.abs(R)<5;o||(o=H?wt.restSpeed.granular:wt.restSpeed.default),l||(l=H?wt.restDelta.granular:wt.restDelta.default);let N;if(j<1){const $=xf(E,j);N=ae=>{const J=Math.exp(-j*E*ae);return d-J*((_+j*E*R)/$*Math.sin($*ae)+R*Math.cos($*ae))}}else if(j===1)N=$=>d-Math.exp(-E*$)*(R+(_+E*R)*$);else{const $=E*Math.sqrt(j*j-1);N=ae=>{const J=Math.exp(-j*E*ae),ie=Math.min($*ae,300);return d-J*((_+j*E*R)*Math.sinh(ie)+$*R*Math.cosh(ie))/$}}const Y={calculatedDuration:T&&x||null,next:$=>{const ae=N($);if(T)p.done=$>=x;else{let J=$===0?_:0;j<1&&(J=$===0?ia(_):Ib(N,$,ae));const ie=Math.abs(J)<=o,ve=Math.abs(d-ae)<=l;p.done=ie&&ve}return p.value=p.done?d:ae,p},toString:()=>{const $=Math.min(lp(Y),Wl),ae=Vb(J=>Y.next($*J).value,$,30);return $+"ms "+ae},toTransition:()=>{}};return Y}Ql.applyToOptions=n=>{const a=Qj(n,100,Ql);return n.ease=a.ease,n.duration=ia(a.duration),n.type="keyframes",n};function bf({keyframes:n,velocity:a=0,power:s=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:p,max:m,restDelta:v=.5,restSpeed:y}){const x=n[0],S={done:!1,value:x},T=ie=>p!==void 0&&ie<p||m!==void 0&&ie>m,_=ie=>p===void 0?m:m===void 0||Math.abs(p-ie)<Math.abs(m-ie)?p:m;let j=s*a;const R=x+j,E=d===void 0?R:d(R);E!==R&&(j=E-x);const H=ie=>-j*Math.exp(-ie/o),N=ie=>E+H(ie),Y=ie=>{const ve=H(ie),ce=N(ie);S.done=Math.abs(ve)<=v,S.value=S.done?E:ce};let $,ae;const J=ie=>{T(S.value)&&($=ie,ae=Ql({keyframes:[S.value,_(S.value)],velocity:Ib(N,ie,S.value),damping:l,stiffness:u,restDelta:v,restSpeed:y}))};return J(0),{calculatedDuration:null,next:ie=>{let ve=!1;return!ae&&$===void 0&&(ve=!0,Y(ie),J(ie)),$!==void 0&&ie>=$?ae.next(ie-$):(!ve&&Y(ie),S)}}}function s2(n,a,s){const o=[],l=s||Aa.mix||Lb,u=n.length-1;for(let d=0;d<u;d++){let p=l(n[d],n[d+1]);if(a){const m=Array.isArray(a)?a[d]||Vn:a;p=fr(m,p)}o.push(p)}return o}function o2(n,a,{clamp:s=!0,ease:o,mixer:l}={}){const u=n.length;if(Jf(u===a.length),u===1)return()=>a[0];if(u===2&&a[0]===a[1])return()=>a[1];const d=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),a=[...a].reverse());const p=s2(a,o,l),m=p.length,v=y=>{if(d&&y<n[0])return a[0];let x=0;if(m>1)for(;x<n.length-2&&!(y<n[x+1]);x++);const S=Zo(n[x],n[x+1],y);return p[x](S)};return s?y=>v(Ta(n[0],n[u-1],y)):v}function r2(n,a){const s=n[n.length-1];for(let o=1;o<=a;o++){const l=Zo(0,a,o);n.push(vt(s,1,l))}}function l2(n){const a=[0];return r2(a,n.length-1),a}function c2(n,a){return n.map(s=>s*a)}function u2(n,a){return n.map(()=>a||Eb).splice(0,n.length-1)}function Xo({duration:n=300,keyframes:a,times:s,ease:o="easeInOut"}){const l=Sj(o)?o.map(tv):tv(o),u={done:!1,value:a[0]},d=c2(s&&s.length===a.length?s:l2(a),n),p=o2(d,a,{ease:Array.isArray(l)?l:u2(a,l)});return{calculatedDuration:n,next:m=>(u.value=p(m),u.done=m>=n,u)}}const d2=n=>n!==null;function cp(n,{repeat:a,repeatType:s="loop"},o,l=1){const u=n.filter(d2),p=l<0||a&&s!=="loop"&&a%2===1?0:u.length-1;return!p||o===void 0?u[p]:o}const f2={decay:bf,inertia:bf,tween:Xo,keyframes:Xo,spring:Ql};function Pb(n){typeof n.type=="string"&&(n.type=f2[n.type])}class up{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,s){return this.finished.then(a,s)}}const p2=n=>n/100;class dp extends up{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=a,this.initAnimation(),this.play(),a.autoplay===!1&&this.pause()}initAnimation(){const{options:a}=this;Pb(a);const{type:s=Xo,repeat:o=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=a;let{keyframes:p}=a;const m=s||Xo;m!==Xo&&typeof p[0]!="number"&&(this.mixKeyframes=fr(p2,Lb(p[0],p[1])),p=[0,100]);const v=m({...a,keyframes:p});u==="mirror"&&(this.mirroredGenerator=m({...a,keyframes:[...p].reverse(),velocity:-d})),v.calculatedDuration===null&&(v.calculatedDuration=lp(v));const{calculatedDuration:y}=v;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(o+1)-l,this.generator=v}updateTime(a){const s=Math.round(a-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(a,s=!1){const{generator:o,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:p,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:v=0,keyframes:y,repeat:x,repeatType:S,repeatDelay:T,type:_,onUpdate:j,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-l/this.speed,this.startTime)),s?this.currentTime=a:this.updateTime(a);const E=this.currentTime-v*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?E<0:E>l;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,Y=o;if(x){const ie=Math.min(this.currentTime,l)/p;let ve=Math.floor(ie),ce=ie%1;!ce&&ie>=1&&(ce=1),ce===1&&ve--,ve=Math.min(ve,x+1),!!(ve%2)&&(S==="reverse"?(ce=1-ce,T&&(ce-=T/p)):S==="mirror"&&(Y=d)),N=Ta(0,1,ce)*p}const $=H?{done:!1,value:y[0]}:Y.next(N);u&&($.value=u($.value));let{done:ae}=$;!H&&m!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const J=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return J&&_!==bf&&($.value=cp(y,this.options,R,this.speed)),j&&j($.value),J&&this.finish(),$}then(a,s){return this.finished.then(a,s)}get duration(){return Ln(this.calculatedDuration)}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+Ln(a)}get time(){return Ln(this.currentTime)}set time(a){a=ia(a),this.currentTime=a,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(pn.now());const s=this.playbackSpeed!==a;this.playbackSpeed=a,s&&(this.time=Ln(this.currentTime))}play(){if(this.isStopped)return;const{driver:a=Wj,startTime:s}=this.options;this.driver||(this.driver=a(l=>this.tick(l))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),a.observe(this)}}function h2(n){for(let a=1;a<n.length;a++)n[a]??(n[a]=n[a-1])}const Mi=n=>n*180/Math.PI,Sf=n=>{const a=Mi(Math.atan2(n[1],n[0]));return _f(a)},m2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Sf,rotateZ:Sf,skewX:n=>Mi(Math.atan(n[1])),skewY:n=>Mi(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},_f=n=>(n=n%360,n<0&&(n+=360),n),rv=Sf,lv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cv=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),g2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lv,scaleY:cv,scale:n=>(lv(n)+cv(n))/2,rotateX:n=>_f(Mi(Math.atan2(n[6],n[5]))),rotateY:n=>_f(Mi(Math.atan2(-n[2],n[0]))),rotateZ:rv,rotate:rv,skewX:n=>Mi(Math.atan(n[4])),skewY:n=>Mi(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function wf(n){return n.includes("scale")?1:0}function Cf(n,a){if(!n||n==="none")return wf(a);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,l;if(s)o=g2,l=s;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=m2,l=p}if(!l)return wf(a);const u=o[a],d=l[1].split(",").map(v2);return typeof u=="function"?u(d):d[u]}const y2=(n,a)=>{const{transform:s="none"}=getComputedStyle(n);return Cf(s,a)};function v2(n){return parseFloat(n.trim())}const Hs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fs=new Set(Hs),uv=n=>n===Ps||n===ye,x2=new Set(["x","y","z"]),b2=Hs.filter(n=>!x2.has(n));function S2(n){const a=[];return b2.forEach(s=>{const o=n.getValue(s);o!==void 0&&(a.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),a}const Di={width:({x:n},{paddingLeft:a="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(a)-parseFloat(s),height:({y:n},{paddingTop:a="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(a)-parseFloat(s),top:(n,{top:a})=>parseFloat(a),left:(n,{left:a})=>parseFloat(a),bottom:({y:n},{top:a})=>parseFloat(a)+(n.max-n.min),right:({x:n},{left:a})=>parseFloat(a)+(n.max-n.min),x:(n,{transform:a})=>Cf(a,"x"),y:(n,{transform:a})=>Cf(a,"y")};Di.translateX=Di.x;Di.translateY=Di.y;const ki=new Set;let Tf=!1,Af=!1,Ef=!1;function Hb(){if(Af){const n=Array.from(ki).filter(o=>o.needsMeasurement),a=new Set(n.map(o=>o.element)),s=new Map;a.forEach(o=>{const l=S2(o);l.length&&(s.set(o,l),o.render())}),n.forEach(o=>o.measureInitialState()),a.forEach(o=>{o.render();const l=s.get(o);l&&l.forEach(([u,d])=>{o.getValue(u)?.set(d)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Af=!1,Tf=!1,ki.forEach(n=>n.complete(Ef)),ki.clear()}function Fb(){ki.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Af=!0)})}function _2(){Ef=!0,Fb(),Hb(),Ef=!1}class fp{constructor(a,s,o,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=s,this.name=o,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(ki.add(this),Tf||(Tf=!0,ft.read(Fb),ft.resolveKeyframes(Hb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:s,element:o,motionValue:l}=this;if(a[0]===null){const u=l?.get(),d=a[a.length-1];if(u!==void 0)a[0]=u;else if(o&&s){const p=o.readValue(s,d);p!=null&&(a[0]=p)}a[0]===void 0&&(a[0]=d),l&&u===void 0&&l.set(a[0])}h2(a)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),ki.delete(this)}cancel(){this.state==="scheduled"&&(ki.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const w2=n=>n.startsWith("--");function C2(n,a,s){w2(a)?n.style.setProperty(a,s):n.style[a]=s}const T2=ep(()=>window.ScrollTimeline!==void 0),A2={};function E2(n,a){const s=ep(n);return()=>A2[a]??s()}const qb=E2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qo=([n,a,s,o])=>`cubic-bezier(${n}, ${a}, ${s}, ${o})`,dv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qo([0,.65,.55,1]),circOut:qo([.55,0,1,.45]),backIn:qo([.31,.01,.66,-.59]),backOut:qo([.33,1.53,.69,.99])};function Gb(n,a){if(n)return typeof n=="function"?qb()?Vb(n,a):"ease-out":jb(n)?qo(n):Array.isArray(n)?n.map(s=>Gb(s,a)||dv.easeOut):dv[n]}function j2(n,a,s,{delay:o=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:p="easeOut",times:m}={},v=void 0){const y={[a]:s};m&&(y.offset=m);const x=Gb(p,l);Array.isArray(x)&&(y.easing=x);const S={delay:o,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return v&&(S.pseudoElement=v),n.animate(y,S)}function $b(n){return typeof n=="function"&&"applyToOptions"in n}function M2({type:n,...a}){return $b(n)&&qb()?n.applyToOptions(a):(a.duration??(a.duration=300),a.ease??(a.ease="easeOut"),a)}class R2 extends up{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,!a)return;const{element:s,name:o,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:p,onComplete:m}=a;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=a,Jf(typeof a.type!="string");const v=M2(a);this.animation=j2(s,o,l,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=cp(l,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(y):C2(s,o,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:a}=this;a==="idle"||a==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const a=this.animation.effect?.getComputedTiming?.().duration||0;return Ln(Number(a))}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+Ln(a)}get time(){return Ln(Number(this.animation.currentTime)||0)}set time(a){this.finishedTime=null,this.animation.currentTime=ia(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(a){this.animation.startTime=a}attachTimeline({timeline:a,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,a&&T2()?(this.animation.timeline=a,Vn):s(this)}}const Yb={anticipate:Cb,backInOut:wb,circInOut:Ab};function D2(n){return n in Yb}function k2(n){typeof n.ease=="string"&&D2(n.ease)&&(n.ease=Yb[n.ease])}const fv=10;class z2 extends R2{constructor(a){k2(a),Pb(a),super(a),a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){const{motionValue:s,onUpdate:o,onComplete:l,element:u,...d}=this.options;if(!s)return;if(a!==void 0){s.set(a);return}const p=new dp({...d,autoplay:!1}),m=ia(this.finishedTime??this.time);s.setWithVelocity(p.sample(m-fv).value,p.sample(m).value,fv),p.stop()}}const pv=(n,a)=>a==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ti.test(n)||n==="0")&&!n.startsWith("url("));function N2(n){const a=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==a)return!0}function O2(n,a,s,o){const l=n[0];if(l===null)return!1;if(a==="display"||a==="visibility")return!0;const u=n[n.length-1],d=pv(l,a),p=pv(u,a);return!d||!p?!1:N2(n)||(s==="spring"||$b(s))&&o}function jf(n){n.duration=0,n.type="keyframes"}const U2=new Set(["opacity","clipPath","filter","transform"]),B2=ep(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L2(n){const{motionValue:a,name:s,repeatDelay:o,repeatType:l,damping:u,type:d}=n;if(!(a?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:v}=a.owner.getProps();return B2()&&s&&U2.has(s)&&(s!=="transform"||!v)&&!m&&!o&&l!=="mirror"&&u!==0&&d!=="inertia"}const V2=40;class I2 extends up{constructor({autoplay:a=!0,delay:s=0,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:p,name:m,motionValue:v,element:y,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pn.now();const S={autoplay:a,delay:s,type:o,repeat:l,repeatDelay:u,repeatType:d,name:m,motionValue:v,element:y,...x},T=y?.KeyframeResolver||fp;this.keyframeResolver=new T(p,(_,j,R)=>this.onKeyframesResolved(_,j,S,!R),m,v,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(a,s,o,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:p,delay:m,isHandoff:v,onUpdate:y}=o;this.resolvedAt=pn.now(),O2(a,u,d,p)||((Aa.instantAnimations||!m)&&y?.(cp(a,o,s)),a[0]=a[a.length-1],jf(o),o.repeat=0);const S={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>V2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:a},T=!v&&L2(S)?new z2({...S,element:S.motionValue.owner.current}):new dp(S);T.finished.then(()=>this.notifyFinished()).catch(Vn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(a,s){return this.finished.finally(a).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const P2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H2(n){const a=P2.exec(n);if(!a)return[,];const[,s,o,l]=a;return[`--${s??o}`,l]}function Xb(n,a,s=1){const[o,l]=H2(n);if(!o)return;const u=window.getComputedStyle(a).getPropertyValue(o);if(u){const d=u.trim();return mb(d)?parseFloat(d):d}return ip(l)?Xb(l,a,s+1):l}function pp(n,a){return n?.[a]??n?.default??n}const Kb=new Set(["width","height","top","left","right","bottom",...Hs]),F2={test:n=>n==="auto",parse:n=>n},Wb=n=>a=>a.test(n),Qb=[Ps,ye,sa,Za,Nj,zj,F2],hv=n=>Qb.find(Wb(n));function q2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||yb(n):!0}const G2=new Set(["brightness","contrast","saturate","opacity"]);function $2(n){const[a,s]=n.slice(0,-1).split("(");if(a==="drop-shadow")return n;const[o]=s.match(sp)||[];if(!o)return n;const l=s.replace(o,"");let u=G2.has(a)?1:0;return o!==s&&(u*=100),a+"("+u+l+")"}const Y2=/\b([a-z-]*)\(.*?\)/gu,Mf={...ti,getAnimatableNone:n=>{const a=n.match(Y2);return a?a.map($2).join(" "):n}},mv={...Ps,transform:Math.round},X2={rotate:Za,rotateX:Za,rotateY:Za,rotateZ:Za,scale:Dl,scaleX:Dl,scaleY:Dl,scaleZ:Dl,skew:Za,skewX:Za,skewY:Za,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Jo,originX:nv,originY:nv,originZ:ye},hp={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...X2,zIndex:mv,fillOpacity:Jo,strokeOpacity:Jo,numOctaves:mv},K2={...hp,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Mf,WebkitFilter:Mf},Zb=n=>K2[n];function Jb(n,a){let s=Zb(n);return s!==Mf&&(s=ti),s.getAnimatableNone?s.getAnimatableNone(a):void 0}const W2=new Set(["auto","none","0"]);function Q2(n,a,s){let o=0,l;for(;o<n.length&&!l;){const u=n[o];typeof u=="string"&&!W2.has(u)&&er(u).values.length&&(l=n[o]),o++}if(l&&s)for(const u of a)n[u]=Jb(s,l)}class Z2 extends fp{constructor(a,s,o,l,u){super(a,s,o,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<a.length;m++){let v=a[m];if(typeof v=="string"&&(v=v.trim(),ip(v))){const y=Xb(v,s.current);y!==void 0&&(a[m]=y),m===a.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!Kb.has(o)||a.length!==2)return;const[l,u]=a,d=hv(l),p=hv(u);if(d!==p)if(uv(d)&&uv(p))for(let m=0;m<a.length;m++){const v=a[m];typeof v=="string"&&(a[m]=parseFloat(v))}else Di[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:s}=this,o=[];for(let l=0;l<a.length;l++)(a[l]===null||q2(a[l]))&&o.push(l);o.length&&Q2(a,o,s)}measureInitialState(){const{element:a,unresolvedKeyframes:s,name:o}=this;if(!a||!a.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Di[o](a.measureViewportBox(),window.getComputedStyle(a.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&a.getValue(o,l).jump(l,!1)}measureEndState(){const{element:a,name:s,unresolvedKeyframes:o}=this;if(!a||!a.current)return;const l=a.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=Di[s](a.measureViewportBox(),window.getComputedStyle(a.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,m])=>{a.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function J2(n,a,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const l=s?.[n]??o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const e0=(n,a)=>a&&typeof n=="number"?a.transform(n):n;function t0(n){return gb(n)&&"offsetHeight"in n}const gv=30,eM=n=>!isNaN(parseFloat(n));class tM{constructor(a,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const l=pn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=s.owner}setCurrent(a){this.current=a,this.updatedAt=pn.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=eM(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,s){this.events[a]||(this.events[a]=new tp);const o=this.events[a].add(s);return a==="change"?()=>{o(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,s){this.passiveEffect=a,this.stopPassiveEffect=s}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-o}jump(a,s=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const a=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>gv)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,gv);return vb(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(a){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=a(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(n,a){return new tM(n,a)}const{schedule:mp}=Mb(queueMicrotask,!1),$n={x:!1,y:!1};function n0(){return $n.x||$n.y}function nM(n){return n==="x"||n==="y"?$n[n]?null:($n[n]=!0,()=>{$n[n]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}function a0(n,a){const s=J2(n),o=new AbortController,l={passive:!0,...a,signal:o.signal};return[s,l,()=>o.abort()]}function yv(n){return!(n.pointerType==="touch"||n0())}function aM(n,a,s={}){const[o,l,u]=a0(n,s),d=p=>{if(!yv(p))return;const{target:m}=p,v=a(m,p);if(typeof v!="function"||!m)return;const y=x=>{yv(x)&&(v(x),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,l)};return o.forEach(p=>{p.addEventListener("pointerenter",d,l)}),u}const i0=(n,a)=>a?n===a?!0:i0(n,a.parentElement):!1,gp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,iM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sM(n){return iM.has(n.tagName)||n.tabIndex!==-1}const Pl=new WeakSet;function vv(n){return a=>{a.key==="Enter"&&n(a)}}function Pd(n,a){n.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const oM=(n,a)=>{const s=n.currentTarget;if(!s)return;const o=vv(()=>{if(Pl.has(s))return;Pd(s,"down");const l=vv(()=>{Pd(s,"up")}),u=()=>Pd(s,"cancel");s.addEventListener("keyup",l,a),s.addEventListener("blur",u,a)});s.addEventListener("keydown",o,a),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),a)};function xv(n){return gp(n)&&!n0()}function rM(n,a,s={}){const[o,l,u]=a0(n,s),d=p=>{const m=p.currentTarget;if(!xv(p))return;Pl.add(m);const v=a(m,p),y=(T,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",S),Pl.has(m)&&Pl.delete(m),xv(T)&&typeof v=="function"&&v(T,{success:_})},x=T=>{y(T,m===window||m===document||s.useGlobalTarget||i0(m,T.target))},S=T=>{y(T,!1)};window.addEventListener("pointerup",x,l),window.addEventListener("pointercancel",S,l)};return o.forEach(p=>{(s.useGlobalTarget?window:p).addEventListener("pointerdown",d,l),t0(p)&&(p.addEventListener("focus",v=>oM(v,l)),!sM(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function s0(n){return gb(n)&&"ownerSVGElement"in n}function lM(n){return s0(n)&&n.tagName==="svg"}const Jt=n=>!!(n&&n.getVelocity),cM=[...Qb,Ot,ti],uM=n=>cM.find(Wb(n)),yp=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function bv(n,a){if(typeof n=="function")return n(a);n!=null&&(n.current=a)}function dM(...n){return a=>{let s=!1;const o=n.map(l=>{const u=bv(l,a);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<o.length;l++){const u=o[l];typeof u=="function"?u():bv(n[l],null)}}}}function fM(...n){return C.useCallback(dM(...n),n)}class pM extends C.Component{getSnapshotBeforeUpdate(a){const s=this.props.childRef.current;if(s&&a.isPresent&&!this.props.isPresent){const o=s.offsetParent,l=t0(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hM({children:n,isPresent:a,anchorX:s,root:o}){const l=C.useId(),u=C.useRef(null),d=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=C.useContext(yp),m=fM(u,n?.ref);return C.useInsertionEffect(()=>{const{width:v,height:y,top:x,left:S,right:T}=d.current;if(a||!u.current||!v||!y)return;const _=s==="left"?`left: ${S}`:`right: ${T}`;u.current.dataset.motionPopId=l;const j=document.createElement("style");p&&(j.nonce=p);const R=o??document.head;return R.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${y}px !important;
            ${_}px !important;
            top: ${x}px !important;
          }
        `),()=>{R.contains(j)&&R.removeChild(j)}},[a]),h.jsx(pM,{isPresent:a,childRef:u,sizeRef:d,children:C.cloneElement(n,{ref:m})})}const mM=({children:n,initial:a,isPresent:s,onExitComplete:o,custom:l,presenceAffectsLayout:u,mode:d,anchorX:p,root:m})=>{const v=Kf(gM),y=C.useId();let x=!0,S=C.useMemo(()=>(x=!1,{id:y,initial:a,isPresent:s,custom:l,onExitComplete:T=>{v.set(T,!0);for(const _ of v.values())if(!_)return;o&&o()},register:T=>(v.set(T,!1),()=>v.delete(T))}),[s,v,o]);return u&&x&&(S={...S}),C.useMemo(()=>{v.forEach((T,_)=>v.set(_,!1))},[s]),C.useEffect(()=>{!s&&!v.size&&o&&o()},[s]),d==="popLayout"&&(n=h.jsx(hM,{isPresent:s,anchorX:p,root:m,children:n})),h.jsx(dc.Provider,{value:S,children:n})};function gM(){return new Map}function o0(n=!0){const a=C.useContext(dc);if(a===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:l}=a,u=C.useId();C.useEffect(()=>{if(n)return l(u)},[n]);const d=C.useCallback(()=>n&&o&&o(u),[u,o,n]);return!s&&o?[!1,d]:[!0]}const kl=n=>n.key||"";function Sv(n){const a=[];return C.Children.forEach(n,s=>{C.isValidElement(s)&&a.push(s)}),a}const tr=({children:n,custom:a,initial:s=!0,onExitComplete:o,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:p="left",root:m})=>{const[v,y]=o0(d),x=C.useMemo(()=>Sv(n),[n]),S=d&&!v?[]:x.map(kl),T=C.useRef(!0),_=C.useRef(x),j=Kf(()=>new Map),[R,E]=C.useState(x),[H,N]=C.useState(x);hb(()=>{T.current=!1,_.current=x;for(let ae=0;ae<H.length;ae++){const J=kl(H[ae]);S.includes(J)?j.delete(J):j.get(J)!==!0&&j.set(J,!1)}},[H,S.length,S.join("-")]);const Y=[];if(x!==R){let ae=[...x];for(let J=0;J<H.length;J++){const ie=H[J],ve=kl(ie);S.includes(ve)||(ae.splice(J,0,ie),Y.push(ie))}return u==="wait"&&Y.length&&(ae=Y),N(Sv(ae)),E(x),null}const{forceRender:$}=C.useContext(Xf);return h.jsx(h.Fragment,{children:H.map(ae=>{const J=kl(ae),ie=d&&!v?!1:x===H||S.includes(J),ve=()=>{if(j.has(J))j.set(J,!0);else return;let ce=!0;j.forEach(ke=>{ke||(ce=!1)}),ce&&($?.(),N(_.current),d&&y?.(),o&&o())};return h.jsx(mM,{isPresent:ie,initial:!T.current||s?void 0:!1,custom:a,presenceAffectsLayout:l,mode:u,root:m,onExitComplete:ie?void 0:ve,anchorX:p,children:ae},J)})})},r0=C.createContext({strict:!1}),_v={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Us={};for(const n in _v)Us[n]={isEnabled:a=>_v[n].some(s=>!!a[s])};function yM(n){for(const a in n)Us[a]={...Us[a],...n[a]}}const vM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zl(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||vM.has(n)}let l0=n=>!Zl(n);function xM(n){typeof n=="function"&&(l0=a=>a.startsWith("on")?!Zl(a):n(a))}try{xM(require("@emotion/is-prop-valid").default)}catch{}function bM(n,a,s){const o={};for(const l in n)l==="values"&&typeof n.values=="object"||(l0(l)||s===!0&&Zl(l)||!a&&!Zl(l)||n.draggable&&l.startsWith("onDrag"))&&(o[l]=n[l]);return o}const fc=C.createContext({});function pc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function nr(n){return typeof n=="string"||Array.isArray(n)}const vp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xp=["initial",...vp];function hc(n){return pc(n.animate)||xp.some(a=>nr(n[a]))}function c0(n){return!!(hc(n)||n.variants)}function SM(n,a){if(hc(n)){const{initial:s,animate:o}=n;return{initial:s===!1||nr(s)?s:void 0,animate:nr(o)?o:void 0}}return n.inherit!==!1?a:{}}function _M(n){const{initial:a,animate:s}=SM(n,C.useContext(fc));return C.useMemo(()=>({initial:a,animate:s}),[wv(a),wv(s)])}function wv(n){return Array.isArray(n)?n.join(" "):n}function Cv(n,a){return a.max===a.min?0:n/(a.max-a.min)*100}const Io={correct:(n,a)=>{if(!a.target)return n;if(typeof n=="string")if(ye.test(n))n=parseFloat(n);else return n;const s=Cv(n,a.target.x),o=Cv(n,a.target.y);return`${s}% ${o}%`}},wM={correct:(n,{treeScale:a,projectionDelta:s})=>{const o=n,l=ti.parse(n);if(l.length>5)return o;const u=ti.createTransformer(n),d=typeof l[0]!="number"?1:0,p=s.x.scale*a.x,m=s.y.scale*a.y;l[0+d]/=p,l[1+d]/=m;const v=vt(p,m,.5);return typeof l[2+d]=="number"&&(l[2+d]/=v),typeof l[3+d]=="number"&&(l[3+d]/=v),u(l)}},Rf={borderRadius:{...Io,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Io,borderTopRightRadius:Io,borderBottomLeftRadius:Io,borderBottomRightRadius:Io,boxShadow:wM};function u0(n,{layout:a,layoutId:s}){return Fs.has(n)||n.startsWith("origin")||(a||s!==void 0)&&(!!Rf[n]||n==="opacity")}const CM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TM=Hs.length;function AM(n,a,s){let o="",l=!0;for(let u=0;u<TM;u++){const d=Hs[u],p=n[d];if(p===void 0)continue;let m=!0;if(typeof p=="number"?m=p===(d.startsWith("scale")?1:0):m=parseFloat(p)===0,!m||s){const v=e0(p,hp[d]);if(!m){l=!1;const y=CM[d]||d;o+=`${y}(${v}) `}s&&(a[d]=v)}}return o=o.trim(),s?o=s(a,l?"":o):l&&(o="none"),o}function bp(n,a,s){const{style:o,vars:l,transformOrigin:u}=n;let d=!1,p=!1;for(const m in a){const v=a[m];if(Fs.has(m)){d=!0;continue}else if(Db(m)){l[m]=v;continue}else{const y=e0(v,hp[m]);m.startsWith("origin")?(p=!0,u[m]=y):o[m]=y}}if(a.transform||(d||s?o.transform=AM(a,n.transform,s):o.transform&&(o.transform="none")),p){const{originX:m="50%",originY:v="50%",originZ:y=0}=u;o.transformOrigin=`${m} ${v} ${y}`}}const Sp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d0(n,a,s){for(const o in a)!Jt(a[o])&&!u0(o,s)&&(n[o]=a[o])}function EM({transformTemplate:n},a){return C.useMemo(()=>{const s=Sp();return bp(s,a,n),Object.assign({},s.vars,s.style)},[a])}function jM(n,a){const s=n.style||{},o={};return d0(o,s,n),Object.assign(o,EM(n,a)),o}function MM(n,a){const s={},o=jM(n,a);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=o,s}const RM={offset:"stroke-dashoffset",array:"stroke-dasharray"},DM={offset:"strokeDashoffset",array:"strokeDasharray"};function kM(n,a,s=1,o=0,l=!0){n.pathLength=1;const u=l?RM:DM;n[u.offset]=ye.transform(-o);const d=ye.transform(a),p=ye.transform(s);n[u.array]=`${d} ${p}`}function f0(n,{attrX:a,attrY:s,attrScale:o,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...p},m,v,y){if(bp(n,p,v),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:S}=n;x.transform&&(S.transform=x.transform,delete x.transform),(S.transform||x.transformOrigin)&&(S.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete x.transformBox),a!==void 0&&(x.x=a),s!==void 0&&(x.y=s),o!==void 0&&(x.scale=o),l!==void 0&&kM(x,l,u,d,!1)}const p0=()=>({...Sp(),attrs:{}}),h0=n=>typeof n=="string"&&n.toLowerCase()==="svg";function zM(n,a,s,o){const l=C.useMemo(()=>{const u=p0();return f0(u,a,h0(o),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[a]);if(n.style){const u={};d0(u,n.style,n),l.style={...u,...l.style}}return l}const NM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _p(n){return typeof n!="string"||n.includes("-")?!1:!!(NM.indexOf(n)>-1||/[A-Z]/u.test(n))}function OM(n,a,s,{latestValues:o},l,u=!1){const p=(_p(n)?zM:MM)(a,o,l,n),m=bM(a,typeof n=="string",u),v=n!==C.Fragment?{...m,...p,ref:s}:{},{children:y}=a,x=C.useMemo(()=>Jt(y)?y.get():y,[y]);return C.createElement(n,{...v,children:x})}function Tv(n){const a=[{},{}];return n?.values.forEach((s,o)=>{a[0][o]=s.get(),a[1][o]=s.getVelocity()}),a}function wp(n,a,s,o){if(typeof a=="function"){const[l,u]=Tv(o);a=a(s!==void 0?s:n.custom,l,u)}if(typeof a=="string"&&(a=n.variants&&n.variants[a]),typeof a=="function"){const[l,u]=Tv(o);a=a(s!==void 0?s:n.custom,l,u)}return a}function Hl(n){return Jt(n)?n.get():n}function UM({scrapeMotionValuesFromProps:n,createRenderState:a},s,o,l){return{latestValues:BM(s,o,l,n),renderState:a()}}function BM(n,a,s,o){const l={},u=o(n,{});for(const S in u)l[S]=Hl(u[S]);let{initial:d,animate:p}=n;const m=hc(n),v=c0(n);a&&v&&!m&&n.inherit!==!1&&(d===void 0&&(d=a.initial),p===void 0&&(p=a.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const x=y?p:d;if(x&&typeof x!="boolean"&&!pc(x)){const S=Array.isArray(x)?x:[x];for(let T=0;T<S.length;T++){const _=wp(n,S[T]);if(_){const{transitionEnd:j,transition:R,...E}=_;for(const H in E){let N=E[H];if(Array.isArray(N)){const Y=y?N.length-1:0;N=N[Y]}N!==null&&(l[H]=N)}for(const H in j)l[H]=j[H]}}}return l}const m0=n=>(a,s)=>{const o=C.useContext(fc),l=C.useContext(dc),u=()=>UM(n,a,o,l);return s?u():Kf(u)};function Cp(n,a,s){const{style:o}=n,l={};for(const u in o)(Jt(o[u])||a.style&&Jt(a.style[u])||u0(u,n)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=o[u]);return l}const LM=m0({scrapeMotionValuesFromProps:Cp,createRenderState:Sp});function g0(n,a,s){const o=Cp(n,a,s);for(const l in n)if(Jt(n[l])||Jt(a[l])){const u=Hs.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;o[u]=n[l]}return o}const VM=m0({scrapeMotionValuesFromProps:g0,createRenderState:p0}),IM=Symbol.for("motionComponentSymbol");function js(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function PM(n,a,s){return C.useCallback(o=>{o&&n.onMount&&n.onMount(o),a&&(o?a.mount(o):a.unmount()),s&&(typeof s=="function"?s(o):js(s)&&(s.current=o))},[a])}const Tp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HM="framerAppearId",y0="data-"+Tp(HM),v0=C.createContext({});function FM(n,a,s,o,l){const{visualElement:u}=C.useContext(fc),d=C.useContext(r0),p=C.useContext(dc),m=C.useContext(yp).reducedMotion,v=C.useRef(null);o=o||d.renderer,!v.current&&o&&(v.current=o(n,{visualState:a,parent:u,props:s,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const y=v.current,x=C.useContext(v0);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&qM(v.current,s,l,x);const S=C.useRef(!1);C.useInsertionEffect(()=>{y&&S.current&&y.update(s,p)});const T=s[y0],_=C.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return hb(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),_.current&&y.animationState&&y.animationState.animateChanges())}),C.useEffect(()=>{y&&(!_.current&&y.animationState&&y.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),_.current=!1),y.enteringChildren=void 0)}),y}function qM(n,a,s,o){const{layoutId:l,layout:u,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:v,layoutCrossfade:y}=a;n.projection=new s(n.latestValues,a["data-framer-portal-id"]?void 0:x0(n.parent)),n.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||p&&js(p),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:y,layoutScroll:m,layoutRoot:v})}function x0(n){if(n)return n.options.allowProjection!==!1?n.projection:x0(n.parent)}function Hd(n,{forwardMotionProps:a=!1}={},s,o){s&&yM(s);const l=_p(n)?VM:LM;function u(p,m){let v;const y={...C.useContext(yp),...p,layoutId:GM(p)},{isStatic:x}=y,S=_M(p),T=l(p,x);if(!x&&Wf){$M();const _=YM(y);v=_.MeasureLayout,S.visualElement=FM(n,T,y,o,_.ProjectionNode)}return h.jsxs(fc.Provider,{value:S,children:[v&&S.visualElement?h.jsx(v,{visualElement:S.visualElement,...y}):null,OM(n,p,PM(T,S.visualElement,m),T,x,a)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=C.forwardRef(u);return d[IM]=n,d}function GM({layoutId:n}){const a=C.useContext(Xf).id;return a&&n!==void 0?a+"-"+n:n}function $M(n,a){C.useContext(r0).strict}function YM(n){const{drag:a,layout:s}=Us;if(!a&&!s)return{};const o={...a,...s};return{MeasureLayout:a?.isEnabled(n)||s?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function XM(n,a){if(typeof Proxy>"u")return Hd;const s=new Map,o=(u,d)=>Hd(u,d,n,a),l=(u,d)=>o(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?o:(s.has(d)||s.set(d,Hd(d,void 0,n,a)),s.get(d))})}function b0({top:n,left:a,right:s,bottom:o}){return{x:{min:a,max:s},y:{min:n,max:o}}}function KM({x:n,y:a}){return{top:a.min,right:n.max,bottom:a.max,left:n.min}}function WM(n,a){if(!a)return n;const s=a({x:n.left,y:n.top}),o=a({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function Fd(n){return n===void 0||n===1}function Df({scale:n,scaleX:a,scaleY:s}){return!Fd(n)||!Fd(a)||!Fd(s)}function Ti(n){return Df(n)||S0(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function S0(n){return Av(n.x)||Av(n.y)}function Av(n){return n&&n!=="0%"}function Jl(n,a,s){const o=n-s,l=a*o;return s+l}function Ev(n,a,s,o,l){return l!==void 0&&(n=Jl(n,l,o)),Jl(n,s,o)+a}function kf(n,a=0,s=1,o,l){n.min=Ev(n.min,a,s,o,l),n.max=Ev(n.max,a,s,o,l)}function _0(n,{x:a,y:s}){kf(n.x,a.translate,a.scale,a.originPoint),kf(n.y,s.translate,s.scale,s.originPoint)}const jv=.999999999999,Mv=1.0000000000001;function QM(n,a,s,o=!1){const l=s.length;if(!l)return;a.x=a.y=1;let u,d;for(let p=0;p<l;p++){u=s[p],d=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Rs(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(a.x*=d.x.scale,a.y*=d.y.scale,_0(n,d)),o&&Ti(u.latestValues)&&Rs(n,u.latestValues))}a.x<Mv&&a.x>jv&&(a.x=1),a.y<Mv&&a.y>jv&&(a.y=1)}function Ms(n,a){n.min=n.min+a,n.max=n.max+a}function Rv(n,a,s,o,l=.5){const u=vt(n.min,n.max,l);kf(n,a,s,u,o)}function Rs(n,a){Rv(n.x,a.x,a.scaleX,a.scale,a.originX),Rv(n.y,a.y,a.scaleY,a.scale,a.originY)}function w0(n,a){return b0(WM(n.getBoundingClientRect(),a))}function ZM(n,a,s){const o=w0(n,s),{scroll:l}=a;return l&&(Ms(o.x,l.offset.x),Ms(o.y,l.offset.y)),o}const Dv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ds=()=>({x:Dv(),y:Dv()}),kv=()=>({min:0,max:0}),Lt=()=>({x:kv(),y:kv()}),zf={current:null},C0={current:!1};function JM(){if(C0.current=!0,!!Wf)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),a=()=>zf.current=n.matches;n.addEventListener("change",a),a()}else zf.current=!1}const eR=new WeakMap;function tR(n,a,s){for(const o in a){const l=a[o],u=s[o];if(Jt(l))n.addValue(o,l);else if(Jt(u))n.addValue(o,Os(l,{owner:n}));else if(u!==l)if(n.hasValue(o)){const d=n.getValue(o);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=n.getStaticValue(o);n.addValue(o,Os(d!==void 0?d:l,{owner:n}))}}for(const o in s)a[o]===void 0&&n.removeValue(o);return a}const zv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nR{scrapeMotionValuesFromProps(a,s,o){return{}}constructor({parent:a,props:s,presenceContext:o,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=pn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:v}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=v,this.parent=a,this.props=s,this.presenceContext=o,this.depth=a?a.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=hc(s),this.isVariantNode=c0(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const S in x){const T=x[S];m[S]!==void 0&&Jt(T)&&T.set(m[S])}}mount(a){this.current=a,eR.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),C0.current||JM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ei(this.notifyUpdate),ei(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const s=this.features[a];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,s){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const o=Fs.has(a);o&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[a]=d,this.props.onUpdate&&ft.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,a,s)),this.valueSubscriptions.set(a,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in Us){const s=Us[a];if(!s)continue;const{isEnabled:o,Feature:l}=s;if(!this.features[a]&&l&&o(this.props)&&(this.features[a]=new l(this)),this.features[a]){const u=this.features[a];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,s){this.latestValues[a]=s}update(a,s){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<zv.length;o++){const l=zv[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=a[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=tR(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(a),()=>s.variantChildren.delete(a)}addValue(a,s){const o=this.values.get(a);s!==o&&(o&&this.removeValue(a),this.bindToMotionValue(a,s),this.values.set(a,s),this.latestValues[a]=s.get())}removeValue(a){this.values.delete(a);const s=this.valueSubscriptions.get(a);s&&(s(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,s){if(this.props.values&&this.props.values[a])return this.props.values[a];let o=this.values.get(a);return o===void 0&&s!==void 0&&(o=Os(s===null?void 0:s,{owner:this}),this.addValue(a,o)),o}readValue(a,s){let o=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options);return o!=null&&(typeof o=="string"&&(mb(o)||yb(o))?o=parseFloat(o):!uM(o)&&ti.test(s)&&(o=Jb(a,s)),this.setBaseTarget(a,Jt(o)?o.get():o)),Jt(o)?o.get():o}setBaseTarget(a,s){this.baseTarget[a]=s}getBaseTarget(a){const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const u=wp(this.props,s,this.presenceContext?.custom);u&&(o=u[a])}if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,a);return l!==void 0&&!Jt(l)?l:this.initialValues[a]!==void 0&&o===void 0?void 0:this.baseTarget[a]}on(a,s){return this.events[a]||(this.events[a]=new tp),this.events[a].add(s)}notify(a,...s){this.events[a]&&this.events[a].notify(...s)}scheduleRenderMicrotask(){mp.render(this.render)}}class T0 extends nR{constructor(){super(...arguments),this.KeyframeResolver=Z2}sortInstanceNodePosition(a,s){return a.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(a,s){return a.style?a.style[s]:void 0}removeValueFromRenderState(a,{vars:s,style:o}){delete s[a],delete o[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;Jt(a)&&(this.childSubscription=a.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function A0(n,{style:a,vars:s},o,l){const u=n.style;let d;for(d in a)u[d]=a[d];l?.applyProjectionStyles(u,o);for(d in s)u.setProperty(d,s[d])}function aR(n){return window.getComputedStyle(n)}class iR extends T0{constructor(){super(...arguments),this.type="html",this.renderInstance=A0}readValueFromInstance(a,s){if(Fs.has(s))return this.projection?.isProjecting?wf(s):y2(a,s);{const o=aR(a),l=(Db(s)?o.getPropertyValue(s):o[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(a,{transformPagePoint:s}){return w0(a,s)}build(a,s,o){bp(a,s,o.transformTemplate)}scrapeMotionValuesFromProps(a,s,o){return Cp(a,s,o)}}const E0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sR(n,a,s,o){A0(n,a,void 0,o);for(const l in a.attrs)n.setAttribute(E0.has(l)?l:Tp(l),a.attrs[l])}class oR extends T0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(a,s){return a[s]}readValueFromInstance(a,s){if(Fs.has(s)){const o=Zb(s);return o&&o.default||0}return s=E0.has(s)?s:Tp(s),a.getAttribute(s)}scrapeMotionValuesFromProps(a,s,o){return g0(a,s,o)}build(a,s,o){f0(a,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(a,s,o,l){sR(a,s,o,l)}mount(a){this.isSVGTag=h0(a.tagName),super.mount(a)}}const rR=(n,a)=>_p(n)?new oR(a):new iR(a,{allowProjection:n!==C.Fragment});function ks(n,a,s){const o=n.getProps();return wp(o,a,s!==void 0?s:o.custom,n)}const Nf=n=>Array.isArray(n);function lR(n,a,s){n.hasValue(a)?n.getValue(a).set(s):n.addValue(a,Os(s))}function cR(n){return Nf(n)?n[n.length-1]||0:n}function uR(n,a){const s=ks(n,a);let{transitionEnd:o={},transition:l={},...u}=s||{};u={...u,...o};for(const d in u){const p=cR(u[d]);lR(n,d,p)}}function dR(n){return!!(Jt(n)&&n.add)}function Of(n,a){const s=n.getValue("willChange");if(dR(s))return s.add(a);if(!s&&Aa.WillChange){const o=new Aa.WillChange("auto");n.addValue("willChange",o),o.add(a)}}function j0(n){return n.props[y0]}const fR=n=>n!==null;function pR(n,{repeat:a,repeatType:s="loop"},o){const l=n.filter(fR),u=a&&s!=="loop"&&a%2===1?0:l.length-1;return l[u]}const hR={type:"spring",stiffness:500,damping:25,restSpeed:10},mR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),gR={type:"keyframes",duration:.8},yR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vR=(n,{keyframes:a})=>a.length>2?gR:Fs.has(n)?n.startsWith("scale")?mR(a[1]):hR:yR;function xR({when:n,delay:a,delayChildren:s,staggerChildren:o,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:p,from:m,elapsed:v,...y}){return!!Object.keys(y).length}const Ap=(n,a,s,o={},l,u)=>d=>{const p=pp(o,n)||{},m=p.delay||o.delay||0;let{elapsed:v=0}=o;v=v-ia(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:a.getVelocity(),...p,delay:-v,onUpdate:S=>{a.set(S),p.onUpdate&&p.onUpdate(S)},onComplete:()=>{d(),p.onComplete&&p.onComplete()},name:n,motionValue:a,element:u?void 0:l};xR(p)||Object.assign(y,vR(n,y)),y.duration&&(y.duration=ia(y.duration)),y.repeatDelay&&(y.repeatDelay=ia(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(jf(y),y.delay===0&&(x=!0)),(Aa.instantAnimations||Aa.skipAnimations)&&(x=!0,jf(y),y.delay=0),y.allowFlatten=!p.type&&!p.ease,x&&!u&&a.get()!==void 0){const S=pR(y.keyframes,p);if(S!==void 0){ft.update(()=>{y.onUpdate(S),y.onComplete()});return}}return p.isSync?new dp(y):new I2(y)};function bR({protectedKeys:n,needsAnimating:a},s){const o=n.hasOwnProperty(s)&&a[s]!==!0;return a[s]=!1,o}function M0(n,a,{delay:s=0,transitionOverride:o,type:l}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:d,...p}=a;o&&(u=o);const m=[],v=l&&n.animationState&&n.animationState.getState()[l];for(const y in p){const x=n.getValue(y,n.latestValues[y]??null),S=p[y];if(S===void 0||v&&bR(v,y))continue;const T={delay:s,...pp(u||{},y)},_=x.get();if(_!==void 0&&!x.isAnimating&&!Array.isArray(S)&&S===_&&!T.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const E=j0(n);if(E){const H=window.MotionHandoffAnimation(E,y,ft);H!==null&&(T.startTime=H,j=!0)}}Of(n,y),x.start(Ap(y,x,S,n.shouldReduceMotion&&Kb.has(y)?{type:!1}:T,n,j));const R=x.animation;R&&m.push(R)}return d&&Promise.all(m).then(()=>{ft.update(()=>{d&&uR(n,d)})}),m}function R0(n,a,s,o=0,l=1){const u=Array.from(n).sort((v,y)=>v.sortNodePosition(y)).indexOf(a),d=n.size,p=(d-1)*o;return typeof s=="function"?s(u,d):l===1?u*o:p-u*o}function Uf(n,a,s={}){const o=ks(n,a,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(l=s.transitionOverride);const u=o?()=>Promise.all(M0(n,o,s)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:y,staggerDirection:x}=l;return SR(n,a,m,v,y,x,s)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,v]=p==="beforeChildren"?[u,d]:[d,u];return m().then(()=>v())}else return Promise.all([u(),d(s.delay)])}function SR(n,a,s=0,o=0,l=0,u=1,d){const p=[];for(const m of n.variantChildren)m.notify("AnimationStart",a),p.push(Uf(m,a,{...d,delay:s+(typeof o=="function"?0:o)+R0(n.variantChildren,m,o,l,u)}).then(()=>m.notify("AnimationComplete",a)));return Promise.all(p)}function _R(n,a,s={}){n.notify("AnimationStart",a);let o;if(Array.isArray(a)){const l=a.map(u=>Uf(n,u,s));o=Promise.all(l)}else if(typeof a=="string")o=Uf(n,a,s);else{const l=typeof a=="function"?ks(n,a,s.custom):a;o=Promise.all(M0(n,l,s))}return o.then(()=>{n.notify("AnimationComplete",a)})}function D0(n,a){if(!Array.isArray(a))return!1;const s=a.length;if(s!==n.length)return!1;for(let o=0;o<s;o++)if(a[o]!==n[o])return!1;return!0}const wR=xp.length;function k0(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?k0(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const a={};for(let s=0;s<wR;s++){const o=xp[s],l=n.props[o];(nr(l)||l===!1)&&(a[o]=l)}return a}const CR=[...vp].reverse(),TR=vp.length;function AR(n){return a=>Promise.all(a.map(({animation:s,options:o})=>_R(n,s,o)))}function ER(n){let a=AR(n),s=Nv(),o=!0;const l=m=>(v,y)=>{const x=ks(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(x){const{transition:S,transitionEnd:T,..._}=x;v={...v,..._,...T}}return v};function u(m){a=m(n)}function d(m){const{props:v}=n,y=k0(n.parent)||{},x=[],S=new Set;let T={},_=1/0;for(let R=0;R<TR;R++){const E=CR[R],H=s[E],N=v[E]!==void 0?v[E]:y[E],Y=nr(N),$=E===m?H.isActive:null;$===!1&&(_=R);let ae=N===y[E]&&N!==v[E]&&Y;if(ae&&o&&n.manuallyAnimateOnMount&&(ae=!1),H.protectedKeys={...T},!H.isActive&&$===null||!N&&!H.prevProp||pc(N)||typeof N=="boolean")continue;const J=jR(H.prevProp,N);let ie=J||E===m&&H.isActive&&!ae&&Y||R>_&&Y,ve=!1;const ce=Array.isArray(N)?N:[N];let ke=ce.reduce(l(E),{});$===!1&&(ke={});const{prevResolvedValues:Ve={}}=H,xe={...Ve,...ke},Te=G=>{ie=!0,S.has(G)&&(ve=!0,S.delete(G)),H.needsAnimating[G]=!0;const ee=n.getValue(G);ee&&(ee.liveStyle=!1)};for(const G in xe){const ee=ke[G],oe=Ve[G];if(T.hasOwnProperty(G))continue;let we=!1;Nf(ee)&&Nf(oe)?we=!D0(ee,oe):we=ee!==oe,we?ee!=null?Te(G):S.add(G):ee!==void 0&&S.has(G)?Te(G):H.protectedKeys[G]=!0}H.prevProp=N,H.prevResolvedValues=ke,H.isActive&&(T={...T,...ke}),o&&n.blockInitialAnimation&&(ie=!1);const Ae=ae&&J;ie&&(!Ae||ve)&&x.push(...ce.map(G=>{const ee={type:E};if(typeof G=="string"&&o&&!Ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:oe}=n,we=ks(oe,G);if(oe.enteringChildren&&we){const{delayChildren:Ee}=we.transition||{};ee.delay=R0(oe.enteringChildren,n,Ee)}}return{animation:G,options:ee}}))}if(S.size){const R={};if(typeof v.initial!="boolean"){const E=ks(n,Array.isArray(v.initial)?v.initial[0]:v.initial);E&&E.transition&&(R.transition=E.transition)}S.forEach(E=>{const H=n.getBaseTarget(E),N=n.getValue(E);N&&(N.liveStyle=!0),R[E]=H??null}),x.push({animation:R})}let j=!!x.length;return o&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(j=!1),o=!1,j?a(x):Promise.resolve()}function p(m,v){if(s[m].isActive===v)return Promise.resolve();n.variantChildren?.forEach(x=>x.animationState?.setActive(m,v)),s[m].isActive=v;const y=d(m);for(const x in s)s[x].protectedKeys={};return y}return{animateChanges:d,setActive:p,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Nv()}}}function jR(n,a){return typeof a=="string"?a!==n:Array.isArray(a)?!D0(a,n):!1}function wi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nv(){return{animate:wi(!0),whileInView:wi(),whileHover:wi(),whileTap:wi(),whileDrag:wi(),whileFocus:wi(),exit:wi()}}class ni{constructor(a){this.isMounted=!1,this.node=a}update(){}}class MR extends ni{constructor(a){super(a),a.animationState||(a.animationState=ER(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();pc(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:s}=this.node.prevProps||{};a!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let RR=0;class DR extends ni{constructor(){super(...arguments),this.id=RR++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===o)return;const l=this.node.animationState.setActive("exit",!a);s&&!a&&l.then(()=>{s(this.id)})}mount(){const{register:a,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),a&&(this.unmount=a(this.id))}unmount(){}}const kR={animation:{Feature:MR},exit:{Feature:DR}};function ar(n,a,s,o={passive:!0}){return n.addEventListener(a,s,o),()=>n.removeEventListener(a,s)}function mr(n){return{point:{x:n.pageX,y:n.pageY}}}const zR=n=>a=>gp(a)&&n(a,mr(a));function Ko(n,a,s,o){return ar(n,a,zR(s),o)}const z0=1e-4,NR=1-z0,OR=1+z0,N0=.01,UR=0-N0,BR=0+N0;function tn(n){return n.max-n.min}function LR(n,a,s){return Math.abs(n-a)<=s}function Ov(n,a,s,o=.5){n.origin=o,n.originPoint=vt(a.min,a.max,n.origin),n.scale=tn(s)/tn(a),n.translate=vt(s.min,s.max,n.origin)-n.originPoint,(n.scale>=NR&&n.scale<=OR||isNaN(n.scale))&&(n.scale=1),(n.translate>=UR&&n.translate<=BR||isNaN(n.translate))&&(n.translate=0)}function Wo(n,a,s,o){Ov(n.x,a.x,s.x,o?o.originX:void 0),Ov(n.y,a.y,s.y,o?o.originY:void 0)}function Uv(n,a,s){n.min=s.min+a.min,n.max=n.min+tn(a)}function VR(n,a,s){Uv(n.x,a.x,s.x),Uv(n.y,a.y,s.y)}function Bv(n,a,s){n.min=a.min-s.min,n.max=n.min+tn(a)}function ec(n,a,s){Bv(n.x,a.x,s.x),Bv(n.y,a.y,s.y)}function Bn(n){return[n("x"),n("y")]}const O0=({current:n})=>n?n.ownerDocument.defaultView:null,Lv=(n,a)=>Math.abs(n-a);function IR(n,a){const s=Lv(n.x,a.x),o=Lv(n.y,a.y);return Math.sqrt(s**2+o**2)}class U0{constructor(a,s,{transformPagePoint:o,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Gd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,_=IR(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!_)return;const{point:j}=S,{timestamp:R}=Kt;this.history.push({...j,timestamp:R});const{onStart:E,onMove:H}=this.handlers;T||(E&&E(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=qd(T,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:_,onSessionEnd:j,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Gd(S.type==="pointercancel"?this.lastMoveEventInfo:qd(T,this.transformPagePoint),this.history);this.startEvent&&_&&_(S,E),j&&j(S,E)},!gp(a))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=d,this.contextWindow=l||window;const p=mr(a),m=qd(p,this.transformPagePoint),{point:v}=m,{timestamp:y}=Kt;this.history=[{...v,timestamp:y}];const{onSessionStart:x}=s;x&&x(a,Gd(m,this.history)),this.removeListeners=fr(Ko(this.contextWindow,"pointermove",this.handlePointerMove),Ko(this.contextWindow,"pointerup",this.handlePointerUp),Ko(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),ei(this.updatePoint)}}function qd(n,a){return a?{point:a(n.point)}:n}function Vv(n,a){return{x:n.x-a.x,y:n.y-a.y}}function Gd({point:n},a){return{point:n,delta:Vv(n,B0(a)),offset:Vv(n,PR(a)),velocity:HR(a,.1)}}function PR(n){return n[0]}function B0(n){return n[n.length-1]}function HR(n,a){if(n.length<2)return{x:0,y:0};let s=n.length-1,o=null;const l=B0(n);for(;s>=0&&(o=n[s],!(l.timestamp-o.timestamp>ia(a)));)s--;if(!o)return{x:0,y:0};const u=Ln(l.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-o.x)/u,y:(l.y-o.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function FR(n,{min:a,max:s},o){return a!==void 0&&n<a?n=o?vt(a,n,o.min):Math.max(n,a):s!==void 0&&n>s&&(n=o?vt(s,n,o.max):Math.min(n,s)),n}function Iv(n,a,s){return{min:a!==void 0?n.min+a:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function qR(n,{top:a,left:s,bottom:o,right:l}){return{x:Iv(n.x,s,l),y:Iv(n.y,a,o)}}function Pv(n,a){let s=a.min-n.min,o=a.max-n.max;return a.max-a.min<n.max-n.min&&([s,o]=[o,s]),{min:s,max:o}}function GR(n,a){return{x:Pv(n.x,a.x),y:Pv(n.y,a.y)}}function $R(n,a){let s=.5;const o=tn(n),l=tn(a);return l>o?s=Zo(a.min,a.max-o,n.min):o>l&&(s=Zo(n.min,n.max-l,a.min)),Ta(0,1,s)}function YR(n,a){const s={};return a.min!==void 0&&(s.min=a.min-n.min),a.max!==void 0&&(s.max=a.max-n.min),s}const Bf=.35;function XR(n=Bf){return n===!1?n=0:n===!0&&(n=Bf),{x:Hv(n,"left","right"),y:Hv(n,"top","bottom")}}function Hv(n,a,s){return{min:Fv(n,a),max:Fv(n,s)}}function Fv(n,a){return typeof n=="number"?n:n[a]||0}const KR=new WeakMap;class WR{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=x=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(mr(x).point)},d=(x,S)=>{const{drag:T,dragPropagation:_,onDragStart:j}=this.getProps();if(T&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nM(T),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(E=>{let H=this.getAxisMotionValue(E).get()||0;if(sa.test(H)){const{projection:N}=this.visualElement;if(N&&N.layout){const Y=N.layout.layoutBox[E];Y&&(H=tn(Y)*(parseFloat(H)/100))}}this.originPoint[E]=H}),j&&ft.postRender(()=>j(x,S)),Of(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},p=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S;const{dragPropagation:T,dragDirectionLock:_,onDirectionLock:j,onDrag:R}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:E}=S;if(_&&this.currentDirection===null){this.currentDirection=QR(E),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",S.point,E),this.updateAxis("y",S.point,E),this.visualElement.render(),R&&R(x,S)},m=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S,this.stop(x,S),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Bn(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new U0(a,{onSessionStart:u,onStart:d,onMove:p,onSessionEnd:m,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:o,contextWindow:O0(this.visualElement)})}stop(a,s){const o=a||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!o)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:p}=this.getProps();p&&ft.postRender(()=>p(o,l))}cancel(){this.isDragging=!1;const{projection:a,animationState:s}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(a,s,o){const{drag:l}=this.getProps();if(!o||!zl(a,l,this.currentDirection))return;const u=this.getAxisMotionValue(a);let d=this.originPoint[a]+o[a];this.constraints&&this.constraints[a]&&(d=FR(d,this.constraints[a],this.elastic[a])),u.set(d)}resolveConstraints(){const{dragConstraints:a,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;a&&js(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&o?this.constraints=qR(o.layoutBox,a):this.constraints=!1,this.elastic=XR(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Bn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=YR(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:s}=this.getProps();if(!a||!js(a))return!1;const o=a.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=ZM(o,l.root,this.visualElement.getTransformPagePoint());let d=GR(l.layout.layoutBox,u);if(s){const p=s(KM(d));this.hasMutatedConstraints=!!p,p&&(d=b0(p))}return d}startAnimation(a){const{drag:s,dragMomentum:o,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},v=Bn(y=>{if(!zl(y,s,this.currentDirection))return;let x=m&&m[y]||{};d&&(x={min:0,max:0});const S=l?200:1e6,T=l?40:1e7,_={type:"inertia",velocity:o?a[y]:0,bounceStiffness:S,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(y,_)});return Promise.all(v).then(p)}startAxisValueAnimation(a,s){const o=this.getAxisMotionValue(a);return Of(this.visualElement,a),o.start(Ap(a,o,0,s,this.visualElement,!1))}stopAnimation(){Bn(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){Bn(a=>this.getAxisMotionValue(a).animation?.pause())}getAnimationState(a){return this.getAxisMotionValue(a).animation?.state}getAxisMotionValue(a){const s=`_drag${a.toUpperCase()}`,o=this.visualElement.getProps(),l=o[s];return l||this.visualElement.getValue(a,(o.initial?o.initial[a]:void 0)||0)}snapToCursor(a){Bn(s=>{const{drag:o}=this.getProps();if(!zl(s,o,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:p}=l.layout.layoutBox[s];u.set(a[s]-vt(d,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!js(s)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Bn(d=>{const p=this.getAxisMotionValue(d);if(p&&this.constraints!==!1){const m=p.get();l[d]=$R({min:m,max:m},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Bn(d=>{if(!zl(d,a,null))return;const p=this.getAxisMotionValue(d),{min:m,max:v}=this.constraints[d];p.set(vt(m,v,l[d]))})}addListeners(){if(!this.visualElement.current)return;KR.set(this.visualElement,this);const a=this.visualElement.current,s=Ko(a,"pointerdown",m=>{const{drag:v,dragListener:y=!0}=this.getProps();v&&y&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();js(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ft.read(o);const d=ar(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:v})=>{this.isDragging&&v&&(Bn(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=m[y].translate,x.set(x.get()+m[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),p&&p()}}getProps(){const a=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Bf,dragMomentum:p=!0}=a;return{...a,drag:s,dragDirectionLock:o,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:p}}}function zl(n,a,s){return(a===!0||a===n)&&(s===null||s===n)}function QR(n,a=10){let s=null;return Math.abs(n.y)>a?s="y":Math.abs(n.x)>a&&(s="x"),s}class ZR extends ni{constructor(a){super(a),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new WR(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const qv=n=>(a,s)=>{n&&ft.postRender(()=>n(a,s))};class JR extends ni{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(a){this.session=new U0(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O0(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:s,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:qv(a),onStart:qv(s),onMove:o,onEnd:(u,d)=>{delete this.session,l&&ft.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=Ko(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let $d=!1;class eD extends C.Component{componentDidMount(){const{visualElement:a,layoutGroup:s,switchLayoutGroup:o,layoutId:l}=this.props,{projection:u}=a;u&&(s.group&&s.group.add(u),o&&o.register&&l&&o.register(u),$d&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Fl.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:s,visualElement:o,drag:l,isPresent:u}=this.props,{projection:d}=o;return d&&(d.isPresent=u,$d=!0,l||a.layoutDependency!==s||s===void 0||a.isPresent!==u?d.willUpdate():this.safeToRemove(),a.isPresent!==u&&(u?d.promote():d.relegate()||ft.postRender(()=>{const p=d.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),mp.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:l}=a;$d=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function L0(n){const[a,s]=o0(),o=C.useContext(Xf);return h.jsx(eD,{...n,layoutGroup:o,switchLayoutGroup:C.useContext(v0),isPresent:a,safeToRemove:s})}function tD(n,a,s){const o=Jt(n)?n:Os(n);return o.start(Ap("",o,a,s)),o.animation}const nD=(n,a)=>n.depth-a.depth;class aD{constructor(){this.children=[],this.isDirty=!1}add(a){Qf(this.children,a),this.isDirty=!0}remove(a){Zf(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(nD),this.isDirty=!1,this.children.forEach(a)}}function iD(n,a){const s=pn.now(),o=({timestamp:l})=>{const u=l-s;u>=a&&(ei(o),n(u-a))};return ft.setup(o,!0),()=>ei(o)}const V0=["TopLeft","TopRight","BottomLeft","BottomRight"],sD=V0.length,Gv=n=>typeof n=="string"?parseFloat(n):n,$v=n=>typeof n=="number"||ye.test(n);function oD(n,a,s,o,l,u){l?(n.opacity=vt(0,s.opacity??1,rD(o)),n.opacityExit=vt(a.opacity??1,0,lD(o))):u&&(n.opacity=vt(a.opacity??1,s.opacity??1,o));for(let d=0;d<sD;d++){const p=`border${V0[d]}Radius`;let m=Yv(a,p),v=Yv(s,p);if(m===void 0&&v===void 0)continue;m||(m=0),v||(v=0),m===0||v===0||$v(m)===$v(v)?(n[p]=Math.max(vt(Gv(m),Gv(v),o),0),(sa.test(v)||sa.test(m))&&(n[p]+="%")):n[p]=v}(a.rotate||s.rotate)&&(n.rotate=vt(a.rotate||0,s.rotate||0,o))}function Yv(n,a){return n[a]!==void 0?n[a]:n.borderRadius}const rD=I0(0,.5,Tb),lD=I0(.5,.95,Vn);function I0(n,a,s){return o=>o<n?0:o>a?1:s(Zo(n,a,o))}function Xv(n,a){n.min=a.min,n.max=a.max}function Gn(n,a){Xv(n.x,a.x),Xv(n.y,a.y)}function Kv(n,a){n.translate=a.translate,n.scale=a.scale,n.originPoint=a.originPoint,n.origin=a.origin}function Wv(n,a,s,o,l){return n-=a,n=Jl(n,1/s,o),l!==void 0&&(n=Jl(n,1/l,o)),n}function cD(n,a=0,s=1,o=.5,l,u=n,d=n){if(sa.test(a)&&(a=parseFloat(a),a=vt(d.min,d.max,a/100)-d.min),typeof a!="number")return;let p=vt(u.min,u.max,o);n===u&&(p-=a),n.min=Wv(n.min,a,s,p,l),n.max=Wv(n.max,a,s,p,l)}function Qv(n,a,[s,o,l],u,d){cD(n,a[s],a[o],a[l],a.scale,u,d)}const uD=["x","scaleX","originX"],dD=["y","scaleY","originY"];function Zv(n,a,s,o){Qv(n.x,a,uD,s?s.x:void 0,o?o.x:void 0),Qv(n.y,a,dD,s?s.y:void 0,o?o.y:void 0)}function Jv(n){return n.translate===0&&n.scale===1}function P0(n){return Jv(n.x)&&Jv(n.y)}function ex(n,a){return n.min===a.min&&n.max===a.max}function fD(n,a){return ex(n.x,a.x)&&ex(n.y,a.y)}function tx(n,a){return Math.round(n.min)===Math.round(a.min)&&Math.round(n.max)===Math.round(a.max)}function H0(n,a){return tx(n.x,a.x)&&tx(n.y,a.y)}function nx(n){return tn(n.x)/tn(n.y)}function ax(n,a){return n.translate===a.translate&&n.scale===a.scale&&n.originPoint===a.originPoint}class pD{constructor(){this.members=[]}add(a){Qf(this.members,a),a.scheduleRender()}remove(a){if(Zf(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(a){const s=this.members.findIndex(l=>a===l);if(s===0)return!1;let o;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(a,s){const o=this.lead;if(a!==o&&(this.prevLead=o,this.lead=a,a.show(),o)){o.instance&&o.scheduleRender(),a.scheduleRender(),a.resumeFrom=o,s&&(a.resumeFrom.preserveOpacity=!0),o.snapshot&&(a.snapshot=o.snapshot,a.snapshot.latestValues=o.animationValues||o.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:l}=a.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:s,resumingFrom:o}=a;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hD(n,a,s){let o="";const l=n.x.translate/a.x,u=n.y.translate/a.y,d=s?.z||0;if((l||u||d)&&(o=`translate3d(${l}px, ${u}px, ${d}px) `),(a.x!==1||a.y!==1)&&(o+=`scale(${1/a.x}, ${1/a.y}) `),s){const{transformPerspective:v,rotate:y,rotateX:x,rotateY:S,skewX:T,skewY:_}=s;v&&(o=`perspective(${v}px) ${o}`),y&&(o+=`rotate(${y}deg) `),x&&(o+=`rotateX(${x}deg) `),S&&(o+=`rotateY(${S}deg) `),T&&(o+=`skewX(${T}deg) `),_&&(o+=`skewY(${_}deg) `)}const p=n.x.scale*a.x,m=n.y.scale*a.y;return(p!==1||m!==1)&&(o+=`scale(${p}, ${m})`),o||"none"}const Yd=["","X","Y","Z"],mD=1e3;let gD=0;function Xd(n,a,s,o){const{latestValues:l}=a;l[n]&&(s[n]=l[n],a.setStaticValue(n,0),o&&(o[n]=0))}function F0(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:a}=n.options;if(!a)return;const s=j0(a);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",ft,!(l||u))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&F0(o)}function q0({attachResizeListener:n,defaultParent:a,measureScroll:s,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(d={},p=a?.()){this.id=gD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xD),this.nodes.forEach(wD),this.nodes.forEach(CD),this.nodes.forEach(bD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new aD)}addEventListener(d,p){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new tp),this.eventHandlers.get(d).add(p)}notifyListeners(d,...p){const m=this.eventHandlers.get(d);m&&m.notify(...p)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=s0(d)&&!lM(d),this.instance=d;const{layoutId:p,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||p)&&(this.isLayoutDirty=!0),n){let y,x=0;const S=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{x=window.innerWidth}),n(d,()=>{const T=window.innerWidth;T!==x&&(x=T,this.root.updateBlockedByResize=!0,y&&y(),y=iD(S,250),Fl.hasAnimatedSinceResize&&(Fl.hasAnimatedSinceResize=!1,this.nodes.forEach(ox)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||v.getDefaultTransition()||MD,{onLayoutAnimationStart:j,onLayoutAnimationComplete:R}=v.getProps(),E=!this.targetLayout||!H0(this.targetLayout,T),H=!x&&S;if(this.options.layoutRoot||this.resumeFrom||H||x&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...pp(_,"layout"),onPlay:j,onComplete:R};(v.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(y,H)}else x||ox(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TD),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&F0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ix);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_D),this.nodes.forEach(yD),this.nodes.forEach(vD)):this.nodes.forEach(sx),this.clearAllSnapshots();const p=pn.now();Kt.delta=Ta(0,1e3/60,p-Kt.timestamp),Kt.timestamp=p,Kt.isProcessing=!0,Ud.update.process(Kt),Ud.preRender.process(Kt),Ud.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SD),this.sharedNodes.forEach(AD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(p=!1),p&&this.instance){const m=o(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!P0(this.projectionDelta),m=this.getTransformTemplate(),v=m?m(this.latestValues,""):void 0,y=v!==this.prevTransformTemplateValue;d&&this.instance&&(p||Ti(this.latestValues)||y)&&(l(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return d&&(m=this.removeTransform(m)),RD(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return Lt();const p=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(DD))){const{scroll:v}=this.root;v&&(Ms(p.x,v.offset.x),Ms(p.y,v.offset.y))}return p}removeElementScroll(d){const p=Lt();if(Gn(p,d),this.scroll?.wasRoot)return p;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:y,options:x}=v;v!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Gn(p,d),Ms(p.x,y.offset.x),Ms(p.y,y.offset.y))}return p}applyTransform(d,p=!1){const m=Lt();Gn(m,d);for(let v=0;v<this.path.length;v++){const y=this.path[v];!p&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Rs(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ti(y.latestValues)&&Rs(m,y.latestValues)}return Ti(this.latestValues)&&Rs(m,this.latestValues),m}removeTransform(d){const p=Lt();Gn(p,d);for(let m=0;m<this.path.length;m++){const v=this.path[m];if(!v.instance||!Ti(v.latestValues))continue;Df(v.latestValues)&&v.updateSnapshot();const y=Lt(),x=v.measurePageBox();Gn(y,x),Zv(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,y)}return Ti(this.latestValues)&&Zv(p,this.latestValues),p}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!this.layout||!(y||x))return;this.resolvedRelativeTargetAt=Kt.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),_0(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Df(this.parent.latestValues)||S0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,p,m){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),ec(this.relativeTargetOrigin,p,m),Gn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),p=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||y))return;Gn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;QM(this.layoutCorrected,this.treeScale,this.path,p),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Lt());const{target:T}=d;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kv(this.prevProjectionDelta.x,this.projectionDelta.x),Kv(this.prevProjectionDelta.y,this.projectionDelta.y)),Wo(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!ax(this.projectionDelta.x,this.prevProjectionDelta.x)||!ax(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ds(),this.projectionDelta=Ds(),this.projectionDeltaWithTransform=Ds()}setAnimationOrigin(d,p=!1){const m=this.snapshot,v=m?m.latestValues:{},y={...this.latestValues},x=Ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const S=Lt(),T=m?m.source:void 0,_=this.layout?this.layout.source:void 0,j=T!==_,R=this.getStack(),E=!R||R.members.length<=1,H=!!(j&&!E&&this.options.crossfade===!0&&!this.path.some(jD));this.animationProgress=0;let N;this.mixTargetDelta=Y=>{const $=Y/1e3;rx(x.x,d.x,$),rx(x.y,d.y,$),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ec(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ED(this.relativeTarget,this.relativeTargetOrigin,S,$),N&&fD(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Lt()),Gn(N,this.relativeTarget)),j&&(this.animationValues=y,oD(y,v,this.latestValues,$,H,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Fl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=tD(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),d.onUpdate&&d.onUpdate(p)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:p,target:m,layout:v,latestValues:y}=d;if(!(!p||!m||!v)){if(this!==d&&this.layout&&v&&G0(this.options.animationType,this.layout.layoutBox,v.layoutBox)){m=this.target||Lt();const x=tn(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+x;const S=tn(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+S}Gn(p,m),Rs(p,y),Wo(this.projectionDeltaWithTransform,this.layoutCorrected,p,y)}}registerSharedNode(d,p){this.sharedNodes.has(d)||this.sharedNodes.set(d,new pD),this.sharedNodes.get(d).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:p,preserveFollowOpacity:m}={}){const v=this.getStack();v&&v.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let p=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const v={};m.z&&Xd("z",d,v,this.animationValues);for(let y=0;y<Yd.length;y++)Xd(`rotate${Yd[y]}`,d,v,this.animationValues),Xd(`skew${Yd[y]}`,d,v,this.animationValues);d.render();for(const y in v)d.setStaticValue(y,v[y]),this.animationValues&&(this.animationValues[y]=v[y]);d.scheduleRender()}applyProjectionStyles(d,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Hl(p?.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Hl(p?.pointerEvents)||""),this.hasProjected&&!Ti(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=v.animationValues||v.latestValues;this.applyTransformsToTarget();let x=hD(this.projectionDeltaWithTransform,this.treeScale,y);m&&(x=m(y,x)),d.transform=x;const{x:S,y:T}=this.projectionDelta;d.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,v.animationValues?d.opacity=v===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=v===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in Rf){if(y[_]===void 0)continue;const{correct:j,applyTo:R,isCSSVariable:E}=Rf[_],H=x==="none"?y[_]:j(y[_],v);if(R){const N=R.length;for(let Y=0;Y<N;Y++)d[R[Y]]=H}else E?this.options.visualElement.renderState.vars[_]=H:d[_]=H}this.options.layoutId&&(d.pointerEvents=v===this?Hl(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(ix),this.root.sharedNodes.clear()}}}function yD(n){n.updateLayout()}function vD(n){const a=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&a&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:l}=n.options,u=a.source!==n.layout.source;l==="size"?Bn(y=>{const x=u?a.measuredBox[y]:a.layoutBox[y],S=tn(x);x.min=s[y].min,x.max=x.min+S}):G0(l,a.layoutBox,s)&&Bn(y=>{const x=u?a.measuredBox[y]:a.layoutBox[y],S=tn(s[y]);x.max=x.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const d=Ds();Wo(d,s,a.layoutBox);const p=Ds();u?Wo(p,n.applyTransform(o,!0),a.measuredBox):Wo(p,s,a.layoutBox);const m=!P0(d);let v=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:S}=y;if(x&&S){const T=Lt();ec(T,a.layoutBox,x.layoutBox);const _=Lt();ec(_,s,S.layoutBox),H0(T,_)||(v=!0),y.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=T,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:p,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function xD(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function bD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function SD(n){n.clearSnapshot()}function ix(n){n.clearMeasurements()}function sx(n){n.isLayoutDirty=!1}function _D(n){const{visualElement:a}=n.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),n.resetTransform()}function ox(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function wD(n){n.resolveTargetDelta()}function CD(n){n.calcProjection()}function TD(n){n.resetSkewAndRotation()}function AD(n){n.removeLeadSnapshot()}function rx(n,a,s){n.translate=vt(a.translate,0,s),n.scale=vt(a.scale,1,s),n.origin=a.origin,n.originPoint=a.originPoint}function lx(n,a,s,o){n.min=vt(a.min,s.min,o),n.max=vt(a.max,s.max,o)}function ED(n,a,s,o){lx(n.x,a.x,s.x,o),lx(n.y,a.y,s.y,o)}function jD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const MD={duration:.45,ease:[.4,0,.1,1]},cx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ux=cx("applewebkit/")&&!cx("chrome/")?Math.round:Vn;function dx(n){n.min=ux(n.min),n.max=ux(n.max)}function RD(n){dx(n.x),dx(n.y)}function G0(n,a,s){return n==="position"||n==="preserve-aspect"&&!LR(nx(a),nx(s),.2)}function DD(n){return n!==n.root&&n.scroll?.wasRoot}const kD=q0({attachResizeListener:(n,a)=>ar(n,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kd={current:void 0},$0=q0({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Kd.current){const n=new kD({});n.mount(window),n.setOptions({layoutScroll:!0}),Kd.current=n}return Kd.current},resetTransform:(n,a)=>{n.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),zD={pan:{Feature:JR},drag:{Feature:ZR,ProjectionNode:$0,MeasureLayout:L0}};function fx(n,a,s){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=o[l];u&&ft.postRender(()=>u(a,mr(a)))}class ND extends ni{mount(){const{current:a}=this.node;a&&(this.unmount=aM(a,(s,o)=>(fx(this.node,o,"Start"),l=>fx(this.node,l,"End"))))}unmount(){}}class OD extends ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fr(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function px(n,a,s){const{props:o}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=o[l];u&&ft.postRender(()=>u(a,mr(a)))}class UD extends ni{mount(){const{current:a}=this.node;a&&(this.unmount=rM(a,(s,o)=>(px(this.node,o,"Start"),(l,{success:u})=>px(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lf=new WeakMap,Wd=new WeakMap,BD=n=>{const a=Lf.get(n.target);a&&a(n)},LD=n=>{n.forEach(BD)};function VD({root:n,...a}){const s=n||document;Wd.has(s)||Wd.set(s,{});const o=Wd.get(s),l=JSON.stringify(a);return o[l]||(o[l]=new IntersectionObserver(LD,{root:n,...a})),o[l]}function ID(n,a,s){const o=VD(a);return Lf.set(n,s),o.observe(n),()=>{Lf.delete(n),o.unobserve(n)}}const PD={some:0,all:1};class HD extends ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:s,margin:o,amount:l="some",once:u}=a,d={root:s?s.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:PD[l]},p=m=>{const{isIntersecting:v}=m;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),S=v?y:x;S&&S(m)};return ID(this.node.current,d,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:s}=this.node;["amount","margin","root"].some(FD(a,s))&&this.startObserver()}unmount(){}}function FD({viewport:n={}},{viewport:a={}}={}){return s=>n[s]!==a[s]}const qD={inView:{Feature:HD},tap:{Feature:UD},focus:{Feature:OD},hover:{Feature:ND}},GD={layout:{ProjectionNode:$0,MeasureLayout:L0}},$D={...kR,...qD,...zD,...GD},Cn=XM($D,rR),YD=({isOpen:n,title:a,message:s,confirmText:o="Confirm",cancelText:l="Cancel",variant:u="danger",onConfirm:d,onCancel:p})=>h.jsx(tr,{children:n&&h.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},onClick:p,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:h.jsxs(Cn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},onClick:m=>m.stopPropagation(),style:{width:"100%",maxWidth:"400px",background:"#1e293b",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)",overflow:"hidden"},children:[h.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[h.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:u==="danger"?"#ef4444":u==="warning"?"#f59e0b":"#6366f1",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(M_,{size:20,color:"white"})}),h.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:"#f1f5f9"},children:a})]}),h.jsx("button",{onClick:p,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",transition:"color 0.15s ease"},onMouseEnter:m=>m.currentTarget.style.color="#f1f5f9",onMouseLeave:m=>m.currentTarget.style.color="#94a3b8",children:h.jsx(Oi,{size:20,strokeWidth:2.5})})]}),h.jsx("div",{style:{padding:"20px"},children:h.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:1.6,color:"#94a3b8"},children:s})}),h.jsxs("div",{style:{padding:"12px 20px 20px",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[h.jsx("button",{onClick:p,style:{padding:"10px 20px",borderRadius:"10px",border:"1px solid rgba(255, 255, 255, 0.15)",background:"rgba(255, 255, 255, 0.05)",color:"#94a3b8",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"background 0.15s ease"},onMouseEnter:m=>m.currentTarget.style.background="rgba(255, 255, 255, 0.1)",onMouseLeave:m=>m.currentTarget.style.background="rgba(255, 255, 255, 0.05)",children:l}),h.jsx("button",{onClick:d,style:{padding:"10px 20px",borderRadius:"10px",border:"none",background:u==="danger"?"#ef4444":u==="warning"?"#f59e0b":"#6366f1",color:"white",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"background 0.15s ease"},onMouseEnter:m=>m.currentTarget.style.opacity="0.9",onMouseLeave:m=>m.currentTarget.style.opacity="1",children:o})]})]})})});let Cs=null;const ql={init:n=>{Cs=n},show:n=>new Promise(a=>{console.log("[ConfirmModal] show() called, setConfirmState exists:",!!Cs),Cs?Cs({isOpen:!0,title:n.title,message:n.message,confirmText:n.confirmText||"Confirm",cancelText:n.cancelText||"Cancel",variant:n.variant||"danger",callback:a}):(console.warn("[ConfirmModal] Store not initialized! Using native confirm."),a(window.confirm(n.message)))}),close:n=>{Cs&&Cs(a=>(a.callback&&a.callback(n),{...a,isOpen:!1,callback:null}))}},aa=ql.show,XD=()=>{const[n,a]=na.useState({isOpen:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"danger",callback:null});return na.useEffect(()=>(console.log("[ConfirmModal] Initializing confirm store..."),ql.init(a),()=>{console.log("[ConfirmModal] Cleanup - resetting store")}),[]),h.jsx(YD,{isOpen:n.isOpen,title:n.title,message:n.message,confirmText:n.confirmText,cancelText:n.cancelText,variant:n.variant,onConfirm:()=>ql.close(!0),onCancel:()=>ql.close(!1)})},KD=n=>{if(!n||n==="undefined"||n==="null")return"?";const a=String(n).trim();if(!a||a.length===0)return"?";const s=a.split(/\s+/).filter(o=>o.length>0);return s.length===0?"?":s.length===1?s[0][0]?.toUpperCase()||"?":s.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},WD=({isOpen:n,onClose:a,isDarkMode:s=!1})=>{const[o,l]=C.useState([]),[u,d]=C.useState(!1),[p,m]=C.useState(""),[v,y]=C.useState(null);C.useEffect(()=>{n&&x()},[n]);const x=async()=>{d(!0),y(null);try{const _=await Qo.getAllUsers();l(_)}catch(_){console.error("Failed to load users:",_),_.response?.status===403?y("Access denied. You need admin privileges to view this panel."):y("Failed to load users. Please try again.")}finally{d(!1)}},S=async(_,j)=>{if(await aa({title:"Delete User",message:`Are you sure you want to delete user "${j}"? This action cannot be undone and all their data will be permanently deleted.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"}))try{await Qo.deleteUser(_),await x(),Oe.success(`User "${j}" has been deleted successfully.`)}catch(E){console.error("Failed to delete user:",E),E.response?.status===403?Oe.error("Access denied. You need admin privileges to delete users."):Oe.error("Failed to delete user. Please try again.")}},T=o.filter(_=>_.username.toLowerCase().includes(p.toLowerCase())||_.email.toLowerCase().includes(p.toLowerCase()));return n?h.jsx("div",{className:`${z.modalOverlay} ${s?z.darkMode:""}`,onClick:a,children:h.jsxs("div",{className:z.modal,onClick:_=>_.stopPropagation(),style:{maxWidth:"900px",width:"90%"},children:[h.jsxs("div",{className:z.modalHeader,children:[h.jsx("h2",{children:" Admin Panel - User Management"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),h.jsxs("div",{className:z.modalBody,style:{maxHeight:"70vh",overflowY:"auto"},children:[v&&h.jsx("div",{style:{padding:"12px",backgroundColor:"rgba(211, 47, 47, 0.1)",border:"1px solid rgba(211, 47, 47, 0.3)",borderRadius:"6px",color:"#d32f2f",marginBottom:"16px"},children:v}),h.jsx("div",{className:z.formGroup,style:{marginBottom:"16px"},children:h.jsx("input",{type:"text",placeholder:"Search users by username or email...",value:p,onChange:_=>m(_.target.value),className:z.formInput,style:{margin:0}})}),u?h.jsx("div",{className:z.loadingState,children:"Loading users..."}):T.length===0?h.jsx("div",{className:z.emptyState,children:p?"No users match your search":"No users found"}):h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[h.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"6px",fontWeight:600,fontSize:"14px",color:"var(--text)"},children:["Total Users: ",T.length]}),h.jsx("div",{style:{overflowX:"auto"},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"var(--surface)",borderRadius:"8px",overflow:"hidden"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{backgroundColor:"var(--background)",borderBottom:"2px solid var(--border)"},children:[h.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"User"}),h.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Email"}),h.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Status"}),h.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Actions"})]})}),h.jsx("tbody",{children:T.map(_=>h.jsxs("tr",{style:{borderBottom:"1px solid var(--border)",transition:"background-color 0.2s"},onMouseEnter:j=>{j.currentTarget.style.backgroundColor="var(--background)"},onMouseLeave:j=>{j.currentTarget.style.backgroundColor="transparent"},children:[h.jsx("td",{style:{padding:"12px"},children:h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[_.avatar?h.jsx("img",{src:_.avatar,alt:_.username,style:{width:"36px",height:"36px",borderRadius:"50%",objectFit:"cover"}}):h.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:"14px"},children:KD(_.username)}),h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)"},children:_.username}),_.bio&&h.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.bio})]})]})}),h.jsx("td",{style:{padding:"12px",fontSize:"13px",color:"var(--text-secondary)"},children:_.email}),h.jsx("td",{style:{padding:"12px"},children:h.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:600,backgroundColor:_.onlineStatus==="online"?"rgba(16, 185, 129, 0.15)":_.onlineStatus==="away"?"rgba(245, 158, 11, 0.15)":"rgba(107, 114, 128, 0.15)",color:_.onlineStatus==="online"?"#10b981":_.onlineStatus==="away"?"#f59e0b":"#6b7280"},children:_.onlineStatus})}),h.jsx("td",{style:{padding:"12px",textAlign:"center"},children:h.jsx("button",{onClick:()=>S(_.id,_.username),style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s"},onMouseEnter:j=>{j.currentTarget.style.opacity="0.9",j.currentTarget.style.transform="scale(1.05)"},onMouseLeave:j=>{j.currentTarget.style.opacity="1",j.currentTarget.style.transform="scale(1)"},children:" Delete"})})]},_.id))})]})})]})]}),h.jsxs("div",{className:z.modalFooter,children:[h.jsx("button",{onClick:x,className:z.secondaryButton,disabled:u,children:" Refresh"}),h.jsx("button",{onClick:a,className:z.primaryButton,children:"Close"})]})]})}):null};class zi extends Error{constructor(a,s){const o=new.target.prototype;super(`${a}: Status code '${s}'`),this.statusCode=s,this.__proto__=o}}class Ep extends Error{constructor(a="A timeout occurred."){const s=new.target.prototype;super(a),this.__proto__=s}}class Yn extends Error{constructor(a="An abort occurred."){const s=new.target.prototype;super(a),this.__proto__=s}}class QD extends Error{constructor(a,s){const o=new.target.prototype;super(a),this.transport=s,this.errorType="UnsupportedTransportError",this.__proto__=o}}class ZD extends Error{constructor(a,s){const o=new.target.prototype;super(a),this.transport=s,this.errorType="DisabledTransportError",this.__proto__=o}}class JD extends Error{constructor(a,s){const o=new.target.prototype;super(a),this.transport=s,this.errorType="FailedToStartTransportError",this.__proto__=o}}class hx extends Error{constructor(a){const s=new.target.prototype;super(a),this.errorType="FailedToNegotiateWithServerError",this.__proto__=s}}class ek extends Error{constructor(a,s){const o=new.target.prototype;super(a),this.innerErrors=s,this.__proto__=o}}class Y0{constructor(a,s,o){this.statusCode=a,this.statusText=s,this.content=o}}class mc{get(a,s){return this.send({...s,method:"GET",url:a})}post(a,s){return this.send({...s,method:"POST",url:a})}delete(a,s){return this.send({...s,method:"DELETE",url:a})}getCookieString(a){return""}}var P;(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None"})(P||(P={}));class ir{constructor(){}log(a,s){}}ir.instance=new ir;const tk="10.0.0";class Ut{static isRequired(a,s){if(a==null)throw new Error(`The '${s}' argument is required.`)}static isNotEmpty(a,s){if(!a||a.match(/^\s*$/))throw new Error(`The '${s}' argument should not be empty.`)}static isIn(a,s,o){if(!(a in s))throw new Error(`Unknown ${o} value: ${a}.`)}}class yt{static get isBrowser(){return!yt.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!yt.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!yt.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function sr(n,a){let s="";return Bi(n)?(s=`Binary data of length ${n.byteLength}`,a&&(s+=`. Content: '${nk(n)}'`)):typeof n=="string"&&(s=`String data of length ${n.length}`,a&&(s+=`. Content: '${n}'`)),s}function nk(n){const a=new Uint8Array(n);let s="";return a.forEach(o=>{const l=o<16?"0":"";s+=`0x${l}${o.toString(16)} `}),s.substring(0,s.length-1)}function Bi(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}async function X0(n,a,s,o,l,u){const d={},[p,m]=Bs();d[p]=m,n.log(P.Trace,`(${a} transport) sending data. ${sr(l,u.logMessageContent)}.`);const v=Bi(l)?"arraybuffer":"text",y=await s.post(o,{content:l,headers:{...d,...u.headers},responseType:v,timeout:u.timeout,withCredentials:u.withCredentials});n.log(P.Trace,`(${a} transport) request complete. Response status: ${y.statusCode}.`)}function ak(n){return n===void 0?new tc(P.Information):n===null?ir.instance:n.log!==void 0?n:new tc(n)}class ik{constructor(a,s){this._subject=a,this._observer=s}dispose(){const a=this._subject.observers.indexOf(this._observer);a>-1&&this._subject.observers.splice(a,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(s=>{})}}class tc{constructor(a){this._minLevel=a,this.out=console}log(a,s){if(a>=this._minLevel){const o=`[${new Date().toISOString()}] ${P[a]}: ${s}`;switch(a){case P.Critical:case P.Error:this.out.error(o);break;case P.Warning:this.out.warn(o);break;case P.Information:this.out.info(o);break;default:this.out.log(o);break}}}}function Bs(){let n="X-SignalR-User-Agent";return yt.isNode&&(n="User-Agent"),[n,sk(tk,ok(),lk(),rk())]}function sk(n,a,s,o){let l="Microsoft SignalR/";const u=n.split(".");return l+=`${u[0]}.${u[1]}`,l+=` (${n}; `,a&&a!==""?l+=`${a}; `:l+="Unknown OS; ",l+=`${s}`,o?l+=`; ${o}`:l+="; Unknown Runtime Version",l+=")",l}function ok(){if(yt.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function rk(){if(yt.isNode)return process.versions.node}function lk(){return yt.isNode?"NodeJS":"Browser"}function Qd(n){return n.stack?n.stack:n.message?n.message:`${n}`}function ck(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class uk extends mc{constructor(a){if(super(),this._logger=a,typeof fetch>"u"||yt.isNode){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(s("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=s("node-fetch"):this._fetchType=fetch,this._fetchType=s("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(ck());if(typeof AbortController>"u"){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=s("abort-controller")}else this._abortControllerType=AbortController}async send(a){if(a.abortSignal&&a.abortSignal.aborted)throw new Yn;if(!a.method)throw new Error("No method defined.");if(!a.url)throw new Error("No url defined.");const s=new this._abortControllerType;let o;a.abortSignal&&(a.abortSignal.onabort=()=>{s.abort(),o=new Yn});let l=null;if(a.timeout){const m=a.timeout;l=setTimeout(()=>{s.abort(),this._logger.log(P.Warning,"Timeout from HTTP request."),o=new Ep},m)}a.content===""&&(a.content=void 0),a.content&&(a.headers=a.headers||{},Bi(a.content)?a.headers["Content-Type"]="application/octet-stream":a.headers["Content-Type"]="text/plain;charset=UTF-8");let u;try{u=await this._fetchType(a.url,{body:a.content,cache:"no-cache",credentials:a.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...a.headers},method:a.method,mode:"cors",redirect:"follow",signal:s.signal})}catch(m){throw o||(this._logger.log(P.Warning,`Error from HTTP request. ${m}.`),m)}finally{l&&clearTimeout(l),a.abortSignal&&(a.abortSignal.onabort=null)}if(!u.ok){const m=await mx(u,"text");throw new zi(m||u.statusText,u.status)}const p=await mx(u,a.responseType);return new Y0(u.status,u.statusText,p)}getCookieString(a){let s="";return yt.isNode&&this._jar&&this._jar.getCookies(a,(o,l)=>s=l.join("; ")),s}}function mx(n,a){let s;switch(a){case"arraybuffer":s=n.arrayBuffer();break;case"text":s=n.text();break;case"blob":case"document":case"json":throw new Error(`${a} is not supported.`);default:s=n.text();break}return s}class dk extends mc{constructor(a){super(),this._logger=a}send(a){return a.abortSignal&&a.abortSignal.aborted?Promise.reject(new Yn):a.method?a.url?new Promise((s,o)=>{const l=new XMLHttpRequest;l.open(a.method,a.url,!0),l.withCredentials=a.withCredentials===void 0?!0:a.withCredentials,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.content===""&&(a.content=void 0),a.content&&(Bi(a.content)?l.setRequestHeader("Content-Type","application/octet-stream"):l.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const u=a.headers;u&&Object.keys(u).forEach(d=>{l.setRequestHeader(d,u[d])}),a.responseType&&(l.responseType=a.responseType),a.abortSignal&&(a.abortSignal.onabort=()=>{l.abort(),o(new Yn)}),a.timeout&&(l.timeout=a.timeout),l.onload=()=>{a.abortSignal&&(a.abortSignal.onabort=null),l.status>=200&&l.status<300?s(new Y0(l.status,l.statusText,l.response||l.responseText)):o(new zi(l.response||l.responseText||l.statusText,l.status))},l.onerror=()=>{this._logger.log(P.Warning,`Error from HTTP request. ${l.status}: ${l.statusText}.`),o(new zi(l.statusText,l.status))},l.ontimeout=()=>{this._logger.log(P.Warning,"Timeout from HTTP request."),o(new Ep)},l.send(a.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class fk extends mc{constructor(a){if(super(),typeof fetch<"u"||yt.isNode)this._httpClient=new uk(a);else if(typeof XMLHttpRequest<"u")this._httpClient=new dk(a);else throw new Error("No usable HttpClient found.")}send(a){return a.abortSignal&&a.abortSignal.aborted?Promise.reject(new Yn):a.method?a.url?this._httpClient.send(a):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(a){return this._httpClient.getCookieString(a)}}class Tn{static write(a){return`${a}${Tn.RecordSeparator}`}static parse(a){if(a[a.length-1]!==Tn.RecordSeparator)throw new Error("Message is incomplete.");const s=a.split(Tn.RecordSeparator);return s.pop(),s}}Tn.RecordSeparatorCode=30;Tn.RecordSeparator=String.fromCharCode(Tn.RecordSeparatorCode);class pk{writeHandshakeRequest(a){return Tn.write(JSON.stringify(a))}parseHandshakeResponse(a){let s,o;if(Bi(a)){const p=new Uint8Array(a),m=p.indexOf(Tn.RecordSeparatorCode);if(m===-1)throw new Error("Message is incomplete.");const v=m+1;s=String.fromCharCode.apply(null,Array.prototype.slice.call(p.slice(0,v))),o=p.byteLength>v?p.slice(v).buffer:null}else{const p=a,m=p.indexOf(Tn.RecordSeparator);if(m===-1)throw new Error("Message is incomplete.");const v=m+1;s=p.substring(0,v),o=p.length>v?p.substring(v):null}const l=Tn.parse(s),u=JSON.parse(l[0]);if(u.type)throw new Error("Expected a handshake response from the server.");return[o,u]}}var Ce;(function(n){n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close",n[n.Ack=8]="Ack",n[n.Sequence=9]="Sequence"})(Ce||(Ce={}));class hk{constructor(){this.observers=[]}next(a){for(const s of this.observers)s.next(a)}error(a){for(const s of this.observers)s.error&&s.error(a)}complete(){for(const a of this.observers)a.complete&&a.complete()}subscribe(a){return this.observers.push(a),new ik(this,a)}}class mk{constructor(a,s,o){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=a,this._connection=s,this._bufferSize=o}async _send(a){const s=this._protocol.writeMessage(a);let o=Promise.resolve();if(this._isInvocationMessage(a)){this._totalMessageCount++;let l=()=>{},u=()=>{};Bi(s)?this._bufferedByteCount+=s.byteLength:this._bufferedByteCount+=s.length,this._bufferedByteCount>=this._bufferSize&&(o=new Promise((d,p)=>{l=d,u=p})),this._messages.push(new gk(s,this._totalMessageCount,l,u))}try{this._reconnectInProgress||await this._connection.send(s)}catch{this._disconnected()}await o}_ack(a){let s=-1;for(let o=0;o<this._messages.length;o++){const l=this._messages[o];if(l._id<=a.sequenceId)s=o,Bi(l._message)?this._bufferedByteCount-=l._message.byteLength:this._bufferedByteCount-=l._message.length,l._resolver();else if(this._bufferedByteCount<this._bufferSize)l._resolver();else break}s!==-1&&(this._messages=this._messages.slice(s+1))}_shouldProcessMessage(a){if(this._waitForSequenceMessage)return a.type!==Ce.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(a))return!0;const s=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,s<=this._latestReceivedSequenceId?(s===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=s,this._ackTimer(),!0)}_resetSequence(a){if(a.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=a.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const a=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Ce.Sequence,sequenceId:a}));const s=this._messages;for(const o of s)await this._connection.send(o._message);this._reconnectInProgress=!1}_dispose(a){a??(a=new Error("Unable to reconnect to server."));for(const s of this._messages)s._rejector(a)}_isInvocationMessage(a){switch(a.type){case Ce.Invocation:case Ce.StreamItem:case Ce.Completion:case Ce.StreamInvocation:case Ce.CancelInvocation:return!0;case Ce.Close:case Ce.Sequence:case Ce.Ping:case Ce.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Ce.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class gk{constructor(a,s,o,l){this._message=a,this._id=s,this._resolver=o,this._rejector=l}}const yk=30*1e3,vk=15*1e3,xk=1e5;var Xe;(function(n){n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting"})(Xe||(Xe={}));class jp{static create(a,s,o,l,u,d,p){return new jp(a,s,o,l,u,d,p)}constructor(a,s,o,l,u,d,p){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(P.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ut.isRequired(a,"connection"),Ut.isRequired(s,"logger"),Ut.isRequired(o,"protocol"),this.serverTimeoutInMilliseconds=u??yk,this.keepAliveIntervalInMilliseconds=d??vk,this._statefulReconnectBufferSize=p??xk,this._logger=s,this._protocol=o,this.connection=a,this._reconnectPolicy=l,this._handshakeProtocol=new pk,this.connection.onreceive=m=>this._processIncomingData(m),this.connection.onclose=m=>this._connectionClosed(m),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Xe.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Ce.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(a){if(this._connectionState!==Xe.Disconnected&&this._connectionState!==Xe.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!a)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=a}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Xe.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Xe.Connecting,this._logger.log(P.Debug,"Starting HubConnection.");try{await this._startInternal(),yt.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Xe.Connected,this._connectionStarted=!0,this._logger.log(P.Debug,"HubConnection connected successfully.")}catch(a){return this._connectionState=Xe.Disconnected,this._logger.log(P.Debug,`HubConnection failed to start successfully because of error '${a}'.`),Promise.reject(a)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const a=new Promise((s,o)=>{this._handshakeResolver=s,this._handshakeRejecter=o});await this.connection.start(this._protocol.transferFormat);try{let s=this._protocol.version;this.connection.features.reconnect||(s=1);const o={protocol:this._protocol.name,version:s};if(this._logger.log(P.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(o)),this._logger.log(P.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await a,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new mk(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(s){throw this._logger.log(P.Debug,`Hub handshake failed with error '${s}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(s),s}}async stop(){const a=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await a}catch{}}_stopInternal(a){if(this._connectionState===Xe.Disconnected)return this._logger.log(P.Debug,`Call to HubConnection.stop(${a}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Xe.Disconnecting)return this._logger.log(P.Debug,`Call to HttpConnection.stop(${a}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const s=this._connectionState;return this._connectionState=Xe.Disconnecting,this._logger.log(P.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(P.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(s===Xe.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=a||new Yn("The connection was stopped before the hub handshake could complete."),this.connection.stop(a))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(a,...s){const[o,l]=this._replaceStreamingParams(s),u=this._createStreamInvocation(a,s,l);let d;const p=new hk;return p.cancelCallback=()=>{const m=this._createCancelInvocation(u.invocationId);return delete this._callbacks[u.invocationId],d.then(()=>this._sendWithProtocol(m))},this._callbacks[u.invocationId]=(m,v)=>{if(v){p.error(v);return}else m&&(m.type===Ce.Completion?m.error?p.error(new Error(m.error)):p.complete():p.next(m.item))},d=this._sendWithProtocol(u).catch(m=>{p.error(m),delete this._callbacks[u.invocationId]}),this._launchStreams(o,d),p}_sendMessage(a){return this._resetKeepAliveInterval(),this.connection.send(a)}_sendWithProtocol(a){return this._messageBuffer?this._messageBuffer._send(a):this._sendMessage(this._protocol.writeMessage(a))}send(a,...s){const[o,l]=this._replaceStreamingParams(s),u=this._sendWithProtocol(this._createInvocation(a,s,!0,l));return this._launchStreams(o,u),u}invoke(a,...s){const[o,l]=this._replaceStreamingParams(s),u=this._createInvocation(a,s,!1,l);return new Promise((p,m)=>{this._callbacks[u.invocationId]=(y,x)=>{if(x){m(x);return}else y&&(y.type===Ce.Completion?y.error?m(new Error(y.error)):p(y.result):m(new Error(`Unexpected message type: ${y.type}`)))};const v=this._sendWithProtocol(u).catch(y=>{m(y),delete this._callbacks[u.invocationId]});this._launchStreams(o,v)})}on(a,s){!a||!s||(a=a.toLowerCase(),this._methods[a]||(this._methods[a]=[]),this._methods[a].indexOf(s)===-1&&this._methods[a].push(s))}off(a,s){if(!a)return;a=a.toLowerCase();const o=this._methods[a];if(o)if(s){const l=o.indexOf(s);l!==-1&&(o.splice(l,1),o.length===0&&delete this._methods[a])}else delete this._methods[a]}onclose(a){a&&this._closedCallbacks.push(a)}onreconnecting(a){a&&this._reconnectingCallbacks.push(a)}onreconnected(a){a&&this._reconnectedCallbacks.push(a)}_processIncomingData(a){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(a=this._processHandshakeResponse(a),this._receivedHandshakeResponse=!0),a){const s=this._protocol.parseMessages(a,this._logger);for(const o of s)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(o)))switch(o.type){case Ce.Invocation:this._invokeClientMethod(o).catch(l=>{this._logger.log(P.Error,`Invoke client method threw error: ${Qd(l)}`)});break;case Ce.StreamItem:case Ce.Completion:{const l=this._callbacks[o.invocationId];if(l){o.type===Ce.Completion&&delete this._callbacks[o.invocationId];try{l(o)}catch(u){this._logger.log(P.Error,`Stream callback threw error: ${Qd(u)}`)}}break}case Ce.Ping:break;case Ce.Close:{this._logger.log(P.Information,"Close message received from server.");const l=o.error?new Error("Server returned an error on close: "+o.error):void 0;o.allowReconnect===!0?this.connection.stop(l):this._stopPromise=this._stopInternal(l);break}case Ce.Ack:this._messageBuffer&&this._messageBuffer._ack(o);break;case Ce.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(o);break;default:this._logger.log(P.Warning,`Invalid message type: ${o.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(a){let s,o;try{[o,s]=this._handshakeProtocol.parseHandshakeResponse(a)}catch(l){const u="Error parsing handshake response: "+l;this._logger.log(P.Error,u);const d=new Error(u);throw this._handshakeRejecter(d),d}if(s.error){const l="Server returned handshake error: "+s.error;this._logger.log(P.Error,l);const u=new Error(l);throw this._handshakeRejecter(u),u}else this._logger.log(P.Debug,"Server handshake complete.");return this._handshakeResolver(),o}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let a=this._nextKeepAlive-new Date().getTime();if(a<0){this._connectionState===Xe.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(a<0&&(a=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===Xe.Connected&&await this._trySendPingMessage()},a))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(a){const s=a.target.toLowerCase(),o=this._methods[s];if(!o){this._logger.log(P.Warning,`No client method with the name '${s}' found.`),a.invocationId&&(this._logger.log(P.Warning,`No result given for '${s}' method and invocation ID '${a.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(a.invocationId,"Client didn't provide a result.",null)));return}const l=o.slice(),u=!!a.invocationId;let d,p,m;for(const v of l)try{const y=d;d=await v.apply(this,a.arguments),u&&d&&y&&(this._logger.log(P.Error,`Multiple results provided for '${s}'. Sending error to server.`),m=this._createCompletionMessage(a.invocationId,"Client provided multiple results.",null)),p=void 0}catch(y){p=y,this._logger.log(P.Error,`A callback for the method '${s}' threw error '${y}'.`)}m?await this._sendWithProtocol(m):u?(p?m=this._createCompletionMessage(a.invocationId,`${p}`,null):d!==void 0?m=this._createCompletionMessage(a.invocationId,null,d):(this._logger.log(P.Warning,`No result given for '${s}' method and invocation ID '${a.invocationId}'.`),m=this._createCompletionMessage(a.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(m)):d&&this._logger.log(P.Error,`Result given for '${s}' method but server is not expecting a result.`)}_connectionClosed(a){this._logger.log(P.Debug,`HubConnection.connectionClosed(${a}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||a||new Yn("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(a||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Xe.Disconnecting?this._completeClose(a):this._connectionState===Xe.Connected&&this._reconnectPolicy?this._reconnect(a):this._connectionState===Xe.Connected&&this._completeClose(a)}_completeClose(a){if(this._connectionStarted){this._connectionState=Xe.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(a??new Error("Connection closed.")),this._messageBuffer=void 0),yt.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(s=>s.apply(this,[a]))}catch(s){this._logger.log(P.Error,`An onclose callback called with error '${a}' threw error '${s}'.`)}}}async _reconnect(a){const s=Date.now();let o=0,l=a!==void 0?a:new Error("Attempting to reconnect due to a unknown error."),u=this._getNextRetryDelay(o,0,l);if(u===null){this._logger.log(P.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(a);return}if(this._connectionState=Xe.Reconnecting,a?this._logger.log(P.Information,`Connection reconnecting because of error '${a}'.`):this._logger.log(P.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(d=>d.apply(this,[a]))}catch(d){this._logger.log(P.Error,`An onreconnecting callback called with error '${a}' threw error '${d}'.`)}if(this._connectionState!==Xe.Reconnecting){this._logger.log(P.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;u!==null;){if(this._logger.log(P.Information,`Reconnect attempt number ${o+1} will start in ${u} ms.`),await new Promise(d=>{this._reconnectDelayHandle=setTimeout(d,u)}),this._reconnectDelayHandle=void 0,this._connectionState!==Xe.Reconnecting){this._logger.log(P.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Xe.Connected,this._logger.log(P.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(d=>d.apply(this,[this.connection.connectionId]))}catch(d){this._logger.log(P.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${d}'.`)}return}catch(d){if(this._logger.log(P.Information,`Reconnect attempt failed because of error '${d}'.`),this._connectionState!==Xe.Reconnecting){this._logger.log(P.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Xe.Disconnecting&&this._completeClose();return}o++,l=d instanceof Error?d:new Error(d.toString()),u=this._getNextRetryDelay(o,Date.now()-s,l)}}this._logger.log(P.Information,`Reconnect retries have been exhausted after ${Date.now()-s} ms and ${o} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(a,s,o){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:s,previousRetryCount:a,retryReason:o})}catch(l){return this._logger.log(P.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${a}, ${s}) threw error '${l}'.`),null}}_cancelCallbacksWithError(a){const s=this._callbacks;this._callbacks={},Object.keys(s).forEach(o=>{const l=s[o];try{l(null,a)}catch(u){this._logger.log(P.Error,`Stream 'error' callback called with '${a}' threw error: ${Qd(u)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(a,s,o,l){if(o)return l.length!==0?{target:a,arguments:s,streamIds:l,type:Ce.Invocation}:{target:a,arguments:s,type:Ce.Invocation};{const u=this._invocationId;return this._invocationId++,l.length!==0?{target:a,arguments:s,invocationId:u.toString(),streamIds:l,type:Ce.Invocation}:{target:a,arguments:s,invocationId:u.toString(),type:Ce.Invocation}}}_launchStreams(a,s){if(a.length!==0){s||(s=Promise.resolve());for(const o in a)a[o].subscribe({complete:()=>{s=s.then(()=>this._sendWithProtocol(this._createCompletionMessage(o)))},error:l=>{let u;l instanceof Error?u=l.message:l&&l.toString?u=l.toString():u="Unknown error",s=s.then(()=>this._sendWithProtocol(this._createCompletionMessage(o,u)))},next:l=>{s=s.then(()=>this._sendWithProtocol(this._createStreamItemMessage(o,l)))}})}}_replaceStreamingParams(a){const s=[],o=[];for(let l=0;l<a.length;l++){const u=a[l];if(this._isObservable(u)){const d=this._invocationId;this._invocationId++,s[d]=u,o.push(d.toString()),a.splice(l,1)}}return[s,o]}_isObservable(a){return a&&a.subscribe&&typeof a.subscribe=="function"}_createStreamInvocation(a,s,o){const l=this._invocationId;return this._invocationId++,o.length!==0?{target:a,arguments:s,invocationId:l.toString(),streamIds:o,type:Ce.StreamInvocation}:{target:a,arguments:s,invocationId:l.toString(),type:Ce.StreamInvocation}}_createCancelInvocation(a){return{invocationId:a,type:Ce.CancelInvocation}}_createStreamItemMessage(a,s){return{invocationId:a,item:s,type:Ce.StreamItem}}_createCompletionMessage(a,s,o){return s?{error:s,invocationId:a,type:Ce.Completion}:{invocationId:a,result:o,type:Ce.Completion}}_createCloseMessage(){return{type:Ce.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const bk=[0,2e3,1e4,3e4,null];class gx{constructor(a){this._retryDelays=a!==void 0?[...a,null]:bk}nextRetryDelayInMilliseconds(a){return this._retryDelays[a.previousRetryCount]}}class Ni{}Ni.Authorization="Authorization";Ni.Cookie="Cookie";class Sk extends mc{constructor(a,s){super(),this._innerClient=a,this._accessTokenFactory=s}async send(a){let s=!0;this._accessTokenFactory&&(!this._accessToken||a.url&&a.url.indexOf("/negotiate?")>0)&&(s=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(a);const o=await this._innerClient.send(a);return s&&o.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(a),await this._innerClient.send(a)):o}_setAuthorizationHeader(a){a.headers||(a.headers={}),this._accessToken?a.headers[Ni.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&a.headers[Ni.Authorization]&&delete a.headers[Ni.Authorization]}getCookieString(a){return this._innerClient.getCookieString(a)}}var _t;(function(n){n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling"})(_t||(_t={}));var Qt;(function(n){n[n.Text=1]="Text",n[n.Binary=2]="Binary"})(Qt||(Qt={}));let _k=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class yx{get pollAborted(){return this._pollAbort.aborted}constructor(a,s,o){this._httpClient=a,this._logger=s,this._pollAbort=new _k,this._options=o,this._running=!1,this.onreceive=null,this.onclose=null}async connect(a,s){if(Ut.isRequired(a,"url"),Ut.isRequired(s,"transferFormat"),Ut.isIn(s,Qt,"transferFormat"),this._url=a,this._logger.log(P.Trace,"(LongPolling transport) Connecting."),s===Qt.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,l]=Bs(),u={[o]:l,...this._options.headers},d={abortSignal:this._pollAbort.signal,headers:u,timeout:1e5,withCredentials:this._options.withCredentials};s===Qt.Binary&&(d.responseType="arraybuffer");const p=`${a}&_=${Date.now()}`;this._logger.log(P.Trace,`(LongPolling transport) polling: ${p}.`);const m=await this._httpClient.get(p,d);m.statusCode!==200?(this._logger.log(P.Error,`(LongPolling transport) Unexpected response code: ${m.statusCode}.`),this._closeError=new zi(m.statusText||"",m.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,d)}async _poll(a,s){try{for(;this._running;)try{const o=`${a}&_=${Date.now()}`;this._logger.log(P.Trace,`(LongPolling transport) polling: ${o}.`);const l=await this._httpClient.get(o,s);l.statusCode===204?(this._logger.log(P.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):l.statusCode!==200?(this._logger.log(P.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new zi(l.statusText||"",l.statusCode),this._running=!1):l.content?(this._logger.log(P.Trace,`(LongPolling transport) data received. ${sr(l.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(l.content)):this._logger.log(P.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){this._running?o instanceof Ep?this._logger.log(P.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=o,this._running=!1):this._logger.log(P.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{this._logger.log(P.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(a){return this._running?X0(this._logger,"LongPolling",this._httpClient,this._url,a,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(P.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(P.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const a={},[s,o]=Bs();a[s]=o;const l={headers:{...a,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let u;try{await this._httpClient.delete(this._url,l)}catch(d){u=d}u?u instanceof zi&&(u.statusCode===404?this._logger.log(P.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(P.Trace,`(LongPolling transport) Error sending a DELETE request: ${u}`)):this._logger.log(P.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(P.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let a="(LongPolling transport) Firing onclose event.";this._closeError&&(a+=" Error: "+this._closeError),this._logger.log(P.Trace,a),this.onclose(this._closeError)}}}class wk{constructor(a,s,o,l){this._httpClient=a,this._accessToken=s,this._logger=o,this._options=l,this.onreceive=null,this.onclose=null}async connect(a,s){return Ut.isRequired(a,"url"),Ut.isRequired(s,"transferFormat"),Ut.isIn(s,Qt,"transferFormat"),this._logger.log(P.Trace,"(SSE transport) Connecting."),this._url=a,this._accessToken&&(a+=(a.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((o,l)=>{let u=!1;if(s!==Qt.Text){l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let d;if(yt.isBrowser||yt.isWebWorker)d=new this._options.EventSource(a,{withCredentials:this._options.withCredentials});else{const p=this._httpClient.getCookieString(a),m={};m.Cookie=p;const[v,y]=Bs();m[v]=y,d=new this._options.EventSource(a,{withCredentials:this._options.withCredentials,headers:{...m,...this._options.headers}})}try{d.onmessage=p=>{if(this.onreceive)try{this._logger.log(P.Trace,`(SSE transport) data received. ${sr(p.data,this._options.logMessageContent)}.`),this.onreceive(p.data)}catch(m){this._close(m);return}},d.onerror=p=>{u?this._close():l(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},d.onopen=()=>{this._logger.log(P.Information,`SSE connected to ${this._url}`),this._eventSource=d,u=!0,o()}}catch(p){l(p);return}})}async send(a){return this._eventSource?X0(this._logger,"SSE",this._httpClient,this._url,a,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(a){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(a))}}class Ck{constructor(a,s,o,l,u,d){this._logger=o,this._accessTokenFactory=s,this._logMessageContent=l,this._webSocketConstructor=u,this._httpClient=a,this.onreceive=null,this.onclose=null,this._headers=d}async connect(a,s){Ut.isRequired(a,"url"),Ut.isRequired(s,"transferFormat"),Ut.isIn(s,Qt,"transferFormat"),this._logger.log(P.Trace,"(WebSockets transport) Connecting.");let o;return this._accessTokenFactory&&(o=await this._accessTokenFactory()),new Promise((l,u)=>{a=a.replace(/^http/,"ws");let d;const p=this._httpClient.getCookieString(a);let m=!1;if(yt.isNode||yt.isReactNative){const v={},[y,x]=Bs();v[y]=x,o&&(v[Ni.Authorization]=`Bearer ${o}`),p&&(v[Ni.Cookie]=p),d=new this._webSocketConstructor(a,void 0,{headers:{...v,...this._headers}})}else o&&(a+=(a.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);d||(d=new this._webSocketConstructor(a)),s===Qt.Binary&&(d.binaryType="arraybuffer"),d.onopen=v=>{this._logger.log(P.Information,`WebSocket connected to ${a}.`),this._webSocket=d,m=!0,l()},d.onerror=v=>{let y=null;typeof ErrorEvent<"u"&&v instanceof ErrorEvent?y=v.error:y="There was an error with the transport",this._logger.log(P.Information,`(WebSockets transport) ${y}.`)},d.onmessage=v=>{if(this._logger.log(P.Trace,`(WebSockets transport) data received. ${sr(v.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(v.data)}catch(y){this._close(y);return}},d.onclose=v=>{if(m)this._close(v);else{let y=null;typeof ErrorEvent<"u"&&v instanceof ErrorEvent?y=v.error:y="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",u(new Error(y))}}})}send(a){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(P.Trace,`(WebSockets transport) sending data. ${sr(a,this._logMessageContent)}.`),this._webSocket.send(a),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(a){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(P.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(a)&&(a.wasClean===!1||a.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${a.code} (${a.reason||"no reason given"}).`)):a instanceof Error?this.onclose(a):this.onclose())}_isCloseEvent(a){return a&&typeof a.wasClean=="boolean"&&typeof a.code=="number"}}const vx=100;class Tk{constructor(a,s={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ut.isRequired(a,"url"),this._logger=ak(s.logger),this.baseUrl=this._resolveUrl(a),s=s||{},s.logMessageContent=s.logMessageContent===void 0?!1:s.logMessageContent,typeof s.withCredentials=="boolean"||s.withCredentials===void 0)s.withCredentials=s.withCredentials===void 0?!0:s.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");s.timeout=s.timeout===void 0?100*1e3:s.timeout;let o=null,l=null;if(yt.isNode&&typeof require<"u"){const u=typeof __webpack_require__=="function"?__non_webpack_require__:require;o=u("ws"),l=u("eventsource")}!yt.isNode&&typeof WebSocket<"u"&&!s.WebSocket?s.WebSocket=WebSocket:yt.isNode&&!s.WebSocket&&o&&(s.WebSocket=o),!yt.isNode&&typeof EventSource<"u"&&!s.EventSource?s.EventSource=EventSource:yt.isNode&&!s.EventSource&&typeof l<"u"&&(s.EventSource=l),this._httpClient=new Sk(s.httpClient||new fk(this._logger),s.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=s,this.onreceive=null,this.onclose=null}async start(a){if(a=a||Qt.Binary,Ut.isIn(a,Qt,"transferFormat"),this._logger.log(P.Debug,`Starting connection with transfer format '${Qt[a]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(a),await this._startInternalPromise,this._connectionState==="Disconnecting"){const s="Failed to start the HttpConnection before stop() was called.";return this._logger.log(P.Error,s),await this._stopPromise,Promise.reject(new Yn(s))}else if(this._connectionState!=="Connected"){const s="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(P.Error,s),Promise.reject(new Yn(s))}this._connectionStarted=!0}send(a){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Mp(this.transport)),this._sendQueue.send(a))}async stop(a){if(this._connectionState==="Disconnected")return this._logger.log(P.Debug,`Call to HttpConnection.stop(${a}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(P.Debug,`Call to HttpConnection.stop(${a}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(s=>{this._stopPromiseResolver=s}),await this._stopInternal(a),await this._stopPromise}async _stopInternal(a){this._stopError=a;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(s){this._logger.log(P.Error,`HttpConnection.transport.stop() threw error '${s}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(P.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(a){let s=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===_t.WebSockets)this.transport=this._constructTransport(_t.WebSockets),await this._startTransport(s,a);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let o=null,l=0;do{if(o=await this._getNegotiationResponse(s),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Yn("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(s=o.url),o.accessToken){const u=o.accessToken;this._accessTokenFactory=()=>u,this._httpClient._accessToken=u,this._httpClient._accessTokenFactory=void 0}l++}while(o.url&&l<vx);if(l===vx&&o.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(s,this._options.transport,o,a)}this.transport instanceof yx&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(P.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(o){return this._logger.log(P.Error,"Failed to start the connection: "+o),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(o)}}async _getNegotiationResponse(a){const s={},[o,l]=Bs();s[o]=l;const u=this._resolveNegotiateUrl(a);this._logger.log(P.Debug,`Sending negotiation request: ${u}.`);try{const d=await this._httpClient.post(u,{content:"",headers:{...s,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(d.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${d.statusCode}'`));const p=JSON.parse(d.content);return(!p.negotiateVersion||p.negotiateVersion<1)&&(p.connectionToken=p.connectionId),p.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new hx("Client didn't negotiate Stateful Reconnect but the server did.")):p}catch(d){let p="Failed to complete negotiation with the server: "+d;return d instanceof zi&&d.statusCode===404&&(p=p+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(P.Error,p),Promise.reject(new hx(p))}}_createConnectUrl(a,s){return s?a+(a.indexOf("?")===-1?"?":"&")+`id=${s}`:a}async _createTransport(a,s,o,l){let u=this._createConnectUrl(a,o.connectionToken);if(this._isITransport(s)){this._logger.log(P.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=s,await this._startTransport(u,l),this.connectionId=o.connectionId;return}const d=[],p=o.availableTransports||[];let m=o;for(const v of p){const y=this._resolveTransportOrError(v,s,l,m?.useStatefulReconnect===!0);if(y instanceof Error)d.push(`${v.transport} failed:`),d.push(y);else if(this._isITransport(y)){if(this.transport=y,!m){try{m=await this._getNegotiationResponse(a)}catch(x){return Promise.reject(x)}u=this._createConnectUrl(a,m.connectionToken)}try{await this._startTransport(u,l),this.connectionId=m.connectionId;return}catch(x){if(this._logger.log(P.Error,`Failed to start the transport '${v.transport}': ${x}`),m=void 0,d.push(new JD(`${v.transport} failed: ${x}`,_t[v.transport])),this._connectionState!=="Connecting"){const S="Failed to select transport before stop() was called.";return this._logger.log(P.Debug,S),Promise.reject(new Yn(S))}}}}return d.length>0?Promise.reject(new ek(`Unable to connect to the server with any of the available transports. ${d.join(" ")}`,d)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(a){switch(a){case _t.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Ck(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case _t.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new wk(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case _t.LongPolling:return new yx(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${a}.`)}}_startTransport(a,s){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async o=>{let l=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(a,s),await this.features.resend()}catch{l=!0}else{this._stopConnection(o);return}l&&this._stopConnection(o)}:this.transport.onclose=o=>this._stopConnection(o),this.transport.connect(a,s)}_resolveTransportOrError(a,s,o,l){const u=_t[a.transport];if(u==null)return this._logger.log(P.Debug,`Skipping transport '${a.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${a.transport}' because it is not supported by this client.`);if(Ak(s,u))if(a.transferFormats.map(p=>Qt[p]).indexOf(o)>=0){if(u===_t.WebSockets&&!this._options.WebSocket||u===_t.ServerSentEvents&&!this._options.EventSource)return this._logger.log(P.Debug,`Skipping transport '${_t[u]}' because it is not supported in your environment.'`),new QD(`'${_t[u]}' is not supported in your environment.`,u);this._logger.log(P.Debug,`Selecting transport '${_t[u]}'.`);try{return this.features.reconnect=u===_t.WebSockets?l:void 0,this._constructTransport(u)}catch(p){return p}}else return this._logger.log(P.Debug,`Skipping transport '${_t[u]}' because it does not support the requested transfer format '${Qt[o]}'.`),new Error(`'${_t[u]}' does not support ${Qt[o]}.`);else return this._logger.log(P.Debug,`Skipping transport '${_t[u]}' because it was disabled by the client.`),new ZD(`'${_t[u]}' is disabled by the client.`,u)}_isITransport(a){return a&&typeof a=="object"&&"connect"in a}_stopConnection(a){if(this._logger.log(P.Debug,`HttpConnection.stopConnection(${a}) called while in state ${this._connectionState}.`),this.transport=void 0,a=this._stopError||a,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(P.Debug,`Call to HttpConnection.stopConnection(${a}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(P.Warning,`Call to HttpConnection.stopConnection(${a}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${a}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),a?this._logger.log(P.Error,`Connection disconnected with error '${a}'.`):this._logger.log(P.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(s=>{this._logger.log(P.Error,`TransportSendQueue.stop() threw error '${s}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(a)}catch(s){this._logger.log(P.Error,`HttpConnection.onclose(${a}) threw error '${s}'.`)}}}_resolveUrl(a){if(a.lastIndexOf("https://",0)===0||a.lastIndexOf("http://",0)===0)return a;if(!yt.isBrowser)throw new Error(`Cannot resolve '${a}'.`);const s=window.document.createElement("a");return s.href=a,this._logger.log(P.Information,`Normalizing '${a}' to '${s.href}'.`),s.href}_resolveNegotiateUrl(a){const s=new URL(a);s.pathname.endsWith("/")?s.pathname+="negotiate":s.pathname+="/negotiate";const o=new URLSearchParams(s.searchParams);return o.has("negotiateVersion")||o.append("negotiateVersion",this._negotiateVersion.toString()),o.has("useStatefulReconnect")?o.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&o.append("useStatefulReconnect","true"),s.search=o.toString(),s.toString()}}function Ak(n,a){return!n||(a&n)!==0}class Mp{constructor(a){this._transport=a,this._buffer=[],this._executing=!0,this._sendBufferedData=new Nl,this._transportResult=new Nl,this._sendLoopPromise=this._sendLoop()}send(a){return this._bufferData(a),this._transportResult||(this._transportResult=new Nl),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(a){if(this._buffer.length&&typeof this._buffer[0]!=typeof a)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof a}`);this._buffer.push(a),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Nl;const a=this._transportResult;this._transportResult=void 0;const s=typeof this._buffer[0]=="string"?this._buffer.join(""):Mp._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(s),a.resolve()}catch(o){a.reject(o)}}}static _concatBuffers(a){const s=a.map(u=>u.byteLength).reduce((u,d)=>u+d),o=new Uint8Array(s);let l=0;for(const u of a)o.set(new Uint8Array(u),l),l+=u.byteLength;return o.buffer}}class Nl{constructor(){this.promise=new Promise((a,s)=>[this._resolver,this._rejecter]=[a,s])}resolve(){this._resolver()}reject(a){this._rejecter(a)}}const Ek="json";class jk{constructor(){this.name=Ek,this.version=2,this.transferFormat=Qt.Text}parseMessages(a,s){if(typeof a!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!a)return[];s===null&&(s=ir.instance);const o=Tn.parse(a),l=[];for(const u of o){const d=JSON.parse(u);if(typeof d.type!="number")throw new Error("Invalid payload.");switch(d.type){case Ce.Invocation:this._isInvocationMessage(d);break;case Ce.StreamItem:this._isStreamItemMessage(d);break;case Ce.Completion:this._isCompletionMessage(d);break;case Ce.Ping:break;case Ce.Close:break;case Ce.Ack:this._isAckMessage(d);break;case Ce.Sequence:this._isSequenceMessage(d);break;default:s.log(P.Information,"Unknown message type '"+d.type+"' ignored.");continue}l.push(d)}return l}writeMessage(a){return Tn.write(JSON.stringify(a))}_isInvocationMessage(a){this._assertNotEmptyString(a.target,"Invalid payload for Invocation message."),a.invocationId!==void 0&&this._assertNotEmptyString(a.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(a){if(this._assertNotEmptyString(a.invocationId,"Invalid payload for StreamItem message."),a.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(a){if(a.result&&a.error)throw new Error("Invalid payload for Completion message.");!a.result&&a.error&&this._assertNotEmptyString(a.error,"Invalid payload for Completion message."),this._assertNotEmptyString(a.invocationId,"Invalid payload for Completion message.")}_isAckMessage(a){if(typeof a.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(a){if(typeof a.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(a,s){if(typeof a!="string"||a==="")throw new Error(s)}}const Mk={trace:P.Trace,debug:P.Debug,info:P.Information,information:P.Information,warn:P.Warning,warning:P.Warning,error:P.Error,critical:P.Critical,none:P.None};function Rk(n){const a=Mk[n.toLowerCase()];if(typeof a<"u")return a;throw new Error(`Unknown log level: ${n}`)}class Dk{configureLogging(a){if(Ut.isRequired(a,"logging"),kk(a))this.logger=a;else if(typeof a=="string"){const s=Rk(a);this.logger=new tc(s)}else this.logger=new tc(a);return this}withUrl(a,s){return Ut.isRequired(a,"url"),Ut.isNotEmpty(a,"url"),this.url=a,typeof s=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...s}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:s},this}withHubProtocol(a){return Ut.isRequired(a,"protocol"),this.protocol=a,this}withAutomaticReconnect(a){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return a?Array.isArray(a)?this.reconnectPolicy=new gx(a):this.reconnectPolicy=a:this.reconnectPolicy=new gx,this}withServerTimeout(a){return Ut.isRequired(a,"milliseconds"),this._serverTimeoutInMilliseconds=a,this}withKeepAliveInterval(a){return Ut.isRequired(a,"milliseconds"),this._keepAliveIntervalInMilliseconds=a,this}withStatefulReconnect(a){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=a?.bufferSize,this}build(){const a=this.httpConnectionOptions||{};if(a.logger===void 0&&(a.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const s=new Tk(this.url,a);return jp.create(s,this.logger||ir.instance,this.protocol||new jk,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function kk(n){return n.log!==void 0}class zk{connection=null;eventHandlers={};reconnectAttempts=0;maxReconnectAttempts=5;isManualDisconnect=!1;constructor(){const s="https://your-domain.com/api".replace("/api","/hubs/chat");this.connection=new Dk().withUrl(s,{accessTokenFactory:()=>localStorage.getItem("token")||"",skipNegotiation:!1,withCredentials:!0,transport:_t.WebSockets|_t.ServerSentEvents|_t.LongPolling}).withAutomaticReconnect({nextRetryDelayInMilliseconds:o=>o.previousRetryCount>=this.maxReconnectAttempts?null:Math.min(1e3*Math.pow(2,o.previousRetryCount),32e3)}).configureLogging(P.Information).build(),this.setupConnectionHandlers(),this.setupEventListeners()}setupConnectionHandlers(){this.connection&&(this.connection.onreconnecting(a=>{console.warn("SignalR reconnecting...",a),this.reconnectAttempts++}),this.connection.onreconnected(a=>{console.log("SignalR reconnected:",a),this.reconnectAttempts=0,this.rejoinChats()}),this.connection.onclose(a=>{console.error("SignalR connection closed:",a),!this.isManualDisconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>this.start(),5e3)}))}setupEventListeners(){this.connection&&(this.connection.on("UserOnline",a=>{this.eventHandlers.onUserOnline?.(a)}),this.connection.on("UserOffline",a=>{this.eventHandlers.onUserOffline?.(a)}),this.connection.on("ReceiveMessage",a=>{this.eventHandlers.onReceiveMessage?.(a)}),this.connection.on("MessageEdited",a=>{this.eventHandlers.onMessageEdited?.(a)}),this.connection.on("MessageDeleted",a=>{this.eventHandlers.onMessageDeleted?.(a)}),this.connection.on("ReactionAdded",a=>{this.eventHandlers.onReactionAdded?.(a)}),this.connection.on("ReactionRemoved",a=>{this.eventHandlers.onReactionRemoved?.(a)}),this.connection.on("UserTyping",a=>{this.eventHandlers.onUserTyping?.(a)}),this.connection.on("UserStoppedTyping",a=>{this.eventHandlers.onUserStoppedTyping?.(a)}),this.connection.on("NewNotification",a=>{this.eventHandlers.onNewNotification?.(a)}),this.connection.on("NotificationsMarkedSeen",a=>{this.eventHandlers.onNotificationsMarkedSeen?.(a)}),this.connection.on("Error",a=>{console.error("SignalR Error:",a),this.eventHandlers.onError?.(a)}))}setEventHandlers(a){this.eventHandlers={...this.eventHandlers,...a}}async start(){if(this.connection)try{this.connection.state===Xe.Disconnected&&(this.isManualDisconnect=!1,await this.connection.start(),console.log("SignalR Connected:",this.connection.connectionId))}catch(a){throw console.error("Error starting SignalR connection:",a),a}}async getPresenceStates(a){if(!this.connection||this.connection.state!==Xe.Connected)return console.warn("Cannot fetch presence states: not connected"),{};try{const s=await this.connection.invoke("GetPresenceStates",a);return console.log(`Fetched initial presence states for ${a.length} users`),s}catch(s){return console.error("Error fetching presence states:",s),{}}}async stop(){if(this.connection)try{this.isManualDisconnect=!0,await this.connection.stop(),console.log("SignalR Disconnected")}catch(a){console.error("Error stopping SignalR connection:",a)}}getConnectionState(){return this.connection?.state||Xe.Disconnected}isConnected(){return this.connection?.state===Xe.Connected}activeChats=new Set;async joinChat(a){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("JoinChat",a),this.activeChats.add(a),console.log("Joined chat:",a)}catch(s){throw console.error("Error joining chat:",s),s}}async leaveChat(a){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("LeaveChat",a),this.activeChats.delete(a),console.log("Left chat:",a)}catch(s){console.error("Error leaving chat:",s)}}async rejoinChats(){const a=Array.from(this.activeChats);for(const s of a)try{await this.connection?.invoke("JoinChat",s)}catch(o){console.error("Error rejoining chat:",s,o)}}async sendMessage(a,s,o=null,l=null){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("SendMessage",{chatId:a,content:s,receiverId:o,replyId:l})}catch(u){throw console.error("Error sending message:",u),u}}async editMessage(a,s,o){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("EditMessage",a,s,o)}catch(l){throw console.error("Error editing message:",l),l}}async deleteMessage(a,s){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("DeleteMessage",a,s)}catch(o){throw console.error("Error deleting message:",o),o}}async addReaction(a,s,o){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("AddReaction",a,s,o)}catch(l){throw console.error("Error adding reaction:",l),l}}async removeReaction(a,s){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("RemoveReaction",a,s)}catch(o){throw console.error("Error removing reaction:",o),o}}async sendTyping(a){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("Typing",a)}catch(s){console.error("Error sending typing indicator:",s)}}async sendStopTyping(a){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("StopTyping",a)}catch(s){console.error("Error sending stop typing indicator:",s)}}async markNotificationsAsSeen(a){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("MarkAsSeen",a)}catch(s){throw console.error("Error marking notifications as seen:",s),s}}}const qe=new zk,Nk=Object.freeze(Object.defineProperty({__proto__:null,signalRService:qe},Symbol.toStringTag,{value:"Module"})),Ok=n=>{const[a,s]=C.useState(qe.getConnectionState()),[o,l]=C.useState(qe.isConnected());return C.useEffect(()=>{const u=setInterval(()=>{s(qe.getConnectionState()),l(qe.isConnected())},1e3);return()=>clearInterval(u)},[n]),{connectionState:a,isConnected:o,joinChat:qe.joinChat.bind(qe),leaveChat:qe.leaveChat.bind(qe),sendMessage:qe.sendMessage.bind(qe),editMessage:qe.editMessage.bind(qe),deleteMessage:qe.deleteMessage.bind(qe),addReaction:qe.addReaction.bind(qe),removeReaction:qe.removeReaction.bind(qe),sendTyping:qe.sendTyping.bind(qe),sendStopTyping:qe.sendStopTyping.bind(qe),markNotificationsAsSeen:qe.markNotificationsAsSeen.bind(qe),getPresenceStates:qe.getPresenceStates.bind(qe)}};var Zd={exports:{}},Jd,xx;function Uk(){if(xx)return Jd;xx=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jd=n,Jd}var ef,bx;function Bk(){if(bx)return ef;bx=1;var n=Uk();function a(){}function s(){}return s.resetWarningCache=a,ef=function(){function o(d,p,m,v,y,x){if(x!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:s,resetWarningCache:a};return u.PropTypes=u,u},ef}var Sx;function Lk(){return Sx||(Sx=1,Zd.exports=Bk()()),Zd.exports}var Vk=Lk();const et=Vx(Vk);function Li(n,a,s,o){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(o.next(y))}catch(x){d(x)}}function m(y){try{v(o.throw(y))}catch(x){d(x)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((o=o.apply(n,a||[])).next())})}const Ik=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ls(n,a,s){const o=Pk(n),{webkitRelativePath:l}=n,u=typeof a=="string"?a:typeof l=="string"&&l.length>0?l:`./${n.name}`;return typeof o.path!="string"&&_x(o,"path",u),_x(o,"relativePath",u),o}function Pk(n){const{name:a}=n;if(a&&a.lastIndexOf(".")!==-1&&!n.type){const o=a.split(".").pop().toLowerCase(),l=Ik.get(o);l&&Object.defineProperty(n,"type",{value:l,writable:!1,configurable:!1,enumerable:!0})}return n}function _x(n,a,s){Object.defineProperty(n,a,{value:s,writable:!1,configurable:!1,enumerable:!0})}const Hk=[".DS_Store","Thumbs.db"];function Fk(n){return Li(this,void 0,void 0,function*(){return nc(n)&&qk(n.dataTransfer)?Xk(n.dataTransfer,n.type):Gk(n)?$k(n):Array.isArray(n)&&n.every(a=>"getFile"in a&&typeof a.getFile=="function")?Yk(n):[]})}function qk(n){return nc(n)}function Gk(n){return nc(n)&&nc(n.target)}function nc(n){return typeof n=="object"&&n!==null}function $k(n){return Vf(n.target.files).map(a=>Ls(a))}function Yk(n){return Li(this,void 0,void 0,function*(){return(yield Promise.all(n.map(s=>s.getFile()))).map(s=>Ls(s))})}function Xk(n,a){return Li(this,void 0,void 0,function*(){if(n.items){const s=Vf(n.items).filter(l=>l.kind==="file");if(a!=="drop")return s;const o=yield Promise.all(s.map(Kk));return wx(K0(o))}return wx(Vf(n.files).map(s=>Ls(s)))})}function wx(n){return n.filter(a=>Hk.indexOf(a.name)===-1)}function Vf(n){if(n===null)return[];const a=[];for(let s=0;s<n.length;s++){const o=n[s];a.push(o)}return a}function Kk(n){if(typeof n.webkitGetAsEntry!="function")return Cx(n);const a=n.webkitGetAsEntry();return a&&a.isDirectory?W0(a):Cx(n,a)}function K0(n){return n.reduce((a,s)=>[...a,...Array.isArray(s)?K0(s):[s]],[])}function Cx(n,a){return Li(this,void 0,void 0,function*(){var s;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const u=yield n.getAsFileSystemHandle();if(u===null)throw new Error(`${n} is not a File`);if(u!==void 0){const d=yield u.getFile();return d.handle=u,Ls(d)}}const o=n.getAsFile();if(!o)throw new Error(`${n} is not a File`);return Ls(o,(s=a?.fullPath)!==null&&s!==void 0?s:void 0)})}function Wk(n){return Li(this,void 0,void 0,function*(){return n.isDirectory?W0(n):Qk(n)})}function W0(n){const a=n.createReader();return new Promise((s,o)=>{const l=[];function u(){a.readEntries(d=>Li(this,void 0,void 0,function*(){if(d.length){const p=Promise.all(d.map(Wk));l.push(p),u()}else try{const p=yield Promise.all(l);s(p)}catch(p){o(p)}}),d=>{o(d)})}u()})}function Qk(n){return Li(this,void 0,void 0,function*(){return new Promise((a,s)=>{n.file(o=>{const l=Ls(o,n.fullPath);a(l)},o=>{s(o)})})})}var Ol={},Tx;function Zk(){return Tx||(Tx=1,Ol.__esModule=!0,Ol.default=function(n,a){if(n&&a){var s=Array.isArray(a)?a:a.split(",");if(s.length===0)return!0;var o=n.name||"",l=(n.type||"").toLowerCase(),u=l.replace(/\/.*$/,"");return s.some(function(d){var p=d.trim().toLowerCase();return p.charAt(0)==="."?o.toLowerCase().endsWith(p):p.endsWith("/*")?u===p.replace(/\/.*$/,""):l===p})}return!0}),Ol}var Jk=Zk();const tf=Vx(Jk);function Ax(n){return n4(n)||t4(n)||Z0(n)||e4()}function e4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t4(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function n4(n){if(Array.isArray(n))return If(n)}function Ex(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);a&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function jx(n){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Ex(Object(s),!0).forEach(function(o){Q0(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Ex(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}function Q0(n,a,s){return a in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function or(n,a){return s4(n)||i4(n,a)||Z0(n,a)||a4()}function a4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z0(n,a){if(n){if(typeof n=="string")return If(n,a);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return If(n,a)}}function If(n,a){(a==null||a>n.length)&&(a=n.length);for(var s=0,o=new Array(a);s<a;s++)o[s]=n[s];return o}function i4(n,a){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var o=[],l=!0,u=!1,d,p;try{for(s=s.call(n);!(l=(d=s.next()).done)&&(o.push(d.value),!(a&&o.length===a));l=!0);}catch(m){u=!0,p=m}finally{try{!l&&s.return!=null&&s.return()}finally{if(u)throw p}}return o}}function s4(n){if(Array.isArray(n))return n}var o4=typeof tf=="function"?tf:tf.default,r4="file-invalid-type",l4="file-too-large",c4="file-too-small",u4="too-many-files",d4=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=a.split(","),o=s.length>1?"one of ".concat(s.join(", ")):s[0];return{code:r4,message:"File type must be ".concat(o)}},Mx=function(a){return{code:l4,message:"File is larger than ".concat(a," ").concat(a===1?"byte":"bytes")}},Rx=function(a){return{code:c4,message:"File is smaller than ".concat(a," ").concat(a===1?"byte":"bytes")}},f4={code:u4,message:"Too many files"};function J0(n,a){var s=n.type==="application/x-moz-file"||o4(n,a);return[s,s?null:d4(a)]}function eS(n,a,s){if(Ai(n.size))if(Ai(a)&&Ai(s)){if(n.size>s)return[!1,Mx(s)];if(n.size<a)return[!1,Rx(a)]}else{if(Ai(a)&&n.size<a)return[!1,Rx(a)];if(Ai(s)&&n.size>s)return[!1,Mx(s)]}return[!0,null]}function Ai(n){return n!=null}function p4(n){var a=n.files,s=n.accept,o=n.minSize,l=n.maxSize,u=n.multiple,d=n.maxFiles,p=n.validator;return!u&&a.length>1||u&&d>=1&&a.length>d?!1:a.every(function(m){var v=J0(m,s),y=or(v,1),x=y[0],S=eS(m,o,l),T=or(S,1),_=T[0],j=p?p(m):null;return x&&_&&!j})}function ac(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ul(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(a){return a==="Files"||a==="application/x-moz-file"}):!!n.target&&!!n.target.files}function Dx(n){n.preventDefault()}function h4(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function m4(n){return n.indexOf("Edge/")!==-1}function g4(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return h4(n)||m4(n)}function ea(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];return a.some(function(p){return!ac(o)&&p&&p.apply(void 0,[o].concat(u)),ac(o)})}}function y4(){return"showOpenFilePicker"in window}function v4(n){if(Ai(n)){var a=Object.entries(n).filter(function(s){var o=or(s,2),l=o[0],u=o[1],d=!0;return tS(l)||(console.warn('Skipped "'.concat(l,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(u)||!u.every(nS))&&(console.warn('Skipped "'.concat(l,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(s,o){var l=or(o,2),u=l[0],d=l[1];return jx(jx({},s),{},Q0({},u,d))},{});return[{description:"Files",accept:a}]}return n}function x4(n){if(Ai(n))return Object.entries(n).reduce(function(a,s){var o=or(s,2),l=o[0],u=o[1];return[].concat(Ax(a),[l],Ax(u))},[]).filter(function(a){return tS(a)||nS(a)}).join(",")}function b4(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function S4(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function tS(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function nS(n){return/^.*\.[\w]+$/.test(n)}var _4=["children"],w4=["open"],C4=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],T4=["refKey","onChange","onClick"];function A4(n){return M4(n)||j4(n)||aS(n)||E4()}function E4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function M4(n){if(Array.isArray(n))return Pf(n)}function nf(n,a){return k4(n)||D4(n,a)||aS(n,a)||R4()}function R4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aS(n,a){if(n){if(typeof n=="string")return Pf(n,a);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Pf(n,a)}}function Pf(n,a){(a==null||a>n.length)&&(a=n.length);for(var s=0,o=new Array(a);s<a;s++)o[s]=n[s];return o}function D4(n,a){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var o=[],l=!0,u=!1,d,p;try{for(s=s.call(n);!(l=(d=s.next()).done)&&(o.push(d.value),!(a&&o.length===a));l=!0);}catch(m){u=!0,p=m}finally{try{!l&&s.return!=null&&s.return()}finally{if(u)throw p}}return o}}function k4(n){if(Array.isArray(n))return n}function kx(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);a&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function gt(n){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?kx(Object(s),!0).forEach(function(o){Hf(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):kx(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}function Hf(n,a,s){return a in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function ic(n,a){if(n==null)return{};var s=z4(n,a),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(l=0;l<u.length;l++)o=u[l],!(a.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(s[o]=n[o])}return s}function z4(n,a){if(n==null)return{};var s={},o=Object.keys(n),l,u;for(u=0;u<o.length;u++)l=o[u],!(a.indexOf(l)>=0)&&(s[l]=n[l]);return s}var Rp=C.forwardRef(function(n,a){var s=n.children,o=ic(n,_4),l=sS(o),u=l.open,d=ic(l,w4);return C.useImperativeHandle(a,function(){return{open:u}},[u]),na.createElement(C.Fragment,null,s(gt(gt({},d),{},{open:u})))});Rp.displayName="Dropzone";var iS={disabled:!1,getFilesFromEvent:Fk,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Rp.defaultProps=iS;Rp.propTypes={children:et.func,accept:et.objectOf(et.arrayOf(et.string)),multiple:et.bool,preventDropOnDocument:et.bool,noClick:et.bool,noKeyboard:et.bool,noDrag:et.bool,noDragEventsBubbling:et.bool,minSize:et.number,maxSize:et.number,maxFiles:et.number,disabled:et.bool,getFilesFromEvent:et.func,onFileDialogCancel:et.func,onFileDialogOpen:et.func,useFsAccessApi:et.bool,autoFocus:et.bool,onDragEnter:et.func,onDragLeave:et.func,onDragOver:et.func,onDrop:et.func,onDropAccepted:et.func,onDropRejected:et.func,onError:et.func,validator:et.func};var Ff={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function sS(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=gt(gt({},iS),n),s=a.accept,o=a.disabled,l=a.getFilesFromEvent,u=a.maxSize,d=a.minSize,p=a.multiple,m=a.maxFiles,v=a.onDragEnter,y=a.onDragLeave,x=a.onDragOver,S=a.onDrop,T=a.onDropAccepted,_=a.onDropRejected,j=a.onFileDialogCancel,R=a.onFileDialogOpen,E=a.useFsAccessApi,H=a.autoFocus,N=a.preventDropOnDocument,Y=a.noClick,$=a.noKeyboard,ae=a.noDrag,J=a.noDragEventsBubbling,ie=a.onError,ve=a.validator,ce=C.useMemo(function(){return x4(s)},[s]),ke=C.useMemo(function(){return v4(s)},[s]),Ve=C.useMemo(function(){return typeof R=="function"?R:zx},[R]),xe=C.useMemo(function(){return typeof j=="function"?j:zx},[j]),Te=C.useRef(null),Ae=C.useRef(null),L=C.useReducer(N4,Ff),G=nf(L,2),ee=G[0],oe=G[1],we=ee.isFocused,Ee=ee.isFileDialogActive,_e=C.useRef(typeof window<"u"&&window.isSecureContext&&E&&y4()),pe=function(){!_e.current&&Ee&&setTimeout(function(){if(Ae.current){var fe=Ae.current.files;fe.length||(oe({type:"closeDialog"}),xe())}},300)};C.useEffect(function(){return window.addEventListener("focus",pe,!1),function(){window.removeEventListener("focus",pe,!1)}},[Ae,Ee,xe,_e]);var Re=C.useRef([]),nt=function(fe){Te.current&&Te.current.contains(fe.target)||(fe.preventDefault(),Re.current=[])};C.useEffect(function(){return N&&(document.addEventListener("dragover",Dx,!1),document.addEventListener("drop",nt,!1)),function(){N&&(document.removeEventListener("dragover",Dx),document.removeEventListener("drop",nt))}},[Te,N]),C.useEffect(function(){return!o&&H&&Te.current&&Te.current.focus(),function(){}},[Te,H,o]);var ct=C.useCallback(function(Q){ie?ie(Q):console.error(Q)},[ie]),te=C.useCallback(function(Q){Q.preventDefault(),Q.persist(),ut(Q),Re.current=[].concat(A4(Re.current),[Q.target]),Ul(Q)&&Promise.resolve(l(Q)).then(function(fe){if(!(ac(Q)&&!J)){var ot=fe.length,ht=ot>0&&p4({files:fe,accept:ce,minSize:d,maxSize:u,multiple:p,maxFiles:m,validator:ve}),Mt=ot>0&&!ht;oe({isDragAccept:ht,isDragReject:Mt,isDragActive:!0,type:"setDraggedFiles"}),v&&v(Q)}}).catch(function(fe){return ct(fe)})},[l,v,ct,J,ce,d,u,p,m,ve]),Ct=C.useCallback(function(Q){Q.preventDefault(),Q.persist(),ut(Q);var fe=Ul(Q);if(fe&&Q.dataTransfer)try{Q.dataTransfer.dropEffect="copy"}catch{}return fe&&x&&x(Q),!1},[x,J]),pt=C.useCallback(function(Q){Q.preventDefault(),Q.persist(),ut(Q);var fe=Re.current.filter(function(ht){return Te.current&&Te.current.contains(ht)}),ot=fe.indexOf(Q.target);ot!==-1&&fe.splice(ot,1),Re.current=fe,!(fe.length>0)&&(oe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ul(Q)&&y&&y(Q))},[Te,y,J]),nn=C.useCallback(function(Q,fe){var ot=[],ht=[];Q.forEach(function(Mt){var oa=J0(Mt,ce),An=nf(oa,2),ai=An[0],ii=An[1],Pn=eS(Mt,d,u),Rt=nf(Pn,2),sn=Rt[0],X=Rt[1],W=ve?ve(Mt):null;if(ai&&sn&&!W)ot.push(Mt);else{var le=[ii,X];W&&(le=le.concat(W)),ht.push({file:Mt,errors:le.filter(function(Ie){return Ie})})}}),(!p&&ot.length>1||p&&m>=1&&ot.length>m)&&(ot.forEach(function(Mt){ht.push({file:Mt,errors:[f4]})}),ot.splice(0)),oe({acceptedFiles:ot,fileRejections:ht,isDragReject:ht.length>0,type:"setFiles"}),S&&S(ot,ht,fe),ht.length>0&&_&&_(ht,fe),ot.length>0&&T&&T(ot,fe)},[oe,p,ce,d,u,m,S,T,_,ve]),Ht=C.useCallback(function(Q){Q.preventDefault(),Q.persist(),ut(Q),Re.current=[],Ul(Q)&&Promise.resolve(l(Q)).then(function(fe){ac(Q)&&!J||nn(fe,Q)}).catch(function(fe){return ct(fe)}),oe({type:"reset"})},[l,nn,ct,J]),F=C.useCallback(function(){if(_e.current){oe({type:"openDialog"}),Ve();var Q={multiple:p,types:ke};window.showOpenFilePicker(Q).then(function(fe){return l(fe)}).then(function(fe){nn(fe,null),oe({type:"closeDialog"})}).catch(function(fe){b4(fe)?(xe(fe),oe({type:"closeDialog"})):S4(fe)?(_e.current=!1,Ae.current?(Ae.current.value=null,Ae.current.click()):ct(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ct(fe)});return}Ae.current&&(oe({type:"openDialog"}),Ve(),Ae.current.value=null,Ae.current.click())},[oe,Ve,xe,E,nn,ct,ke,p]),K=C.useCallback(function(Q){!Te.current||!Te.current.isEqualNode(Q.target)||(Q.key===" "||Q.key==="Enter"||Q.keyCode===32||Q.keyCode===13)&&(Q.preventDefault(),F())},[Te,F]),me=C.useCallback(function(){oe({type:"focus"})},[]),at=C.useCallback(function(){oe({type:"blur"})},[]),jt=C.useCallback(function(){Y||(g4()?setTimeout(F,0):F())},[Y,F]),Ge=function(fe){return o?null:fe},In=function(fe){return $?null:Ge(fe)},an=function(fe){return ae?null:Ge(fe)},ut=function(fe){J&&fe.stopPropagation()},Wt=C.useMemo(function(){return function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=Q.refKey,ot=fe===void 0?"ref":fe,ht=Q.role,Mt=Q.onKeyDown,oa=Q.onFocus,An=Q.onBlur,ai=Q.onClick,ii=Q.onDragEnter,Pn=Q.onDragOver,Rt=Q.onDragLeave,sn=Q.onDrop,X=ic(Q,C4);return gt(gt(Hf({onKeyDown:In(ea(Mt,K)),onFocus:In(ea(oa,me)),onBlur:In(ea(An,at)),onClick:Ge(ea(ai,jt)),onDragEnter:an(ea(ii,te)),onDragOver:an(ea(Pn,Ct)),onDragLeave:an(ea(Rt,pt)),onDrop:an(ea(sn,Ht)),role:typeof ht=="string"&&ht!==""?ht:"presentation"},ot,Te),!o&&!$?{tabIndex:0}:{}),X)}},[Te,K,me,at,jt,te,Ct,pt,Ht,$,ae,o]),qs=C.useCallback(function(Q){Q.stopPropagation()},[]),Gs=C.useMemo(function(){return function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=Q.refKey,ot=fe===void 0?"ref":fe,ht=Q.onChange,Mt=Q.onClick,oa=ic(Q,T4),An=Hf({accept:ce,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ge(ea(ht,Ht)),onClick:Ge(ea(Mt,qs)),tabIndex:-1},ot,Ae);return gt(gt({},An),oa)}},[Ae,s,p,Ht,o]);return gt(gt({},ee),{},{isFocused:we&&!o,getRootProps:Wt,getInputProps:Gs,rootRef:Te,inputRef:Ae,open:Ge(F)})}function N4(n,a){switch(a.type){case"focus":return gt(gt({},n),{},{isFocused:!0});case"blur":return gt(gt({},n),{},{isFocused:!1});case"openDialog":return gt(gt({},Ff),{},{isFileDialogActive:!0});case"closeDialog":return gt(gt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return gt(gt({},n),{},{isDragActive:a.isDragActive,isDragAccept:a.isDragAccept,isDragReject:a.isDragReject});case"setFiles":return gt(gt({},n),{},{acceptedFiles:a.acceptedFiles,fileRejections:a.fileRejections,isDragReject:a.isDragReject});case"reset":return gt({},Ff);default:return n}}function zx(){}const Nx=5*1024*1024,O4=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],U4=n=>O4.includes(n.type)?n.size>Nx?{valid:!1,error:`File too large. Maximum size is ${oS(Nx)}.`}:{valid:!0}:{valid:!1,error:"Invalid file type. Please upload an image (PNG, JPG, GIF, or WEBP)."},oS=n=>{if(n===0)return"0 Bytes";const a=1024,s=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(n)/Math.log(a));return`${Math.round(n/Math.pow(a,o)*100)/100} ${s[o]}`},B4=n=>new Promise((a,s)=>{const o=new FileReader;o.onloadend=()=>{typeof o.result=="string"?a(o.result):s(new Error("Failed to read file"))},o.onerror=()=>{s(new Error("Error reading file"))},o.readAsDataURL(n)}),Dp=({onFileAccepted:n,currentPreview:a,maxSize:s=5*1024*1024,label:o="Upload Image",helperText:l="Drag and drop an image here, or click to browse",disabled:u=!1})=>{const[d,p]=C.useState(a||null),[m,v]=C.useState(null),[y,x]=C.useState(!1),S=C.useCallback(async H=>{v(null),x(!0);const N=H[0];if(!N){x(!1);return}const Y=U4(N);if(!Y.valid){v(Y.error||"Invalid file"),x(!1);return}try{const $=await B4(N);p($),n(N)}catch($){v("Failed to process image"),console.error("Error processing image:",$)}finally{x(!1)}},[n]),{getRootProps:T,getInputProps:_,isDragActive:j,isDragReject:R}=sS({onDrop:S,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"]},maxSize:s,multiple:!1,disabled:u||y}),E=H=>{H.stopPropagation(),p(null),v(null)};return h.jsxs("div",{style:{width:"100%"},children:[o&&h.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:600,color:"var(--text)"},children:o}),h.jsxs("div",{...T(),style:{border:`2px dashed ${m||R?"#ff6b6b":j?"var(--accent)":"var(--border)"}`,borderRadius:"12px",padding:d?"0":"32px",textAlign:"center",cursor:u||y?"not-allowed":"pointer",transition:"all 0.3s ease",backgroundColor:j?"var(--background)":d?"transparent":"var(--surface)",position:"relative",opacity:u||y?.6:1},children:[h.jsx("input",{..._()}),d?h.jsxs("div",{style:{position:"relative"},children:[h.jsx("img",{src:d,alt:"Preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"10px"}}),!u&&h.jsx("button",{onClick:E,style:{position:"absolute",top:"8px",right:"8px",background:"rgba(0, 0, 0, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease"},onMouseEnter:H=>{H.currentTarget.style.background="rgba(0, 0, 0, 0.9)"},onMouseLeave:H=>{H.currentTarget.style.background="rgba(0, 0, 0, 0.7)"},children:h.jsx(Oi,{size:18})}),h.jsxs("div",{style:{position:"absolute",bottom:"8px",right:"8px",background:"rgba(76, 175, 80, 0.9)",color:"white",padding:"4px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[h.jsx(R_,{size:14}),"Image selected"]})]}):h.jsxs("div",{children:[h.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:y?h.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid var(--border)",borderTop:"4px solid var(--accent)",borderRadius:"50%",animation:"spin 1s linear infinite"}}):R||m?h.jsx(zs,{size:48,color:"#ff6b6b"}):h.jsx(D_,{size:48,color:j?"var(--accent)":"var(--text-muted)"})}),y?h.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:600,color:"var(--text)"},children:"Processing..."}):h.jsxs(h.Fragment,{children:[h.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:600,color:j?"var(--accent)":"var(--text)"},children:R?"Invalid file type":j?"Drop image here":l}),h.jsxs("p",{style:{margin:0,fontSize:"12px",color:"var(--text-muted)"},children:["PNG, JPG, GIF or WEBP (max ",oS(s),")"]})]})]})]}),m&&h.jsxs("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"6px",display:"flex",alignItems:"center",gap:"8px"},children:[h.jsx(zs,{size:16,color:"#ff6b6b"}),h.jsx("span",{style:{fontSize:"13px",color:"#c33"},children:m})]}),h.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},L4={sm:8,md:10,lg:12},Ox={scale:[1,1.2,1],opacity:[1,.8,1]},V4={boxShadow:["0 0 0 0 rgba(34, 197, 94, 0.4)","0 0 0 4px rgba(34, 197, 94, 0.2)","0 0 0 0 rgba(34, 197, 94, 0)"]},rS=({isOnline:n,size:a="sm",showLabel:s=!1,lastSeen:o,position:l="standalone",className:u=""})=>{const d=L4[a],v={width:d,height:d,backgroundColor:n?"var(--online-color, #22c55e)":"var(--offline-color, #94a3b8)",borderRadius:"50%"};return l==="avatar-overlay"?h.jsx(Cn.div,{className:u,style:{...v,position:"absolute",bottom:0,right:0,border:"2px solid var(--surface)",boxShadow:n?"0 0 8px rgba(34, 197, 94, 0.5)":"none"},animate:n?{...Ox,...V4}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},title:n?"Online":o?`Last seen ${hf(o)}`:"Offline"}):h.jsxs("div",{className:u,style:{display:"flex",alignItems:"center",gap:s?"6px":"0"},children:[h.jsx(Cn.div,{style:{...v,flexShrink:0,boxShadow:n?"0 0 8px rgba(34, 197, 94, 0.5)":"none"},animate:n?Ox:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s&&h.jsx(Cn.span,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{duration:.2},style:{fontSize:"13px",color:n?"var(--online-color, #22c55e)":"var(--text-muted)",whiteSpace:"nowrap",fontWeight:n?500:400},children:n?"Online":o?`Last seen ${hf(o)}`:"Offline"})]})},I4=["SendMessage","ManageMessages","ManageReactions","ManageUsers","ManageChatInfo","ManageBans","PinMessages"],P4=({isOpen:n,onClose:a,chat:s,currentUserId:o,onEditGroup:l,onDeleteGroup:u,onLeaveGroup:d,onKickMember:p,onViewUserProfile:m,onBanMember:v,onUpdatePrivacy:y})=>{const[x,S]=C.useState(null),[T,_]=C.useState(!1),[j,R]=C.useState(null),[E,H]=C.useState(""),[N,Y]=C.useState([]),[$,ae]=C.useState(!1),[J,ie]=C.useState(""),[ve,ce]=C.useState([]),[ke,Ve]=C.useState(!1),{isUserOnline:xe,getUserLastSeen:Te,getOnlineMembersCount:Ae}=st(),G=x?.members.find(te=>te.userId===o)?.role==="admin";C.useEffect(()=>{n&&s.id&&ee()},[n,s.id]);const ee=async()=>{_(!0),R(null);try{const te=await it.getChatProfile(s.id);S(te)}catch(te){R(te.response?.data?.message||"Failed to load profile")}finally{_(!1)}};C.useEffect(()=>{if(!x?.members){Y([]);return}if(!E.trim()){Y(x.members);return}const te=E.toLowerCase(),Ct=x.members.filter(pt=>pt.user.username.toLowerCase().includes(te)||pt.user.email?.toLowerCase().includes(te));Y(Ct)},[x?.members,E]);const oe=async te=>{if(!p)return;await aa({title:"Remove Member",message:"Are you sure you want to remove this member from the group?",confirmText:"Remove",cancelText:"Cancel",variant:"danger"})&&p(te)},we=async te=>{if(ie(te),!te.trim()){ce([]);return}Ve(!0);try{const pt=await(await Vt(()=>Promise.resolve().then(()=>Ja),void 0).then(F=>F.userService)).searchUsers(te),nn=new Set(x?.members.map(F=>F.userId)||[]),Ht=pt.filter(F=>!nn.has(F.id));ce(Ht)}catch(Ct){console.error("Failed to search users:",Ct)}finally{Ve(!1)}},Ee=async te=>{if(!(!s||!G))try{s.type==="group"?await it.addMemberToGroup(s.id,te):s.type==="channel"&&await it.addMemberToChannel(s.id,te),Oe.success("Member added successfully"),ae(!1),ie(""),ce([]),await ee()}catch(Ct){console.error("Failed to add member:",Ct),Oe.error(Ct.response?.data?.message||"Failed to add member")}},_e=async()=>{if(!d)return;await aa({title:"Leave Group",message:"Are you sure you want to leave this group? You will lose access to all messages and content.",confirmText:"Leave",cancelText:"Stay",variant:"warning"})&&(d(),a())},pe=async()=>{if(!u)return;await aa({title:"Delete Group",message:"Are you sure you want to delete this group? This action cannot be undone and all messages will be permanently deleted.",confirmText:"Delete Forever",cancelText:"Cancel",variant:"danger"})&&(u(),a())},Re={admin:[],moderator:[],member:[]};N.forEach(te=>{Re[te.role].push(te)});const nt=Ae(s.id),ct=x?.members.length||0;return h.jsxs(h.Fragment,{children:[h.jsx(tr,{children:n&&h.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:a,children:h.jsxs(Cn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},style:{backgroundColor:"var(--surface)",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.2)"},onClick:te=>te.stopPropagation(),children:[h.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("h2",{style:{margin:0,fontSize:"20px",fontWeight:700,color:"var(--text)"},children:[s.type==="channel"?"Channel":"Group"," Profile"]}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"background-color 0.2s"},onMouseEnter:te=>{te.currentTarget.style.backgroundColor="var(--background)"},onMouseLeave:te=>{te.currentTarget.style.backgroundColor="transparent"},children:h.jsx(Oi,{size:24,color:"var(--text)"})})]}),h.jsxs("div",{style:{overflowY:"auto",flex:1,padding:"20px"},children:[T&&h.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"Loading profile..."}),j&&h.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#ff6b6b"},children:j}),!T&&!j&&x&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[x.avatar?h.jsx("img",{src:x.avatar,alt:x.name,style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"16px"}}):h.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"48px",fontWeight:700,marginBottom:"16px"},children:x.name.charAt(0).toUpperCase()}),h.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:700,color:"var(--text)"},children:x.name}),x.description&&h.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"var(--text-muted)"},children:x.description})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"24px"},children:[h.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[h.jsx(Yl,{size:20,color:"var(--text-muted)",style:{marginBottom:"4px"}}),h.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"var(--text)"},children:ct}),h.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Total Members"})]}),h.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[h.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#51cf66",margin:"0 auto 4px auto"}}),h.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#51cf66"},children:nt}),h.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Online Now"})]}),h.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[h.jsx(k_,{size:20,color:"var(--text-muted)",style:{marginBottom:"4px"}}),h.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--text)"},children:new Date(x.createdAt).toLocaleDateString()}),h.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Created"})]})]}),x.privacy&&h.jsxs("div",{style:{marginBottom:"24px"},children:[h.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:700,color:"var(--text)"},children:"Privacy"}),h.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--text)",marginBottom:"4px"},children:x.privacy==="public"?"Public":"Private"}),h.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:x.privacy==="public"?"Anyone can find and join":"Invite-only membership"})]}),G&&y&&h.jsxs("button",{onClick:async()=>{const te=x.privacy==="public"?"private":"public";await aa({title:"Change Privacy",message:`Change this ${s?.type||"chat"} to ${te}? ${te==="private"?"Only invited members will be able to join.":"Anyone will be able to find and join."}`,confirmText:"Change",cancelText:"Cancel",variant:"info"})&&y(te)},style:{padding:"8px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600,transition:"opacity 0.2s"},onMouseEnter:te=>{te.currentTarget.style.opacity="0.8"},onMouseLeave:te=>{te.currentTarget.style.opacity="1"},children:["Change to ",x.privacy==="public"?"Private":"Public"]})]})]}),G&&h.jsx("div",{style:{marginBottom:"24px"},children:h.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[h.jsxs("button",{onClick:()=>ae(!0),style:{flex:1,padding:"10px 16px",backgroundColor:"#51cf66",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[h.jsx(Yl,{size:16}),"Add Member"]}),l&&h.jsxs("button",{onClick:l,style:{flex:1,padding:"10px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[h.jsx(z_,{size:16}),"Edit ",s.type==="channel"?"Channel":"Group"]}),u&&h.jsxs("button",{onClick:pe,style:{padding:"10px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[h.jsx(Ix,{size:16}),"Delete"]})]})}),!G&&d&&h.jsx("div",{style:{marginBottom:"24px"},children:h.jsxs("button",{onClick:_e,style:{width:"100%",padding:"10px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[h.jsx(Px,{size:16}),"Leave ",s.type==="channel"?"Channel":"Group"]})}),h.jsxs("div",{children:[h.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:700,color:"var(--text)"},children:["Members (",ct,")"]}),ct>5&&h.jsxs("div",{style:{marginBottom:"16px"},children:[h.jsx("input",{type:"text",placeholder:"Search members...",value:E,onChange:te=>H(te.target.value),style:{width:"100%",padding:"10px 16px",backgroundColor:"var(--background)",border:"2px solid var(--border)",borderRadius:"8px",fontSize:"14px",color:"var(--text)",transition:"border-color 0.2s"},onFocus:te=>{te.currentTarget.style.borderColor="var(--accent)"},onBlur:te=>{te.currentTarget.style.borderColor="var(--border)"}}),h.jsxs("div",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:["Showing ",N.length," of ",ct," members"]})]}),Re.admin.length>0&&h.jsxs("div",{style:{marginBottom:"16px"},children:[h.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Admins"}),Re.admin.map(te=>h.jsx(af,{member:te,currentUserId:o,isAdmin:G,isUserOnline:xe,getUserLastSeen:Te,onViewProfile:m,onKick:oe,onBanMember:v,chatId:s.id},te.id))]}),Re.moderator.length>0&&h.jsxs("div",{style:{marginBottom:"16px"},children:[h.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Moderators"}),Re.moderator.map(te=>h.jsx(af,{member:te,currentUserId:o,isAdmin:G,isUserOnline:xe,getUserLastSeen:Te,onViewProfile:m,onKick:oe,onBanMember:v,chatId:s.id},te.id))]}),Re.member.length>0&&h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Members"}),Re.member.map(te=>h.jsx(af,{member:te,currentUserId:o,isAdmin:G,isUserOnline:xe,getUserLastSeen:Te,onViewProfile:m,onKick:oe,onBanMember:v,chatId:s.id},te.id))]})]})]})]})]})})}),h.jsx(tr,{children:$&&h.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},onClick:()=>ae(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"16px"},children:h.jsxs(Cn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},onClick:te=>te.stopPropagation(),style:{backgroundColor:"var(--surface)",borderRadius:"12px",maxWidth:"500px",width:"100%",padding:"20px",maxHeight:"80vh",overflow:"auto"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[h.jsx("h3",{style:{margin:0,color:"var(--text)"},children:"Add Member"}),h.jsx("button",{onClick:()=>ae(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:"var(--text-muted)"},children:h.jsx(Oi,{size:20})})]}),h.jsx("input",{type:"text",placeholder:"Search users...",value:J,onChange:te=>we(te.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",backgroundColor:"var(--background)",color:"var(--text)",fontSize:"14px",marginBottom:"16px"},autoFocus:!0}),ke&&h.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"Searching..."}),!ke&&ve.length===0&&J&&h.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"No users found"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ve.map(te=>h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[h.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600},children:te.username?.charAt(0).toUpperCase()||"?"}),h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:600,color:"var(--text)"},children:te.username}),te.email&&h.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:te.email})]})]}),h.jsx("button",{onClick:()=>Ee(te.id),style:{padding:"8px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:600},children:"Add"})]},te.id))})]})})})]})},af=({member:n,currentUserId:a,isAdmin:s,isUserOnline:o,getUserLastSeen:l,onViewProfile:u,onKick:d,onBanMember:p,chatId:m})=>{const[v,y]=C.useState(!1),[x,S]=C.useState(!1),T=o(n.userId),_=l(n.userId),j=n.userId===a,R=async N=>{try{await it.addUserPermission(m,n.userId,N),Oe.success(`Permission "${N}" granted to ${n.user.username}`),S(!1),y(!1)}catch(Y){console.error("Failed to add permission:",Y),Oe.error(Y.response?.data?.message||"Failed to grant permission")}},E=()=>n.role==="admin"?h.jsxs("span",{style:{padding:"3px 8px",backgroundColor:"#fbbf24",color:"#000",borderRadius:"4px",fontSize:"11px",fontWeight:600,display:"inline-flex",alignItems:"center",gap:"4px"},children:[h.jsx(U_,{size:12}),"Admin"]}):n.role==="moderator"?h.jsxs("span",{style:{padding:"3px 8px",backgroundColor:"#60a5fa",color:"#000",borderRadius:"4px",fontSize:"11px",fontWeight:600,display:"inline-flex",alignItems:"center",gap:"4px"},children:[h.jsx(cf,{size:12}),"Mod"]}):n.role==="member"?h.jsx("span",{style:{padding:"3px 8px",backgroundColor:"#94a3b8",color:"#fff",borderRadius:"4px",fontSize:"11px",fontWeight:500,display:"inline-flex",alignItems:"center",gap:"4px"},children:"Member"}):null,H=s&&!j&&n.role!=="admin";return h.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",marginBottom:"8px",cursor:u?"pointer":"default",transition:"background-color 0.2s",position:"relative"},onClick:()=>u&&u(n.userId),onMouseEnter:N=>{u&&(N.currentTarget.style.backgroundColor="var(--border)")},onMouseLeave:N=>{N.currentTarget.style.backgroundColor="var(--background)"},children:[h.jsxs("div",{style:{position:"relative",marginRight:"12px"},children:[n.user.avatar?h.jsx("img",{src:n.user.avatar,alt:n.user.username,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):h.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:700},children:n.user.username.charAt(0).toUpperCase()}),h.jsx(rS,{isOnline:T,lastSeen:_,size:"sm",position:"avatar-overlay"})]}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"2px"},children:[h.jsxs("span",{style:{fontSize:"14px",fontWeight:600,color:"var(--text)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[n.user.username,j&&" (You)"]}),E()]}),h.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:T?"Online":_?`Last seen ${hf(_)}`:"Offline"})]}),H&&h.jsxs("div",{style:{position:"relative"},children:[h.jsx("button",{onClick:N=>{N.stopPropagation(),y(!v)},style:{background:"none",border:"none",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"background 0.15s ease"},onMouseEnter:N=>N.currentTarget.style.background="var(--background)",onMouseLeave:N=>N.currentTarget.style.background="none",children:h.jsx(N_,{size:18,color:"var(--text-muted)"})}),h.jsx(tr,{children:v&&h.jsxs(Cn.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.1},style:{position:"absolute",right:0,bottom:"100%",marginBottom:"4px",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",minWidth:"180px",zIndex:1e3,overflow:"hidden"},children:[h.jsx("div",{style:{padding:"10px 12px",borderBottom:"1px solid var(--border)"},children:h.jsxs("span",{style:{fontSize:"11px",fontWeight:600,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Manage ",n.user.username]})}),h.jsxs("button",{onClick:N=>{N.stopPropagation(),S(!x)},style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"13px",fontWeight:500,color:"var(--text)",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.1s ease"},onMouseEnter:N=>N.currentTarget.style.background="var(--background)",onMouseLeave:N=>N.currentTarget.style.background="transparent",children:[h.jsx(O_,{size:14,color:"var(--text-muted)"}),"Manage Permissions"]}),x&&h.jsx("div",{style:{borderTop:"1px solid var(--border)",background:"var(--background)"},children:I4.map(N=>h.jsx("button",{onClick:Y=>{Y.stopPropagation(),R(N)},style:{width:"100%",padding:"8px 12px 8px 24px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"12px",color:"var(--text-muted)",transition:"background 0.1s ease"},onMouseEnter:Y=>Y.currentTarget.style.background="rgba(99, 102, 241, 0.1)",onMouseLeave:Y=>Y.currentTarget.style.background="transparent",children:N},N))}),h.jsxs("div",{style:{borderTop:"1px solid var(--border)"},children:[p&&h.jsxs("button",{onClick:async N=>{N.stopPropagation(),await aa({title:"Ban Member",message:`Are you sure you want to ban ${n.user.username}? They will not be able to rejoin this group.`,confirmText:"Ban",cancelText:"Cancel",variant:"danger"})&&p(n.userId),y(!1)},style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"13px",fontWeight:500,color:"#ef4444",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.1s ease"},onMouseEnter:N=>N.currentTarget.style.background="rgba(239, 68, 68, 0.1)",onMouseLeave:N=>N.currentTarget.style.background="transparent",children:[h.jsx(cf,{size:14}),"Ban Member"]}),d&&h.jsxs("button",{onClick:N=>{N.stopPropagation(),d(n.userId),y(!1)},style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"13px",fontWeight:500,color:"#f97316",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.1s ease"},onMouseEnter:N=>N.currentTarget.style.background="rgba(249, 115, 22, 0.1)",onMouseLeave:N=>N.currentTarget.style.background="transparent",children:[h.jsx(Ix,{size:14}),"Remove Member"]})]})]})})]})]})},Ux=({isOpen:n,onClose:a,userId:s,onSendMessage:o,onBlockUser:l})=>{const[u,d]=C.useState(null),[p,m]=C.useState(!1),[v,y]=C.useState(null),{isUserOnline:x}=st();C.useEffect(()=>{n&&s&&S()},[n,s]);const S=async()=>{m(!0),y(null);try{const E=await Qo.getUserProfile(s);d(E)}catch(E){y(E.response?.data?.message||"Failed to load user profile")}finally{m(!1)}},T=()=>{o&&(o(s),a())},_=async()=>{if(!l)return;await aa({title:"Block User",message:`Are you sure you want to block ${u?.username||"this user"}? They won't be able to message you.`,confirmText:"Block",cancelText:"Cancel",variant:"danger"})&&(l(s),a())},j=u?x(u.id):!1;return h.jsx(tr,{children:n&&h.jsxs(Cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:a,children:[h.jsx("style",{children:`
    .userProfileScrollContainer::-webkit-scrollbar {
      width: 6px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-track {
      background: rgba(99, 102, 241, 0.1);
      border-radius: 3px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
      border-radius: 3px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #764ba2 0%, #667eea 100%);
    }
  `}),h.jsxs(Cn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},style:{background:"#1e293b",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"400px",width:"100%",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)",overflow:"hidden"},onClick:E=>E.stopPropagation(),children:[h.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#f1f5f9"},children:"User Profile"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",transition:"color 0.15s ease"},onMouseEnter:E=>E.currentTarget.style.color="#f1f5f9",onMouseLeave:E=>E.currentTarget.style.color="#94a3b8",children:h.jsx(Oi,{size:22,strokeWidth:2.5})})]}),h.jsxs("div",{className:"userProfileScrollContainer",style:{overflowY:"auto",flex:1,padding:"24px"},children:[p&&h.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#94a3b8"},children:[h.jsx(Cn.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:"40px",height:"40px",border:"3px solid rgba(99, 102, 241, 0.2)",borderTopColor:"#818cf8",borderRadius:"50%",margin:"0 auto 16px"}}),"Loading profile..."]}),v&&h.jsx("div",{style:{textAlign:"center",padding:"60px 20px",color:"#f87171"},children:v}),!p&&!v&&u&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[h.jsxs("div",{style:{position:"relative",display:"inline-block",marginBottom:"16px"},children:[u.avatar?h.jsx("img",{src:u.avatar,alt:u.username,style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid rgba(255, 255, 255, 0.1)"}}):h.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#6366f1",color:"white",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"40px",fontWeight:600},children:u.username.charAt(0).toUpperCase()}),h.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"20px",height:"20px",borderRadius:"50%",background:j?"#22c55e":"#64748b",border:"3px solid #1e293b"}})]}),h.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:600,color:"#f1f5f9"},children:u.username}),h.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"12px",background:j?"rgba(34, 197, 94, 0.15)":"rgba(100, 116, 139, 0.15)"},children:[h.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:j?"#22c55e":"#64748b"}}),h.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:j?"#4ade80":"#94a3b8"},children:j?"Online":"Offline"})]})]}),u.bio&&h.jsxs("div",{style:{padding:"14px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",marginBottom:"16px"},children:[h.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"11px",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"About"}),h.jsx("p",{style:{margin:0,fontSize:"14px",color:"#cbd5e1",lineHeight:"1.5"},children:u.bio})]}),h.jsxs("div",{style:{display:"flex",gap:"10px",flexDirection:"column"},children:[o&&h.jsxs("button",{onClick:T,style:{width:"100%",padding:"12px 16px",background:"#6366f1",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.15s ease"},onMouseEnter:E=>E.currentTarget.style.background="#5558e3",onMouseLeave:E=>E.currentTarget.style.background="#6366f1",children:[h.jsx(B_,{size:18}),"Send Message"]}),l&&h.jsxs("button",{onClick:_,style:{width:"100%",padding:"12px 16px",background:"rgba(239, 68, 68, 0.1)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.15s ease"},onMouseEnter:E=>E.currentTarget.style.background="rgba(239, 68, 68, 0.2)",onMouseLeave:E=>E.currentTarget.style.background="rgba(239, 68, 68, 0.1)",children:[h.jsx(L_,{size:18}),"Block User"]})]})]})]})]})]})})},H4=n=>{if(!n||n==="undefined"||n==="null")return"?";const a=String(n).trim();if(!a||a.length===0)return"?";const s=a.split(/\s+/).filter(o=>o.length>0);return s.length===0?"?":s.length===1?s[0][0]?.toUpperCase()||"?":s.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},Gl=({src:n,name:a,fallbackClass:s})=>{const[o,l]=na.useState(!n),[u,d]=na.useState(!1);na.useEffect(()=>{n?(l(!1),d(!1)):l(!0)},[n]);const p=()=>{d(!0),l(!0)};return o||u||!n?h.jsx("div",{className:s,children:H4(a)}):h.jsx("img",{src:n,alt:a,className:s,onError:p,loading:"lazy"})},F4=n=>{if(!n)return"Unknown";try{const a=new Date(n);if(isNaN(a.getTime()))return console.warn("Invalid date string:",n),"Invalid date";const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate()),l=new Date(o);l.setDate(l.getDate()-1);const u=new Date(a.getFullYear(),a.getMonth(),a.getDate());return u.getTime()===o.getTime()?a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):u.getTime()===l.getTime()?"Yesterday":s.getTime()-a.getTime()<10080*60*1e3?a.toLocaleString("en-US",{weekday:"short"}):a.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(a){return console.error("Error formatting time:",a,n),"Invalid date"}},q4=n=>{if(!n.lastMessage)return"No messages yet";const a=n.lastMessage.content||"(No content)";if(n.type!=="dm"&&n.lastMessage.sender){const o=`${n.lastMessage.sender.username||"Unknown"}: ${a}`;return o.length>50?o.substring(0,47)+"...":o}return a.length>50?a.substring(0,47)+"...":a},G4=({chats:n,currentChat:a,onSelectChat:s,isLoadingChats:o,user:l,onLogout:u,onMenuOpen:d,searchQuery:p,onSearchChange:m,searchResults:v,onSelectSearchResult:y,isSearching:x,isDarkMode:S,onClearSearch:T,isMobileOpen:_=!1,onMobileClose:j})=>{const R=C.useRef(null);return C.useEffect(()=>{const E=H=>{R.current&&!R.current.contains(H.target)&&T()};return p&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[p,T]),h.jsxs(h.Fragment,{children:[_&&h.jsx("div",{className:z.mobileOverlay,onClick:j,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:99,display:"none"}}),h.jsxs("div",{className:`${z.leftPanel} ${S?z.darkMode:""} ${_?z.mobileOpen:""}`,children:[h.jsx("div",{className:z.panelHeader,children:h.jsx("button",{className:z.menuButton,onClick:d,title:"Settings",style:{background:"transparent",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:S?"#94a3b8":"#64748b",transition:"background 0.15s ease, color 0.15s ease"},onMouseEnter:E=>{E.currentTarget.style.background=S?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",E.currentTarget.style.color=S?"#f1f5f9":"#1e293b"},onMouseLeave:E=>{E.currentTarget.style.background="transparent",E.currentTarget.style.color=S?"#94a3b8":"#64748b"},children:h.jsx(V_,{size:22})})}),h.jsxs("div",{className:z.searchBar,ref:R,children:[h.jsx("input",{type:"text",placeholder:"Search chats, users...",className:z.searchInput,value:p,onChange:E=>m(E.target.value)}),p&&h.jsxs("div",{className:`${z.searchResults} ${S?z.darkMode:""}`,onClick:E=>E.stopPropagation(),children:[x&&h.jsx("div",{className:z.searchLoading,children:"Searching..."}),!x&&v.length===0&&h.jsx("div",{className:z.searchNoResults,children:"No results found"}),v.map(E=>h.jsxs("div",{className:z.searchResultItem,onClick:()=>{y(E),T()},children:[h.jsx("div",{className:z.searchResultAvatar,children:h.jsx(Gl,{src:E.avatar,name:E.name,fallbackClass:z.avatarFallback})}),h.jsxs("div",{className:z.searchResultInfo,children:[h.jsxs("div",{className:z.searchResultName,children:[E.name,h.jsx("span",{className:z.searchResultTypeIcon,title:E.type,children:E.type==="user"?" ":E.type==="group"?" ":E.type==="channel"?" ":""})]}),h.jsx("div",{className:z.searchResultType,children:E.type==="user"?"User":E.type==="group"?"Group":E.type==="channel"?"Channel":"Unknown"})]})]},E.id))]})]}),h.jsxs("div",{className:z.chatList,children:[o&&h.jsx("div",{className:z.loading,children:"Loading chats..."}),!o&&n.length===0&&h.jsx("div",{className:z.emptyState,children:"No chats yet. Start a conversation!"}),n.map(E=>h.jsxs("div",{className:`${z.chatItem} ${a?.id===E.id?z.active:""}`,onClick:()=>s(E),children:[h.jsxs("div",{className:z.chatAvatar,children:[h.jsx(Gl,{src:E.avatar,name:E.name,fallbackClass:z.avatarFallback}),E.type==="dm"&&E.isOnline&&h.jsx("div",{className:z.onlineIndicator})]}),h.jsxs("div",{className:z.chatInfo,children:[h.jsxs("div",{className:z.chatHeader,children:[h.jsxs("div",{className:z.chatNameWithType,children:[h.jsx("span",{className:z.chatName,children:E.name}),h.jsx("span",{className:`${z.chatTypeIcon} ${z[`icon${E.type.charAt(0).toUpperCase()+E.type.slice(1)}`]}`,title:E.type,children:E.type==="dm"?"":E.type==="group"?"":E.type==="channel"?"":""})]}),h.jsxs("div",{className:z.headerRight,children:[h.jsx("span",{className:z.timestamp,children:F4(E.updatedAt)}),E.unreadCount>0&&h.jsx("span",{className:z.unreadBadge,children:E.unreadCount})]})]}),h.jsx("div",{className:z.chatPreview,children:h.jsx("span",{children:q4(E)})})]})]},E.id))]}),l&&h.jsxs("div",{className:z.userSection,children:[h.jsx("div",{className:z.userAvatar,children:h.jsx(Gl,{src:l.avatar,name:l.username,fallbackClass:z.avatarFallback})}),h.jsx("div",{className:z.userInfo,children:h.jsx("div",{className:z.username,children:l.username})}),h.jsx("button",{className:z.logoutButton,onClick:u,title:"Logout",children:""})]})]})]})},$4=({currentChat:n,messages:a,isLoadingMessages:s,onSendMessage:o,onOpenGroupCreate:l,onOpenChannelCreate:u,onOpenUserProfile:d,onOpenMobileSidebar:p,onOpenChatProfile:m})=>{const[v,y]=C.useState(""),[x,S]=C.useState(!1),[T,_]=C.useState(null),[j,R]=C.useState(""),[E,H]=C.useState(null),[N,Y]=C.useState(!1),[$,ae]=C.useState(null),[J,ie]=C.useState(null),ve=C.useRef(null),ce=C.useRef(null),ke=C.useRef(null),Ve=C.useRef(null),[xe,Te]=C.useState(null),Ae=C.useRef(null),{isUserOnline:L,getUserLastSeen:G,getOnlineMembersCount:ee}=st(),{user:oe}=Xt(),we=F=>F.type!=="dm"||!F.members||!oe?null:F.members.find(me=>me.userId!==oe.id)?.userId||null,Ee=()=>{ve.current?.scrollIntoView({behavior:"smooth"})},_e=async()=>{const F=ke.current;if(!F){console.log("[MainContent] Container ref is null");return}const K=F.scrollHeight,me=F.scrollTop,at=F.clientHeight,jt=K-me-at<100;if(console.log("[MainContent] SCROLL EVENT:",{scrollHeight:K,scrollTop:me,clientHeight:at,distance:K-me-at,isNearBottom:jt}),Y(!jt),jt&&n&&a.length>0)try{console.log("[MainContent] ========== USER AT BOTTOM =========="),console.log("[MainContent] Chat ID:",n.id),console.log("[MainContent] Chat:",n),console.log("[MainContent] Total messages:",a.length),console.log("[MainContent] Raw messages array:",a),a.length>0&&(console.log("[MainContent] First message full object:",a[0]),console.log("[MainContent] First message keys:",Object.keys(a[0])));const Ge=[];let In=0,an=0;if(a.forEach((ut,Wt)=>{Wt<3&&console.log(`[MainContent] Message ${Wt}:`,{messageId:ut.messageId||ut.id,notificationId:ut.notificationId,isCurrentUser:ut.isCurrentUser,isNotificated:ut.isNotificated,senderUsername:ut.senderUsername,hasNotifId:!!ut.notificationId}),!ut.isCurrentUser&&ut.isNotificated&&ut.notificationId?(Ge.push(ut.notificationId),In++):an++}),console.log("[MainContent] Processing summary:",{processedCount:In,skippedCount:an,totalToMark:Ge.length,notificationIds:Ge}),Ge.length>0){const ut=await Vt(()=>Promise.resolve().then(()=>$l),void 0).then(Wt=>Wt.notificationService);console.log("[MainContent] Calling markMultipleAsSeen with IDs:",Ge);try{const Wt=await ut.markMultipleAsSeen(Ge);console.log("[MainContent] Successfully marked",Ge.length,"message notifications as seen. Result:",Wt)}catch(Wt){console.error("[MainContent] Failed to mark notifications as seen:",Wt)}}else console.log("[MainContent] No unseen messages found to mark as seen"),console.log("[MainContent] Reasons - isCurrentUser or isNotificated false, or notificationId empty");console.log("[MainContent] ========== END BOTTOM HANDLER ==========")}catch(Ge){console.error("[MainContent] Error processing scroll:",Ge)}};C.useEffect(()=>{Ee(),Y(!1)},[a,n]);const pe=async()=>{if(console.log("[ChatView] handleSendMessage called",{messageText:v,selectedFile:xe?{name:xe.name,size:xe.size,type:xe.type}:null,currentChat:n?.id}),!v.trim()&&!xe||!n){console.log("[ChatView] Early return - no content or no chat");return}S(!0);try{console.log("[ChatView] Calling onSendMessage with file:",xe?xe.name:"none"),await o(v,xe||void 0),console.log("[ChatView] onSendMessage completed"),y(""),Te(null),ie(null),Ae.current&&(Ae.current.value="")}catch(F){console.error("[ChatView] Failed to send message:",F)}finally{S(!1)}},Re=async(F,K)=>{try{await(await Vt(()=>Promise.resolve().then(()=>Fo),void 0).then(jt=>jt.messageService)).addReaction(F,K),ae(null);const at=st.getState();n&&await at.loadMessages(n.id)}catch(me){console.error("Failed to add reaction:",me)}},nt=async(F,K)=>{try{await(await Vt(()=>Promise.resolve().then(()=>Fo),void 0).then(jt=>jt.messageService)).removeReaction(F,K);const at=st.getState();n&&await at.loadMessages(n.id)}catch(me){console.error("Failed to remove reaction:",me)}},ct=(F,K,me)=>{F.preventDefault(),F.stopPropagation(),me&&H({messageId:K,x:F.clientX,y:F.clientY})},te=(F,K)=>{F.stopPropagation(),ae({messageId:K,x:F.clientX,y:F.clientY})},Ct=F=>{const K=a.find(me=>me.messageId===F);K&&(_(F),R(K.content),H(null))},pt=async F=>{if(j.trim())try{await(await Vt(()=>Promise.resolve().then(()=>Fo),void 0).then(at=>at.messageService)).editMessage(F,j),_(null),R("");const me=st.getState();n&&await me.loadMessages(n.id)}catch(K){console.error("Failed to edit message:",K)}},nn=()=>{_(null),R("")},Ht=async F=>{if(await aa({title:"Delete Message",message:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"}))try{await(await Vt(()=>Promise.resolve().then(()=>Fo),void 0).then(jt=>jt.messageService)).deleteMessage(F),H(null);const at=st.getState();n&&await at.loadMessages(n.id),Oe.success("Message deleted")}catch(me){console.error("Failed to delete message:",me),Oe.error("Failed to delete message")}};return C.useEffect(()=>{const F=K=>{ce.current&&!ce.current.contains(K.target)&&H(null),Ve.current&&!Ve.current.contains(K.target)&&ae(null)};return(E||$)&&document.addEventListener("click",F),()=>{document.removeEventListener("click",F)}},[E,$]),n?h.jsxs("div",{className:z.mainContent,style:{position:"relative"},children:[h.jsxs("div",{className:z.chatHeaderBar,children:[h.jsxs("div",{className:z.headerLeft,children:[p&&h.jsx("button",{onClick:p,className:z.mobileMenuButton,style:{display:"none",padding:"8px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text)",marginRight:"8px"},"aria-label":"Open menu",children:""}),h.jsx("div",{className:z.headerAvatar,children:h.jsx(Gl,{src:n.avatar,name:n.name,fallbackClass:z.avatarFallback})}),h.jsxs("div",{className:z.headerInfo,children:[h.jsxs("h2",{className:z.headerTitle,children:[n.name,h.jsx("span",{className:z.headerChatType,title:n.type,children:n.type==="dm"?" ":n.type==="group"?" ":n.type==="channel"?" ":" "})]}),h.jsx("div",{className:z.headerStatus,children:n.type==="dm"?(()=>{const F=we(n);if(!F)return h.jsx("span",{children:"Offline"});const K=L(F),me=G(F);return h.jsx(rS,{isOnline:K,lastSeen:me,size:"sm",showLabel:!0,position:"standalone"})})():(()=>{const F=ee(n.id),K=n.members?.length||0;return h.jsxs("span",{children:[K," member",K!==1?"s":"",F>0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{style:{margin:"0 4px",color:"var(--text-muted)"},children:""}),h.jsxs("span",{style:{color:"#51cf66",fontWeight:600},children:[F," online"]})]})]})})()})]})]}),h.jsx("div",{className:z.headerActions,children:n.type!=="dm"&&h.jsxs("button",{onClick:()=>{m&&m()},style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",border:"1px solid rgba(99, 102, 241, 0.3)",cursor:"pointer",padding:"8px 14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"12px",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(99, 102, 241, 0.2)"},onMouseEnter:F=>{F.currentTarget.style.background="linear-gradient(135deg, rgba(99, 102, 241, 0.25), rgba(139, 92, 246, 0.2))",F.currentTarget.style.boxShadow="0 4px 16px rgba(99, 102, 241, 0.35)",F.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:F=>{F.currentTarget.style.background="linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",F.currentTarget.style.boxShadow="0 2px 8px rgba(99, 102, 241, 0.2)",F.currentTarget.style.transform="translateY(0)"},title:`View ${n.type==="channel"?"Channel":"Group"} Profile`,children:[n.type==="channel"?h.jsx(I_,{size:16,color:"#818cf8"}):h.jsx(Yl,{size:16,color:"#818cf8"}),h.jsxs("span",{style:{fontSize:"13px",fontWeight:600,color:"#818cf8",letterSpacing:"0.3px"},children:[n.type==="channel"?"Channel":"Group"," Profile"]})]})})]}),h.jsxs("div",{className:z.messagesContainer,ref:ke,onScroll:_e,children:[s&&h.jsx("div",{className:z.loading,children:"Loading messages..."}),!s&&a.length===0&&h.jsx("div",{className:z.noMessages,children:"No messages yet. Start the conversation!"}),a.map(F=>h.jsxs("div",{className:`${z.messageGroup} ${F.isCurrentUser?z.ownMessage:z.otherMessage} ${F.isCurrentUser?"message-self-enter":"message-other-enter"}`,style:{position:"relative"},children:[!F.isCurrentUser&&h.jsx("div",{className:z.senderAvatar,onClick:()=>d(F.senderId),style:{cursor:"pointer"},children:F.senderAvatarUrl?h.jsx("img",{src:F.senderAvatarUrl,alt:F.senderUsername}):h.jsx("div",{className:z.avatarFallback,children:fb(F.senderUsername)})}),T===F.messageId?h.jsxs("div",{className:z.messageBubble,style:{display:"flex",flexDirection:"column",gap:"8px"},children:[h.jsx("textarea",{value:j,onChange:K=>R(K.target.value),style:{padding:"12px 14px",borderRadius:"10px",border:"2px solid var(--accent)",backgroundColor:"var(--background)",color:"var(--text)",fontSize:"15px",fontFamily:"inherit",minHeight:"60px",resize:"vertical"}}),h.jsxs("div",{style:{display:"flex",gap:"8px"},children:[h.jsx("button",{onClick:()=>pt(F.messageId),style:{padding:"6px 12px",backgroundColor:"var(--accent)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Save"}),h.jsx("button",{onClick:nn,style:{padding:"6px 12px",backgroundColor:"var(--border)",color:"var(--text)",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Cancel"})]})]}):h.jsxs("div",{className:z.messageBubble,onContextMenu:K=>ct(K,F.messageId,F.isCurrentUser),style:{position:"relative"},children:[!F.isCurrentUser&&h.jsx("div",{className:z.senderName,children:F.senderUsername}),F.replyId&&h.jsx("div",{style:{padding:"6px 10px",backgroundColor:"rgba(0,0,0,0.1)",borderLeft:"3px solid var(--accent)",borderRadius:"4px",marginBottom:"8px",fontSize:"12px",color:"var(--text-secondary)"},children:" Reply to message"}),h.jsx("div",{className:z.messageContent,children:F.content}),F.fileUrl&&(()=>{const K=ta(F.fileUrl)||F.fileUrl;return h.jsx("div",{style:{marginTop:"8px"},children:/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(K)?h.jsxs("a",{href:K,target:"_blank",rel:"noopener noreferrer",children:[h.jsx("img",{src:K,alt:"Attachment",style:{maxWidth:"300px",maxHeight:"200px",borderRadius:"8px",objectFit:"cover",cursor:"pointer"},onError:me=>{me.currentTarget.style.display="none";const at=me.currentTarget.nextElementSibling;at&&(at.style.display="flex")}}),h.jsx("div",{style:{display:"none",alignItems:"center",gap:"6px",padding:"8px 12px",background:"var(--background)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"13px"},children:" Image (click to view)"})]}):/\.(mp4|webm|ogg|mov)$/i.test(K)?h.jsx("video",{src:K,controls:!0,style:{maxWidth:"300px",maxHeight:"200px",borderRadius:"8px"}}):/\.(mp3|wav|ogg|m4a)$/i.test(K)?h.jsx("audio",{src:K,controls:!0,style:{maxWidth:"300px"}}):h.jsxs("a",{href:K,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"10px 14px",background:"var(--background)",borderRadius:"8px",color:"var(--text)",textDecoration:"none",fontSize:"13px",transition:"background 0.15s ease"},onMouseEnter:me=>me.currentTarget.style.background="var(--border)",onMouseLeave:me=>me.currentTarget.style.background="var(--background)",children:[h.jsx("span",{style:{fontSize:"18px"},children:/\.pdf$/i.test(K)?"":/\.(doc|docx)$/i.test(K)?"":/\.(xls|xlsx)$/i.test(K)?"":/\.(zip|rar|7z)$/i.test(K)?"":""}),h.jsx("span",{children:K.split("/").pop()?.substring(37)||"Download file"})]})})})(),F.messageReactions&&F.messageReactions.length>0&&h.jsx("div",{className:z.reactionsContainer,style:{display:"flex",gap:"4px",marginTop:"6px"},children:F.messageReactions.map((K,me)=>h.jsx("button",{onClick:()=>nt(F.messageId,K.emoji),title:`${K.userName} reacted with ${K.emoji}`,style:{padding:"4px 8px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:K.emoji},me))}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[h.jsx("div",{className:z.messageTime,children:pT(F.sentAt)}),h.jsx("button",{onClick:K=>te(K,F.messageId),title:"Add reaction",style:{padding:"2px 6px",backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"10px",cursor:"pointer",fontSize:"12px",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:K=>K.currentTarget.style.opacity="1",onMouseLeave:K=>K.currentTarget.style.opacity="0.6",children:"+"}),!F.isCurrentUser&&h.jsx("button",{onClick:()=>ie(F),title:"Reply",style:{padding:"2px 6px",backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"10px",cursor:"pointer",fontSize:"12px",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:K=>K.currentTarget.style.opacity="1",onMouseLeave:K=>K.currentTarget.style.opacity="0.6",children:""})]})]}),$?.messageId===F.messageId&&h.jsx("div",{ref:Ve,style:{position:"fixed",top:`${$.y}px`,left:`${$.x}px`,backgroundColor:"var(--surface)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,padding:"8px",display:"flex",gap:"4px"},children:["","","","","","","",""].map(K=>h.jsx("button",{onClick:()=>Re(F.messageId,K),style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"20px",transition:"all 0.2s"},onMouseEnter:me=>{me.currentTarget.style.backgroundColor="var(--background)",me.currentTarget.style.transform="scale(1.2)"},onMouseLeave:me=>{me.currentTarget.style.backgroundColor="transparent",me.currentTarget.style.transform="scale(1)"},children:K},K))}),E?.messageId===F.messageId&&F.isCurrentUser&&h.jsxs("div",{ref:ce,style:{position:"fixed",top:`${E.y}px`,left:`${E.x}px`,background:"linear-gradient(145deg, rgba(30, 41, 59, 0.98), rgba(15, 23, 42, 0.95))",border:"2px solid rgba(99, 102, 241, 0.3)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(99, 102, 241, 0.2)",zIndex:1e3,minWidth:"180px",overflow:"hidden",backdropFilter:"blur(20px)"},children:[h.jsxs("button",{onClick:()=>Ct(F.messageId),style:{width:"100%",padding:"12px 16px",border:"none",background:"transparent",color:"#f1f5f9",textAlign:"left",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease",borderBottom:"1px solid rgba(99, 102, 241, 0.2)",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:K=>{K.currentTarget.style.background="rgba(99, 102, 241, 0.15)"},onMouseLeave:K=>{K.currentTarget.style.background="transparent"},children:[h.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:""}),"Edit Message"]}),h.jsxs("button",{onClick:()=>Ht(F.messageId),style:{width:"100%",padding:"12px 16px",border:"none",background:"transparent",color:"#f87171",textAlign:"left",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:K=>{K.currentTarget.style.background="rgba(239, 68, 68, 0.15)"},onMouseLeave:K=>{K.currentTarget.style.background="transparent"},children:[h.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #ef4444, #dc2626)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:""}),"Delete Message"]})]})]},F.messageId)),h.jsx("div",{ref:ve})]}),N&&h.jsx("button",{onClick:Ee,title:"Scroll to bottom",style:{position:"absolute",bottom:"100px",right:"20px",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease",zIndex:10},onMouseEnter:F=>{F.currentTarget.style.transform="scale(1.1)",F.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.2)"},onMouseLeave:F=>{F.currentTarget.style.transform="scale(1)",F.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},children:""}),h.jsxs("div",{className:z.messageInput,children:[J&&h.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,right:0,padding:"8px 12px",backgroundColor:"var(--background)",borderTop:"2px solid var(--accent)",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"13px"},children:[h.jsxs("div",{children:[h.jsxs("span",{style:{color:"var(--accent)",fontWeight:600},children:["Replying to ",J.senderUsername,":"]})," ",h.jsxs("span",{style:{color:"var(--text-secondary)"},children:[J.content.substring(0,50),J.content.length>50?"...":""]})]}),h.jsx("button",{onClick:()=>ie(null),style:{padding:"4px 8px",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",fontSize:"16px"},children:""})]}),h.jsx("input",{type:"text",placeholder:J?"Type your reply...":"Type a message...",value:v,onChange:F=>y(F.target.value),onKeyPress:F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),pe())},className:z.inputField,disabled:x}),h.jsx("input",{ref:Ae,type:"file",accept:"image/*,video/*,audio/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.rar",style:{display:"none"},onChange:F=>{const K=F.target.files?.[0];console.log("[ChatView] File selected:",K?{name:K.name,size:K.size,type:K.type}:null),K&&Te(K)}}),h.jsx("button",{type:"button",className:z.attachButton,title:"Attach file",onClick:()=>{console.log("[ChatView] Attach button clicked, fileInputRef:",Ae.current),Ae.current?.click()},children:""}),xe&&h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--border)",maxWidth:"200px"},children:[xe.type.startsWith("image/")?h.jsx("img",{src:URL.createObjectURL(xe),alt:"Preview",style:{width:"36px",height:"36px",borderRadius:"4px",objectFit:"cover"}}):h.jsx("span",{style:{fontSize:"24px"},children:xe.type.includes("pdf")?"":xe.type.includes("video")?"":""}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("div",{style:{fontSize:"12px",fontWeight:500,color:"var(--text)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:xe.name}),h.jsxs("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:[(xe.size/1024).toFixed(1)," KB"]})]}),h.jsx("button",{onClick:()=>{Te(null),Ae.current&&(Ae.current.value="")},style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"var(--text-secondary)",padding:"2px",lineHeight:1},children:""})]}),h.jsx("button",{type:"button",onClick:pe,disabled:!v.trim()&&!xe||x,className:z.sendButton,children:x?"...":""})]})]}):h.jsx("div",{className:z.mainContent,children:h.jsxs("div",{className:z.emptyScreen,children:[h.jsx("div",{className:z.emptyIcon,children:""}),h.jsx("h2",{children:"Select a chat to start messaging"}),h.jsx("p",{children:"Choose a conversation from the list or start a new one"}),h.jsxs("div",{className:z.emptyActions,children:[h.jsx("button",{className:z.actionButton,onClick:l,children:"Create Group"}),h.jsx("button",{className:z.actionButton,onClick:u,children:"Create Channel"})]})]})})},Y4="_backdrop_17cuz_17",X4="_menu_17cuz_25",K4="_dark_17cuz_39",W4="_header_17cuz_45",Q4="_title_17cuz_67",Z4="_content_17cuz_114",J4="_section_17cuz_118",ez="_sectionHeader_17cuz_122",tz="_sectionItems_17cuz_139",nz="_menuItem_17cuz_145",az="_itemIcon_17cuz_175",iz="_divider_17cuz_194",sz="_logoutBtn_17cuz_204",wn={backdrop:Y4,menu:X4,dark:K4,header:W4,title:Q4,content:Z4,section:J4,sectionHeader:ez,sectionItems:tz,menuItem:nz,itemIcon:az,divider:iz,logoutBtn:sz},oz=({isOpen:n,onClose:a,onCreateGroup:s,onCreateChannel:o,onCreateCustomReaction:l,onEditProfile:u,onShowNotifications:d,onShowAdminPanel:p,isDarkMode:m,onToggleDarkMode:v,onLogout:y})=>{if(!n)return null;const x=[{title:"Create",items:[{icon:Yl,label:"New Group",onClick:s,color:"#3b82f6"},{icon:P_,label:"New Channel",onClick:o,color:"#8b5cf6"},{icon:H_,label:"Custom Reaction",onClick:l,color:"#f59e0b"}]},{title:"Account",items:[{icon:F_,label:"Edit Profile",onClick:u,color:"#10b981"},{icon:q_,label:"Notifications",onClick:d,color:"#ef4444"},{icon:cf,label:"Admin Panel",onClick:p,color:"#6366f1"}]},{title:"Preferences",items:[{icon:m?G_:$_,label:m?"Light Mode":"Dark Mode",onClick:v,color:m?"#f59e0b":"#6366f1"}]}];return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:wn.backdrop,onClick:a}),h.jsxs("div",{className:`${wn.menu} ${m?wn.dark:""}`,children:[h.jsxs("div",{className:wn.header,children:[h.jsx("h3",{className:wn.title,children:"Settings"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",color:m?"#94a3b8":"#64748b",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Oi,{size:22,strokeWidth:2.5})})]}),h.jsxs("div",{className:wn.content,children:[x.map(S=>h.jsxs("div",{className:wn.section,children:[h.jsx("div",{className:wn.sectionHeader,children:h.jsx("span",{children:S.title})}),h.jsx("div",{className:wn.sectionItems,children:S.items.map(T=>h.jsxs("button",{className:wn.menuItem,onClick:T.onClick,children:[h.jsx("div",{className:wn.itemIcon,style:{background:T.color},children:h.jsx(T.icon,{size:18,color:"white"})}),h.jsx("span",{children:T.label})]},T.label))})]},S.title)),h.jsx("div",{className:wn.divider}),h.jsxs("button",{className:wn.logoutBtn,onClick:y,children:[h.jsx(Px,{size:18}),h.jsx("span",{children:"Sign Out"})]})]})]})]})},rz=({isOpen:n,onClose:a,onCreate:s,isDarkMode:o=!1})=>{const[l,u]=C.useState(""),[d,p]=C.useState(null),[m,v]=C.useState(null),[y,x]=C.useState(!1),S=_=>{const j=_.target.files?.[0];if(j){p(j);const R=new FileReader;R.onloadend=()=>v(R.result),R.readAsDataURL(j)}},T=async()=>{if(l.trim()){x(!0);try{await s(l,d),u(""),p(null),v(null),a()}finally{x(!1)}}};return n?h.jsx("div",{className:`${z.modalOverlay} ${o?z.darkMode:""}`,onClick:a,children:h.jsxs("div",{className:z.modal,onClick:_=>_.stopPropagation(),children:[h.jsxs("div",{className:z.modalHeader,children:[h.jsx("h2",{children:"Create Custom Reaction"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),h.jsxs("div",{className:z.modalBody,children:[h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Reaction Name *"}),h.jsx("input",{type:"text",placeholder:"e.g., happy, excited, custom-emoji",value:l,onChange:_=>u(_.target.value),className:z.formInput}),h.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"This will be the emoji name (e.g., :happy:)"})]}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Reaction Image (Optional)"}),h.jsx("input",{type:"file",accept:"image/*",onChange:S,className:z.formInput,style:{padding:"8px"}}),m&&h.jsx("div",{style:{marginTop:"12px",textAlign:"center"},children:h.jsx("img",{src:m,alt:"Preview",style:{width:"64px",height:"64px",objectFit:"contain",borderRadius:"8px",border:"2px solid var(--border)"}})})]})]}),h.jsxs("div",{className:z.modalFooter,children:[h.jsx("button",{onClick:a,className:z.secondaryButton,children:"Cancel"}),h.jsx("button",{onClick:T,disabled:!l.trim()||y,className:z.primaryButton,children:y?"Creating...":"Create"})]})]})}):null},Bx=({isOpen:n,onClose:a,onCreate:s,isDarkMode:o=!1,isChannel:l=!1})=>{const[u,d]=C.useState(""),[p,m]=C.useState(""),[v,y]=C.useState("private"),[x,S]=C.useState(null),[T,_]=C.useState(!1),j=E=>{S(E)},R=async()=>{if(u.trim()){_(!0);try{await s(u,p,v,x),d(""),m(""),y("private"),S(null),a()}finally{_(!1)}}};return n?h.jsx("div",{className:`${z.modalOverlay} ${o?z.darkMode:""}`,onClick:a,children:h.jsxs("div",{className:z.modal,onClick:E=>E.stopPropagation(),children:[h.jsxs("div",{className:z.modalHeader,children:[h.jsx("h2",{children:l?"Create Channel":"Create Group"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),h.jsxs("div",{className:z.modalBody,children:[h.jsxs("div",{className:z.formGroup,children:[h.jsxs("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:[l?"Channel":"Group"," Name *"]}),h.jsx("input",{type:"text",placeholder:`Enter ${l?"channel":"group"} name (1-40 characters)`,value:u,onChange:E=>d(E.target.value),maxLength:40,className:z.formInput}),h.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[u.length,"/40 characters"]})]}),h.jsx("div",{className:z.formGroup,children:h.jsx(Dp,{onFileAccepted:j,label:`${l?"Channel":"Group"} Avatar (Optional)`,helperText:"Drag and drop an image, or click to browse"})}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Description (Optional)"}),h.jsx("textarea",{placeholder:`Enter ${l?"channel":"group"} description (max 150 characters)`,value:p,onChange:E=>m(E.target.value),maxLength:150,className:z.formInput,rows:3}),h.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[p.length,"/150 characters"]})]}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Privacy"}),h.jsxs("select",{value:v,onChange:E=>y(E.target.value),className:z.formInput,children:[h.jsx("option",{value:"private",children:"Private - Only invited members can join"}),h.jsx("option",{value:"public",children:"Public - Anyone can search and join"})]})]})]}),h.jsxs("div",{className:z.modalFooter,children:[h.jsx("button",{onClick:a,className:z.secondaryButton,children:"Cancel"}),h.jsx("button",{onClick:R,disabled:!u.trim()||T,className:z.primaryButton,children:T?"Creating...":"Create"})]})]})}):null},lz=({isOpen:n,onClose:a,chat:s,onUpdate:o,isDarkMode:l=!1,isChannel:u=!1})=>{const[d,p]=C.useState(""),[m,v]=C.useState(""),[y,x]=C.useState("private"),[S,T]=C.useState(null),[_,j]=C.useState(!1);C.useEffect(()=>{n&&s?(p(s.name||""),v(s.description||""),x(s.privacy||"private"),T(null)):n||(p(""),v(""),x("private"),T(null))},[n,s]);const R=H=>{T(H)},E=async()=>{if(!(!d.trim()||!s)){j(!0);try{await o(s.id,d,m,y,S),p(""),v(""),x("private"),T(null),a()}finally{j(!1)}}};return!n||!s?null:h.jsx("div",{className:`${z.modalOverlay} ${l?z.darkMode:""}`,onClick:a,children:h.jsxs("div",{className:z.modal,onClick:H=>H.stopPropagation(),children:[h.jsxs("div",{className:z.modalHeader,children:[h.jsx("h2",{children:u?"Edit Channel":"Edit Group"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),h.jsxs("div",{className:z.modalBody,children:[h.jsxs("div",{className:z.formGroup,children:[h.jsxs("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:[u?"Channel":"Group"," Name *"]}),h.jsx("input",{type:"text",placeholder:`Enter ${u?"channel":"group"} name (1-40 characters)`,value:d,onChange:H=>p(H.target.value),maxLength:40,className:z.formInput}),h.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[d.length,"/40 characters"]})]}),h.jsx("div",{className:z.formGroup,children:h.jsx(Dp,{onFileAccepted:R,currentPreview:s.avatar,label:`${u?"Channel":"Group"} Avatar (Optional)`,helperText:"Drag and drop a new image to update, or click to browse"})}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Description (Optional)"}),h.jsx("textarea",{placeholder:`Enter ${u?"channel":"group"} description (max 150 characters)`,value:m,onChange:H=>v(H.target.value),maxLength:150,className:z.formInput,rows:3}),h.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[m.length,"/150 characters"]})]}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Privacy"}),h.jsxs("select",{value:y,onChange:H=>x(H.target.value),className:z.formInput,children:[h.jsx("option",{value:"private",children:"Private - Only invited members can join"}),h.jsx("option",{value:"public",children:"Public - Anyone can search and join"})]})]})]}),h.jsxs("div",{className:z.modalFooter,children:[h.jsx("button",{onClick:a,className:z.secondaryButton,children:"Cancel"}),h.jsx("button",{onClick:E,disabled:!d.trim()||_,className:z.primaryButton,children:_?"Updating...":"Update"})]})]})})},cz=({isOpen:n,onClose:a,user:s,onUpdate:o,isDarkMode:l=!1})=>{const[u,d]=C.useState(""),[p,m]=C.useState(""),[v,y]=C.useState(""),[x,S]=C.useState("everyone"),[T,_]=C.useState(!1),[j,R]=C.useState(null),[E,H]=C.useState(null);C.useEffect(()=>{n&&s?(d(s.username||""),m(s.email||""),y(s.bio||""),S(s.addMePolicy||"everyone"),R(null),H(null)):n||(d(""),m(""),y(""),S("everyone"),R(null),H(null))},[n,s]);const N=$=>{R($)},Y=async()=>{_(!0);try{await o(u,p,v,x,j),a()}finally{_(!1)}};return!n||!s?null:h.jsx("div",{className:`${z.modalOverlay} ${l?z.darkMode:""}`,onClick:a,children:h.jsxs("div",{className:z.modal,onClick:$=>$.stopPropagation(),children:[h.jsxs("div",{className:z.modalHeader,children:[h.jsx("h2",{style:{color:"var(--text)"},children:"Edit Profile"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),h.jsxs("div",{className:z.modalBody,children:[h.jsx("div",{className:z.formGroup,children:h.jsx(Dp,{onFileAccepted:N,currentPreview:s?.avatar||E,label:"Profile Avatar",helperText:"Drag and drop your profile picture, or click to browse"})}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Username"}),h.jsx("input",{type:"text",value:u,onChange:$=>d($.target.value),className:z.formInput,placeholder:"Enter your username"})]}),h.jsxs("div",{className:z.formGroup,children:[h.jsxs("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:["Email",h.jsx("span",{style:{fontSize:"12px",fontWeight:400,color:"var(--text-secondary)",marginLeft:"8px"},children:"(Read-only)"})]}),h.jsx("input",{type:"email",value:p,readOnly:!0,disabled:!0,className:z.formInput,placeholder:"Email cannot be changed",style:{backgroundColor:"var(--background)",cursor:"not-allowed",opacity:.7}})]}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Bio/Description"}),h.jsx("textarea",{value:v,onChange:$=>y($.target.value),className:z.formInput,rows:3,placeholder:"Tell us about yourself..."})]}),h.jsxs("div",{className:z.formGroup,children:[h.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Who can add you?"}),h.jsxs("select",{value:x,onChange:$=>S($.target.value),className:z.formInput,children:[h.jsx("option",{value:"everyone",children:"Everyone"}),h.jsx("option",{value:"chatted",children:"Contacts Only"}),h.jsx("option",{value:"nobody",children:"Nobody"})]})]})]}),h.jsxs("div",{className:z.modalFooter,children:[h.jsx("button",{onClick:a,className:z.secondaryButton,children:"Cancel"}),h.jsx("button",{onClick:Y,disabled:T,className:z.primaryButton,children:T?"Updating...":"Update Profile"})]})]},`profile-modal-${s.id}`)})},uz=({isOpen:n,onClose:a,isDarkMode:s=!1})=>{const[o,l]=C.useState([]),[u,d]=C.useState(!1);C.useEffect(()=>{n&&p()},[n]);const p=async()=>{d(!0);try{const x=await(await Vt(()=>Promise.resolve().then(()=>$l),void 0).then(T=>T.notificationService)).getNotifications();console.log("[Notifications] Loaded notifications:",x),Array.isArray(x)&&x.length>0&&console.log("[Notifications] First notification structure:",JSON.stringify(x[0],null,2));const S=Array.isArray(x)?x.map(T=>({id:T.id,title:`Message from ${T.senderName}`,message:T.content,type:"message",chatName:T.chatName,chatAvatar:T.chatAvatar,senderName:T.senderName,fileUrl:T.fileUrl,isRead:T.seen,createdAt:T.sentTime})):[];l(S)}catch(y){console.error("[Notifications] Failed to load notifications:",y),l([])}finally{d(!1)}},m=async y=>{try{await(await Vt(()=>Promise.resolve().then(()=>$l),void 0).then(S=>S.notificationService)).markAsSeen(y),await p()}catch(x){console.error("Failed to mark notification as seen:",x)}},v=async()=>{try{await(await Vt(()=>Promise.resolve().then(()=>$l),void 0).then(x=>x.notificationService)).markAllAsSeen(),await p()}catch(y){console.error("Failed to mark all notifications as seen:",y)}};return n?h.jsx("div",{className:`${z.modalOverlay} ${s?z.darkMode:""}`,onClick:a,children:h.jsxs("div",{className:z.modal,onClick:y=>y.stopPropagation(),children:[h.jsxs("div",{className:z.modalHeader,children:[h.jsx("h2",{children:"Notifications"}),h.jsx("button",{onClick:a,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),h.jsx("div",{className:z.modalBody,children:u?h.jsx("div",{className:z.loadingState,children:"Loading notifications..."}):o.length===0?h.jsx("div",{className:z.emptyState,children:"No notifications yet"}):h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.length>0&&h.jsx("button",{onClick:v,style:{padding:"8px 12px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Mark All as Read"}),o.map(y=>h.jsxs("div",{onClick:()=>m(y.id),style:{padding:"14px",background:y.isRead?"rgba(99, 102, 241, 0.05)":"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",border:y.isRead?"1px solid rgba(99, 102, 241, 0.1)":"1px solid rgba(99, 102, 241, 0.3)",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",gap:"12px",alignItems:"flex-start",boxShadow:y.isRead?"none":"0 2px 8px rgba(99, 102, 241, 0.15)",position:"relative",overflow:"hidden"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(4px)",x.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.2)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow=y.isRead?"none":"0 2px 8px rgba(99, 102, 241, 0.15)"},children:[y.chatAvatar?h.jsx("img",{src:y.chatAvatar,alt:y.chatName,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",flexShrink:0}}):h.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"14px",flexShrink:0},children:fb(y.chatName)}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("div",{style:{fontWeight:600,marginBottom:"4px",color:"var(--text)"},children:y.chatName}),h.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"4px"},children:[h.jsxs("span",{style:{fontWeight:500,color:"var(--text)"},children:[y.senderName,":"]})," ",y.message&&y.message.trim()?y.message:y.fileUrl?h.jsx("span",{style:{fontStyle:"italic"},children:"Sent an attachment"}):h.jsx("span",{style:{fontStyle:"italic",opacity:.7},children:"No message content"})]}),y.fileUrl&&h.jsx("div",{style:{fontSize:"12px",color:"var(--accent)",marginBottom:"4px"},children:" Attachment"}),h.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:new Date(y.createdAt).toLocaleString()})]})]},y.id))]})})]})}):null},dz=()=>{const{user:n,logout:a}=Xt(),{chats:s,currentChat:o,isLoadingChats:l,messages:u,setMessages:d}=st(),{theme:p,toggleTheme:m}=xT(),v=Ok(),[y,x]=C.useState(!1),[S,T]=C.useState(!1),[_,j]=C.useState(!1),[R,E]=C.useState(!1),[H,N]=C.useState(null),[Y,$]=C.useState(!1),[ae,J]=C.useState(!1),[ie,ve]=C.useState(!1),[ce,ke]=C.useState(!1),[Ve,xe]=C.useState(!1),[Te,Ae]=C.useState(""),[L,G]=C.useState([]),[ee,oe]=C.useState(!1),[we,Ee]=C.useState(!1),[_e,pe]=C.useState(null),[Re,nt]=C.useState(null),[ct,te]=C.useState(!1),[Ct,pt]=C.useState(!1),[nn,Ht]=C.useState(!1),[F,K]=C.useState(null),[me,at]=C.useState(!1),jt=C.useRef(null),Ge=p==="dark";C.useEffect(()=>{(async()=>{const W=st.getState();s.length===0&&await W.loadChats()})()},[s.length]),C.useEffect(()=>{(async()=>{if(!o||!o.id||o.id==="search"){console.log("[Dashboard] Clearing messages - no chat selected or search chat"),d([]);return}console.log("[Dashboard] ========== LOADING MESSAGES FOR CHAT =========="),console.log("[Dashboard] Chat ID:",o.id),console.log("[Dashboard] Chat Name:",o.name),console.log("[Dashboard] Chat Type:",o.type),x(!0);try{console.log("[Dashboard] Fetching chat data from API...");const W=await it.getChat(o.id);console.log("[Dashboard] API Response - Chat:",W),console.log("[Dashboard] API Response - Messages count:",W.messages?.length||0),W.messages&&W.messages.length>0&&console.log("[Dashboard] First message in response:",W.messages[0]),d(W.messages||[]),console.log("[Dashboard] Set messages state to:",W.messages?.length||0,"messages")}catch(W){console.error("[Dashboard] Failed to load messages:",W),d([])}finally{x(!1)}})()},[o]),C.useEffect(()=>{(async()=>{if(!(!o||!o.id||o.id==="search"||o.id.startsWith("temp_dm_"))){if(v.isConnected)try{console.log("[Dashboard] Joining SignalR chat room:",o.id),await v.joinChat(o.id)}catch(W){console.error("[Dashboard] Failed to join chat room:",W)}return()=>{o&&o.id&&v.isConnected&&(console.log("[Dashboard] Leaving SignalR chat room:",o.id),v.leaveChat(o.id).catch(console.error))}}})()},[o,v.isConnected]);const In=X=>{st.getState().setCurrentChat(X)},an=async()=>{await aa({title:"Sign Out",message:"Are you sure you want to sign out?",confirmText:"Sign Out",cancelText:"Cancel",variant:"warning"})&&a()},ut=async(X,W)=>{if(console.log("[Dashboard] handleSendChatMessage called",{content:X,file:W?{name:W.name,size:W.size,type:W.type}:null,currentChatId:o?.id,userId:n?.id}),!o||!o.id||o.id==="search"||!n){console.log("[Dashboard] Early return - missing chat or user");return}try{if(W){console.log("[Dashboard] Sending message with file via REST API");const le=new FormData;if(o.id.startsWith("temp_dm_")){const de=o.id.replace("temp_dm_","");le.append("receiverId",de)}else if(le.append("chatId",o.id),o.type==="dm"){const de=o.members?.find(ge=>ge.userId!==n.id)?.userId;de&&le.append("receiverId",de)}le.append("content",X),le.append("file",W),await(await Vt(()=>Promise.resolve().then(()=>Fo),void 0).then(de=>de.messageService)).sendMessage(le)}else{console.log("[Dashboard] Sending text message via SignalR");let le=null,Ie=null;o.id.startsWith("temp_dm_")?Ie=o.id.replace("temp_dm_",""):(le=o.id,o.type==="dm"&&(Ie=o.members?.find(de=>de.userId!==n.id)?.userId||null)),await v.sendMessage(le,X,Ie,null)}if(console.log("[Dashboard] Message sent successfully"),o.id.startsWith("temp_dm_")){console.log("[Dashboard] Reloading chats after sending to temp chat");const le=st.getState();await new Promise(Se=>setTimeout(Se,500)),await le.loadChats();const Ie=le.chats,de=o.id.replace("temp_dm_",""),ge=Ie.find(Se=>Se.type!=="dm"||!Se.members||Se.members.length===0?!1:Se.members.some(ne=>ne.userId===de||ne.id===de||ne.user?.id===de||ne.user?.userId===de));ge&&(console.log("[Dashboard] Found newly created real DM:",ge.id),le.setCurrentChat(ge))}else{const le=await it.getChat(o.id);d(le.messages||[])}}catch(le){console.error("Failed to send message:",le)}},Wt=async(X,W,le,Ie)=>{try{const de=new FormData;de.append("name",X),W&&de.append("description",W),de.append("privacyType",le==="public"?"0":"1"),Ie&&de.append("file",Ie),await it.createGroup(de),Oe.success("Group created successfully!"),await st.getState().loadChats()}catch(de){throw console.error("Failed to create group:",de),Oe.error(tt(de,"Failed to create group")),de}},qs=async(X,W,le,Ie)=>{try{const de=new FormData;de.append("name",X),W&&de.append("description",W),de.append("privacyType",le==="public"?"0":"1"),Ie&&de.append("file",Ie),await it.createChannel(de),Oe.success("Channel created successfully!"),await st.getState().loadChats()}catch(de){throw console.error("Failed to create channel:",de),Oe.error(tt(de,"Failed to create channel")),de}},Gs=async(X,W,le,Ie,de)=>{try{const ge=new FormData;ge.append("chatId",X),ge.append("name",W),le&&ge.append("description",le),ge.append("privacyType",Ie==="public"?"0":"1"),de&&ge.append("file",de);const Se=H?.type==="channel"?"channel":"group";await it.updateChat(X,Se,ge),Oe.success("Group/Channel updated successfully!"),await st.getState().loadChats()}catch(ge){throw console.error("Failed to update group/channel:",ge),Oe.error(tt(ge,"Failed to update group/channel")),ge}},Q=async X=>{if(o)try{await it.banUser(o.id,X),Oe.success("User banned successfully");const W=await it.getChatProfile(o.id);st.getState().setCurrentChat(W)}catch(W){console.error("Failed to ban user:",W),Oe.error(tt(W,"Failed to ban user"))}},fe=async X=>{if(o)try{await it.unbanUser(o.id,X),Oe.success("User unbanned successfully");const W=await it.getChatProfile(o.id);st.getState().setCurrentChat(W)}catch(W){console.error("Failed to unban user:",W),Oe.error(tt(W,"Failed to unban user"))}},ot=async X=>{if(o)try{o.type==="group"?await it.removeMemberFromGroup(o.id,X):o.type==="channel"&&await it.removeMemberFromChannel(o.id,X),Oe.success("Member removed successfully");const W=await it.getChatProfile(o.id);st.getState().setCurrentChat(W)}catch(W){console.error("Failed to remove member:",W),Oe.error(tt(W,"Failed to remove member"))}},ht=async X=>{if(o)try{await it.updateChatPrivacy(o.id,X),Oe.success(`Privacy updated to ${X}`);const W=await it.getChatProfile(o.id);st.getState().setCurrentChat(W)}catch(W){console.error("Failed to update privacy:",W),Oe.error(tt(W,"Failed to update privacy"))}},Mt=async()=>{if(!(!o||!await aa({title:`Leave ${o.type==="channel"?"Channel":"Group"}`,message:`Are you sure you want to leave this ${o.type}? You will lose access to all messages and content.`,confirmText:"Leave",cancelText:"Stay",variant:"warning"})))try{await it.leaveChat(o.id,o.type),Oe.success(`Left ${o.type} successfully`),await st.getState().loadChats(),st.getState().setCurrentChat(null),pt(!1)}catch(W){console.error("Failed to leave chat:",W),Oe.error(tt(W,"Failed to leave"))}},oa=async()=>{if(o)try{await it.deleteChat(o.id,o.type),Oe.success(`${o.type==="group"?"Group":"Channel"} deleted successfully`),await st.getState().loadChats(),st.getState().setCurrentChat(null),pt(!1)}catch(X){console.error("Failed to delete chat:",X),Oe.error(tt(X,`Failed to delete ${o.type}`))}},An=async X=>{try{await(await Vt(()=>Promise.resolve().then(()=>Ja),void 0).then(le=>le.userService)).blockUser(X),Oe.success("User blocked successfully"),Ht(!1),Ee(!1),pe(null)}catch(W){console.error("Failed to block user:",W),Oe.error(tt(W,"Failed to block user"))}},ai=async(X,W)=>{try{const le=new FormData;le.append("Name",X),W&&le.append("file",W);const{reactionService:Ie}=await Vt(async()=>{const{reactionService:de}=await import("./reaction.service-Ry572Umw.js");return{reactionService:de}},__vite__mapDeps([0,1,2]));await Ie.createReaction(le),Oe.success("Custom reaction created successfully!")}catch(le){throw console.error("Failed to create custom reaction:",le),Oe.error(tt(le,"Failed to create custom reaction")),le}},ii=async(X,W,le,Ie,de)=>{try{const ge=new FormData;X&&ge.append("username",X),ge.append("description",le||"");let Se="0";Ie==="chatted"?Se="1":Ie==="nobody"&&(Se="2"),ge.append("addChatMinLvl",Se),de&&ge.append("file",de);const xt=await(await Vt(()=>Promise.resolve().then(()=>Ja),void 0).then(si=>si.userService)).updateProfile(ge);Xt.getState().setUser(xt),Oe.success("Profile updated successfully!")}catch(ge){throw console.error("Failed to update profile:",ge),Oe.error(tt(ge,"Failed to update profile")),ge}},Pn=async X=>{Ae(X),G([]),X.trim()&&(jt.current&&clearTimeout(jt.current),oe(!0),jt.current=setTimeout(async()=>{try{const W=await Vt(()=>Promise.resolve().then(()=>Ja),void 0).then(Se=>Se.userService),le=it,Ie=[];try{const Se=await W.searchUsers(X);console.log("[Search] User search results:",Se),Array.isArray(Se)&&Se.forEach(ne=>{const xt=ne.EntityId||ne.entityId||ne.id,Ze=ne.displayName||ne.DisplayName||ne.username||ne.name||"Unknown User";console.log("[Search] Mapping user result:",{EntityId:ne.EntityId,entityId:ne.entityId,id:ne.id,displayName:ne.displayName,DisplayName:ne.DisplayName,username:ne.username,finalUserId:xt,finalName:Ze}),Ie.push({id:xt,name:Ze,type:"user",avatar:ta(ne.avatarUrl||ne.avatar||ne.profileImage)})})}catch(Se){console.error("User search failed:",Se)}try{const Se=await le.searchChats(X);console.log("[Search] Chat results:",Se,"Type:",typeof Se,"IsArray:",Array.isArray(Se)),Array.isArray(Se)?Se.forEach((ne,xt)=>{console.log(`[Search] Processing chat result #${xt}:`,ne),console.log(`[Search] Result #${xt} - chatType:`,ne.chatType,"type:",ne.type,"displayName:",ne.displayName,"name:",ne.name);let Ze="channel";if(typeof ne.chatType=="number")Ze=ne.chatType===0?"user":ne.chatType===1?"group":"channel",console.log(`[Search] Used numeric chatType (${ne.chatType}) -> ${Ze}`);else if(ne.type&&typeof ne.type=="string"){const mt=String(ne.type).toLowerCase().trim();if(mt==="dm"||mt==="directmessage")Ze="user",console.log("[Search] Used type field 'dm/directmessage' -> user");else if(mt==="group")Ze="group",console.log("[Search] Used type field 'group' -> group");else if(mt==="channel")Ze="channel",console.log("[Search] Used type field 'channel' -> channel");else if(console.log(`[Search] type field '${ne.type}' is unknown, trying chatType...`),ne.chatType&&typeof ne.chatType=="string"){const Ea=String(ne.chatType).toLowerCase().trim();Ea==="conversation"||Ea==="dm"||Ea==="directmessage"?(Ze="user",console.log("[Search] Used chatType field 'conversation/dm' -> user")):Ea==="group"?(Ze="group",console.log("[Search] Used chatType field 'group' -> group")):Ea==="channel"?(Ze="channel",console.log("[Search] Used chatType field 'channel' -> channel")):console.log(`[Search] chatType '${Ea}' unknown, defaulting to channel`)}}else if(ne.chatType&&typeof ne.chatType=="string"){const mt=String(ne.chatType).toLowerCase().trim();mt==="conversation"||mt==="dm"||mt==="directmessage"||mt==="0"?(Ze="user",console.log(`[Search] Used string chatType '${ne.chatType}' (${mt}) -> user`)):mt==="group"||mt==="1"?(Ze="group",console.log(`[Search] Used string chatType '${ne.chatType}' (${mt}) -> group`)):mt==="channel"||mt==="2"?(Ze="channel",console.log(`[Search] Used string chatType '${ne.chatType}' (${mt}) -> channel`)):console.log(`[Search] string chatType '${mt}' unknown, defaulting to channel`)}else console.log("[Search] No type info found, using default (channel)");const si=String(ne.displayName||ne.name||ne.username||ne.title||"Unknown").trim(),gr=ta(ne.avatarUrl||ne.avatar||ne.profileImage)||"",Vi={id:String(ne.entityId||ne.id||"unknown"),name:si==="Unknown"||si.length===0?"Unknown User":si,type:Ze,avatar:gr||void 0};console.log("[Search] Mapped result:",Vi,"Original:",{displayName:ne.displayName,name:ne.name,username:ne.username,avatar:ne.avatar,avatarUrl:ne.avatarUrl}),Ie.push(Vi)}):(console.warn("[Search] Chat results is not an array:",Se),console.warn("[Search] Type of chatsResults:",typeof Se))}catch(Se){console.error("Chat search failed:",Se)}const de=new Set,ge=Ie.filter(Se=>{const ne=`${Se.name.toLowerCase().trim()}|${Se.type}`;return de.has(ne)?(console.log(`[Search] Filtered duplicate: ${ne}`),!1):(de.add(ne),!0)});ge.sort((Se,ne)=>{const xt={user:0,group:1,channel:2};return(xt[Se.type]??3)-(xt[ne.type]??3)}),console.log("[Search] Final deduplicated results (by name+type):",ge,"Removed duplicates:",Ie.length-ge.length),G(ge),oe(!1)}catch(W){console.error("Search error:",W),oe(!1)}},300))},Rt=async X=>{if(console.log("[Search] Selected result:",X,"Type:",X.type),X.type==="user"){pe(null),nt(X),te(!0);try{const W=await Vt(()=>Promise.resolve().then(()=>Ja),void 0).then(Ie=>Ie.userService);console.log("[Search] Loading user profile for ID:",X.id);const le=await W.getUserProfile(X.id);console.log("[Search] Loaded user profile:",le),pe(le),Ee(!0)}catch(W){console.error("[Search] Failed to load user profile:",W),pe(X),Ee(!0)}finally{te(!1)}}else{console.log("[Search] Opening group/channel profile for:",X.name),pe(null),te(!0);try{const W=await it.getChatProfile(X.id);console.log("[Search] Loaded chat profile:",W),st.getState().setCurrentChat(W),pt(!0)}catch(W){console.error("[Search] Failed to load chat profile:",W),Oe.error(tt(W,"Failed to load profile"))}finally{te(!1)}}Ae(""),G([])},sn=async(X,W)=>{try{if(!X){Oe.error("Error: User ID not found");return}console.log("[Dashboard] handleSendMessage called with userId:",X,"message:",W),Ee(!1),pe(null),nt(null);const le=st.getState();console.log("[Dashboard] Looking for existing DM with user:",X);let de=le.chats.find(ge=>ge.type!=="dm"||!ge.members||ge.members.length===0?!1:ge.members.some(Se=>Se.userId===X||Se.id===X||Se.user?.id===X||Se.user?.userId===X));if(de||(console.log("[Dashboard] No existing DM found, creating temporary blank chat for user:",X),de={id:`temp_dm_${X}`,name:_e?.username||"User",type:"dm",avatar:_e?.avatar,description:"",privacy:"private",members:[],unreadCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("[Dashboard] Setting current chat to:",de.id),le.setCurrentChat(de),W&&W.trim()){console.log("[Dashboard] Sending initial message to user:",X);try{const ge=new FormData;ge.append("receiverId",X),ge.append("content",W),await be.post("/messages/",ge,{headers:{"Content-Type":"multipart/form-data"}}),console.log("[Dashboard] Message sent successfully, backend auto-created DM"),await new Promise(xt=>setTimeout(xt,500)),await le.loadChats();const ne=le.chats.find(xt=>xt.type!=="dm"||!xt.members||xt.members.length===0?!1:xt.members.some(Ze=>Ze.userId===X||Ze.id===X||Ze.user?.id===X||Ze.user?.userId===X));ne&&(console.log("[Dashboard] Found newly created DM:",ne.id),le.setCurrentChat(ne))}catch(ge){console.error("[Dashboard] Error sending message:",ge),Oe.error(tt(ge,"Failed to send message"))}}}catch(le){console.error("[Dashboard] Failed to open DM:",le),Oe.error(tt(le,"Failed to open direct message"))}};return h.jsxs("div",{className:`${z.dashboard} ${Ge?z.darkMode:""}`,children:[h.jsx(G4,{chats:s,currentChat:o,onSelectChat:X=>{In(X),at(!1)},isLoadingChats:l,user:n,onLogout:an,onMenuOpen:()=>xe(!Ve),searchQuery:Te,onSearchChange:Pn,searchResults:L,onSelectSearchResult:X=>{Rt(X),at(!1)},isSearching:ee,isDarkMode:Ge,onClearSearch:()=>{Ae(""),nt(null),Ee(!1)},isMobileOpen:me,onMobileClose:()=>at(!1)}),h.jsx(oz,{isOpen:Ve,onClose:()=>xe(!1),onCreateGroup:()=>{T(!0),xe(!1)},onCreateChannel:()=>{j(!0),xe(!1)},onCreateCustomReaction:()=>{ve(!0),xe(!1)},onEditProfile:()=>{$(!0),xe(!1)},onShowNotifications:()=>{J(!0),xe(!1)},onShowAdminPanel:()=>{ke(!0),xe(!1)},isDarkMode:Ge,onToggleDarkMode:m,onLogout:an}),h.jsx($4,{currentChat:o,messages:u,isLoadingMessages:y,onSendMessage:ut,onOpenGroupCreate:()=>T(!0),onOpenChannelCreate:()=>j(!0),onOpenUserProfile:async X=>{te(!0),Ee(!0),nt(null);try{const le=await(await Vt(()=>Promise.resolve().then(()=>Ja),void 0).then(Ie=>Ie.userService)).getUserProfile(X);pe(le)}catch(W){console.error("Failed to load user profile:",W)}finally{te(!1)}},onOpenMobileSidebar:()=>at(!0),onOpenChatProfile:()=>pt(!0)}),h.jsx(Bx,{isOpen:S,onClose:()=>T(!1),onCreate:Wt,isDarkMode:Ge,isChannel:!1}),h.jsx(Bx,{isOpen:_,onClose:()=>j(!1),onCreate:qs,isDarkMode:Ge,isChannel:!0}),h.jsx(lz,{isOpen:R,onClose:()=>{E(!1),N(null)},chat:H,onUpdate:Gs,isDarkMode:Ge,isChannel:H?.type==="channel"}),h.jsx(cz,{isOpen:Y,onClose:()=>$(!1),user:n,onUpdate:ii,isDarkMode:Ge}),h.jsx(uz,{isOpen:ae,onClose:()=>J(!1),isDarkMode:Ge}),h.jsx(rz,{isOpen:ie,onClose:()=>ve(!1),onCreate:ai,isDarkMode:Ge}),h.jsx(WD,{isOpen:ce,onClose:()=>ke(!1),isDarkMode:Ge}),we&&_e&&h.jsx(Ux,{isOpen:we,onClose:()=>{Ee(!1),pe(null),nt(null)},userId:_e.id,onSendMessage:sn,onBlockUser:An}),o&&(o.type==="group"||o.type==="channel")&&h.jsx(P4,{isOpen:Ct,onClose:()=>pt(!1),chat:o,currentUserId:n?.id||"",onEditGroup:()=>{pt(!1),N(o),E(!0)},onLeaveGroup:Mt,onDeleteGroup:oa,onKickMember:ot,onBanMember:Q,onUnbanMember:fe,onUpdatePrivacy:ht,onViewUserProfile:X=>{K(X),Ht(!0)}}),F&&h.jsx(Ux,{isOpen:nn,onClose:()=>{Ht(!1),K(null)},userId:F,onSendMessage:X=>{console.log("Send message to user:",X)},onBlockUser:An})]})},Go={getNotifications:async()=>{try{console.log("[NotificationService] Fetching notifications from GET /notifications");const n=await be.get("/notifications");console.log("[NotificationService] Raw API Response:",{status:n.status,statusText:n.statusText,data:n.data});let a=[];n.data?.success&&n.data?.data?(a=n.data.data,console.log("[NotificationService] Got notifications from response.data.data:",a.length,"items")):n.data&&Array.isArray(n.data)?(a=n.data,console.log("[NotificationService] Response is direct array:",a.length,"items")):(console.log("[NotificationService] Unexpected response format:",n.data),a=[]);const s=Array.isArray(a)?a.map(o=>({id:o.notificationId||o.id,chatId:o.chatId,messageId:o.messageId,chatName:o.chatName||"",chatAvatar:o.chatAvatar||"",senderName:o.senderName||"",content:o.content||"",fileUrl:o.fileUrl,sentTime:o.sentTime||new Date().toISOString(),seen:o.seen!==void 0?o.seen:!1})):[];return console.log("[NotificationService] Returning",s.length,"normalized notifications"),s}catch(n){return console.error("[NotificationService] Failed to fetch notifications:",n.message),console.error("[NotificationService] Error details:",{status:n.response?.status,statusText:n.response?.statusText,data:n.response?.data,url:n.config?.url}),[]}},markAsSeen:async n=>{try{console.log("[NotificationService] Marking notification as seen:",n);const a=await be.put(`/notifications/seen?notificationId=${n}`);return console.log("[NotificationService] Mark as seen response:",a.data),a.data?.data||a.data}catch(a){throw console.error("[NotificationService] Failed to mark notification as seen:",a),console.error("[NotificationService] Error details:",{status:a.response?.status,statusText:a.response?.statusText,data:a.response?.data}),a}},markMultipleAsSeen:async n=>{try{if(!Array.isArray(n)||n.length===0)return console.warn("[NotificationService] No notification IDs provided"),{success:!0};console.log("[NotificationService] Marking multiple notifications as seen:",n),console.log("[NotificationService] Notification IDs (type, count):",typeof n[0],n.length);const a={notificationIds:n};console.log("[NotificationService] Request body:",JSON.stringify(a));const s=await be.put("/notifications/seen/batch",a);return console.log("[NotificationService] Mark multiple response:",{status:s.status,statusText:s.statusText,data:s.data}),s.data?.success||s.status===200?(console.log("[NotificationService] Successfully marked",n.length,"notifications as seen"),s.data||{success:!0}):(console.warn("[NotificationService] Response indicates potential issue:",s.data),s.data||{success:!0})}catch(a){throw console.error("[NotificationService] Failed to mark multiple notifications as seen:",a),console.error("[NotificationService] Full error details:",{message:a.message,status:a.response?.status,statusText:a.response?.statusText,responseData:a.response?.data,requestData:a.config?.data,headers:a.config?.headers}),a}},markAllAsSeen:async()=>{try{const n=await be.put("/notifications/seen/all");return n.data?.data||n.data}catch(n){throw console.warn("[NotificationService] PUT /notifications/seen/all may not be implemented:",n),n}}},$l=Object.freeze(Object.defineProperty({__proto__:null,notificationService:Go},Symbol.toStringTag,{value:"Module"})),fz=sc(n=>({notifications:[],isLoading:!1,error:null,loadNotifications:async()=>{n({isLoading:!0,error:null});try{const a=await Go.getNotifications();n({notifications:a,isLoading:!1})}catch(a){const s=a.response?.data?.message||"Failed to load notifications";n({error:s,isLoading:!1})}},markAsSeen:async a=>{n({error:null});try{await Go.markAsSeen(a),n(s=>({notifications:s.notifications.map(o=>o.id===a?{...o,seen:!0}:o)}))}catch(s){const o=s.response?.data?.message||"Failed to mark notification as seen";n({error:o})}},markMultipleAsSeen:async a=>{n({error:null});try{await Go.markMultipleAsSeen(a),n(s=>({notifications:s.notifications.map(o=>a.includes(o.id)?{...o,seen:!0}:o)}))}catch(s){const o=s.response?.data?.message||"Failed to mark notifications as seen";n({error:o})}},markAllAsSeen:async()=>{n({error:null});try{await Go.markAllAsSeen(),n(a=>({notifications:a.notifications.map(s=>({...s,seen:!0}))}))}catch(a){const s=a.response?.data?.message||"Failed to mark all notifications as seen";n({error:s})}},clearError:()=>n({error:null}),handleNewNotification:a=>{console.log("[NotificationStore] New notification:",a),n(s=>{const o={id:a.messageId,messageId:a.messageId,chatId:a.chatId,chatName:a.chatName,chatAvatar:a.chatAvatar,senderName:a.senderName,content:a.content,sentTime:a.sentTime,seen:!1,fileUrl:a.fileUrl};return s.notifications.some(u=>u.chatId===o.chatId&&u.sentTime===o.sentTime)?s:{notifications:[o,...s.notifications]}})}}));function pz(){const{isAuthenticated:n}=dr();return console.log("[AppRoutes] Rendering with isAuthenticated:",n),h.jsxs(w_,{children:[h.jsx(Uo,{path:"/login",element:n?h.jsx(Po,{to:"/dashboard",replace:!0}):h.jsx(fT,{})}),h.jsx(Uo,{path:"/register",element:n?h.jsx(Po,{to:"/dashboard",replace:!0}):h.jsx(gT,{})}),h.jsx(Uo,{path:"/dashboard",element:h.jsx(BC,{children:h.jsx(dz,{})})}),h.jsx(Uo,{path:"/",element:h.jsx(Po,{to:n?"/dashboard":"/login",replace:!0})}),h.jsx(Uo,{path:"*",element:h.jsx(Po,{to:"/",replace:!0})})]})}function hz(){const{isAuthenticated:n}=dr(),[a,s]=C.useState([]);C.useEffect(()=>As.subscribe(s),[]);const o=l=>{As.remove(l)};C.useEffect(()=>{console.log("[App] Initializing auth from localStorage..."),Xt.getState().initializeAuth(),console.log("[App] Auth initialization complete")},[]),C.useEffect(()=>{if(!n){console.log("[App] Not authenticated, skipping SignalR initialization");return}console.log("[App] Setting up SignalR event handlers...");const l=st.getState(),u=fz.getState();return qe.setEventHandlers({onUserOnline:p=>{l.handleUserOnline(p)},onUserOffline:p=>{l.handleUserOffline({...p,lastSeen:p.lastSeen||new Date().toISOString()})},onReceiveMessage:p=>{l.handleReceiveMessage(p)},onMessageEdited:p=>{l.handleMessageEdited(p)},onMessageDeleted:p=>{l.handleMessageDeleted(p)},onReactionAdded:p=>{l.handleReactionAdded(p)},onReactionRemoved:p=>{l.handleReactionRemoved(p)},onUserTyping:p=>{l.handleUserTyping(p)},onUserStoppedTyping:p=>{l.handleUserStoppedTyping(p)},onNewNotification:p=>{u.handleNewNotification(p)},onError:p=>{console.error("[App] SignalR Error:",p)}}),(async()=>{try{console.log("[App] Starting SignalR connection..."),await qe.start(),console.log("[App] SignalR connected successfully");const p=st.getState();p.chats.length===0&&(console.log("[App] Loading chats before fetching presence states..."),await p.loadChats());const m=p.chats.flatMap(v=>v.members?.map(y=>y.userId)||[]).filter((v,y,x)=>x.indexOf(v)===y);if(m.length>0){console.log("[App] Fetching presence states for",m.length,"users:",m);try{const v=await qe.getPresenceStates(m);console.log("[App] Received presence states:",v),console.log("[App] Presence states type check:",typeof v,Object.keys(v).length,"keys"),p.setInitialPresenceStates(v),console.log("[App] Presence states initialized successfully"),console.log("[App] OnlineUsers map after init:",p.onlineUsers)}catch(v){console.error("[App] Failed to fetch initial presence states:",v)}}else console.log("[App] No users to fetch presence for")}catch(p){console.error("[App] Failed to start SignalR:",p)}})(),()=>{console.log("[App] Stopping SignalR connection..."),qe.stop()}},[n]);try{return h.jsxs(h.Fragment,{children:[h.jsx(__,{children:h.jsx(pz,{})}),h.jsx(pj,{toasts:a,onClose:o}),h.jsx(XD,{})]})}catch(l){return console.error("App Error:",l),h.jsxs("div",{style:{padding:"20px",color:"red"},children:[h.jsx("h1",{children:"Error Loading Application"}),h.jsx("p",{children:"Check browser console for details"}),h.jsx("pre",{children:String(l)})]})}}const lS=document.getElementById("root");if(!lS)throw new Error("Root element not found");console.log("React app starting...");J_.createRoot(lS).render(h.jsx(C.StrictMode,{children:h.jsx(hz,{})}));console.log("React app rendered");export{be as a};
