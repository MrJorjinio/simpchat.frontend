const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/permission.service-BMzIMu-h.js","assets/vendor-BPkUhSj7.js","assets/ui-DJvZl61u.js"])))=>i.map(i=>d[i]);
import{a as l_,b as c_,R as Ti,N as Br,r as w,L as js,u as rm,B as u_,c as d_,d as Nr}from"./vendor-BPkUhSj7.js";import{M as hl,S as Eh,A as zi,L as om,B as lm,Z as f_,a as Ui,U as Ut,C as Fa,E as ml,b as Vr,c as xv,d as Ah,K as h_,e as Lt,f as kh,g as rl,h as Va,P as Nh,X as Ot,T as m_,I as cm,i as Sv,j as um,k as Cu,l as p_,m as _v,n as ru,o as g_,p as dm,q as fm,R as Cs,G as wv,r as y_,s as Pr,t as b_,u as v_,v as x_,w as pu,x as S_,y as v0,z as __,D as w_,F as C_,H as j_,J as T_,N as M_,O as x0,Q as Kf,V as S0,W as _0,Y as E_,_ as A_,$ as k_}from"./ui-DJvZl61u.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function a(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(l){if(l.ep)return;l.ep=!0;const d=a(l);fetch(l.href,d)}})();var Qf={exports:{}},tl={};var w0;function N_(){if(w0)return tl;w0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,l,d){var f=null;if(d!==void 0&&(f=""+d),l.key!==void 0&&(f=""+l.key),"key"in l){d={};for(var m in l)m!=="key"&&(d[m]=l[m])}else d=l;return l=d.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:d}}return tl.Fragment=n,tl.jsx=a,tl.jsxs=a,tl}var C0;function R_(){return C0||(C0=1,Qf.exports=N_()),Qf.exports}var c=R_(),Zf={exports:{}},nl={},Jf={exports:{}},eh={};var j0;function D_(){return j0||(j0=1,(function(s){function n(O,Z){var ne=O.length;O.push(Z);e:for(;0<ne;){var be=ne-1>>>1,Te=O[be];if(0<l(Te,Z))O[be]=Z,O[ne]=Te,ne=be;else break e}}function a(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var Z=O[0],ne=O.pop();if(ne!==Z){O[0]=ne;e:for(var be=0,Te=O.length,Le=Te>>>1;be<Le;){var we=2*(be+1)-1,ve=O[we],Ke=we+1,Ct=O[Ke];if(0>l(ve,ne))Ke<Te&&0>l(Ct,ve)?(O[be]=Ct,O[Ke]=ne,be=Ke):(O[be]=ve,O[we]=ne,be=we);else if(Ke<Te&&0>l(Ct,ne))O[be]=Ct,O[Ke]=ne,be=Ke;else break e}}return Z}function l(O,Z){var ne=O.sortIndex-Z.sortIndex;return ne!==0?ne:O.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],b=1,v=null,_=3,T=!1,E=!1,M=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function J(O){for(var Z=a(y);Z!==null;){if(Z.callback===null)r(y);else if(Z.startTime<=O)r(y),Z.sortIndex=Z.expirationTime,n(p,Z);else break;Z=a(y)}}function q(O){if(M=!1,J(O),!E)if(a(p)!==null)E=!0,ee||(ee=!0,Re());else{var Z=a(y);Z!==null&&Ee(q,Z.startTime-O)}}var ee=!1,se=-1,W=5,ue=-1;function fe(){return N?!0:!(s.unstable_now()-ue<W)}function je(){if(N=!1,ee){var O=s.unstable_now();ue=O;var Z=!0;try{e:{E=!1,M&&(M=!1,Q(se),se=-1),T=!0;var ne=_;try{t:{for(J(O),v=a(p);v!==null&&!(v.expirationTime>O&&fe());){var be=v.callback;if(typeof be=="function"){v.callback=null,_=v.priorityLevel;var Te=be(v.expirationTime<=O);if(O=s.unstable_now(),typeof Te=="function"){v.callback=Te,J(O),Z=!0;break t}v===a(p)&&r(p),J(O)}else r(p);v=a(p)}if(v!==null)Z=!0;else{var Le=a(y);Le!==null&&Ee(q,Le.startTime-O),Z=!1}}break e}finally{v=null,_=ne,T=!1}Z=void 0}}finally{Z?Re():ee=!1}}}var Re;if(typeof V=="function")Re=function(){V(je)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,tt=Fe.port2;Fe.port1.onmessage=je,Re=function(){tt.postMessage(null)}}else Re=function(){P(je,0)};function Ee(O,Z){se=P(function(){O(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(O){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var ne=_;_=Z;try{return O()}finally{_=ne}},s.unstable_requestPaint=function(){N=!0},s.unstable_runWithPriority=function(O,Z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ne=_;_=O;try{return Z()}finally{_=ne}},s.unstable_scheduleCallback=function(O,Z,ne){var be=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?be+ne:be):ne=be,O){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,O={id:b++,callback:Z,priorityLevel:O,startTime:ne,expirationTime:Te,sortIndex:-1},ne>be?(O.sortIndex=ne,n(y,O),a(p)===null&&O===a(y)&&(M?(Q(se),se=-1):M=!0,Ee(q,ne-be))):(O.sortIndex=Te,n(p,O),E||T||(E=!0,ee||(ee=!0,Re()))),O},s.unstable_shouldYield=fe,s.unstable_wrapCallback=function(O){var Z=_;return function(){var ne=_;_=Z;try{return O.apply(this,arguments)}finally{_=ne}}}})(eh)),eh}var T0;function B_(){return T0||(T0=1,Jf.exports=D_()),Jf.exports}var M0;function z_(){if(M0)return nl;M0=1;var s=B_(),n=l_(),a=c_();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,o=t;;){var u=i.return;if(u===null)break;var h=u.alternate;if(h===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===i)return p(u),e;if(h===o)return p(u),t;h=h.sibling}throw Error(r(188))}if(i.return!==o.return)i=u,o=h;else{for(var g=!1,S=u.child;S;){if(S===i){g=!0,i=u,o=h;break}if(S===o){g=!0,o=u,i=h;break}S=S.sibling}if(!g){for(S=h.child;S;){if(S===i){g=!0,i=h,o=u;break}if(S===o){g=!0,o=h,i=u;break}S=S.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==o)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),V=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case P:return"Profiler";case N:return"StrictMode";case q:return"Suspense";case ee:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case V:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:tt(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return tt(e(t))}catch{}}return null}var Ee=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},be=[],Te=-1;function Le(e){return{current:e}}function we(e){0>Te||(e.current=be[Te],be[Te]=null,Te--)}function ve(e,t){Te++,be[Te]=e.current,e.current=t}var Ke=Le(null),Ct=Le(null),ln=Le(null),Kn=Le(null);function os(e,t){switch(ve(ln,t),ve(Ct,e),ve(Ke,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vy(t),e=$y(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}we(Ke),ve(Ke,e)}function Pt(){we(Ke),we(Ct),we(ln)}function En(e){e.memoizedState!==null&&ve(Kn,e);var t=Ke.current,i=$y(t,e.type);t!==i&&(ve(Ct,e),ve(Ke,i))}function An(e){Ct.current===e&&(we(Ke),we(Ct)),Kn.current===e&&(we(Kn),Qo._currentValue=ne)}var Qn,kn;function Rt(e){if(Qn===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Qn=t&&t[1]||"",kn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+e+kn}var aa=!1;function lt(e,t){if(!e||aa)return"";aa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var B=U}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(U){B=U}e.call(Y.prototype)}}else{try{throw Error()}catch(U){B=U}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&B&&typeof U.stack=="string")return[U.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],S=h[1];if(g&&S){var C=g.split(`
`),D=S.split(`
`);for(u=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;if(o===C.length||u===D.length)for(o=C.length-1,u=D.length-1;1<=o&&0<=u&&C[o]!==D[u];)u--;for(;1<=o&&0<=u;o--,u--)if(C[o]!==D[u]){if(o!==1||u!==1)do if(o--,u--,0>u||C[o]!==D[u]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=u);break}}}finally{aa=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Rt(i):""}function Vt(e,t){switch(e.tag){case 26:case 27:case 5:return Rt(e.type);case 16:return Rt("Lazy");case 13:return e.child!==t&&t!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return Rt("Activity");default:return""}}function Nn(e){try{var t="",i=null;do t+=Vt(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ls=Object.prototype.hasOwnProperty,ct=s.unstable_scheduleCallback,Rn=s.unstable_cancelCallback,Zr=s.unstable_shouldYield,Jr=s.unstable_requestPaint,$t=s.unstable_now,Ii=s.unstable_getCurrentPriorityLevel,Pi=s.unstable_ImmediatePriority,cs=s.unstable_UserBlockingPriority,ia=s.unstable_NormalPriority,Es=s.unstable_LowPriority,Hi=s.unstable_IdlePriority,cn=s.log,K=s.unstable_setDisableYieldValue,ye=null,Ve=null;function Oe(e){if(typeof cn=="function"&&K(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(ye,e)}catch{}}var ut=Math.clz32?Math.clz32:As,Rl=Math.log,zu=Math.LN2;function As(e){return e>>>=0,e===0?32:31-(Rl(e)/zu|0)|0}var Vi=256,un=262144,Xa=4194304;function us(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function eo(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var u=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?u=us(o):(g&=S,g!==0?u=us(g):i||(i=S&~e,i!==0&&(u=us(i))))):(S=o&~h,S!==0?u=us(S):g!==0?u=us(g):i||(i=o&~e,i!==0&&(u=us(i)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:u}function Wa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var e=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),e}function Dl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ra(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ep(e,t,i,o,u,h){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(i=g&~i;0<i;){var H=31-ut(i),Y=1<<H;S[H]=0,C[H]=-1;var B=D[H];if(B!==null)for(D[H]=null,H=0;H<B.length;H++){var U=B[H];U!==null&&(U.lane&=-536870913)}i&=~Y}o!==0&&$i(e,o,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~t))}function $i(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-ut(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Uu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-ut(i),u=1<<o;u&t|e[o]&t&&(e[o]|=t),i&=~u}}function Bl(e,t){var i=t&-t;return i=(i&42)!==0?1:no(i),(i&(e.suspendedLanes|t))!==0?0:i}function no(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lu(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:f0(e.type))}function so(e,t){var i=Z.p;try{return Z.p=e,t()}finally{Z.p=i}}var ds=Math.random().toString(36).slice(2),bt="__reactFiber$"+ds,Ft="__reactProps$"+ds,ks="__reactContainer$"+ds,Gi="__reactEvents$"+ds,ao="__reactListeners$"+ds,zl="__reactHandles$"+ds,io="__reactResources$"+ds,Ka="__reactMarker$"+ds;function qi(e){delete e[bt],delete e[Ft],delete e[Gi],delete e[ao],delete e[zl]}function Ns(e){var t=e[bt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ks]||i[bt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Ky(e);e!==null;){if(i=e[bt])return i;e=Ky(e)}return t}e=i,i=e.parentNode}return null}function oa(e){if(e=e[bt]||e[ks]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function la(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Rs(e){var t=e[io];return t||(t=e[io]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function jt(e){e[Ka]=!0}var Ul=new Set,ro={};function Ds(e,t){ca(e,t),ca(e+"Capture",t)}function ca(e,t){for(ro[e]=t,e=0;e<t.length;e++)Ul.add(t[e])}var Qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fs={},oo={};function lo(e){return ls.call(oo,e)?!0:ls.call(fs,e)?!1:Qa.test(e)?oo[e]=!0:(fs[e]=!0,!1)}function Za(e,t,i){if(lo(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function hs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Dn(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function co(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vt(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,h=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){i=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yi(e){if(!e._valueTracker){var t=co(e)?"checked":"value";e._valueTracker=vt(e,t,""+e[t])}}function Zt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=co(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xi=/[\n"\\]/g;function Jt(e){return e.replace(Xi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function da(e,t,i,o,u,h,g,S){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?fa(e,g,Gt(t)):i!=null?fa(e,g,Gt(i)):o!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Gt(S):e.removeAttribute("name")}function uo(e,t,i,o,u,h,g,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){Yi(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,S||t===e.value||(e.value=t),e.defaultValue=t}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yi(e)}function fa(e,t,i){t==="number"&&ua(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Bs(e,t,i,o){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Me(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function Ja(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(r(92));if(Ee(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Yi(e)}function xt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ei=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||ei.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function fo(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in t)o=t[u],t.hasOwnProperty(u)&&i[u]!==o&&zs(e,u,o)}else for(var h in t)t.hasOwnProperty(h)&&zs(e,h,t[h])}function Wi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(e){return Ol.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Ki=null;function Dt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,ms=null;function ho(e){var t=oa(e);if(t&&(e=t.stateNode)){var i=e[Ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(da(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var u=o[Ft]||null;if(!u)throw Error(r(90));da(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&Zt(o)}break e;case"textarea":Me(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Bs(e,!!i.multiple,t,!1)}}}var ni=!1;function mo(e,t,i){if(ni)return e(t,i);ni=!0;try{var o=e(t);return o}finally{if(ni=!1,(Us!==null||ms!==null)&&(kc(),Us&&(t=Us,e=ms,ms=Us=null,ho(t),e)))for(t=0;t<e.length;t++)ho(e[t])}}function ps(e,t){var i=e.stateNode;if(i===null)return null;var o=i[Ft]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(zn)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){gs=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{gs=!1}var Un=null,Qi=null,ma=null;function Il(){if(ma)return ma;var e,t=Qi,i=t.length,o,u="value"in Un?Un.value:Un.textContent,h=u.length;for(e=0;e<i&&t[e]===u[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===u[h-o];o++);return ma=u.slice(e,1<o?1-o:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function Pl(){return!1}function en(e){function t(i,o,u,h,g){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zi:Pl,this.isPropagationStopped=Pl,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=en(Ls),pa=v({},Ls,{view:0,detail:0}),Ou=en(pa),er,po,ga,tr=v({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&e.type==="mousemove"?(er=e.screenX-ga.screenX,po=e.screenY-ga.screenY):po=er=0,ga=e),er)},movementY:function(e){return"movementY"in e?e.movementY:po}}),Hl=en(tr),go=v({},tr,{dataTransfer:0}),Iu=en(go),Vl=v({},pa,{relatedTarget:0}),yo=en(Vl),$l=v({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=en($l),Hu=v({},Ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ai=en(Hu),Vu=v({},Ls,{data:0}),Fl=en(Vu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fu[e])?!!t[e]:!1}function bo(){return Gu}var qu=v({},pa,{key:function(e){if(e.key){var t=$u[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ys[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gl=en(qu),Yu=v({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=en(Yu),Xu=v({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),Wu=en(Xu),Ku=v({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=en(Ku),Zu=v({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=en(Zu),Yl=v({},Ls,{newState:0,oldState:0}),Ju=en(Yl),ed=[9,13,27,32],vo=zn&&"CompositionEvent"in window,ii=null;zn&&"documentMode"in document&&(ii=document.documentMode);var td=zn&&"TextEvent"in window&&!ii,x=zn&&(!vo||ii&&8<ii&&11>=ii),G=" ",ae=!1;function pe(e,t){switch(e){case"keyup":return ed.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ge(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ue=!1;function Os(e,t){switch(e){case"compositionend":return Ge(t);case"keypress":return t.which!==32?null:(ae=!0,G);case"textInput":return e=t.data,e===G&&ae?null:e;default:return null}}function nr(e,t){if(Ue)return e==="compositionend"||!vo&&pe(e,t)?(e=Il(),ma=Qi=Un=null,Ue=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x&&t.locale!=="ko"?null:t.data;default:return null}}var Xl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xl[e.type]:t==="textarea"}function ht(e,t,i,o){Us?ms?ms.push(o):ms=[o]:Us=o,t=Lc(t,"onChange"),0<t.length&&(i=new Ji("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var bs=null,ya=null;function z1(e){Uy(e,0)}function Wl(e){var t=la(e);if(Zt(t))return e}function tp(e,t){if(e==="change")return t}var np=!1;if(zn){var nd;if(zn){var sd="oninput"in document;if(!sd){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),sd=typeof sp.oninput=="function"}nd=sd}else nd=!1;np=nd&&(!document.documentMode||9<document.documentMode)}function ap(){bs&&(bs.detachEvent("onpropertychange",ip),ya=bs=null)}function ip(e){if(e.propertyName==="value"&&Wl(ya)){var t=[];ht(t,ya,e,Dt(e)),mo(z1,t)}}function U1(e,t,i){e==="focusin"?(ap(),bs=t,ya=i,bs.attachEvent("onpropertychange",ip)):e==="focusout"&&ap()}function L1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wl(ya)}function O1(e,t){if(e==="click")return Wl(t)}function I1(e,t){if(e==="input"||e==="change")return Wl(t)}function P1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:P1;function So(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!ls.call(t,u)||!vn(e[u],t[u]))return!1}return!0}function rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function op(e,t){var i=rp(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rp(i)}}function lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ua(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ua(e.document)}return t}function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var H1=zn&&"documentMode"in document&&11>=document.documentMode,sr=null,id=null,_o=null,rd=!1;function up(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;rd||sr==null||sr!==ua(o)||(o=sr,"selectionStart"in o&&ad(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_o&&So(_o,o)||(_o=o,o=Lc(id,"onSelect"),0<o.length&&(t=new Ji("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=sr)))}function ri(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ar={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},od={},dp={};zn&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function oi(e){if(od[e])return od[e];if(!ar[e])return e;var t=ar[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in dp)return od[e]=t[i];return e}var fp=oi("animationend"),hp=oi("animationiteration"),mp=oi("animationstart"),V1=oi("transitionrun"),$1=oi("transitionstart"),F1=oi("transitioncancel"),pp=oi("transitionend"),gp=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function Zn(e,t){gp.set(e,t),Ds(t,[e])}var Kl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],ir=0,cd=0;function Ql(){for(var e=ir,t=cd=ir=0;t<e;){var i=On[t];On[t++]=null;var o=On[t];On[t++]=null;var u=On[t];On[t++]=null;var h=On[t];if(On[t++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}h!==0&&yp(i,u,h)}}function Zl(e,t,i,o){On[ir++]=e,On[ir++]=t,On[ir++]=i,On[ir++]=o,cd|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ud(e,t,i,o){return Zl(e,t,i,o),Jl(e)}function li(e,t){return Zl(e,null,null,t),Jl(e)}function yp(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var u=!1,h=e.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-ut(i),e=h.hiddenUpdates,o=e[u],o===null?e[u]=[t]:o.push(t),t.lane=i|536870912),h):null}function Jl(e){if(50<Fo)throw Fo=0,xf=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rr={};function G1(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,i,o){return new G1(e,t,i,o)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Is(e,t){var i=e.alternate;return i===null?(i=xn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function bp(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ec(e,t,i,o,u,h){var g=0;if(o=e,typeof e=="function")dd(e)&&(g=1);else if(typeof e=="string")g=KS(e,i,Ke.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=xn(31,i,t,u),e.elementType=ue,e.lanes=h,e;case M:return ci(i.children,u,h,t);case N:g=8,u|=24;break;case P:return e=xn(12,i,t,u|2),e.elementType=P,e.lanes=h,e;case q:return e=xn(13,i,t,u),e.elementType=q,e.lanes=h,e;case ee:return e=xn(19,i,t,u),e.elementType=ee,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:g=10;break e;case Q:g=9;break e;case J:g=11;break e;case se:g=14;break e;case W:g=16,o=null;break e}g=29,i=Error(r(130,e===null?"null":typeof e,"")),o=null}return t=xn(g,i,t,u),t.elementType=e,t.type=o,t.lanes=h,t}function ci(e,t,i,o){return e=xn(7,e,o,t),e.lanes=i,e}function fd(e,t,i){return e=xn(6,e,null,t),e.lanes=i,e}function vp(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function hd(e,t,i){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xp=new WeakMap;function In(e,t){if(typeof e=="object"&&e!==null){var i=xp.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Nn(t)},xp.set(e,t),t)}return{value:e,source:t,stack:Nn(t)}}var or=[],lr=0,tc=null,wo=0,Pn=[],Hn=0,ba=null,vs=1,xs="";function Ps(e,t){or[lr++]=wo,or[lr++]=tc,tc=e,wo=t}function Sp(e,t,i){Pn[Hn++]=vs,Pn[Hn++]=xs,Pn[Hn++]=ba,ba=e;var o=vs;e=xs;var u=32-ut(o)-1;o&=~(1<<u),i+=1;var h=32-ut(t)+u;if(30<h){var g=u-u%5;h=(o&(1<<g)-1).toString(32),o>>=g,u-=g,vs=1<<32-ut(t)+u|i<<u|o,xs=h+e}else vs=1<<h|i<<u|o,xs=e}function md(e){e.return!==null&&(Ps(e,1),Sp(e,1,0))}function pd(e){for(;e===tc;)tc=or[--lr],or[lr]=null,wo=or[--lr],or[lr]=null;for(;e===ba;)ba=Pn[--Hn],Pn[Hn]=null,xs=Pn[--Hn],Pn[Hn]=null,vs=Pn[--Hn],Pn[Hn]=null}function _p(e,t){Pn[Hn++]=vs,Pn[Hn++]=xs,Pn[Hn++]=ba,vs=t.id,xs=t.overflow,ba=e}var qt=null,at=null,ze=!1,va=null,Vn=!1,gd=Error(r(519));function xa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Co(In(t,e)),gd}function wp(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[bt]=e,t[Ft]=o,i){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(i=0;i<qo.length;i++)ke(qo[i],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),uo(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Ja(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||Py(t.textContent,i)?(o.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),o.onScroll!=null&&ke("scroll",t),o.onScrollEnd!=null&&ke("scrollend",t),o.onClick!=null&&(t.onclick=Bn),t=!0):t=!1,t||xa(e,!0)}function Cp(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function cr(e){if(e!==qt)return!1;if(!ze)return Cp(e),ze=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||zf(e.type,e.memoizedProps)),i=!i),i&&at&&xa(e),Cp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));at=Wy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));at=Wy(e)}else t===27?(t=at,Ba(e.type)?(e=Pf,Pf=null,at=e):at=t):at=qt?Fn(e.stateNode.nextSibling):null;return!0}function ui(){at=qt=null,ze=!1}function yd(){var e=va;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),va=null),e}function Co(e){va===null?va=[e]:va.push(e)}var bd=Le(null),di=null,Hs=null;function Sa(e,t,i){ve(bd,t._currentValue),t._currentValue=i}function Vs(e){e._currentValue=bd.current,we(bd)}function vd(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function xd(e,t,i,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var g=u.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=u;for(var C=0;C<t.length;C++)if(S.context===t[C]){h.lanes|=i,S=h.alternate,S!==null&&(S.lanes|=i),vd(h.return,i,e),o||(g=null);break e}h=S.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=i,h=g.alternate,h!==null&&(h.lanes|=i),vd(g,i,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function ur(e,t,i,o){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var S=u.type;vn(u.pendingProps.value,g.value)||(e!==null?e.push(S):e=[S])}}else if(u===Kn.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Qo):e=[Qo])}u=u.return}e!==null&&xd(t,e,i,o),t.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fi(e){di=e,Hs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return jp(di,e)}function sc(e,t){return di===null&&fi(e),jp(e,t)}function jp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Hs===null){if(e===null)throw Error(r(308));Hs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Hs=Hs.next=t;return i}var q1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Y1=s.unstable_scheduleCallback,X1=s.unstable_NormalPriority,Tt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new q1,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&Y1(X1,function(){e.controller.abort()})}var To=null,_d=0,dr=0,fr=null;function W1(e,t){if(To===null){var i=To=[];_d=0,dr=Tf(),fr={status:"pending",value:void 0,then:function(o){i.push(o)}}}return _d++,t.then(Tp,Tp),t}function Tp(){if(--_d===0&&To!==null){fr!==null&&(fr.status="fulfilled");var e=To;To=null,dr=0,fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function K1(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}var Mp=O.S;O.S=function(e,t){uy=$t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&W1(e,t),Mp!==null&&Mp(e,t)};var hi=Le(null);function wd(){var e=hi.current;return e!==null?e:nt.pooledCache}function ac(e,t){t===null?ve(hi,hi.current):ve(hi,t.pool)}function Ep(){var e=wd();return e===null?null:{parent:Tt._currentValue,pool:e}}var hr=Error(r(460)),Cd=Error(r(474)),ic=Error(r(542)),rc={then:function(){}};function Ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Bn,Bn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rp(e),e;default:if(typeof t.status=="string")t.then(Bn,Bn);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=o}},function(o){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rp(e),e}throw pi=t,hr}}function mi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(pi=i,hr):i}}var pi=null;function Np(){if(pi===null)throw Error(r(459));var e=pi;return pi=null,e}function Rp(e){if(e===hr||e===ic)throw Error(r(483))}var mr=null,Mo=0;function oc(e){var t=Mo;return Mo+=1,mr===null&&(mr=[]),kp(mr,e,t)}function Eo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function lc(e,t){throw t.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Dp(e){function t(k,A){if(e){var R=k.deletions;R===null?(k.deletions=[A],k.flags|=16):R.push(A)}}function i(k,A){if(!e)return null;for(;A!==null;)t(k,A),A=A.sibling;return null}function o(k){for(var A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function u(k,A){return k=Is(k,A),k.index=0,k.sibling=null,k}function h(k,A,R){return k.index=R,e?(R=k.alternate,R!==null?(R=R.index,R<A?(k.flags|=67108866,A):R):(k.flags|=67108866,A)):(k.flags|=1048576,A)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function S(k,A,R,$){return A===null||A.tag!==6?(A=fd(R,k.mode,$),A.return=k,A):(A=u(A,R),A.return=k,A)}function C(k,A,R,$){var de=R.type;return de===M?H(k,A,R.props.children,$,R.key):A!==null&&(A.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===W&&mi(de)===A.type)?(A=u(A,R.props),Eo(A,R),A.return=k,A):(A=ec(R.type,R.key,R.props,null,k.mode,$),Eo(A,R),A.return=k,A)}function D(k,A,R,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=hd(R,k.mode,$),A.return=k,A):(A=u(A,R.children||[]),A.return=k,A)}function H(k,A,R,$,de){return A===null||A.tag!==7?(A=ci(R,k.mode,$,de),A.return=k,A):(A=u(A,R),A.return=k,A)}function Y(k,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=fd(""+A,k.mode,R),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return R=ec(A.type,A.key,A.props,null,k.mode,R),Eo(R,A),R.return=k,R;case E:return A=hd(A,k.mode,R),A.return=k,A;case W:return A=mi(A),Y(k,A,R)}if(Ee(A)||Re(A))return A=ci(A,k.mode,R,null),A.return=k,A;if(typeof A.then=="function")return Y(k,oc(A),R);if(A.$$typeof===V)return Y(k,sc(k,A),R);lc(k,A)}return null}function B(k,A,R,$){var de=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return de!==null?null:S(k,A,""+R,$);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return R.key===de?C(k,A,R,$):null;case E:return R.key===de?D(k,A,R,$):null;case W:return R=mi(R),B(k,A,R,$)}if(Ee(R)||Re(R))return de!==null?null:H(k,A,R,$,null);if(typeof R.then=="function")return B(k,A,oc(R),$);if(R.$$typeof===V)return B(k,A,sc(k,R),$);lc(k,R)}return null}function U(k,A,R,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(R)||null,S(A,k,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return k=k.get($.key===null?R:$.key)||null,C(A,k,$,de);case E:return k=k.get($.key===null?R:$.key)||null,D(A,k,$,de);case W:return $=mi($),U(k,A,R,$,de)}if(Ee($)||Re($))return k=k.get(R)||null,H(A,k,$,de,null);if(typeof $.then=="function")return U(k,A,R,oc($),de);if($.$$typeof===V)return U(k,A,R,sc(A,$),de);lc(A,$)}return null}function re(k,A,R,$){for(var de=null,Ie=null,le=A,Ce=A=0,Be=null;le!==null&&Ce<R.length;Ce++){le.index>Ce?(Be=le,le=null):Be=le.sibling;var Pe=B(k,le,R[Ce],$);if(Pe===null){le===null&&(le=Be);break}e&&le&&Pe.alternate===null&&t(k,le),A=h(Pe,A,Ce),Ie===null?de=Pe:Ie.sibling=Pe,Ie=Pe,le=Be}if(Ce===R.length)return i(k,le),ze&&Ps(k,Ce),de;if(le===null){for(;Ce<R.length;Ce++)le=Y(k,R[Ce],$),le!==null&&(A=h(le,A,Ce),Ie===null?de=le:Ie.sibling=le,Ie=le);return ze&&Ps(k,Ce),de}for(le=o(le);Ce<R.length;Ce++)Be=U(le,k,Ce,R[Ce],$),Be!==null&&(e&&Be.alternate!==null&&le.delete(Be.key===null?Ce:Be.key),A=h(Be,A,Ce),Ie===null?de=Be:Ie.sibling=Be,Ie=Be);return e&&le.forEach(function(Ia){return t(k,Ia)}),ze&&Ps(k,Ce),de}function me(k,A,R,$){if(R==null)throw Error(r(151));for(var de=null,Ie=null,le=A,Ce=A=0,Be=null,Pe=R.next();le!==null&&!Pe.done;Ce++,Pe=R.next()){le.index>Ce?(Be=le,le=null):Be=le.sibling;var Ia=B(k,le,Pe.value,$);if(Ia===null){le===null&&(le=Be);break}e&&le&&Ia.alternate===null&&t(k,le),A=h(Ia,A,Ce),Ie===null?de=Ia:Ie.sibling=Ia,Ie=Ia,le=Be}if(Pe.done)return i(k,le),ze&&Ps(k,Ce),de;if(le===null){for(;!Pe.done;Ce++,Pe=R.next())Pe=Y(k,Pe.value,$),Pe!==null&&(A=h(Pe,A,Ce),Ie===null?de=Pe:Ie.sibling=Pe,Ie=Pe);return ze&&Ps(k,Ce),de}for(le=o(le);!Pe.done;Ce++,Pe=R.next())Pe=U(le,k,Ce,Pe.value,$),Pe!==null&&(e&&Pe.alternate!==null&&le.delete(Pe.key===null?Ce:Pe.key),A=h(Pe,A,Ce),Ie===null?de=Pe:Ie.sibling=Pe,Ie=Pe);return e&&le.forEach(function(o_){return t(k,o_)}),ze&&Ps(k,Ce),de}function Je(k,A,R,$){if(typeof R=="object"&&R!==null&&R.type===M&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case T:e:{for(var de=R.key;A!==null;){if(A.key===de){if(de=R.type,de===M){if(A.tag===7){i(k,A.sibling),$=u(A,R.props.children),$.return=k,k=$;break e}}else if(A.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===W&&mi(de)===A.type){i(k,A.sibling),$=u(A,R.props),Eo($,R),$.return=k,k=$;break e}i(k,A);break}else t(k,A);A=A.sibling}R.type===M?($=ci(R.props.children,k.mode,$,R.key),$.return=k,k=$):($=ec(R.type,R.key,R.props,null,k.mode,$),Eo($,R),$.return=k,k=$)}return g(k);case E:e:{for(de=R.key;A!==null;){if(A.key===de)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){i(k,A.sibling),$=u(A,R.children||[]),$.return=k,k=$;break e}else{i(k,A);break}else t(k,A);A=A.sibling}$=hd(R,k.mode,$),$.return=k,k=$}return g(k);case W:return R=mi(R),Je(k,A,R,$)}if(Ee(R))return re(k,A,R,$);if(Re(R)){if(de=Re(R),typeof de!="function")throw Error(r(150));return R=de.call(R),me(k,A,R,$)}if(typeof R.then=="function")return Je(k,A,oc(R),$);if(R.$$typeof===V)return Je(k,A,sc(k,R),$);lc(k,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(i(k,A.sibling),$=u(A,R),$.return=k,k=$):(i(k,A),$=fd(R,k.mode,$),$.return=k,k=$),g(k)):i(k,A)}return function(k,A,R,$){try{Mo=0;var de=Je(k,A,R,$);return mr=null,de}catch(le){if(le===hr||le===ic)throw le;var Ie=xn(29,le,null,k.mode);return Ie.lanes=$,Ie.return=k,Ie}finally{}}}var gi=Dp(!0),Bp=Dp(!1),_a=!1;function jd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,t=Jl(e),yp(e,null,i),t}return Zl(e,o,t,i),Jl(e)}function Ao(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Uu(e,i)}}function Md(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?u=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?u=h=t:h=h.next=t}else u=h=t;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Ed=!1;function ko(){if(Ed){var e=fr;if(e!==null)throw e}}function No(e,t,i,o){Ed=!1;var u=e.updateQueue;_a=!1;var h=u.firstBaseUpdate,g=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var C=S,D=C.next;C.next=null,g===null?h=D:g.next=D,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,S=H.lastBaseUpdate,S!==g&&(S===null?H.firstBaseUpdate=D:S.next=D,H.lastBaseUpdate=C))}if(h!==null){var Y=u.baseState;g=0,H=D=C=null,S=h;do{var B=S.lane&-536870913,U=B!==S.lane;if(U?(De&B)===B:(o&B)===B){B!==0&&B===dr&&(Ed=!0),H!==null&&(H=H.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var re=e,me=S;B=t;var Je=i;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){Y=re.call(Je,Y,B);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,B=typeof re=="function"?re.call(Je,Y,B):re,B==null)break e;Y=v({},Y,B);break e;case 2:_a=!0}}B=S.callback,B!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[B]:U.push(B))}else U={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},H===null?(D=H=U,C=Y):H=H.next=U,g|=B;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;U=S,S=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);H===null&&(C=Y),u.baseState=C,u.firstBaseUpdate=D,u.lastBaseUpdate=H,h===null&&(u.shared.lanes=0),Aa|=g,e.lanes=g,e.memoizedState=Y}}function zp(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Up(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)zp(i[e],t)}var pr=Le(null),cc=Le(0);function Lp(e,t){e=Qs,ve(cc,e),ve(pr,t),Qs=e|t.baseLanes}function Ad(){ve(cc,Qs),ve(pr,pr.current)}function kd(){Qs=cc.current,we(pr),we(cc)}var Sn=Le(null),$n=null;function ja(e){var t=e.alternate;ve(St,St.current&1),ve(Sn,e),$n===null&&(t===null||pr.current!==null||t.memoizedState!==null)&&($n=e)}function Nd(e){ve(St,St.current),ve(Sn,e),$n===null&&($n=e)}function Op(e){e.tag===22?(ve(St,St.current),ve(Sn,e),$n===null&&($n=e)):Ta()}function Ta(){ve(St,St.current),ve(Sn,Sn.current)}function _n(e){we(Sn),$n===e&&($n=null),we(St)}var St=Le(0);function uc(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Of(i)||If(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $s=0,Se=null,Qe=null,Mt=null,dc=!1,gr=!1,yi=!1,fc=0,Ro=0,yr=null,Q1=0;function mt(){throw Error(r(321))}function Rd(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!vn(e[i],t[i]))return!1;return!0}function Dd(e,t,i,o,u,h){return $s=h,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Sg:Xd,yi=!1,h=i(o,u),yi=!1,gr&&(h=Pp(t,i,o,u)),Ip(e),h}function Ip(e){O.H=zo;var t=Qe!==null&&Qe.next!==null;if($s=0,Mt=Qe=Se=null,dc=!1,Ro=0,yr=null,t)throw Error(r(300));e===null||Et||(e=e.dependencies,e!==null&&nc(e)&&(Et=!0))}function Pp(e,t,i,o){Se=e;var u=0;do{if(gr&&(yr=null),Ro=0,gr=!1,25<=u)throw Error(r(301));if(u+=1,Mt=Qe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=_g,h=t(i,o)}while(gr);return h}function Z1(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Do(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Se.flags|=1024),t}function Bd(){var e=fc!==0;return fc=0,e}function zd(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Ud(e){if(dc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}dc=!1}$s=0,Mt=Qe=Se=null,gr=!1,Ro=fc=0,yr=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Se.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function _t(){if(Qe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Mt===null?Se.memoizedState:Mt.next;if(t!==null)Mt=t,Qe=e;else{if(e===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Mt===null?Se.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var t=Ro;return Ro+=1,yr===null&&(yr=[]),e=kp(yr,e,t),t=Se,(Mt===null?t.memoizedState:Mt.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Sg:Xd),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===V)return Yt(e)}throw Error(r(438,String(e)))}function Ld(e){var t=null,i=Se.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=hc(),Se.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=fe;return t.index++,i}function Fs(e,t){return typeof t=="function"?t(e):t}function pc(e){var t=_t();return Od(t,Qe,e)}function Od(e,t,i){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=e.baseQueue,h=o.pending;if(h!==null){if(u!==null){var g=u.next;u.next=h.next,h.next=g}t.baseQueue=u=h,o.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var S=g=null,C=null,D=t,H=!1;do{var Y=D.lane&-536870913;if(Y!==D.lane?(De&Y)===Y:($s&Y)===Y){var B=D.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Y===dr&&(H=!0);else if(($s&B)===B){D=D.next,B===dr&&(H=!0);continue}else Y={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(S=C=Y,g=h):C=C.next=Y,Se.lanes|=B,Aa|=B;Y=D.action,yi&&i(h,Y),h=D.hasEagerState?D.eagerState:i(h,Y)}else B={lane:Y,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(S=C=B,g=h):C=C.next=B,Se.lanes|=Y,Aa|=Y;D=D.next}while(D!==null&&D!==t);if(C===null?g=h:C.next=S,!vn(h,e.memoizedState)&&(Et=!0,H&&(i=fr,i!==null)))throw i;e.memoizedState=h,e.baseState=g,e.baseQueue=C,o.lastRenderedState=h}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Id(e){var t=_t(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var o=i.dispatch,u=i.pending,h=t.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do h=e(h,g.action),g=g.next;while(g!==u);vn(h,t.memoizedState)||(Et=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,o]}function Hp(e,t,i){var o=Se,u=_t(),h=ze;if(h){if(i===void 0)throw Error(r(407));i=i()}else i=t();var g=!vn((Qe||u).memoizedState,i);if(g&&(u.memoizedState=i,Et=!0),u=u.queue,Vd(Fp.bind(null,o,u,e),[e]),u.getSnapshot!==t||g||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,br(9,{destroy:void 0},$p.bind(null,o,u,i,t),null),nt===null)throw Error(r(349));h||($s&127)!==0||Vp(o,t,i)}return i}function Vp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Se.updateQueue,t===null?(t=hc(),Se.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function $p(e,t,i,o){t.value=i,t.getSnapshot=o,Gp(t)&&qp(e)}function Fp(e,t,i){return i(function(){Gp(t)&&qp(e)})}function Gp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!vn(e,i)}catch{return!0}}function qp(e){var t=li(e,2);t!==null&&pn(t,e,2)}function Pd(e){var t=an();if(typeof e=="function"){var i=e;if(e=i(),yi){Oe(!0);try{i()}finally{Oe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:e},t}function Yp(e,t,i,o){return e.baseState=i,Od(e,Qe,typeof o=="function"?o:Fs)}function J1(e,t,i,o,u){if(bc(e))throw Error(r(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};O.T!==null?i(!0):h.isTransition=!1,o(h),i=t.pending,i===null?(h.next=t.pending=h,Xp(t,h)):(h.next=i.next,t.pending=i.next=h)}}function Xp(e,t){var i=t.action,o=t.payload,u=e.state;if(t.isTransition){var h=O.T,g={};O.T=g;try{var S=i(u,o),C=O.S;C!==null&&C(g,S),Wp(e,t,S)}catch(D){Hd(e,t,D)}finally{h!==null&&g.types!==null&&(h.types=g.types),O.T=h}}else try{h=i(u,o),Wp(e,t,h)}catch(D){Hd(e,t,D)}}function Wp(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Kp(e,t,o)},function(o){return Hd(e,t,o)}):Kp(e,t,i)}function Kp(e,t,i){t.status="fulfilled",t.value=i,Qp(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Xp(e,i)))}function Hd(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,Qp(t),t=t.next;while(t!==o)}e.action=null}function Qp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zp(e,t){return t}function Jp(e,t){if(ze){var i=nt.formState;if(i!==null){e:{var o=Se;if(ze){if(at){t:{for(var u=at,h=Vn;u.nodeType!==8;){if(!h){u=null;break t}if(u=Fn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){at=Fn(u.nextSibling),o=u.data==="F!";break e}}xa(o)}o=!1}o&&(t=i[0])}}return i=an(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:t},i.queue=o,i=bg.bind(null,Se,o),o.dispatch=i,o=Pd(!1),h=Yd.bind(null,Se,!1,o.queue),o=an(),u={state:t,dispatch:null,action:e,pending:null},o.queue=u,i=J1.bind(null,Se,u,h,i),u.dispatch=i,o.memoizedState=e,[t,i,!1]}function eg(e){var t=_t();return tg(t,Qe,e)}function tg(e,t,i){if(t=Od(e,t,Zp)[0],e=pc(Fs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Do(t)}catch(g){throw g===hr?ic:g}else o=t;t=_t();var u=t.queue,h=u.dispatch;return i!==t.memoizedState&&(Se.flags|=2048,br(9,{destroy:void 0},eS.bind(null,u,i),null)),[o,h,e]}function eS(e,t){e.action=t}function ng(e){var t=_t(),i=Qe;if(i!==null)return tg(t,i,e);_t(),t=t.memoizedState,i=_t();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function br(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=Se.updateQueue,t===null&&(t=hc(),Se.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function sg(){return _t().memoizedState}function gc(e,t,i,o){var u=an();Se.flags|=e,u.memoizedState=br(1|t,{destroy:void 0},i,o===void 0?null:o)}function yc(e,t,i,o){var u=_t();o=o===void 0?null:o;var h=u.memoizedState.inst;Qe!==null&&o!==null&&Rd(o,Qe.memoizedState.deps)?u.memoizedState=br(t,h,i,o):(Se.flags|=e,u.memoizedState=br(1|t,h,i,o))}function ag(e,t){gc(8390656,8,e,t)}function Vd(e,t){yc(2048,8,e,t)}function tS(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=hc(),Se.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function ig(e){var t=_t().memoizedState;return tS({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function rg(e,t){return yc(4,2,e,t)}function og(e,t){return yc(4,4,e,t)}function lg(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cg(e,t,i){i=i!=null?i.concat([e]):null,yc(4,4,lg.bind(null,t,e),i)}function $d(){}function ug(e,t){var i=_t();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&Rd(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function dg(e,t){var i=_t();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&Rd(t,o[1]))return o[0];if(o=e(),yi){Oe(!0);try{e()}finally{Oe(!1)}}return i.memoizedState=[o,t],o}function Fd(e,t,i){return i===void 0||($s&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=fy(),Se.lanes|=e,Aa|=e,i)}function fg(e,t,i,o){return vn(i,t)?i:pr.current!==null?(e=Fd(e,i,o),vn(e,t)||(Et=!0),e):($s&42)===0||($s&1073741824)!==0&&(De&261930)===0?(Et=!0,e.memoizedState=i):(e=fy(),Se.lanes|=e,Aa|=e,t)}function hg(e,t,i,o,u){var h=Z.p;Z.p=h!==0&&8>h?h:8;var g=O.T,S={};O.T=S,Yd(e,!1,t,i);try{var C=u(),D=O.S;if(D!==null&&D(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=K1(C,o);Bo(e,t,H,jn(e))}else Bo(e,t,o,jn(e))}catch(Y){Bo(e,t,{then:function(){},status:"rejected",reason:Y},jn())}finally{Z.p=h,g!==null&&S.types!==null&&(g.types=S.types),O.T=g}}function nS(){}function Gd(e,t,i,o){if(e.tag!==5)throw Error(r(476));var u=mg(e).queue;hg(e,u,t,ne,i===null?nS:function(){return pg(e),i(o)})}function mg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:ne},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pg(e){var t=mg(e);t.next===null&&(t=e.alternate.memoizedState),Bo(e,t.next.queue,{},jn())}function qd(){return Yt(Qo)}function gg(){return _t().memoizedState}function yg(){return _t().memoizedState}function sS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=jn();e=wa(i);var o=Ca(t,e,i);o!==null&&(pn(o,t,i),Ao(o,t,i)),t={cache:Sd()},e.payload=t;return}t=t.return}}function aS(e,t,i){var o=jn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},bc(e)?vg(t,i):(i=ud(e,t,i,o),i!==null&&(pn(i,e,o),xg(i,t,o)))}function bg(e,t,i){var o=jn();Bo(e,t,i,o)}function Bo(e,t,i,o){var u={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(bc(e))vg(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,S=h(g,i);if(u.hasEagerState=!0,u.eagerState=S,vn(S,g))return Zl(e,t,u,0),nt===null&&Ql(),!1}catch{}finally{}if(i=ud(e,t,u,o),i!==null)return pn(i,e,o),xg(i,t,o),!0}return!1}function Yd(e,t,i,o){if(o={lane:2,revertLane:Tf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},bc(e)){if(t)throw Error(r(479))}else t=ud(e,i,o,2),t!==null&&pn(t,e,2)}function bc(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function vg(e,t){gr=dc=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function xg(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Uu(e,i)}}var zo={readContext:Yt,use:mc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};zo.useEffectEvent=mt;var Sg={readContext:Yt,use:mc,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:ag,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,gc(4194308,4,lg.bind(null,t,e),i)},useLayoutEffect:function(e,t){return gc(4194308,4,e,t)},useInsertionEffect:function(e,t){gc(4,2,e,t)},useMemo:function(e,t){var i=an();t=t===void 0?null:t;var o=e();if(yi){Oe(!0);try{e()}finally{Oe(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=an();if(i!==void 0){var u=i(t);if(yi){Oe(!0);try{i(t)}finally{Oe(!1)}}}else u=t;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=aS.bind(null,Se,e),[o.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:function(e){e=Pd(e);var t=e.queue,i=bg.bind(null,Se,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:$d,useDeferredValue:function(e,t){var i=an();return Fd(i,e,t)},useTransition:function(){var e=Pd(!1);return e=hg.bind(null,Se,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=Se,u=an();if(ze){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),nt===null)throw Error(r(349));(De&127)!==0||Vp(o,t,i)}u.memoizedState=i;var h={value:i,getSnapshot:t};return u.queue=h,ag(Fp.bind(null,o,h,e),[e]),o.flags|=2048,br(9,{destroy:void 0},$p.bind(null,o,h,i,t),null),i},useId:function(){var e=an(),t=nt.identifierPrefix;if(ze){var i=xs,o=vs;i=(o&~(1<<32-ut(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=fc++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Q1++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qd,useFormState:Jp,useActionState:Jp,useOptimistic:function(e){var t=an();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Yd.bind(null,Se,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ld,useCacheRefresh:function(){return an().memoizedState=sS.bind(null,Se)},useEffectEvent:function(e){var t=an(),i={impl:e};return t.memoizedState=i,function(){if(($e&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Xd={readContext:Yt,use:mc,useCallback:ug,useContext:Yt,useEffect:Vd,useImperativeHandle:cg,useInsertionEffect:rg,useLayoutEffect:og,useMemo:dg,useReducer:pc,useRef:sg,useState:function(){return pc(Fs)},useDebugValue:$d,useDeferredValue:function(e,t){var i=_t();return fg(i,Qe.memoizedState,e,t)},useTransition:function(){var e=pc(Fs)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Do(e),t]},useSyncExternalStore:Hp,useId:gg,useHostTransitionStatus:qd,useFormState:eg,useActionState:eg,useOptimistic:function(e,t){var i=_t();return Yp(i,Qe,e,t)},useMemoCache:Ld,useCacheRefresh:yg};Xd.useEffectEvent=ig;var _g={readContext:Yt,use:mc,useCallback:ug,useContext:Yt,useEffect:Vd,useImperativeHandle:cg,useInsertionEffect:rg,useLayoutEffect:og,useMemo:dg,useReducer:Id,useRef:sg,useState:function(){return Id(Fs)},useDebugValue:$d,useDeferredValue:function(e,t){var i=_t();return Qe===null?Fd(i,e,t):fg(i,Qe.memoizedState,e,t)},useTransition:function(){var e=Id(Fs)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Do(e),t]},useSyncExternalStore:Hp,useId:gg,useHostTransitionStatus:qd,useFormState:ng,useActionState:ng,useOptimistic:function(e,t){var i=_t();return Qe!==null?Yp(i,Qe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ld,useCacheRefresh:yg};_g.useEffectEvent=ig;function Wd(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Kd={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=jn(),u=wa(o);u.payload=t,i!=null&&(u.callback=i),t=Ca(e,u,o),t!==null&&(pn(t,e,o),Ao(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=jn(),u=wa(o);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Ca(e,u,o),t!==null&&(pn(t,e,o),Ao(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=jn(),o=wa(i);o.tag=2,t!=null&&(o.callback=t),t=Ca(e,o,i),t!==null&&(pn(t,e,i),Ao(t,e,i))}};function wg(e,t,i,o,u,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,g):t.prototype&&t.prototype.isPureReactComponent?!So(i,o)||!So(u,h):!0}function Cg(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Kd.enqueueReplaceState(t,t.state,null)}function bi(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function jg(e){Kl(e)}function Tg(e){console.error(e)}function Mg(e){Kl(e)}function vc(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Eg(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Qd(e,t,i){return i=wa(i),i.tag=3,i.payload={element:null},i.callback=function(){vc(e,t)},i}function Ag(e){return e=wa(e),e.tag=3,e}function kg(e,t,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var h=o.value;e.payload=function(){return u(h)},e.callback=function(){Eg(t,i,o)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Eg(t,i,o),typeof u!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function iS(e,t,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&ur(t,i,u,!0),i=Sn.current,i!==null){switch(i.tag){case 31:case 13:return $n===null?Nc():i.alternate===null&&pt===0&&(pt=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===rc?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),wf(e,o,u)),!1;case 22:return i.flags|=65536,o===rc?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),wf(e,o,u)),!1}throw Error(r(435,i.tag))}return wf(e,o,u),Nc(),!1}if(ze)return t=Sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,o!==gd&&(e=Error(r(422),{cause:o}),Co(In(e,i)))):(o!==gd&&(t=Error(r(423),{cause:o}),Co(In(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=In(o,i),u=Qd(e.stateNode,o,u),Md(e,u),pt!==4&&(pt=2)),!1;var h=Error(r(520),{cause:o});if(h=In(h,i),$o===null?$o=[h]:$o.push(h),pt!==4&&(pt=2),t===null)return!0;o=In(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Qd(i.stateNode,o,e),Md(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ka===null||!ka.has(h))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Ag(u),kg(u,e,i,o),Md(i,u),!1}i=i.return}while(i!==null);return!1}var Zd=Error(r(461)),Et=!1;function Xt(e,t,i,o){t.child=e===null?Bp(t,null,i,o):gi(t,e.child,i,o)}function Ng(e,t,i,o,u){i=i.render;var h=t.ref;if("ref"in o){var g={};for(var S in o)S!=="ref"&&(g[S]=o[S])}else g=o;return fi(t),o=Dd(e,t,i,g,h,u),S=Bd(),e!==null&&!Et?(zd(e,t,u),Gs(e,t,u)):(ze&&S&&md(t),t.flags|=1,Xt(e,t,o,u),t.child)}function Rg(e,t,i,o,u){if(e===null){var h=i.type;return typeof h=="function"&&!dd(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,Dg(e,t,h,o,u)):(e=ec(i.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!of(e,u)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:So,i(g,o)&&e.ref===t.ref)return Gs(e,t,u)}return t.flags|=1,e=Is(h,o),e.ref=t.ref,e.return=t,t.child=e}function Dg(e,t,i,o,u){if(e!==null){var h=e.memoizedProps;if(So(h,o)&&e.ref===t.ref)if(Et=!1,t.pendingProps=o=h,of(e,u))(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,Gs(e,t,u)}return Jd(e,t,i,o,u)}function Bg(e,t,i,o){var u=o.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~h}else o=0,t.child=null;return zg(e,t,h,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(t,h!==null?h.cachePool:null),h!==null?Lp(t,h):Ad(),Op(t);else return o=t.lanes=536870912,zg(e,t,h!==null?h.baseLanes|i:i,i,o)}else h!==null?(ac(t,h.cachePool),Lp(t,h),Ta(),t.memoizedState=null):(e!==null&&ac(t,null),Ad(),Ta());return Xt(e,t,u,i),t.child}function Uo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zg(e,t,i,o,u){var h=wd();return h=h===null?null:{parent:Tt._currentValue,pool:h},t.memoizedState={baseLanes:i,cachePool:h},e!==null&&ac(t,null),Ad(),Op(t),e!==null&&ur(e,t,o,!0),t.childLanes=u,null}function xc(e,t){return t=_c({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ug(e,t,i){return gi(t,e.child,null,i),e=xc(t,t.pendingProps),e.flags|=2,_n(t),t.memoizedState=null,e}function rS(e,t,i){var o=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(o.mode==="hidden")return e=xc(t,o),t.lanes=536870912,Uo(null,e);if(Nd(t),(e=at)?(e=Xy(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ba!==null?{id:vs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},i=vp(e),i.return=t,t.child=i,qt=t,at=null)):e=null,e===null)throw xa(t);return t.lanes=536870912,null}return xc(t,o)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(Nd(t),u)if(t.flags&256)t.flags&=-257,t=Ug(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Et||ur(e,t,i,!1),u=(i&e.childLanes)!==0,Et||u){if(o=nt,o!==null&&(g=Bl(o,i),g!==0&&g!==h.retryLane))throw h.retryLane=g,li(e,g),pn(o,e,g),Zd;Nc(),t=Ug(e,t,i)}else e=h.treeContext,at=Fn(g.nextSibling),qt=t,ze=!0,va=null,Vn=!1,e!==null&&_p(t,e),t=xc(t,o),t.flags|=4096;return t}return e=Is(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Sc(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Jd(e,t,i,o,u){return fi(t),i=Dd(e,t,i,o,void 0,u),o=Bd(),e!==null&&!Et?(zd(e,t,u),Gs(e,t,u)):(ze&&o&&md(t),t.flags|=1,Xt(e,t,i,u),t.child)}function Lg(e,t,i,o,u,h){return fi(t),t.updateQueue=null,i=Pp(t,o,i,u),Ip(e),o=Bd(),e!==null&&!Et?(zd(e,t,h),Gs(e,t,h)):(ze&&o&&md(t),t.flags|=1,Xt(e,t,i,h),t.child)}function Og(e,t,i,o,u){if(fi(t),t.stateNode===null){var h=rr,g=i.contextType;typeof g=="object"&&g!==null&&(h=Yt(g)),h=new i(o,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Kd,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=o,h.state=t.memoizedState,h.refs={},jd(t),g=i.contextType,h.context=typeof g=="object"&&g!==null?Yt(g):rr,h.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Wd(t,i,g,o),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Kd.enqueueReplaceState(h,h.state,null),No(t,o,h,u),ko(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){h=t.stateNode;var S=t.memoizedProps,C=bi(i,S);h.props=C;var D=h.context,H=i.contextType;g=rr,typeof H=="object"&&H!==null&&(g=Yt(H));var Y=i.getDerivedStateFromProps;H=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||D!==g)&&Cg(t,h,o,g),_a=!1;var B=t.memoizedState;h.state=B,No(t,o,h,u),ko(),D=t.memoizedState,S||B!==D||_a?(typeof Y=="function"&&(Wd(t,i,Y,o),D=t.memoizedState),(C=_a||wg(t,i,C,o,B,D,g))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=D),h.props=o,h.state=D,h.context=g,o=C):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{h=t.stateNode,Td(e,t),g=t.memoizedProps,H=bi(i,g),h.props=H,Y=t.pendingProps,B=h.context,D=i.contextType,C=rr,typeof D=="object"&&D!==null&&(C=Yt(D)),S=i.getDerivedStateFromProps,(D=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Y||B!==C)&&Cg(t,h,o,C),_a=!1,B=t.memoizedState,h.state=B,No(t,o,h,u),ko();var U=t.memoizedState;g!==Y||B!==U||_a||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof S=="function"&&(Wd(t,i,S,o),U=t.memoizedState),(H=_a||wg(t,i,H,o,B,U,C)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,U,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,U,C)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=U),h.props=o,h.state=U,h.context=C,o=H):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),o=!1)}return h=o,Sc(e,t),o=(t.flags&128)!==0,h||o?(h=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&o?(t.child=gi(t,e.child,null,u),t.child=gi(t,null,i,u)):Xt(e,t,i,u),t.memoizedState=h.state,e=t.child):e=Gs(e,t,u),e}function Ig(e,t,i,o){return ui(),t.flags|=256,Xt(e,t,i,o),t.child}var ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(e){return{baseLanes:e,cachePool:Ep()}}function nf(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Cn),e}function Pg(e,t,i){var o=t.pendingProps,u=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(u?ja(t):Ta(),(e=at)?(e=Xy(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ba!==null?{id:vs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},i=vp(e),i.return=t,t.child=i,qt=t,at=null)):e=null,e===null)throw xa(t);return If(e)?t.lanes=32:t.lanes=536870912,null}var S=o.children;return o=o.fallback,u?(Ta(),u=t.mode,S=_c({mode:"hidden",children:S},u),o=ci(o,u,i,null),S.return=t,o.return=t,S.sibling=o,t.child=S,o=t.child,o.memoizedState=tf(i),o.childLanes=nf(e,g,i),t.memoizedState=ef,Uo(null,o)):(ja(t),sf(t,S))}var C=e.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(h)t.flags&256?(ja(t),t.flags&=-257,t=af(e,t,i)):t.memoizedState!==null?(Ta(),t.child=e.child,t.flags|=128,t=null):(Ta(),S=o.fallback,u=t.mode,o=_c({mode:"visible",children:o.children},u),S=ci(S,u,i,null),S.flags|=2,o.return=t,S.return=t,o.sibling=S,t.child=o,gi(t,e.child,null,i),o=t.child,o.memoizedState=tf(i),o.childLanes=nf(e,g,i),t.memoizedState=ef,t=Uo(null,o));else if(ja(t),If(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var D=g.dgst;g=D,o=Error(r(419)),o.stack="",o.digest=g,Co({value:o,source:null,stack:null}),t=af(e,t,i)}else if(Et||ur(e,t,i,!1),g=(i&e.childLanes)!==0,Et||g){if(g=nt,g!==null&&(o=Bl(g,i),o!==0&&o!==C.retryLane))throw C.retryLane=o,li(e,o),pn(g,e,o),Zd;Of(S)||Nc(),t=af(e,t,i)}else Of(S)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,at=Fn(S.nextSibling),qt=t,ze=!0,va=null,Vn=!1,e!==null&&_p(t,e),t=sf(t,o.children),t.flags|=4096);return t}return u?(Ta(),S=o.fallback,u=t.mode,C=e.child,D=C.sibling,o=Is(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,D!==null?S=Is(D,S):(S=ci(S,u,i,null),S.flags|=2),S.return=t,o.return=t,o.sibling=S,t.child=o,Uo(null,o),o=t.child,S=e.child.memoizedState,S===null?S=tf(i):(u=S.cachePool,u!==null?(C=Tt._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=Ep(),S={baseLanes:S.baseLanes|i,cachePool:u}),o.memoizedState=S,o.childLanes=nf(e,g,i),t.memoizedState=ef,Uo(e.child,o)):(ja(t),i=e.child,e=i.sibling,i=Is(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function sf(e,t){return t=_c({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _c(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function af(e,t,i){return gi(t,e.child,null,i),e=sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hg(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),vd(e.return,t,i)}function rf(e,t,i,o,u,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u,treeForkCount:h}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=u,g.treeForkCount=h)}function Vg(e,t,i){var o=t.pendingProps,u=o.revealOrder,h=o.tail;o=o.children;var g=St.current,S=(g&2)!==0;if(S?(g=g&1|2,t.flags|=128):g&=1,ve(St,g),Xt(e,t,o,i),o=ze?wo:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hg(e,i,t);else if(e.tag===19)Hg(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&uc(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),rf(t,!1,u,i,h,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&uc(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}rf(t,!0,i,null,h,o);break;case"together":rf(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Gs(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Aa|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ur(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=Is(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Is(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function of(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function oS(e,t,i){switch(t.tag){case 3:os(t,t.stateNode.containerInfo),Sa(t,Tt,e.memoizedState.cache),ui();break;case 27:case 5:En(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:Sa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Nd(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(ja(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Pg(e,t,i):(ja(t),e=Gs(e,t,i),e!==null?e.sibling:null);ja(t);break;case 19:var u=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(ur(e,t,i,!1),o=(i&t.childLanes)!==0),u){if(o)return Vg(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ve(St,St.current),o)break;return null;case 22:return t.lanes=0,Bg(e,t,i,t.pendingProps);case 24:Sa(t,Tt,e.memoizedState.cache)}return Gs(e,t,i)}function $g(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!of(e,i)&&(t.flags&128)===0)return Et=!1,oS(e,t,i);Et=(e.flags&131072)!==0}else Et=!1,ze&&(t.flags&1048576)!==0&&Sp(t,wo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=mi(t.elementType),t.type=e,typeof e=="function")dd(e)?(o=bi(e,o),t.tag=1,t=Og(null,t,e,o,i)):(t.tag=0,t=Jd(null,t,e,o,i));else{if(e!=null){var u=e.$$typeof;if(u===J){t.tag=11,t=Ng(null,t,e,o,i);break e}else if(u===se){t.tag=14,t=Rg(null,t,e,o,i);break e}}throw t=tt(e)||e,Error(r(306,t,""))}}return t;case 0:return Jd(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,u=bi(o,t.pendingProps),Og(e,t,o,u,i);case 3:e:{if(os(t,t.stateNode.containerInfo),e===null)throw Error(r(387));o=t.pendingProps;var h=t.memoizedState;u=h.element,Td(e,t),No(t,o,null,i);var g=t.memoizedState;if(o=g.cache,Sa(t,Tt,o),o!==h.cache&&xd(t,[Tt],i,!0),ko(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Ig(e,t,o,i);break e}else if(o!==u){u=In(Error(r(424)),t),Co(u),t=Ig(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=Fn(e.firstChild),qt=t,ze=!0,va=null,Vn=!0,i=Bp(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ui(),o===u){t=Gs(e,t,i);break e}Xt(e,t,o,i)}t=t.child}return t;case 26:return Sc(e,t),e===null?(i=e0(t.type,null,t.pendingProps,null))?t.memoizedState=i:ze||(i=t.type,e=t.pendingProps,o=Oc(ln.current).createElement(i),o[bt]=t,o[Ft]=e,Wt(o,i,e),jt(o),t.stateNode=o):t.memoizedState=e0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return En(t),e===null&&ze&&(o=t.stateNode=Qy(t.type,t.pendingProps,ln.current),qt=t,Vn=!0,u=at,Ba(t.type)?(Pf=u,at=Fn(o.firstChild)):at=u),Xt(e,t,t.pendingProps.children,i),Sc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((u=o=at)&&(o=LS(o,t.type,t.pendingProps,Vn),o!==null?(t.stateNode=o,qt=t,at=Fn(o.firstChild),Vn=!1,u=!0):u=!1),u||xa(t)),En(t),u=t.type,h=t.pendingProps,g=e!==null?e.memoizedProps:null,o=h.children,zf(u,h)?o=null:g!==null&&zf(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Dd(e,t,Z1,null,null,i),Qo._currentValue=u),Sc(e,t),Xt(e,t,o,i),t.child;case 6:return e===null&&ze&&((e=i=at)&&(i=OS(i,t.pendingProps,Vn),i!==null?(t.stateNode=i,qt=t,at=null,e=!0):e=!1),e||xa(t)),null;case 13:return Pg(e,t,i);case 4:return os(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=gi(t,null,o,i):Xt(e,t,o,i),t.child;case 11:return Ng(e,t,t.type,t.pendingProps,i);case 7:return Xt(e,t,t.pendingProps,i),t.child;case 8:return Xt(e,t,t.pendingProps.children,i),t.child;case 12:return Xt(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,Sa(t,t.type,o.value),Xt(e,t,o.children,i),t.child;case 9:return u=t.type._context,o=t.pendingProps.children,fi(t),u=Yt(u),o=o(u),t.flags|=1,Xt(e,t,o,i),t.child;case 14:return Rg(e,t,t.type,t.pendingProps,i);case 15:return Dg(e,t,t.type,t.pendingProps,i);case 19:return Vg(e,t,i);case 31:return rS(e,t,i);case 22:return Bg(e,t,i,t.pendingProps);case 24:return fi(t),o=Yt(Tt),e===null?(u=wd(),u===null&&(u=nt,h=Sd(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=i),u=h),t.memoizedState={parent:o,cache:u},jd(t),Sa(t,Tt,u)):((e.lanes&i)!==0&&(Td(e,t),No(t,null,null,i),ko()),u=e.memoizedState,h=t.memoizedState,u.parent!==o?(u={parent:o,cache:o},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Sa(t,Tt,o)):(o=h.cache,Sa(t,Tt,o),o!==u.cache&&xd(t,[Tt],i,!0))),Xt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function qs(e){e.flags|=4}function lf(e,t,i,o,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(gy())e.flags|=8192;else throw pi=rc,Cd}else e.flags&=-16777217}function Fg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i0(t))if(gy())e.flags|=8192;else throw pi=rc,Cd}function wc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?to():536870912,e.lanes|=t,_r|=t)}function Lo(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function lS(e,t,i){var o=t.pendingProps;switch(pd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Vs(Tt),Pt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(cr(t)?qs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yd())),it(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(qs(t),h!==null?(it(t),Fg(t,h)):(it(t),lf(t,u,null,o,i))):h?h!==e.memoizedState?(qs(t),it(t),Fg(t,h)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&qs(t),it(t),lf(t,u,e,o,i)),null;case 27:if(An(t),i=ln.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&qs(t);else{if(!o){if(t.stateNode===null)throw Error(r(166));return it(t),null}e=Ke.current,cr(t)?wp(t):(e=Qy(u,o,i),t.stateNode=e,qs(t))}return it(t),null;case 5:if(An(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&qs(t);else{if(!o){if(t.stateNode===null)throw Error(r(166));return it(t),null}if(h=Ke.current,cr(t))wp(t);else{var g=Oc(ln.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?g.createElement(u,{is:o.is}):g.createElement(u)}}h[bt]=t,h[Ft]=o;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=h;e:switch(Wt(h,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qs(t)}}return it(t),lf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&qs(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(r(166));if(e=ln.current,cr(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,u=qt,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[bt]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Py(e.nodeValue,i)),e||xa(t,!0)}else e=Oc(e).createTextNode(o),e[bt]=t,t.stateNode=e}return it(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=cr(t),i!==null){if(e===null){if(!o)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[bt]=t}else ui(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else i=yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(_n(t),t):(_n(t),null);if((t.flags&128)!==0)throw Error(r(558))}return it(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=cr(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[bt]=t}else ui(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),u=!1}else u=yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(_n(t),t):(_n(t),null)}return _n(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),wc(t,t.updateQueue),it(t),null);case 4:return Pt(),e===null&&kf(t.stateNode.containerInfo),it(t),null;case 10:return Vs(t.type),it(t),null;case 19:if(we(St),o=t.memoizedState,o===null)return it(t),null;if(u=(t.flags&128)!==0,h=o.rendering,h===null)if(u)Lo(o,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=uc(e),h!==null){for(t.flags|=128,Lo(o,!1),e=h.updateQueue,t.updateQueue=e,wc(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)bp(i,e),i=i.sibling;return ve(St,St.current&1|2),ze&&Ps(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&$t()>Ec&&(t.flags|=128,u=!0,Lo(o,!1),t.lanes=4194304)}else{if(!u)if(e=uc(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,wc(t,e),Lo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!ze)return it(t),null}else 2*$t()-o.renderingStartTime>Ec&&i!==536870912&&(t.flags|=128,u=!0,Lo(o,!1),t.lanes=4194304);o.isBackwards?(h.sibling=t.child,t.child=h):(e=o.last,e!==null?e.sibling=h:t.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$t(),e.sibling=null,i=St.current,ve(St,u?i&1|2:i&1),ze&&Ps(t,o.treeForkCount),e):(it(t),null);case 22:case 23:return _n(t),kd(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),i=t.updateQueue,i!==null&&wc(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&we(hi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Vs(Tt),it(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function cS(e,t){switch(pd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vs(Tt),Pt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return An(t),null;case 31:if(t.memoizedState!==null){if(_n(t),t.alternate===null)throw Error(r(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(St),null;case 4:return Pt(),null;case 10:return Vs(t.type),null;case 22:case 23:return _n(t),kd(),e!==null&&we(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vs(Tt),null;case 25:return null;default:return null}}function Gg(e,t){switch(pd(t),t.tag){case 3:Vs(Tt),Pt();break;case 26:case 27:case 5:An(t);break;case 4:Pt();break;case 31:t.memoizedState!==null&&_n(t);break;case 13:_n(t);break;case 19:we(St);break;case 10:Vs(t.type);break;case 22:case 23:_n(t),kd(),e!==null&&we(hi);break;case 24:Vs(Tt)}}function Oo(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){o=void 0;var h=i.create,g=i.inst;o=h(),g.destroy=o}i=i.next}while(i!==u)}}catch(S){Ye(t,t.return,S)}}function Ma(e,t,i){try{var o=t.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&e)===e){var g=o.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,u=t;var C=i,D=S;try{D()}catch(H){Ye(u,C,H)}}}o=o.next}while(o!==h)}}catch(H){Ye(t,t.return,H)}}function qg(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Up(t,i)}catch(o){Ye(e,e.return,o)}}}function Yg(e,t,i){i.props=bi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Ye(e,t,o)}}function Io(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(u){Ye(e,t,u)}}function Ss(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){Ye(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Ye(e,t,u)}else i.current=null}function Xg(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(u){Ye(e,e.return,u)}}function cf(e,t,i){try{var o=e.stateNode;NS(o,e.type,i,t),o[Ft]=t}catch(u){Ye(e,e.return,u)}}function Wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ba(e.type)||e.tag===4}function uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function df(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Bn));else if(o!==4&&(o===27&&Ba(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(df(e,t,i),e=e.sibling;e!==null;)df(e,t,i),e=e.sibling}function Cc(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&Ba(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Cc(e,t,i),e=e.sibling;e!==null;)Cc(e,t,i),e=e.sibling}function Kg(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Wt(t,o,i),t[bt]=e,t[Ft]=i}catch(h){Ye(e,e.return,h)}}var Ys=!1,At=!1,ff=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function uS(e,t){if(e=e.containerInfo,Df=Gc,e=cp(e),ad(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var g=0,S=-1,C=-1,D=0,H=0,Y=e,B=null;t:for(;;){for(var U;Y!==i||u!==0&&Y.nodeType!==3||(S=g+u),Y!==h||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(U=Y.firstChild)!==null;)B=Y,Y=U;for(;;){if(Y===e)break t;if(B===i&&++D===u&&(S=g),B===h&&++H===o&&(C=g),(U=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=U}i=S===-1||C===-1?null:{start:S,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Bf={focusedElem:e,selectionRange:i},Gc=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){switch(t=Ht,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,u=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var re=bi(i.type,u);e=o.getSnapshotBeforeUpdate(re,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ye(i,i.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Lf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}}function Zg(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ws(e,i),o&4&&Oo(5,i);break;case 1:if(Ws(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){Ye(i,i.return,g)}else{var u=bi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ye(i,i.return,g)}}o&64&&qg(i),o&512&&Io(i,i.return);break;case 3:if(Ws(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Up(e,t)}catch(g){Ye(i,i.return,g)}}break;case 27:t===null&&o&4&&Kg(i);case 26:case 5:Ws(e,i),t===null&&o&4&&Xg(i),o&512&&Io(i,i.return);break;case 12:Ws(e,i);break;case 31:Ws(e,i),o&4&&ty(e,i);break;case 13:Ws(e,i),o&4&&ny(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=vS.bind(null,i),IS(e,i))));break;case 22:if(o=i.memoizedState!==null||Ys,!o){t=t!==null&&t.memoizedState!==null||At,u=Ys;var h=At;Ys=o,(At=t)&&!h?Ks(e,i,(i.subtreeFlags&8772)!==0):Ws(e,i),Ys=u,At=h}break;case 30:break;default:Ws(e,i)}}function Jg(e){var t=e.alternate;t!==null&&(e.alternate=null,Jg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,dn=!1;function Xs(e,t,i){for(i=i.child;i!==null;)ey(e,t,i),i=i.sibling}function ey(e,t,i){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(ye,i)}catch{}switch(i.tag){case 26:At||Ss(i,t),Xs(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:At||Ss(i,t);var o=rt,u=dn;Ba(i.type)&&(rt=i.stateNode,dn=!1),Xs(e,t,i),Xo(i.stateNode),rt=o,dn=u;break;case 5:At||Ss(i,t);case 6:if(o=rt,u=dn,rt=null,Xs(e,t,i),rt=o,dn=u,rt!==null)if(dn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(i.stateNode)}catch(h){Ye(i,t,h)}else try{rt.removeChild(i.stateNode)}catch(h){Ye(i,t,h)}break;case 18:rt!==null&&(dn?(e=rt,qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),kr(e)):qy(rt,i.stateNode));break;case 4:o=rt,u=dn,rt=i.stateNode.containerInfo,dn=!0,Xs(e,t,i),rt=o,dn=u;break;case 0:case 11:case 14:case 15:Ma(2,i,t),At||Ma(4,i,t),Xs(e,t,i);break;case 1:At||(Ss(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Yg(i,t,o)),Xs(e,t,i);break;case 21:Xs(e,t,i);break;case 22:At=(o=At)||i.memoizedState!==null,Xs(e,t,i),At=o;break;default:Xs(e,t,i)}}function ty(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{kr(e)}catch(i){Ye(t,t.return,i)}}}function ny(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kr(e)}catch(i){Ye(t,t.return,i)}}function dS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qg),t;default:throw Error(r(435,e.tag))}}function jc(e,t){var i=dS(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var u=xS.bind(null,e,o);o.then(u,u)}})}function fn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],h=e,g=t,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(Ba(S.type)){rt=S.stateNode,dn=!1;break e}break;case 5:rt=S.stateNode,dn=!1;break e;case 3:case 4:rt=S.stateNode.containerInfo,dn=!0;break e}S=S.return}if(rt===null)throw Error(r(160));ey(h,g,u),rt=null,dn=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sy(t,e),t=t.sibling}var Jn=null;function sy(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(t,e),hn(e),o&4&&(Ma(3,e,e.return),Oo(3,e),Ma(5,e,e.return));break;case 1:fn(t,e),hn(e),o&512&&(At||i===null||Ss(i,i.return)),o&64&&Ys&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var u=Jn;if(fn(t,e),hn(e),o&512&&(At||i===null||Ss(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Ka]||h[bt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(o),u.head.insertBefore(h,u.querySelector("head > title"))),Wt(h,o,i),h[bt]=e,jt(h),o=h;break e;case"link":var g=s0("link","href",u).get(o+(i.href||""));if(g){for(var S=0;S<g.length;S++)if(h=g[S],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(S,1);break t}}h=u.createElement(o),Wt(h,o,i),u.head.appendChild(h);break;case"meta":if(g=s0("meta","content",u).get(o+(i.content||""))){for(S=0;S<g.length;S++)if(h=g[S],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(S,1);break t}}h=u.createElement(o),Wt(h,o,i),u.head.appendChild(h);break;default:throw Error(r(468,o))}h[bt]=e,jt(h),o=h}e.stateNode=o}else a0(u,e.type,e.stateNode);else e.stateNode=n0(u,o,e.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?a0(u,e.type,e.stateNode):n0(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&cf(e,e.memoizedProps,i.memoizedProps)}break;case 27:fn(t,e),hn(e),o&512&&(At||i===null||Ss(i,i.return)),i!==null&&o&4&&cf(e,e.memoizedProps,i.memoizedProps);break;case 5:if(fn(t,e),hn(e),o&512&&(At||i===null||Ss(i,i.return)),e.flags&32){u=e.stateNode;try{xt(u,"")}catch(re){Ye(e,e.return,re)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,cf(e,u,i!==null?i.memoizedProps:u)),o&1024&&(ff=!0);break;case 6:if(fn(t,e),hn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(re){Ye(e,e.return,re)}}break;case 3:if(Hc=null,u=Jn,Jn=Ic(t.containerInfo),fn(t,e),Jn=u,hn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(re){Ye(e,e.return,re)}ff&&(ff=!1,ay(e));break;case 4:o=Jn,Jn=Ic(e.stateNode.containerInfo),fn(t,e),hn(e),Jn=o;break;case 12:fn(t,e),hn(e);break;case 31:fn(t,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,jc(e,o)));break;case 13:fn(t,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Mc=$t()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,jc(e,o)));break;case 22:u=e.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,D=Ys,H=At;if(Ys=D||u,At=H||C,fn(t,e),At=H,Ys=D,hn(e),o&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||C||Ys||At||vi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){C=i=t;try{if(h=C.stateNode,u)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(re){Ye(C,C.return,re)}}}else if(t.tag===6){if(i===null){C=t;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(re){Ye(C,C.return,re)}}}else if(t.tag===18){if(i===null){C=t;try{var U=C.stateNode;u?Yy(U,!0):Yy(C.stateNode,!1)}catch(re){Ye(C,C.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,jc(e,i))));break;case 19:fn(t,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,jc(e,o)));break;case 30:break;case 21:break;default:fn(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(Wg(o)){i=o;break}o=o.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,h=uf(e);Cc(e,h,u);break;case 5:var g=i.stateNode;i.flags&32&&(xt(g,""),i.flags&=-33);var S=uf(e);Cc(e,S,g);break;case 3:case 4:var C=i.stateNode.containerInfo,D=uf(e);df(e,D,C);break;default:throw Error(r(161))}}catch(H){Ye(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ay(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ws(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zg(e,t.alternate,t),t=t.sibling}function vi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ma(4,t,t.return),vi(t);break;case 1:Ss(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Yg(t,t.return,i),vi(t);break;case 27:Xo(t.stateNode);case 26:case 5:Ss(t,t.return),vi(t);break;case 22:t.memoizedState===null&&vi(t);break;case 30:vi(t);break;default:vi(t)}e=e.sibling}}function Ks(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,u=e,h=t,g=h.flags;switch(h.tag){case 0:case 11:case 15:Ks(u,h,i),Oo(4,h);break;case 1:if(Ks(u,h,i),o=h,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(D){Ye(o,o.return,D)}if(o=h,u=o.updateQueue,u!==null){var S=o.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)zp(C[u],S)}catch(D){Ye(o,o.return,D)}}i&&g&64&&qg(h),Io(h,h.return);break;case 27:Kg(h);case 26:case 5:Ks(u,h,i),i&&o===null&&g&4&&Xg(h),Io(h,h.return);break;case 12:Ks(u,h,i);break;case 31:Ks(u,h,i),i&&g&4&&ty(u,h);break;case 13:Ks(u,h,i),i&&g&4&&ny(u,h);break;case 22:h.memoizedState===null&&Ks(u,h,i),Io(h,h.return);break;case 30:break;default:Ks(u,h,i)}t=t.sibling}}function hf(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&jo(i))}function mf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jo(e))}function es(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iy(e,t,i,o),t=t.sibling}function iy(e,t,i,o){var u=t.flags;switch(t.tag){case 0:case 11:case 15:es(e,t,i,o),u&2048&&Oo(9,t);break;case 1:es(e,t,i,o);break;case 3:es(e,t,i,o),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jo(e)));break;case 12:if(u&2048){es(e,t,i,o),e=t.stateNode;try{var h=t.memoizedProps,g=h.id,S=h.onPostCommit;typeof S=="function"&&S(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ye(t,t.return,C)}}else es(e,t,i,o);break;case 31:es(e,t,i,o);break;case 13:es(e,t,i,o);break;case 23:break;case 22:h=t.stateNode,g=t.alternate,t.memoizedState!==null?h._visibility&2?es(e,t,i,o):Po(e,t):h._visibility&2?es(e,t,i,o):(h._visibility|=2,vr(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),u&2048&&hf(g,t);break;case 24:es(e,t,i,o),u&2048&&mf(t.alternate,t);break;default:es(e,t,i,o)}}function vr(e,t,i,o,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,g=t,S=i,C=o,D=g.flags;switch(g.tag){case 0:case 11:case 15:vr(h,g,S,C,u),Oo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?vr(h,g,S,C,u):Po(h,g):(H._visibility|=2,vr(h,g,S,C,u)),u&&D&2048&&hf(g.alternate,g);break;case 24:vr(h,g,S,C,u),u&&D&2048&&mf(g.alternate,g);break;default:vr(h,g,S,C,u)}t=t.sibling}}function Po(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,u=o.flags;switch(o.tag){case 22:Po(i,o),u&2048&&hf(o.alternate,o);break;case 24:Po(i,o),u&2048&&mf(o.alternate,o);break;default:Po(i,o)}t=t.sibling}}var Ho=8192;function xr(e,t,i){if(e.subtreeFlags&Ho)for(e=e.child;e!==null;)ry(e,t,i),e=e.sibling}function ry(e,t,i){switch(e.tag){case 26:xr(e,t,i),e.flags&Ho&&e.memoizedState!==null&&QS(i,Jn,e.memoizedState,e.memoizedProps);break;case 5:xr(e,t,i);break;case 3:case 4:var o=Jn;Jn=Ic(e.stateNode.containerInfo),xr(e,t,i),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ho,Ho=16777216,xr(e,t,i),Ho=o):xr(e,t,i));break;default:xr(e,t,i)}}function oy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];Ht=o,cy(o,e)}oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ly(e),e=e.sibling}function ly(e){switch(e.tag){case 0:case 11:case 15:Vo(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:Vo(e);break;case 12:Vo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Tc(e)):Vo(e);break;default:Vo(e)}}function Tc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];Ht=o,cy(o,e)}oy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ma(8,t,t.return),Tc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Tc(t));break;default:Tc(t)}e=e.sibling}}function cy(e,t){for(;Ht!==null;){var i=Ht;switch(i.tag){case 0:case 11:case 15:Ma(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ht=o;else e:for(i=e;Ht!==null;){o=Ht;var u=o.sibling,h=o.return;if(Jg(o),o===i){Ht=null;break e}if(u!==null){u.return=h,Ht=u;break e}Ht=h}}}var fS={getCacheForType:function(e){var t=Yt(Tt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Yt(Tt).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Ae=null,De=0,qe=0,wn=null,Ea=!1,Sr=!1,pf=!1,Qs=0,pt=0,Aa=0,xi=0,gf=0,Cn=0,_r=0,$o=null,mn=null,yf=!1,Mc=0,uy=0,Ec=1/0,Ac=null,ka=null,Bt=0,Na=null,wr=null,Zs=0,bf=0,vf=null,dy=null,Fo=0,xf=null;function jn(){return($e&2)!==0&&De!==0?De&-De:O.T!==null?Tf():Lu()}function fy(){if(Cn===0)if((De&536870912)===0||ze){var e=un;un<<=1,(un&3932160)===0&&(un=262144),Cn=e}else Cn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Cn}function pn(e,t,i){(e===nt&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(Cr(e,0),Ra(e,De,Cn,!1)),ra(e,i),(($e&2)===0||e!==nt)&&(e===nt&&(($e&2)===0&&(xi|=i),pt===4&&Ra(e,De,Cn,!1)),_s(e))}function hy(e,t,i){if(($e&6)!==0)throw Error(r(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Wa(e,t),u=o?gS(e,t):_f(e,t,!0),h=o;do{if(u===0){Sr&&!o&&Ra(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!mS(i)){u=_f(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var S=e;u=$o;var C=S.current.memoizedState.isDehydrated;if(C&&(Cr(S,g).flags|=256),g=_f(S,g,!1),g!==2){if(pf&&!C){S.errorRecoveryDisabledLanes|=h,xi|=h,u=4;break e}h=mn,mn=u,h!==null&&(mn===null?mn=h:mn.push.apply(mn,h))}u=g}if(h=!1,u!==2)continue}}if(u===1){Cr(e,0),Ra(e,t,0,!0);break}e:{switch(o=e,h=u,h){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ra(o,t,Cn,!Ea);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Mc+300-$t(),10<u)){if(Ra(o,t,Cn,!Ea),eo(o,0,!0)!==0)break e;Zs=t,o.timeoutHandle=Fy(my.bind(null,o,i,mn,Ac,yf,t,Cn,xi,_r,Ea,h,"Throttled",-0,0),u);break e}my(o,i,mn,Ac,yf,t,Cn,xi,_r,Ea,h,null,-0,0)}}break}while(!0);_s(e)}function my(e,t,i,o,u,h,g,S,C,D,H,Y,B,U){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},ry(t,h,Y);var re=(h&62914560)===h?Mc-$t():(h&4194048)===h?uy-$t():0;if(re=ZS(Y,re),re!==null){Zs=h,e.cancelPendingCommit=re(_y.bind(null,e,t,h,i,o,u,g,S,C,H,Y,null,B,U)),Ra(e,h,g,!D);return}}_y(e,t,h,i,o,u,g,S,C)}function mS(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],h=u.getSnapshot;u=u.value;try{if(!vn(h(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ra(e,t,i,o){t&=~gf,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var u=t;0<u;){var h=31-ut(u),g=1<<h;o[h]=-1,u&=~g}i!==0&&$i(e,i,t)}function kc(){return($e&6)===0?(Go(0),!1):!0}function Sf(){if(Ae!==null){if(qe===0)var e=Ae.return;else e=Ae,Hs=di=null,Ud(e),mr=null,Mo=0,e=Ae;for(;e!==null;)Gg(e.alternate,e),e=e.return;Ae=null}}function Cr(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,BS(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Zs=0,Sf(),nt=e,Ae=i=Is(e.current,null),De=t,qe=0,wn=null,Ea=!1,Sr=Wa(e,t),pf=!1,_r=Cn=gf=xi=Aa=pt=0,mn=$o=null,yf=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var u=31-ut(o),h=1<<u;t|=e[u],o&=~h}return Qs=t,Ql(),i}function py(e,t){Se=null,O.H=zo,t===hr||t===ic?(t=Np(),qe=3):t===Cd?(t=Np(),qe=4):qe=t===Zd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,Ae===null&&(pt=1,vc(e,In(t,e.current)))}function gy(){var e=Sn.current;return e===null?!0:(De&4194048)===De?$n===null:(De&62914560)===De||(De&536870912)!==0?e===$n:!1}function yy(){var e=O.H;return O.H=zo,e===null?zo:e}function by(){var e=O.A;return O.A=fS,e}function Nc(){pt=4,Ea||(De&4194048)!==De&&Sn.current!==null||(Sr=!0),(Aa&134217727)===0&&(xi&134217727)===0||nt===null||Ra(nt,De,Cn,!1)}function _f(e,t,i){var o=$e;$e|=2;var u=yy(),h=by();(nt!==e||De!==t)&&(Ac=null,Cr(e,t)),t=!1;var g=pt;e:do try{if(qe!==0&&Ae!==null){var S=Ae,C=wn;switch(qe){case 8:Sf(),g=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(t=!0);var D=qe;if(qe=0,wn=null,jr(e,S,C,D),i&&Sr){g=0;break e}break;default:D=qe,qe=0,wn=null,jr(e,S,C,D)}}pS(),g=pt;break}catch(H){py(e,H)}while(!0);return t&&e.shellSuspendCounter++,Hs=di=null,$e=o,O.H=u,O.A=h,Ae===null&&(nt=null,De=0,Ql()),g}function pS(){for(;Ae!==null;)vy(Ae)}function gS(e,t){var i=$e;$e|=2;var o=yy(),u=by();nt!==e||De!==t?(Ac=null,Ec=$t()+500,Cr(e,t)):Sr=Wa(e,t);e:do try{if(qe!==0&&Ae!==null){t=Ae;var h=wn;t:switch(qe){case 1:qe=0,wn=null,jr(e,t,h,1);break;case 2:case 9:if(Ap(h)){qe=0,wn=null,xy(t);break}t=function(){qe!==2&&qe!==9||nt!==e||(qe=7),_s(e)},h.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Ap(h)?(qe=0,wn=null,xy(t)):(qe=0,wn=null,jr(e,t,h,7));break;case 5:var g=null;switch(Ae.tag){case 26:g=Ae.memoizedState;case 5:case 27:var S=Ae;if(g?i0(g):S.stateNode.complete){qe=0,wn=null;var C=S.sibling;if(C!==null)Ae=C;else{var D=S.return;D!==null?(Ae=D,Rc(D)):Ae=null}break t}}qe=0,wn=null,jr(e,t,h,5);break;case 6:qe=0,wn=null,jr(e,t,h,6);break;case 8:Sf(),pt=6;break e;default:throw Error(r(462))}}yS();break}catch(H){py(e,H)}while(!0);return Hs=di=null,O.H=o,O.A=u,$e=i,Ae!==null?0:(nt=null,De=0,Ql(),pt)}function yS(){for(;Ae!==null&&!Zr();)vy(Ae)}function vy(e){var t=$g(e.alternate,e,Qs);e.memoizedProps=e.pendingProps,t===null?Rc(e):Ae=t}function xy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Lg(i,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Lg(i,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Ud(t);default:Gg(i,t),t=Ae=bp(t,Qs),t=$g(i,t,Qs)}e.memoizedProps=e.pendingProps,t===null?Rc(e):Ae=t}function jr(e,t,i,o){Hs=di=null,Ud(t),mr=null,Mo=0;var u=t.return;try{if(iS(e,u,t,i,De)){pt=1,vc(e,In(i,e.current)),Ae=null;return}}catch(h){if(u!==null)throw Ae=u,h;pt=1,vc(e,In(i,e.current)),Ae=null;return}t.flags&32768?(ze||o===1?e=!0:Sr||(De&536870912)!==0?e=!1:(Ea=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(t,e)):Rc(t)}function Rc(e){var t=e;do{if((t.flags&32768)!==0){Sy(t,Ea);return}e=t.return;var i=lS(t.alternate,t,Qs);if(i!==null){Ae=i;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);pt===0&&(pt=5)}function Sy(e,t){do{var i=cS(e.alternate,e);if(i!==null){i.flags&=32767,Ae=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=i}while(e!==null);pt=6,Ae=null}function _y(e,t,i,o,u,h,g,S,C){e.cancelPendingCommit=null;do Dc();while(Bt!==0);if(($e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(h=t.lanes|t.childLanes,h|=cd,ep(e,i,h,g,S,C),e===nt&&(Ae=nt=null,De=0),wr=t,Na=e,Zs=i,bf=h,vf=u,dy=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,SS(ia,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=O.T,O.T=null,u=Z.p,Z.p=2,g=$e,$e|=4;try{uS(e,t,i)}finally{$e=g,Z.p=u,O.T=o}}Bt=1,wy(),Cy(),jy()}}function wy(){if(Bt===1){Bt=0;var e=Na,t=wr,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var o=Z.p;Z.p=2;var u=$e;$e|=4;try{sy(t,e);var h=Bf,g=cp(e.containerInfo),S=h.focusedElem,C=h.selectionRange;if(g!==S&&S&&S.ownerDocument&&lp(S.ownerDocument.documentElement,S)){if(C!==null&&ad(S)){var D=C.start,H=C.end;if(H===void 0&&(H=D),"selectionStart"in S)S.selectionStart=D,S.selectionEnd=Math.min(H,S.value.length);else{var Y=S.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var U=B.getSelection(),re=S.textContent.length,me=Math.min(C.start,re),Je=C.end===void 0?me:Math.min(C.end,re);!U.extend&&me>Je&&(g=Je,Je=me,me=g);var k=op(S,me),A=op(S,Je);if(k&&A&&(U.rangeCount!==1||U.anchorNode!==k.node||U.anchorOffset!==k.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var R=Y.createRange();R.setStart(k.node,k.offset),U.removeAllRanges(),me>Je?(U.addRange(R),U.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),U.addRange(R))}}}}for(Y=[],U=S;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Y.length;S++){var $=Y[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Gc=!!Df,Bf=Df=null}finally{$e=u,Z.p=o,O.T=i}}e.current=t,Bt=2}}function Cy(){if(Bt===2){Bt=0;var e=Na,t=wr,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var o=Z.p;Z.p=2;var u=$e;$e|=4;try{Zg(e,t.alternate,t)}finally{$e=u,Z.p=o,O.T=i}}Bt=3}}function jy(){if(Bt===4||Bt===3){Bt=0,Jr();var e=Na,t=wr,i=Zs,o=dy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Bt=5:(Bt=0,wr=Na=null,Ty(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ka=null),Fi(i),t=t.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(ye,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=O.T,u=Z.p,Z.p=2,O.T=null;try{for(var h=e.onRecoverableError,g=0;g<o.length;g++){var S=o[g];h(S.value,{componentStack:S.stack})}}finally{O.T=t,Z.p=u}}(Zs&3)!==0&&Dc(),_s(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===xf?Fo++:(Fo=0,xf=e):Fo=0,Go(0)}}function Ty(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jo(t)))}function Dc(){return wy(),Cy(),jy(),My()}function My(){if(Bt!==5)return!1;var e=Na,t=bf;bf=0;var i=Fi(Zs),o=O.T,u=Z.p;try{Z.p=32>i?32:i,O.T=null,i=vf,vf=null;var h=Na,g=Zs;if(Bt=0,wr=Na=null,Zs=0,($e&6)!==0)throw Error(r(331));var S=$e;if($e|=4,ly(h.current),iy(h,h.current,g,i),$e=S,Go(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(ye,h)}catch{}return!0}finally{Z.p=u,O.T=o,Ty(e,t)}}function Ey(e,t,i){t=In(i,t),t=Qd(e.stateNode,t,2),e=Ca(e,t,2),e!==null&&(ra(e,2),_s(e))}function Ye(e,t,i){if(e.tag===3)Ey(e,e,i);else for(;t!==null;){if(t.tag===3){Ey(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ka===null||!ka.has(o))){e=In(i,e),i=Ag(2),o=Ca(t,i,2),o!==null&&(kg(i,o,t,e),ra(o,2),_s(o));break}}t=t.return}}function wf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new hS;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(i)||(pf=!0,u.add(i),e=bS.bind(null,e,t,i),t.then(e,e))}function bS(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,nt===e&&(De&i)===i&&(pt===4||pt===3&&(De&62914560)===De&&300>$t()-Mc?($e&2)===0&&Cr(e,0):gf|=i,_r===De&&(_r=0)),_s(e)}function Ay(e,t){t===0&&(t=to()),e=li(e,t),e!==null&&(ra(e,t),_s(e))}function vS(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ay(e,i)}function xS(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(t),Ay(e,i)}function SS(e,t){return ct(e,t)}var Bc=null,Tr=null,Cf=!1,zc=!1,jf=!1,Da=0;function _s(e){e!==Tr&&e.next===null&&(Tr===null?Bc=Tr=e:Tr=Tr.next=e),zc=!0,Cf||(Cf=!0,wS())}function Go(e,t){if(!jf&&zc){jf=!0;do for(var i=!1,o=Bc;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var h=0;else{var g=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-ut(42|e)+1)-1,h&=u&~(g&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Dy(o,h))}else h=De,h=eo(o,o===nt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Wa(o,h)||(i=!0,Dy(o,h));o=o.next}while(i);jf=!1}}function _S(){ky()}function ky(){zc=Cf=!1;var e=0;Da!==0&&DS()&&(e=Da);for(var t=$t(),i=null,o=Bc;o!==null;){var u=o.next,h=Ny(o,t);h===0?(o.next=null,i===null?Bc=u:i.next=u,u===null&&(Tr=i)):(i=o,(e!==0||(h&3)!==0)&&(zc=!0)),o=u}Bt!==0&&Bt!==5||Go(e),Da!==0&&(Da=0)}function Ny(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-ut(h),S=1<<g,C=u[g];C===-1?((S&i)===0||(S&o)!==0)&&(u[g]=Jm(S,t)):C<=t&&(e.expiredLanes|=S),h&=~S}if(t=nt,i=De,i=eo(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Rn(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Wa(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&Rn(o),Fi(i)){case 2:case 8:i=cs;break;case 32:i=ia;break;case 268435456:i=Hi;break;default:i=ia}return o=Ry.bind(null,e),i=ct(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&Rn(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,t){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Dc()&&e.callbackNode!==i)return null;var o=De;return o=eo(e,e===nt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,t),Ny(e,$t()),e.callbackNode!=null&&e.callbackNode===i?Ry.bind(null,e):null)}function Dy(e,t){if(Dc())return null;hy(e,t,!0)}function wS(){zS(function(){($e&6)!==0?ct(Pi,_S):ky()})}function Tf(){if(Da===0){var e=dr;e===0&&(e=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),Da=e}return Da}function By(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ti(""+e)}function zy(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function CS(e,t,i,o,u){if(t==="submit"&&i&&i.stateNode===u){var h=By((u[Ft]||null).action),g=o.submitter;g&&(t=(t=g[Ft]||null)?By(t.formAction):g.getAttribute("formAction"),t!==null&&(h=t,g=null));var S=new Ji("action","action",null,o,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Da!==0){var C=g?zy(u,g):new FormData(u);Gd(i,{pending:!0,data:C,method:u.method,action:h},null,C)}}else typeof h=="function"&&(S.preventDefault(),C=g?zy(u,g):new FormData(u),Gd(i,{pending:!0,data:C,method:u.method,action:h},h,C))},currentTarget:u}]})}}for(var Mf=0;Mf<ld.length;Mf++){var Ef=ld[Mf],jS=Ef.toLowerCase(),TS=Ef[0].toUpperCase()+Ef.slice(1);Zn(jS,"on"+TS)}Zn(fp,"onAnimationEnd"),Zn(hp,"onAnimationIteration"),Zn(mp,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(V1,"onTransitionRun"),Zn($1,"onTransitionStart"),Zn(F1,"onTransitionCancel"),Zn(pp,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qo));function Uy(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],u=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var g=o.length-1;0<=g;g--){var S=o[g],C=S.instance,D=S.currentTarget;if(S=S.listener,C!==h&&u.isPropagationStopped())break e;h=S,u.currentTarget=D;try{h(u)}catch(H){Kl(H)}u.currentTarget=null,h=C}else for(g=0;g<o.length;g++){if(S=o[g],C=S.instance,D=S.currentTarget,S=S.listener,C!==h&&u.isPropagationStopped())break e;h=S,u.currentTarget=D;try{h(u)}catch(H){Kl(H)}u.currentTarget=null,h=C}}}}function ke(e,t){var i=t[Gi];i===void 0&&(i=t[Gi]=new Set);var o=e+"__bubble";i.has(o)||(Ly(t,e,2,!1),i.add(o))}function Af(e,t,i){var o=0;t&&(o|=4),Ly(i,e,o,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function kf(e){if(!e[Uc]){e[Uc]=!0,Ul.forEach(function(i){i!=="selectionchange"&&(MS.has(i)||Af(i,!1,e),Af(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uc]||(t[Uc]=!0,Af("selectionchange",!1,t))}}function Ly(e,t,i,o){switch(f0(t)){case 2:var u=t_;break;case 8:u=n_;break;default:u=Gf}i=u.bind(null,t,i,e),u=void 0,!gs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Nf(e,t,i,o,u){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var S=o.stateNode.containerInfo;if(S===u)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;S!==null;){if(g=Ns(S),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=h=g;continue e}S=S.parentNode}}o=o.return}mo(function(){var D=h,H=Dt(i),Y=[];e:{var B=gp.get(e);if(B!==void 0){var U=Ji,re=e;switch(e){case"keypress":if(si(i)===0)break e;case"keydown":case"keyup":U=Gl;break;case"focusin":re="focus",U=yo;break;case"focusout":re="blur",U=yo;break;case"beforeblur":case"afterblur":U=yo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Wu;break;case fp:case hp:case mp:U=Pu;break;case pp:U=Qu;break;case"scroll":case"scrollend":U=Ou;break;case"wheel":U=Ln;break;case"copy":case"cut":case"paste":U=ai;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=ql;break;case"toggle":case"beforetoggle":U=Ju}var me=(t&4)!==0,Je=!me&&(e==="scroll"||e==="scrollend"),k=me?B!==null?B+"Capture":null:B;me=[];for(var A=D,R;A!==null;){var $=A;if(R=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||R===null||k===null||($=ps(A,k),$!=null&&me.push(Yo(A,$,R))),Je)break;A=A.return}0<me.length&&(B=new U(B,re,null,i,H),Y.push({event:B,listeners:me}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",B&&i!==Ki&&(re=i.relatedTarget||i.fromElement)&&(Ns(re)||re[ks]))break e;if((U||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,U?(re=i.relatedTarget||i.toElement,U=D,re=re?Ns(re):null,re!==null&&(Je=d(re),me=re.tag,re!==Je||me!==5&&me!==27&&me!==6)&&(re=null)):(U=null,re=D),U!==re)){if(me=Hl,$="onMouseLeave",k="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(me=ql,$="onPointerLeave",k="onPointerEnter",A="pointer"),Je=U==null?B:la(U),R=re==null?B:la(re),B=new me($,A+"leave",U,i,H),B.target=Je,B.relatedTarget=R,$=null,Ns(H)===D&&(me=new me(k,A+"enter",re,i,H),me.target=R,me.relatedTarget=Je,$=me),Je=$,U&&re)t:{for(me=ES,k=U,A=re,R=0,$=k;$;$=me($))R++;$=0;for(var de=A;de;de=me(de))$++;for(;0<R-$;)k=me(k),R--;for(;0<$-R;)A=me(A),$--;for(;R--;){if(k===A||A!==null&&k===A.alternate){me=k;break t}k=me(k),A=me(A)}me=null}else me=null;U!==null&&Oy(Y,B,U,me,!1),re!==null&&Je!==null&&Oy(Y,Je,re,me,!0)}}e:{if(B=D?la(D):window,U=B.nodeName&&B.nodeName.toLowerCase(),U==="select"||U==="input"&&B.type==="file")var Ie=tp;else if(xo(B))if(np)Ie=I1;else{Ie=L1;var le=U1}else U=B.nodeName,!U||U.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?D&&Wi(D.elementType)&&(Ie=tp):Ie=O1;if(Ie&&(Ie=Ie(e,D))){ht(Y,Ie,i,H);break e}le&&le(e,B,D),e==="focusout"&&D&&B.type==="number"&&D.memoizedProps.value!=null&&fa(B,"number",B.value)}switch(le=D?la(D):window,e){case"focusin":(xo(le)||le.contentEditable==="true")&&(sr=le,id=D,_o=null);break;case"focusout":_o=id=sr=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,up(Y,i,H);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":up(Y,i,H)}var Ce;if(vo)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ue?pe(e,i)&&(Be="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Be="onCompositionStart");Be&&(x&&i.locale!=="ko"&&(Ue||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ue&&(Ce=Il()):(Un=H,Qi="value"in Un?Un.value:Un.textContent,Ue=!0)),le=Lc(D,Be),0<le.length&&(Be=new Fl(Be,e,null,i,H),Y.push({event:Be,listeners:le}),Ce?Be.data=Ce:(Ce=Ge(i),Ce!==null&&(Be.data=Ce)))),(Ce=td?Os(e,i):nr(e,i))&&(Be=Lc(D,"onBeforeInput"),0<Be.length&&(le=new Fl("onBeforeInput","beforeinput",null,i,H),Y.push({event:le,listeners:Be}),le.data=Ce)),CS(Y,e,D,i,H)}Uy(Y,t)})}function Yo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Lc(e,t){for(var i=t+"Capture",o=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=ps(e,i),u!=null&&o.unshift(Yo(e,u,h)),u=ps(e,t),u!=null&&o.push(Yo(e,u,h))),e.tag===3)return o;e=e.return}return[]}function ES(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,t,i,o,u){for(var h=t._reactName,g=[];i!==null&&i!==o;){var S=i,C=S.alternate,D=S.stateNode;if(S=S.tag,C!==null&&C===o)break;S!==5&&S!==26&&S!==27||D===null||(C=D,u?(D=ps(i,h),D!=null&&g.unshift(Yo(i,D,C))):u||(D=ps(i,h),D!=null&&g.push(Yo(i,D,C)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var AS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(AS,`
`).replace(kS,"")}function Py(e,t){return t=Iy(t),Iy(e)===t}function Ze(e,t,i,o,u,h){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||xt(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&xt(e,""+o);break;case"className":hs(e,"class",o);break;case"tabIndex":hs(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(e,i,o);break;case"style":fo(e,o,h);break;case"data":if(t!=="object"){hs(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=ti(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&Ze(e,t,"name",u.name,u,null),Ze(e,t,"formEncType",u.formEncType,u,null),Ze(e,t,"formMethod",u.formMethod,u,null),Ze(e,t,"formTarget",u.formTarget,u,null)):(Ze(e,t,"encType",u.encType,u,null),Ze(e,t,"method",u.method,u,null),Ze(e,t,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=ti(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&ke("scroll",e);break;case"onScrollEnd":o!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=ti(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Za(e,"popover",o);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Za(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ll.get(i)||i,Za(e,i,o))}}function Rf(e,t,i,o,u,h){switch(i){case"style":fo(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof o=="string"?xt(e,o):(typeof o=="number"||typeof o=="bigint")&&xt(e,""+o);break;case"onScroll":o!=null&&ke("scroll",e);break;case"onScrollEnd":o!=null&&ke("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),h=e[Ft]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof o=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,u);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Za(e,i,o)}}}function Wt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var o=!1,u=!1,h;for(h in i)if(i.hasOwnProperty(h)){var g=i[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,h,g,i,null)}}u&&Ze(e,t,"srcSet",i.srcSet,i,null),o&&Ze(e,t,"src",i.src,i,null);return;case"input":ke("invalid",e);var S=h=g=u=null,C=null,D=null;for(o in i)if(i.hasOwnProperty(o)){var H=i[o];if(H!=null)switch(o){case"name":u=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":D=H;break;case"value":h=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,t));break;default:Ze(e,t,o,H,i,null)}}uo(e,h,S,C,D,g,u,!1);return;case"select":ke("invalid",e),o=g=h=null;for(u in i)if(i.hasOwnProperty(u)&&(S=i[u],S!=null))switch(u){case"value":h=S;break;case"defaultValue":g=S;break;case"multiple":o=S;default:Ze(e,t,u,S,i,null)}t=h,i=g,e.multiple=!!o,t!=null?Bs(e,!!o,t,!1):i!=null&&Bs(e,!!o,i,!0);return;case"textarea":ke("invalid",e),h=u=o=null;for(g in i)if(i.hasOwnProperty(g)&&(S=i[g],S!=null))switch(g){case"value":o=S;break;case"defaultValue":u=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ze(e,t,g,S,i,null)}Ja(e,o,u,h);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(o=i[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(e,t,C,o,i,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(o=0;o<qo.length;o++)ke(qo[o],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in i)if(i.hasOwnProperty(D)&&(o=i[D],o!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,D,o,i,null)}return;default:if(Wi(t)){for(H in i)i.hasOwnProperty(H)&&(o=i[H],o!==void 0&&Rf(e,t,H,o,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(o=i[S],o!=null&&Ze(e,t,S,o,i,null))}function NS(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,g=null,S=null,C=null,D=null,H=null;for(U in i){var Y=i[U];if(i.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(U)||Ze(e,t,U,null,o,Y)}}for(var B in o){var U=o[B];if(Y=i[B],o.hasOwnProperty(B)&&(U!=null||Y!=null))switch(B){case"type":h=U;break;case"name":u=U;break;case"checked":D=U;break;case"defaultChecked":H=U;break;case"value":g=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==Y&&Ze(e,t,B,U,o,Y)}}da(e,g,S,C,D,H,h,u);return;case"select":U=g=S=B=null;for(h in i)if(C=i[h],i.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":U=C;default:o.hasOwnProperty(h)||Ze(e,t,h,null,o,C)}for(u in o)if(h=o[u],C=i[u],o.hasOwnProperty(u)&&(h!=null||C!=null))switch(u){case"value":B=h;break;case"defaultValue":S=h;break;case"multiple":g=h;default:h!==C&&Ze(e,t,u,h,o,C)}t=S,i=g,o=U,B!=null?Bs(e,!!i,B,!1):!!o!=!!i&&(t!=null?Bs(e,!!i,t,!0):Bs(e,!!i,i?[]:"",!1));return;case"textarea":U=B=null;for(S in i)if(u=i[S],i.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(e,t,S,null,o,u)}for(g in o)if(u=o[g],h=i[g],o.hasOwnProperty(g)&&(u!=null||h!=null))switch(g){case"value":B=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&Ze(e,t,g,u,o,h)}Me(e,B,U);return;case"option":for(var re in i)if(B=i[re],i.hasOwnProperty(re)&&B!=null&&!o.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ze(e,t,re,null,o,B)}for(C in o)if(B=o[C],U=i[C],o.hasOwnProperty(C)&&B!==U&&(B!=null||U!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ze(e,t,C,B,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in i)B=i[me],i.hasOwnProperty(me)&&B!=null&&!o.hasOwnProperty(me)&&Ze(e,t,me,null,o,B);for(D in o)if(B=o[D],U=i[D],o.hasOwnProperty(D)&&B!==U&&(B!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:Ze(e,t,D,B,o,U)}return;default:if(Wi(t)){for(var Je in i)B=i[Je],i.hasOwnProperty(Je)&&B!==void 0&&!o.hasOwnProperty(Je)&&Rf(e,t,Je,void 0,o,B);for(H in o)B=o[H],U=i[H],!o.hasOwnProperty(H)||B===U||B===void 0&&U===void 0||Rf(e,t,H,B,o,U);return}}for(var k in i)B=i[k],i.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Ze(e,t,k,null,o,B);for(Y in o)B=o[Y],U=i[Y],!o.hasOwnProperty(Y)||B===U||B==null&&U==null||Ze(e,t,Y,B,o,U)}function Hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var u=i[o],h=u.transferSize,g=u.initiatorType,S=u.duration;if(h&&S&&Hy(g)){for(g=0,S=u.responseEnd,o+=1;o<i.length;o++){var C=i[o],D=C.startTime;if(D>S)break;var H=C.transferSize,Y=C.initiatorType;H&&Hy(Y)&&(C=C.responseEnd,g+=H*(C<S?1:(S-D)/(C-D)))}if(--o,t+=8*(h+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Df=null,Bf=null;function Oc(e){return e.nodeType===9?e:e.ownerDocument}function Vy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uf=null;function DS(){var e=window.event;return e&&e.type==="popstate"?e===Uf?!1:(Uf=e,!0):(Uf=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(US)}:Fy;function US(e){setTimeout(function(){throw e})}function Ba(e){return e==="head"}function qy(e,t){var i=t,o=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(u),kr(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Xo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Xo(i);for(var h=i.firstChild;h;){var g=h.nextSibling,S=h.nodeName;h[Ka]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=g}}else i==="body"&&Xo(e.ownerDocument.body);i=u}while(i);kr(t)}function Yy(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Lf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Lf(i),qi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function LS(e,t,i,o){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ka])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function OS(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Fn(e.nextSibling),e===null))return null;return e}function Xy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Fn(e.nextSibling),e===null))return null;return e}function Of(e){return e.data==="$?"||e.data==="$~"}function If(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IS(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pf=null;function Wy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Fn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Qy(e,t,i){switch(t=Oc(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qi(e)}var Gn=new Map,Zy=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Js=Z.d;Z.d={f:PS,r:HS,D:VS,C:$S,L:FS,m:GS,X:YS,S:qS,M:XS};function PS(){var e=Js.f(),t=kc();return e||t}function HS(e){var t=oa(e);t!==null&&t.tag===5&&t.type==="form"?pg(t):Js.r(e)}var Mr=typeof document>"u"?null:document;function Jy(e,t,i){var o=Mr;if(o&&typeof t=="string"&&t){var u=Jt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Zy.has(u)||(Zy.add(u),e={rel:e,crossOrigin:i,href:t},o.querySelector(u)===null&&(t=o.createElement("link"),Wt(t,"link",e),jt(t),o.head.appendChild(t)))}}function VS(e){Js.D(e),Jy("dns-prefetch",e,null)}function $S(e,t){Js.C(e,t),Jy("preconnect",e,t)}function FS(e,t,i){Js.L(e,t,i);var o=Mr;if(o&&e&&t){var u='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Jt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Jt(i.imageSizes)+'"]')):u+='[href="'+Jt(e)+'"]';var h=u;switch(t){case"style":h=Er(e);break;case"script":h=Ar(e)}Gn.has(h)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Gn.set(h,e),o.querySelector(u)!==null||t==="style"&&o.querySelector(Wo(h))||t==="script"&&o.querySelector(Ko(h))||(t=o.createElement("link"),Wt(t,"link",e),jt(t),o.head.appendChild(t)))}}function GS(e,t){Js.m(e,t);var i=Mr;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Jt(o)+'"][href="'+Jt(e)+'"]',h=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ar(e)}if(!Gn.has(h)&&(e=v({rel:"modulepreload",href:e},t),Gn.set(h,e),i.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ko(h)))return}o=i.createElement("link"),Wt(o,"link",e),jt(o),i.head.appendChild(o)}}}function qS(e,t,i){Js.S(e,t,i);var o=Mr;if(o&&e){var u=Rs(o).hoistableStyles,h=Er(e);t=t||"default";var g=u.get(h);if(!g){var S={loading:0,preload:null};if(g=o.querySelector(Wo(h)))S.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Gn.get(h))&&Hf(e,i);var C=g=o.createElement("link");jt(C),Wt(C,"link",e),C._p=new Promise(function(D,H){C.onload=D,C.onerror=H}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Pc(g,t,o)}g={type:"stylesheet",instance:g,count:1,state:S},u.set(h,g)}}}function YS(e,t){Js.X(e,t);var i=Mr;if(i&&e){var o=Rs(i).hoistableScripts,u=Ar(e),h=o.get(u);h||(h=i.querySelector(Ko(u)),h||(e=v({src:e,async:!0},t),(t=Gn.get(u))&&Vf(e,t),h=i.createElement("script"),jt(h),Wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(u,h))}}function XS(e,t){Js.M(e,t);var i=Mr;if(i&&e){var o=Rs(i).hoistableScripts,u=Ar(e),h=o.get(u);h||(h=i.querySelector(Ko(u)),h||(e=v({src:e,async:!0,type:"module"},t),(t=Gn.get(u))&&Vf(e,t),h=i.createElement("script"),jt(h),Wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(u,h))}}function e0(e,t,i,o){var u=(u=ln.current)?Ic(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Er(i.href),i=Rs(u).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Er(i.href);var h=Rs(u).hoistableStyles,g=h.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=u.querySelector(Wo(e)))&&!h._p&&(g.instance=h,g.state.loading=5),Gn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Gn.set(e,i),h||WS(u,e,i,g.state))),t&&o===null)throw Error(r(528,""));return g}if(t&&o!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ar(i),i=Rs(u).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Er(e){return'href="'+Jt(e)+'"'}function Wo(e){return'link[rel="stylesheet"]['+e+"]"}function t0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function WS(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),Wt(t,"link",i),jt(t),e.head.appendChild(t))}function Ar(e){return'[src="'+Jt(e)+'"]'}function Ko(e){return"script[async]"+e}function n0(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Jt(i.href)+'"]');if(o)return t.instance=o,jt(o),o;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),jt(o),Wt(o,"style",u),Pc(o,i.precedence,e),t.instance=o;case"stylesheet":u=Er(i.href);var h=e.querySelector(Wo(u));if(h)return t.state.loading|=4,t.instance=h,jt(h),h;o=t0(i),(u=Gn.get(u))&&Hf(o,u),h=(e.ownerDocument||e).createElement("link"),jt(h);var g=h;return g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),Wt(h,"link",o),t.state.loading|=4,Pc(h,i.precedence,e),t.instance=h;case"script":return h=Ar(i.src),(u=e.querySelector(Ko(h)))?(t.instance=u,jt(u),u):(o=i,(u=Gn.get(h))&&(o=v({},i),Vf(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),jt(u),Wt(u,"link",o),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,Pc(o,i.precedence,e));return t.instance}function Pc(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,h=u,g=0;g<o.length;g++){var S=o[g];if(S.dataset.precedence===t)h=S;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hc=null;function s0(e,t,i){if(Hc===null){var o=new Map,u=Hc=new Map;u.set(i,o)}else u=Hc,o=u.get(i),o||(o=new Map,u.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var h=i[u];if(!(h[Ka]||h[bt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(t)||"";g=e+g;var S=o.get(g);S?S.push(h):o.set(g,[h])}}return o}function a0(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function KS(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function i0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QS(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Er(o.href),h=t.querySelector(Wo(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vc.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=h,jt(h);return}h=t.ownerDocument||t,o=t0(o),(u=Gn.get(u))&&Hf(o,u),h=h.createElement("link"),jt(h);var g=h;g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),Wt(h,"link",o),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Vc.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var $f=0;function ZS(e,t){return e.stylesheets&&e.count===0&&Fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Fc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&$f===0&&($f=62500*RS());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>$f?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $c=null;function Fc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$c=new Map,t.forEach(JS,e),$c=null,Vc.call(e))}function JS(e,t){if(!(t.state.loading&4)){var i=$c.get(e);if(i)var o=i.get(null);else{i=new Map,$c.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var g=u[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),o=g)}o&&i.set(null,o)}u=t.instance,g=u.getAttribute("data-precedence"),h=i.get(g)||o,h===o&&i.set(null,u),i.set(g,u),this.count++,o=Vc.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Qo={$$typeof:V,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function e_(e,t,i,o,u,h,g,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function r0(e,t,i,o,u,h,g,S,C,D,H,Y){return e=new e_(e,t,i,g,C,D,H,Y,S),t=1,h===!0&&(t|=24),h=xn(3,null,null,t),e.current=h,h.stateNode=e,t=Sd(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:t},jd(h),e}function o0(e){return e?(e=rr,e):rr}function l0(e,t,i,o,u,h){u=o0(u),o.context===null?o.context=u:o.pendingContext=u,o=wa(t),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Ca(e,o,t),i!==null&&(pn(i,e,t),Ao(i,e,t))}function c0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ff(e,t){c0(e,t),(e=e.alternate)&&c0(e,t)}function u0(e){if(e.tag===13||e.tag===31){var t=li(e,67108864);t!==null&&pn(t,e,67108864),Ff(e,67108864)}}function d0(e){if(e.tag===13||e.tag===31){var t=jn();t=no(t);var i=li(e,t);i!==null&&pn(i,e,t),Ff(e,t)}}var Gc=!0;function t_(e,t,i,o){var u=O.T;O.T=null;var h=Z.p;try{Z.p=2,Gf(e,t,i,o)}finally{Z.p=h,O.T=u}}function n_(e,t,i,o){var u=O.T;O.T=null;var h=Z.p;try{Z.p=8,Gf(e,t,i,o)}finally{Z.p=h,O.T=u}}function Gf(e,t,i,o){if(Gc){var u=qf(o);if(u===null)Nf(e,t,o,qc,i),h0(e,o);else if(a_(u,e,t,i,o))o.stopPropagation();else if(h0(e,o),t&4&&-1<s_.indexOf(e)){for(;u!==null;){var h=oa(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=us(h.pendingLanes);if(g!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var C=1<<31-ut(g);S.entanglements[1]|=C,g&=~C}_s(h),($e&6)===0&&(Ec=$t()+500,Go(0))}}break;case 31:case 13:S=li(h,2),S!==null&&pn(S,h,2),kc(),Ff(h,2)}if(h=qf(o),h===null&&Nf(e,t,o,qc,i),h===u)break;u=h}u!==null&&o.stopPropagation()}else Nf(e,t,o,null,i)}}function qf(e){return e=Dt(e),Yf(e)}var qc=null;function Yf(e){if(qc=null,e=Ns(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return qc=e,null}function f0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ii()){case Pi:return 2;case cs:return 8;case ia:case Es:return 32;case Hi:return 268435456;default:return 32}default:return 32}}var Xf=!1,za=null,Ua=null,La=null,Zo=new Map,Jo=new Map,Oa=[],s_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h0(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(t.pointerId)}}function el(e,t,i,o,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[u]},t!==null&&(t=oa(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function a_(e,t,i,o,u){switch(t){case"focusin":return za=el(za,e,t,i,o,u),!0;case"dragenter":return Ua=el(Ua,e,t,i,o,u),!0;case"mouseover":return La=el(La,e,t,i,o,u),!0;case"pointerover":var h=u.pointerId;return Zo.set(h,el(Zo.get(h)||null,e,t,i,o,u)),!0;case"gotpointercapture":return h=u.pointerId,Jo.set(h,el(Jo.get(h)||null,e,t,i,o,u)),!0}return!1}function m0(e){var t=Ns(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,so(e.priority,function(){d0(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,so(e.priority,function(){d0(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=qf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ki=o,i.target.dispatchEvent(o),Ki=null}else return t=oa(i),t!==null&&u0(t),e.blockedOn=i,!1;t.shift()}return!0}function p0(e,t,i){Yc(e)&&i.delete(t)}function i_(){Xf=!1,za!==null&&Yc(za)&&(za=null),Ua!==null&&Yc(Ua)&&(Ua=null),La!==null&&Yc(La)&&(La=null),Zo.forEach(p0),Jo.forEach(p0)}function Xc(e,t){e.blockedOn===t&&(e.blockedOn=null,Xf||(Xf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,i_)))}var Wc=null;function g0(e){Wc!==e&&(Wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],u=e[t+2];if(typeof o!="function"){if(Yf(o||i)===null)continue;break}var h=oa(i);h!==null&&(e.splice(t,3),t-=3,Gd(h,{pending:!0,data:u,method:i.method,action:o},o,u))}}))}function kr(e){function t(C){return Xc(C,e)}za!==null&&Xc(za,e),Ua!==null&&Xc(Ua,e),La!==null&&Xc(La,e),Zo.forEach(t),Jo.forEach(t);for(var i=0;i<Oa.length;i++){var o=Oa[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Oa.length&&(i=Oa[0],i.blockedOn===null);)m0(i),i.blockedOn===null&&Oa.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var u=i[o],h=i[o+1],g=u[Ft]||null;if(typeof h=="function")g||g0(i);else if(g){var S=null;if(h&&h.hasAttribute("formAction")){if(u=h,g=h[Ft]||null)S=g.formAction;else if(Yf(u)!==null)continue}else S=g.action;typeof S=="function"?i[o+1]=S:(i.splice(o,3),o-=3),g0(i)}}}function y0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Wf(e){this._internalRoot=e}Kc.prototype.render=Wf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,o=jn();l0(i,o,e,t,null,null)},Kc.prototype.unmount=Wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;l0(e.current,2,null,e,null,null),kc(),t[ks]=null}};function Kc(e){this._internalRoot=e}Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Oa.length&&t!==0&&t<Oa[i].priority;i++);Oa.splice(i,0,e),i===0&&m0(e)}};var b0=n.version;if(b0!=="19.2.0")throw Error(r(527,b0,"19.2.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var r_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{ye=Qc.inject(r_),Ve=Qc}catch{}}return nl.createRoot=function(e,t){if(!l(e))throw Error(r(299));var i=!1,o="",u=jg,h=Tg,g=Mg;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=r0(e,1,!1,null,null,i,o,null,u,h,g,y0),e[ks]=t.current,kf(e),new Wf(t)},nl.hydrateRoot=function(e,t,i){if(!l(e))throw Error(r(299));var o=!1,u="",h=jg,g=Tg,S=Mg,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),t=r0(e,1,!0,t,i??null,o,u,C,h,g,S,y0),t.context=o0(null),i=t.current,o=jn(),o=no(o),u=wa(o),u.callback=null,Ca(i,u,o),i=o,t.current.lanes=i,ra(t,i),_s(t),e[ks]=t.current,kf(e),new Kc(t)},nl.version="19.2.0",nl}var E0;function U_(){if(E0)return Zf.exports;E0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Zf.exports=z_(),Zf.exports}var L_=U_();const O_="modulepreload",I_=function(s){return"/"+s},A0={},ea=function(n,a,r){let l=Promise.resolve();if(a&&a.length>0){let p=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");l=p(a.map(y=>{if(y=I_(y),y in A0)return;A0[y]=!0;const b=y.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${v}`))return;const _=document.createElement("link");if(_.rel=b?"stylesheet":O_,b||(_.as="script"),_.crossOrigin="",_.href=y,m&&_.setAttribute("nonce",m),document.head.appendChild(_),b)return new Promise((T,E)=>{_.addEventListener("load",T),_.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return l.then(f=>{for(const m of f||[])m.status==="rejected"&&d(m.reason);return n().catch(d)})},k0=s=>{let n;const a=new Set,r=(y,b)=>{const v=typeof y=="function"?y(n):y;if(!Object.is(v,n)){const _=n;n=b??(typeof v!="object"||v===null)?v:Object.assign({},n,v),a.forEach(T=>T(n,_))}},l=()=>n,m={setState:r,getState:l,getInitialState:()=>p,subscribe:y=>(a.add(y),()=>a.delete(y))},p=n=s(r,l,m);return m},P_=(s=>s?k0(s):k0),H_=s=>s;function V_(s,n=H_){const a=Ti.useSyncExternalStore(s.subscribe,Ti.useCallback(()=>n(s.getState()),[s,n]),Ti.useCallback(()=>n(s.getInitialState()),[s,n]));return Ti.useDebugValue(a),a}const N0=s=>{const n=P_(s),a=r=>V_(n,r);return Object.assign(a,n),a},_l=(s=>s?N0(s):N0);function Cv(s,n){return function(){return s.apply(n,arguments)}}const{toString:$_}=Object.prototype,{getPrototypeOf:hm}=Object,{iterator:ju,toStringTag:jv}=Symbol,Tu=(s=>n=>{const a=$_.call(n);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),rs=s=>(s=s.toLowerCase(),n=>Tu(n)===s),Mu=s=>n=>typeof n===s,{isArray:Yr}=Array,$r=Mu("undefined");function wl(s){return s!==null&&!$r(s)&&s.constructor!==null&&!$r(s.constructor)&&yn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Tv=rs("ArrayBuffer");function F_(s){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(s):n=s&&s.buffer&&Tv(s.buffer),n}const G_=Mu("string"),yn=Mu("function"),Mv=Mu("number"),Cl=s=>s!==null&&typeof s=="object",q_=s=>s===!0||s===!1,ou=s=>{if(Tu(s)!=="object")return!1;const n=hm(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(jv in s)&&!(ju in s)},Y_=s=>{if(!Cl(s)||wl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},X_=rs("Date"),W_=rs("File"),K_=rs("Blob"),Q_=rs("FileList"),Z_=s=>Cl(s)&&yn(s.pipe),J_=s=>{let n;return s&&(typeof FormData=="function"&&s instanceof FormData||yn(s.append)&&((n=Tu(s))==="formdata"||n==="object"&&yn(s.toString)&&s.toString()==="[object FormData]"))},ew=rs("URLSearchParams"),[tw,nw,sw,aw]=["ReadableStream","Request","Response","Headers"].map(rs),iw=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jl(s,n,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let r,l;if(typeof s!="object"&&(s=[s]),Yr(s))for(r=0,l=s.length;r<l;r++)n.call(null,s[r],r,s);else{if(wl(s))return;const d=a?Object.getOwnPropertyNames(s):Object.keys(s),f=d.length;let m;for(r=0;r<f;r++)m=d[r],n.call(null,s[m],m,s)}}function Ev(s,n){if(wl(s))return null;n=n.toLowerCase();const a=Object.keys(s);let r=a.length,l;for(;r-- >0;)if(l=a[r],n===l.toLowerCase())return l;return null}const Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Av=s=>!$r(s)&&s!==Mi;function Rh(){const{caseless:s,skipUndefined:n}=Av(this)&&this||{},a={},r=(l,d)=>{const f=s&&Ev(a,d)||d;ou(a[f])&&ou(l)?a[f]=Rh(a[f],l):ou(l)?a[f]=Rh({},l):Yr(l)?a[f]=l.slice():(!n||!$r(l))&&(a[f]=l)};for(let l=0,d=arguments.length;l<d;l++)arguments[l]&&jl(arguments[l],r);return a}const rw=(s,n,a,{allOwnKeys:r}={})=>(jl(n,(l,d)=>{a&&yn(l)?s[d]=Cv(l,a):s[d]=l},{allOwnKeys:r}),s),ow=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),lw=(s,n,a,r)=>{s.prototype=Object.create(n.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:n.prototype}),a&&Object.assign(s.prototype,a)},cw=(s,n,a,r)=>{let l,d,f;const m={};if(n=n||{},s==null)return n;do{for(l=Object.getOwnPropertyNames(s),d=l.length;d-- >0;)f=l[d],(!r||r(f,s,n))&&!m[f]&&(n[f]=s[f],m[f]=!0);s=a!==!1&&hm(s)}while(s&&(!a||a(s,n))&&s!==Object.prototype);return n},uw=(s,n,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=n.length;const r=s.indexOf(n,a);return r!==-1&&r===a},dw=s=>{if(!s)return null;if(Yr(s))return s;let n=s.length;if(!Mv(n))return null;const a=new Array(n);for(;n-- >0;)a[n]=s[n];return a},fw=(s=>n=>s&&n instanceof s)(typeof Uint8Array<"u"&&hm(Uint8Array)),hw=(s,n)=>{const r=(s&&s[ju]).call(s);let l;for(;(l=r.next())&&!l.done;){const d=l.value;n.call(s,d[0],d[1])}},mw=(s,n)=>{let a;const r=[];for(;(a=s.exec(n))!==null;)r.push(a);return r},pw=rs("HTMLFormElement"),gw=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,l){return r.toUpperCase()+l}),R0=(({hasOwnProperty:s})=>(n,a)=>s.call(n,a))(Object.prototype),yw=rs("RegExp"),kv=(s,n)=>{const a=Object.getOwnPropertyDescriptors(s),r={};jl(a,(l,d)=>{let f;(f=n(l,d,s))!==!1&&(r[d]=f||l)}),Object.defineProperties(s,r)},bw=s=>{kv(s,(n,a)=>{if(yn(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=s[a];if(yn(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},vw=(s,n)=>{const a={},r=l=>{l.forEach(d=>{a[d]=!0})};return Yr(s)?r(s):r(String(s).split(n)),a},xw=()=>{},Sw=(s,n)=>s!=null&&Number.isFinite(s=+s)?s:n;function _w(s){return!!(s&&yn(s.append)&&s[jv]==="FormData"&&s[ju])}const ww=s=>{const n=new Array(10),a=(r,l)=>{if(Cl(r)){if(n.indexOf(r)>=0)return;if(wl(r))return r;if(!("toJSON"in r)){n[l]=r;const d=Yr(r)?[]:{};return jl(r,(f,m)=>{const p=a(f,l+1);!$r(p)&&(d[m]=p)}),n[l]=void 0,d}}return r};return a(s,0)},Cw=rs("AsyncFunction"),jw=s=>s&&(Cl(s)||yn(s))&&yn(s.then)&&yn(s.catch),Nv=((s,n)=>s?setImmediate:n?((a,r)=>(Mi.addEventListener("message",({source:l,data:d})=>{l===Mi&&d===a&&r.length&&r.shift()()},!1),l=>{r.push(l),Mi.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",yn(Mi.postMessage)),Tw=typeof queueMicrotask<"u"?queueMicrotask.bind(Mi):typeof process<"u"&&process.nextTick||Nv,Mw=s=>s!=null&&yn(s[ju]),z={isArray:Yr,isArrayBuffer:Tv,isBuffer:wl,isFormData:J_,isArrayBufferView:F_,isString:G_,isNumber:Mv,isBoolean:q_,isObject:Cl,isPlainObject:ou,isEmptyObject:Y_,isReadableStream:tw,isRequest:nw,isResponse:sw,isHeaders:aw,isUndefined:$r,isDate:X_,isFile:W_,isBlob:K_,isRegExp:yw,isFunction:yn,isStream:Z_,isURLSearchParams:ew,isTypedArray:fw,isFileList:Q_,forEach:jl,merge:Rh,extend:rw,trim:iw,stripBOM:ow,inherits:lw,toFlatObject:cw,kindOf:Tu,kindOfTest:rs,endsWith:uw,toArray:dw,forEachEntry:hw,matchAll:mw,isHTMLForm:pw,hasOwnProperty:R0,hasOwnProp:R0,reduceDescriptors:kv,freezeMethods:bw,toObjectSet:vw,toCamelCase:gw,noop:xw,toFiniteNumber:Sw,findKey:Ev,global:Mi,isContextDefined:Av,isSpecCompliantForm:_w,toJSONObject:ww,isAsyncFn:Cw,isThenable:jw,setImmediate:Nv,asap:Tw,isIterable:Mw};function _e(s,n,a,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",n&&(this.code=n),a&&(this.config=a),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}z.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Rv=_e.prototype,Dv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Dv[s]={value:s}});Object.defineProperties(_e,Dv);Object.defineProperty(Rv,"isAxiosError",{value:!0});_e.from=(s,n,a,r,l,d)=>{const f=Object.create(Rv);z.toFlatObject(s,f,function(b){return b!==Error.prototype},y=>y!=="isAxiosError");const m=s&&s.message?s.message:"Error",p=n==null&&s?s.code:n;return _e.call(f,m,p,a,r,l),s&&f.cause==null&&Object.defineProperty(f,"cause",{value:s,configurable:!0}),f.name=s&&s.name||"Error",d&&Object.assign(f,d),f};const Ew=null;function Dh(s){return z.isPlainObject(s)||z.isArray(s)}function Bv(s){return z.endsWith(s,"[]")?s.slice(0,-2):s}function D0(s,n,a){return s?s.concat(n).map(function(l,d){return l=Bv(l),!a&&d?"["+l+"]":l}).join(a?".":""):n}function Aw(s){return z.isArray(s)&&!s.some(Dh)}const kw=z.toFlatObject(z,{},null,function(n){return/^is[A-Z]/.test(n)});function Eu(s,n,a){if(!z.isObject(s))throw new TypeError("target must be an object");n=n||new FormData,a=z.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,N){return!z.isUndefined(N[M])});const r=a.metaTokens,l=a.visitor||b,d=a.dots,f=a.indexes,p=(a.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(n);if(!z.isFunction(l))throw new TypeError("visitor must be a function");function y(E){if(E===null)return"";if(z.isDate(E))return E.toISOString();if(z.isBoolean(E))return E.toString();if(!p&&z.isBlob(E))throw new _e("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(E)||z.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function b(E,M,N){let P=E;if(E&&!N&&typeof E=="object"){if(z.endsWith(M,"{}"))M=r?M:M.slice(0,-2),E=JSON.stringify(E);else if(z.isArray(E)&&Aw(E)||(z.isFileList(E)||z.endsWith(M,"[]"))&&(P=z.toArray(E)))return M=Bv(M),P.forEach(function(V,J){!(z.isUndefined(V)||V===null)&&n.append(f===!0?D0([M],J,d):f===null?M:M+"[]",y(V))}),!1}return Dh(E)?!0:(n.append(D0(N,M,d),y(E)),!1)}const v=[],_=Object.assign(kw,{defaultVisitor:b,convertValue:y,isVisitable:Dh});function T(E,M){if(!z.isUndefined(E)){if(v.indexOf(E)!==-1)throw Error("Circular reference detected in "+M.join("."));v.push(E),z.forEach(E,function(P,Q){(!(z.isUndefined(P)||P===null)&&l.call(n,P,z.isString(Q)?Q.trim():Q,M,_))===!0&&T(P,M?M.concat(Q):[Q])}),v.pop()}}if(!z.isObject(s))throw new TypeError("data must be an object");return T(s),n}function B0(s){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function mm(s,n){this._pairs=[],s&&Eu(s,this,n)}const zv=mm.prototype;zv.append=function(n,a){this._pairs.push([n,a])};zv.toString=function(n){const a=n?function(r){return n.call(this,r,B0)}:B0;return this._pairs.map(function(l){return a(l[0])+"="+a(l[1])},"").join("&")};function Nw(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Uv(s,n,a){if(!n)return s;const r=a&&a.encode||Nw;z.isFunction(a)&&(a={serialize:a});const l=a&&a.serialize;let d;if(l?d=l(n,a):d=z.isURLSearchParams(n)?n.toString():new mm(n,a).toString(r),d){const f=s.indexOf("#");f!==-1&&(s=s.slice(0,f)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s}class z0{constructor(){this.handlers=[]}use(n,a,r){return this.handlers.push({fulfilled:n,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){z.forEach(this.handlers,function(r){r!==null&&n(r)})}}const Lv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rw=typeof URLSearchParams<"u"?URLSearchParams:mm,Dw=typeof FormData<"u"?FormData:null,Bw=typeof Blob<"u"?Blob:null,zw={isBrowser:!0,classes:{URLSearchParams:Rw,FormData:Dw,Blob:Bw},protocols:["http","https","file","blob","url","data"]},pm=typeof window<"u"&&typeof document<"u",Bh=typeof navigator=="object"&&navigator||void 0,Uw=pm&&(!Bh||["ReactNative","NativeScript","NS"].indexOf(Bh.product)<0),Lw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ow=pm&&window.location.href||"http://localhost",Iw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pm,hasStandardBrowserEnv:Uw,hasStandardBrowserWebWorkerEnv:Lw,navigator:Bh,origin:Ow},Symbol.toStringTag,{value:"Module"})),nn={...Iw,...zw};function Pw(s,n){return Eu(s,new nn.classes.URLSearchParams,{visitor:function(a,r,l,d){return nn.isNode&&z.isBuffer(a)?(this.append(r,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function Hw(s){return z.matchAll(/\w+|\[(\w*)]/g,s).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Vw(s){const n={},a=Object.keys(s);let r;const l=a.length;let d;for(r=0;r<l;r++)d=a[r],n[d]=s[d];return n}function Ov(s){function n(a,r,l,d){let f=a[d++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),p=d>=a.length;return f=!f&&z.isArray(l)?l.length:f,p?(z.hasOwnProp(l,f)?l[f]=[l[f],r]:l[f]=r,!m):((!l[f]||!z.isObject(l[f]))&&(l[f]=[]),n(a,r,l[f],d)&&z.isArray(l[f])&&(l[f]=Vw(l[f])),!m)}if(z.isFormData(s)&&z.isFunction(s.entries)){const a={};return z.forEachEntry(s,(r,l)=>{n(Hw(r),l,a,0)}),a}return null}function $w(s,n,a){if(z.isString(s))try{return(n||JSON.parse)(s),z.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(s)}const Tl={transitional:Lv,adapter:["xhr","http","fetch"],transformRequest:[function(n,a){const r=a.getContentType()||"",l=r.indexOf("application/json")>-1,d=z.isObject(n);if(d&&z.isHTMLForm(n)&&(n=new FormData(n)),z.isFormData(n))return l?JSON.stringify(Ov(n)):n;if(z.isArrayBuffer(n)||z.isBuffer(n)||z.isStream(n)||z.isFile(n)||z.isBlob(n)||z.isReadableStream(n))return n;if(z.isArrayBufferView(n))return n.buffer;if(z.isURLSearchParams(n))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Pw(n,this.formSerializer).toString();if((m=z.isFileList(n))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Eu(m?{"files[]":n}:n,p&&new p,this.formSerializer)}}return d||l?(a.setContentType("application/json",!1),$w(n)):n}],transformResponse:[function(n){const a=this.transitional||Tl.transitional,r=a&&a.forcedJSONParsing,l=this.responseType==="json";if(z.isResponse(n)||z.isReadableStream(n))return n;if(n&&z.isString(n)&&(r&&!this.responseType||l)){const f=!(a&&a.silentJSONParsing)&&l;try{return JSON.parse(n,this.parseReviver)}catch(m){if(f)throw m.name==="SyntaxError"?_e.from(m,_e.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],s=>{Tl.headers[s]={}});const Fw=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gw=s=>{const n={};let a,r,l;return s&&s.split(`
`).forEach(function(f){l=f.indexOf(":"),a=f.substring(0,l).trim().toLowerCase(),r=f.substring(l+1).trim(),!(!a||n[a]&&Fw[a])&&(a==="set-cookie"?n[a]?n[a].push(r):n[a]=[r]:n[a]=n[a]?n[a]+", "+r:r)}),n},U0=Symbol("internals");function sl(s){return s&&String(s).trim().toLowerCase()}function lu(s){return s===!1||s==null?s:z.isArray(s)?s.map(lu):String(s)}function qw(s){const n=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(s);)n[r[1]]=r[2];return n}const Yw=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function th(s,n,a,r,l){if(z.isFunction(r))return r.call(this,n,a);if(l&&(n=a),!!z.isString(n)){if(z.isString(r))return n.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(n)}}function Xw(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,a,r)=>a.toUpperCase()+r)}function Ww(s,n){const a=z.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+a,{value:function(l,d,f){return this[r].call(this,n,l,d,f)},configurable:!0})})}let bn=class{constructor(n){n&&this.set(n)}set(n,a,r){const l=this;function d(m,p,y){const b=sl(p);if(!b)throw new Error("header name must be a non-empty string");const v=z.findKey(l,b);(!v||l[v]===void 0||y===!0||y===void 0&&l[v]!==!1)&&(l[v||p]=lu(m))}const f=(m,p)=>z.forEach(m,(y,b)=>d(y,b,p));if(z.isPlainObject(n)||n instanceof this.constructor)f(n,a);else if(z.isString(n)&&(n=n.trim())&&!Yw(n))f(Gw(n),a);else if(z.isObject(n)&&z.isIterable(n)){let m={},p,y;for(const b of n){if(!z.isArray(b))throw TypeError("Object iterator must return a key-value pair");m[y=b[0]]=(p=m[y])?z.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}f(m,a)}else n!=null&&d(a,n,r);return this}get(n,a){if(n=sl(n),n){const r=z.findKey(this,n);if(r){const l=this[r];if(!a)return l;if(a===!0)return qw(l);if(z.isFunction(a))return a.call(this,l,r);if(z.isRegExp(a))return a.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,a){if(n=sl(n),n){const r=z.findKey(this,n);return!!(r&&this[r]!==void 0&&(!a||th(this,this[r],r,a)))}return!1}delete(n,a){const r=this;let l=!1;function d(f){if(f=sl(f),f){const m=z.findKey(r,f);m&&(!a||th(r,r[m],m,a))&&(delete r[m],l=!0)}}return z.isArray(n)?n.forEach(d):d(n),l}clear(n){const a=Object.keys(this);let r=a.length,l=!1;for(;r--;){const d=a[r];(!n||th(this,this[d],d,n,!0))&&(delete this[d],l=!0)}return l}normalize(n){const a=this,r={};return z.forEach(this,(l,d)=>{const f=z.findKey(r,d);if(f){a[f]=lu(l),delete a[d];return}const m=n?Xw(d):String(d).trim();m!==d&&delete a[d],a[m]=lu(l),r[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const a=Object.create(null);return z.forEach(this,(r,l)=>{r!=null&&r!==!1&&(a[l]=n&&z.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,a])=>n+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...a){const r=new this(n);return a.forEach(l=>r.set(l)),r}static accessor(n){const r=(this[U0]=this[U0]={accessors:{}}).accessors,l=this.prototype;function d(f){const m=sl(f);r[m]||(Ww(l,f),r[m]=!0)}return z.isArray(n)?n.forEach(d):d(n),this}};bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(bn.prototype,({value:s},n)=>{let a=n[0].toUpperCase()+n.slice(1);return{get:()=>s,set(r){this[a]=r}}});z.freezeMethods(bn);function nh(s,n){const a=this||Tl,r=n||a,l=bn.from(r.headers);let d=r.data;return z.forEach(s,function(m){d=m.call(a,d,l.normalize(),n?n.status:void 0)}),l.normalize(),d}function Iv(s){return!!(s&&s.__CANCEL__)}function Xr(s,n,a){_e.call(this,s??"canceled",_e.ERR_CANCELED,n,a),this.name="CanceledError"}z.inherits(Xr,_e,{__CANCEL__:!0});function Pv(s,n,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?s(a):n(new _e("Request failed with status code "+a.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Kw(s){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return n&&n[1]||""}function Qw(s,n){s=s||10;const a=new Array(s),r=new Array(s);let l=0,d=0,f;return n=n!==void 0?n:1e3,function(p){const y=Date.now(),b=r[d];f||(f=y),a[l]=p,r[l]=y;let v=d,_=0;for(;v!==l;)_+=a[v++],v=v%s;if(l=(l+1)%s,l===d&&(d=(d+1)%s),y-f<n)return;const T=b&&y-b;return T?Math.round(_*1e3/T):void 0}}function Zw(s,n){let a=0,r=1e3/n,l,d;const f=(y,b=Date.now())=>{a=b,l=null,d&&(clearTimeout(d),d=null),s(...y)};return[(...y)=>{const b=Date.now(),v=b-a;v>=r?f(y,b):(l=y,d||(d=setTimeout(()=>{d=null,f(l)},r-v)))},()=>l&&f(l)]}const gu=(s,n,a=3)=>{let r=0;const l=Qw(50,250);return Zw(d=>{const f=d.loaded,m=d.lengthComputable?d.total:void 0,p=f-r,y=l(p),b=f<=m;r=f;const v={loaded:f,total:m,progress:m?f/m:void 0,bytes:p,rate:y||void 0,estimated:y&&m&&b?(m-f)/y:void 0,event:d,lengthComputable:m!=null,[n?"download":"upload"]:!0};s(v)},a)},L0=(s,n)=>{const a=s!=null;return[r=>n[0]({lengthComputable:a,total:s,loaded:r}),n[1]]},O0=s=>(...n)=>z.asap(()=>s(...n)),Jw=nn.hasStandardBrowserEnv?((s,n)=>a=>(a=new URL(a,nn.origin),s.protocol===a.protocol&&s.host===a.host&&(n||s.port===a.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,eC=nn.hasStandardBrowserEnv?{write(s,n,a,r,l,d,f){if(typeof document>"u")return;const m=[`${s}=${encodeURIComponent(n)}`];z.isNumber(a)&&m.push(`expires=${new Date(a).toUTCString()}`),z.isString(r)&&m.push(`path=${r}`),z.isString(l)&&m.push(`domain=${l}`),d===!0&&m.push("secure"),z.isString(f)&&m.push(`SameSite=${f}`),document.cookie=m.join("; ")},read(s){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tC(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function nC(s,n){return n?s.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):s}function Hv(s,n,a){let r=!tC(n);return s&&(r||a==!1)?nC(s,n):n}const I0=s=>s instanceof bn?{...s}:s;function Li(s,n){n=n||{};const a={};function r(y,b,v,_){return z.isPlainObject(y)&&z.isPlainObject(b)?z.merge.call({caseless:_},y,b):z.isPlainObject(b)?z.merge({},b):z.isArray(b)?b.slice():b}function l(y,b,v,_){if(z.isUndefined(b)){if(!z.isUndefined(y))return r(void 0,y,v,_)}else return r(y,b,v,_)}function d(y,b){if(!z.isUndefined(b))return r(void 0,b)}function f(y,b){if(z.isUndefined(b)){if(!z.isUndefined(y))return r(void 0,y)}else return r(void 0,b)}function m(y,b,v){if(v in n)return r(y,b);if(v in s)return r(void 0,y)}const p={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(y,b,v)=>l(I0(y),I0(b),v,!0)};return z.forEach(Object.keys({...s,...n}),function(b){const v=p[b]||l,_=v(s[b],n[b],b);z.isUndefined(_)&&v!==m||(a[b]=_)}),a}const Vv=s=>{const n=Li({},s);let{data:a,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:d,headers:f,auth:m}=n;if(n.headers=f=bn.from(f),n.url=Uv(Hv(n.baseURL,n.url,n.allowAbsoluteUrls),s.params,s.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),z.isFormData(a)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(z.isFunction(a.getHeaders)){const p=a.getHeaders(),y=["content-type","content-length"];Object.entries(p).forEach(([b,v])=>{y.includes(b.toLowerCase())&&f.set(b,v)})}}if(nn.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(n)),r||r!==!1&&Jw(n.url))){const p=l&&d&&eC.read(d);p&&f.set(l,p)}return n},sC=typeof XMLHttpRequest<"u",aC=sC&&function(s){return new Promise(function(a,r){const l=Vv(s);let d=l.data;const f=bn.from(l.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:y}=l,b,v,_,T,E;function M(){T&&T(),E&&E(),l.cancelToken&&l.cancelToken.unsubscribe(b),l.signal&&l.signal.removeEventListener("abort",b)}let N=new XMLHttpRequest;N.open(l.method.toUpperCase(),l.url,!0),N.timeout=l.timeout;function P(){if(!N)return;const V=bn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),q={data:!m||m==="text"||m==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:V,config:s,request:N};Pv(function(se){a(se),M()},function(se){r(se),M()},q),N=null}"onloadend"in N?N.onloadend=P:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(P)},N.onabort=function(){N&&(r(new _e("Request aborted",_e.ECONNABORTED,s,N)),N=null)},N.onerror=function(J){const q=J&&J.message?J.message:"Network Error",ee=new _e(q,_e.ERR_NETWORK,s,N);ee.event=J||null,r(ee),N=null},N.ontimeout=function(){let J=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const q=l.transitional||Lv;l.timeoutErrorMessage&&(J=l.timeoutErrorMessage),r(new _e(J,q.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,s,N)),N=null},d===void 0&&f.setContentType(null),"setRequestHeader"in N&&z.forEach(f.toJSON(),function(J,q){N.setRequestHeader(q,J)}),z.isUndefined(l.withCredentials)||(N.withCredentials=!!l.withCredentials),m&&m!=="json"&&(N.responseType=l.responseType),y&&([_,E]=gu(y,!0),N.addEventListener("progress",_)),p&&N.upload&&([v,T]=gu(p),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",T)),(l.cancelToken||l.signal)&&(b=V=>{N&&(r(!V||V.type?new Xr(null,s,N):V),N.abort(),N=null)},l.cancelToken&&l.cancelToken.subscribe(b),l.signal&&(l.signal.aborted?b():l.signal.addEventListener("abort",b)));const Q=Kw(l.url);if(Q&&nn.protocols.indexOf(Q)===-1){r(new _e("Unsupported protocol "+Q+":",_e.ERR_BAD_REQUEST,s));return}N.send(d||null)})},iC=(s,n)=>{const{length:a}=s=s?s.filter(Boolean):[];if(n||a){let r=new AbortController,l;const d=function(y){if(!l){l=!0,m();const b=y instanceof Error?y:this.reason;r.abort(b instanceof _e?b:new Xr(b instanceof Error?b.message:b))}};let f=n&&setTimeout(()=>{f=null,d(new _e(`timeout ${n} of ms exceeded`,_e.ETIMEDOUT))},n);const m=()=>{s&&(f&&clearTimeout(f),f=null,s.forEach(y=>{y.unsubscribe?y.unsubscribe(d):y.removeEventListener("abort",d)}),s=null)};s.forEach(y=>y.addEventListener("abort",d));const{signal:p}=r;return p.unsubscribe=()=>z.asap(m),p}},rC=function*(s,n){let a=s.byteLength;if(a<n){yield s;return}let r=0,l;for(;r<a;)l=r+n,yield s.slice(r,l),r=l},oC=async function*(s,n){for await(const a of lC(s))yield*rC(a,n)},lC=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const n=s.getReader();try{for(;;){const{done:a,value:r}=await n.read();if(a)break;yield r}}finally{await n.cancel()}},P0=(s,n,a,r)=>{const l=oC(s,n);let d=0,f,m=p=>{f||(f=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:y,value:b}=await l.next();if(y){m(),p.close();return}let v=b.byteLength;if(a){let _=d+=v;a(_)}p.enqueue(new Uint8Array(b))}catch(y){throw m(y),y}},cancel(p){return m(p),l.return()}},{highWaterMark:2})},H0=64*1024,{isFunction:Zc}=z,cC=(({Request:s,Response:n})=>({Request:s,Response:n}))(z.global),{ReadableStream:V0,TextEncoder:$0}=z.global,F0=(s,...n)=>{try{return!!s(...n)}catch{return!1}},uC=s=>{s=z.merge.call({skipUndefined:!0},cC,s);const{fetch:n,Request:a,Response:r}=s,l=n?Zc(n):typeof fetch=="function",d=Zc(a),f=Zc(r);if(!l)return!1;const m=l&&Zc(V0),p=l&&(typeof $0=="function"?(E=>M=>E.encode(M))(new $0):async E=>new Uint8Array(await new a(E).arrayBuffer())),y=d&&m&&F0(()=>{let E=!1;const M=new a(nn.origin,{body:new V0,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!M}),b=f&&m&&F0(()=>z.isReadableStream(new r("").body)),v={stream:b&&(E=>E.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!v[E]&&(v[E]=(M,N)=>{let P=M&&M[E];if(P)return P.call(M);throw new _e(`Response type '${E}' is not supported`,_e.ERR_NOT_SUPPORT,N)})});const _=async E=>{if(E==null)return 0;if(z.isBlob(E))return E.size;if(z.isSpecCompliantForm(E))return(await new a(nn.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(z.isArrayBufferView(E)||z.isArrayBuffer(E))return E.byteLength;if(z.isURLSearchParams(E)&&(E=E+""),z.isString(E))return(await p(E)).byteLength},T=async(E,M)=>{const N=z.toFiniteNumber(E.getContentLength());return N??_(M)};return async E=>{let{url:M,method:N,data:P,signal:Q,cancelToken:V,timeout:J,onDownloadProgress:q,onUploadProgress:ee,responseType:se,headers:W,withCredentials:ue="same-origin",fetchOptions:fe}=Vv(E),je=n||fetch;se=se?(se+"").toLowerCase():"text";let Re=iC([Q,V&&V.toAbortSignal()],J),Fe=null;const tt=Re&&Re.unsubscribe&&(()=>{Re.unsubscribe()});let Ee;try{if(ee&&y&&N!=="get"&&N!=="head"&&(Ee=await T(W,P))!==0){let Le=new a(M,{method:"POST",body:P,duplex:"half"}),we;if(z.isFormData(P)&&(we=Le.headers.get("content-type"))&&W.setContentType(we),Le.body){const[ve,Ke]=L0(Ee,gu(O0(ee)));P=P0(Le.body,H0,ve,Ke)}}z.isString(ue)||(ue=ue?"include":"omit");const O=d&&"credentials"in a.prototype,Z={...fe,signal:Re,method:N.toUpperCase(),headers:W.normalize().toJSON(),body:P,duplex:"half",credentials:O?ue:void 0};Fe=d&&new a(M,Z);let ne=await(d?je(Fe,fe):je(M,Z));const be=b&&(se==="stream"||se==="response");if(b&&(q||be&&tt)){const Le={};["status","statusText","headers"].forEach(Ct=>{Le[Ct]=ne[Ct]});const we=z.toFiniteNumber(ne.headers.get("content-length")),[ve,Ke]=q&&L0(we,gu(O0(q),!0))||[];ne=new r(P0(ne.body,H0,ve,()=>{Ke&&Ke(),tt&&tt()}),Le)}se=se||"text";let Te=await v[z.findKey(v,se)||"text"](ne,E);return!be&&tt&&tt(),await new Promise((Le,we)=>{Pv(Le,we,{data:Te,headers:bn.from(ne.headers),status:ne.status,statusText:ne.statusText,config:E,request:Fe})})}catch(O){throw tt&&tt(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,E,Fe),{cause:O.cause||O}):_e.from(O,O&&O.code,E,Fe)}}},dC=new Map,$v=s=>{let n=s&&s.env||{};const{fetch:a,Request:r,Response:l}=n,d=[r,l,a];let f=d.length,m=f,p,y,b=dC;for(;m--;)p=d[m],y=b.get(p),y===void 0&&b.set(p,y=m?new Map:uC(n)),b=y;return y};$v();const gm={http:Ew,xhr:aC,fetch:{get:$v}};z.forEach(gm,(s,n)=>{if(s){try{Object.defineProperty(s,"name",{value:n})}catch{}Object.defineProperty(s,"adapterName",{value:n})}});const G0=s=>`- ${s}`,fC=s=>z.isFunction(s)||s===null||s===!1;function hC(s,n){s=z.isArray(s)?s:[s];const{length:a}=s;let r,l;const d={};for(let f=0;f<a;f++){r=s[f];let m;if(l=r,!fC(r)&&(l=gm[(m=String(r)).toLowerCase()],l===void 0))throw new _e(`Unknown adapter '${m}'`);if(l&&(z.isFunction(l)||(l=l.get(n))))break;d[m||"#"+f]=l}if(!l){const f=Object.entries(d).map(([p,y])=>`adapter ${p} `+(y===!1?"is not supported by the environment":"is not available in the build"));let m=a?f.length>1?`since :
`+f.map(G0).join(`
`):" "+G0(f[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return l}const Fv={getAdapter:hC,adapters:gm};function sh(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Xr(null,s)}function q0(s){return sh(s),s.headers=bn.from(s.headers),s.data=nh.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Fv.getAdapter(s.adapter||Tl.adapter,s)(s).then(function(r){return sh(s),r.data=nh.call(s,s.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return Iv(r)||(sh(s),r&&r.response&&(r.response.data=nh.call(s,s.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const Gv="1.13.2",Au={};["object","boolean","number","function","string","symbol"].forEach((s,n)=>{Au[s]=function(r){return typeof r===s||"a"+(n<1?"n ":" ")+s}});const Y0={};Au.transitional=function(n,a,r){function l(d,f){return"[Axios v"+Gv+"] Transitional option '"+d+"'"+f+(r?". "+r:"")}return(d,f,m)=>{if(n===!1)throw new _e(l(f," has been removed"+(a?" in "+a:"")),_e.ERR_DEPRECATED);return a&&!Y0[f]&&(Y0[f]=!0,console.warn(l(f," has been deprecated since v"+a+" and will be removed in the near future"))),n?n(d,f,m):!0}};Au.spelling=function(n){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function mC(s,n,a){if(typeof s!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let l=r.length;for(;l-- >0;){const d=r[l],f=n[d];if(f){const m=s[d],p=m===void 0||f(m,d,s);if(p!==!0)throw new _e("option "+d+" must be "+p,_e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new _e("Unknown option "+d,_e.ERR_BAD_OPTION)}}const cu={assertOptions:mC,validators:Au},ws=cu.validators;let ki=class{constructor(n){this.defaults=n||{},this.interceptors={request:new z0,response:new z0}}async request(n,a){try{return await this._request(n,a)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const d=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?d&&!String(r.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+d):r.stack=d}catch{}}throw r}}_request(n,a){typeof n=="string"?(a=a||{},a.url=n):a=n||{},a=Li(this.defaults,a);const{transitional:r,paramsSerializer:l,headers:d}=a;r!==void 0&&cu.assertOptions(r,{silentJSONParsing:ws.transitional(ws.boolean),forcedJSONParsing:ws.transitional(ws.boolean),clarifyTimeoutError:ws.transitional(ws.boolean)},!1),l!=null&&(z.isFunction(l)?a.paramsSerializer={serialize:l}:cu.assertOptions(l,{encode:ws.function,serialize:ws.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),cu.assertOptions(a,{baseUrl:ws.spelling("baseURL"),withXsrfToken:ws.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let f=d&&z.merge(d.common,d[a.method]);d&&z.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),a.headers=bn.concat(f,d);const m=[];let p=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(a)===!1||(p=p&&M.synchronous,m.unshift(M.fulfilled,M.rejected))});const y=[];this.interceptors.response.forEach(function(M){y.push(M.fulfilled,M.rejected)});let b,v=0,_;if(!p){const E=[q0.bind(this),void 0];for(E.unshift(...m),E.push(...y),_=E.length,b=Promise.resolve(a);v<_;)b=b.then(E[v++],E[v++]);return b}_=m.length;let T=a;for(;v<_;){const E=m[v++],M=m[v++];try{T=E(T)}catch(N){M.call(this,N);break}}try{b=q0.call(this,T)}catch(E){return Promise.reject(E)}for(v=0,_=y.length;v<_;)b=b.then(y[v++],y[v++]);return b}getUri(n){n=Li(this.defaults,n);const a=Hv(n.baseURL,n.url,n.allowAbsoluteUrls);return Uv(a,n.params,n.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(n){ki.prototype[n]=function(a,r){return this.request(Li(r||{},{method:n,url:a,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(n){function a(r){return function(d,f,m){return this.request(Li(m||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}ki.prototype[n]=a(),ki.prototype[n+"Form"]=a(!0)});let pC=class qv{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(d){a=d});const r=this;this.promise.then(l=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](l);r._listeners=null}),this.promise.then=l=>{let d;const f=new Promise(m=>{r.subscribe(m),d=m}).then(l);return f.cancel=function(){r.unsubscribe(d)},f},n(function(d,f,m){r.reason||(r.reason=new Xr(d,f,m),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const n=new AbortController,a=r=>{n.abort(r)};return this.subscribe(a),n.signal.unsubscribe=()=>this.unsubscribe(a),n.signal}static source(){let n;return{token:new qv(function(l){n=l}),cancel:n}}};function gC(s){return function(a){return s.apply(null,a)}}function yC(s){return z.isObject(s)&&s.isAxiosError===!0}const zh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zh).forEach(([s,n])=>{zh[n]=s});function Yv(s){const n=new ki(s),a=Cv(ki.prototype.request,n);return z.extend(a,ki.prototype,n,{allOwnKeys:!0}),z.extend(a,n,null,{allOwnKeys:!0}),a.create=function(l){return Yv(Li(s,l))},a}const wt=Yv(Tl);wt.Axios=ki;wt.CanceledError=Xr;wt.CancelToken=pC;wt.isCancel=Iv;wt.VERSION=Gv;wt.toFormData=Eu;wt.AxiosError=_e;wt.Cancel=wt.CanceledError;wt.all=function(n){return Promise.all(n)};wt.spread=gC;wt.isAxiosError=yC;wt.mergeConfig=Li;wt.AxiosHeaders=bn;wt.formToJSON=s=>Ov(z.isHTMLForm(s)?new FormData(s):s);wt.getAdapter=Fv.getAdapter;wt.HttpStatusCode=zh;wt.default=wt;const{Axios:BD,AxiosError:zD,CanceledError:UD,isCancel:LD,CancelToken:OD,VERSION:ID,all:PD,Cancel:HD,isAxiosError:VD,spread:$D,toFormData:FD,AxiosHeaders:GD,HttpStatusCode:qD,formToJSON:YD,getAdapter:XD,mergeConfig:WD}=wt,bC="https://your-domain.com/api",ce=wt.create({baseURL:bC,headers:{"Content-Type":"application/json"},withCredentials:!0});ce.interceptors.request.use(s=>{const n=localStorage.getItem("token");return n&&(console.log("[API] Adding token to request:",s.url,"Token:",n.substring(0,20)+"..."),s.headers.Authorization=`Bearer ${n}`),s.data instanceof FormData&&(console.log("[API] FormData detected, removing Content-Type header for:",s.url),delete s.headers["Content-Type"]),s});ce.interceptors.response.use(s=>s,s=>(s.response?.status===401?(console.warn("[API] 401 Unauthorized - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"):s.response?.status===400&&console.error("[API] 400 Bad Request:",s.response?.data),Promise.reject(s)));const $a={login:async s=>{const n=await ce.post("/auth/login",s);return n.data?.data||n.data},register:async s=>{const n=await ce.post("/auth/register",s);return n.data?.data||n.data},sendOTP:async s=>(await ce.post(`/otp/send-to-email?email=${encodeURIComponent(s)}`)).data,updatePassword:async(s,n)=>(await ce.put("/auth/update-password",{oldPassword:s,newPassword:n})).data,resetPasswordByEmail:async(s,n,a)=>(await ce.put("/auth/reset-password-by-email",{email:s,password:n,otp:a})).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")}};function It(s,n="An error occurred"){if(s.response?.data?.error?.message)return s.response.data.error.message;if(s.response?.data?.message)return s.response.data.message;if(s.response?.data?.validationErrors){const a=s.response.data.validationErrors,r=Object.values(a)[0];if(Array.isArray(r)&&r.length>0)return r[0]}return s.message?s.message:n}function Xv(s){return s.response?.data?.error?.code?s.response.data.error.code:null}function vC(s){return Xv(s)==="Chat.Ban.UserBanned"}function xC(s){switch(Xv(s)){case"Chat.Ban.UserBanned":return"You are banned from this chat and cannot perform this action.";case"Chat.Ban.AlreadyBanned":return"This user is already banned from this chat.";case"Chat.Ban.CannotBanSelf":return"You cannot ban yourself.";case"Chat.Ban.CannotBanOwner":return"You cannot ban the owner of this chat.";default:return It(s,"An error occurred")}}const SC=()=>{try{return localStorage.getItem("token")}catch{return null}},_C=()=>{try{const s=localStorage.getItem("user");return s?JSON.parse(s):null}catch{return null}},st=_l(s=>({user:null,token:null,isLoading:!1,error:null,initialized:!1,initializeAuth:async()=>{const n=_C(),a=SC();if(console.log("[authStore] Initializing auth:",{hasUser:!!n,hasToken:!!a,user:n}),a&&n)try{console.log("[authStore] Validating stored token...");const{userService:r}=await ea(async()=>{const{userService:d}=await Promise.resolve().then(()=>_h);return{userService:d}},void 0),l=await r.getCurrentUser();console.log("[authStore] Token is valid, user:",l),s({user:l,token:a,initialized:!0})}catch(r){console.warn("[authStore] Stored token is invalid, clearing auth:",r?.message),localStorage.removeItem("token"),localStorage.removeItem("user"),s({user:null,token:null,initialized:!0})}else s({user:n,token:a,initialized:!0})},login:async n=>{s({isLoading:!0,error:null});try{console.log("[authStore] Logging in...");const a=await $a.login(n);if(console.log("[authStore] Token received:",a?a.substring(0,20)+"...":"No token"),!a)throw new Error("No token received from login");localStorage.setItem("token",a),console.log("[authStore] Fetching user profile from /users/me...");const{userService:r}=await ea(async()=>{const{userService:d}=await Promise.resolve().then(()=>_h);return{userService:d}},void 0),l=await r.getCurrentUser();!l.email&&n.credential.includes("@")&&(l.email=n.credential),console.log("[authStore] User profile fetched:",l),localStorage.setItem("user",JSON.stringify(l)),console.log("[authStore] Updating state with user and token..."),s({user:l,token:a,isLoading:!1}),console.log("[authStore] Login complete, state updated")}catch(a){const r=It(a,"Login failed");throw console.error("[authStore] Login error:",r,a),s({error:r,isLoading:!1}),a}},register:async(n,a,r,l)=>{s({isLoading:!0,error:null});try{console.log("[authStore] Registering user...");const d=await $a.register({email:n,username:a,password:r,otpCode:l});if(console.log("[authStore] Token received:",d?d.substring(0,20)+"...":"No token"),!d)throw new Error("No token received from registration");localStorage.setItem("token",d),console.log("[authStore] Fetching user profile from /users/me...");const{userService:f}=await ea(async()=>{const{userService:p}=await Promise.resolve().then(()=>_h);return{userService:p}},void 0),m=await f.getCurrentUser();m.email||(m.email=n),console.log("[authStore] User profile fetched:",m),localStorage.setItem("user",JSON.stringify(m)),console.log("[authStore] Updating state with user and token..."),s({user:m,token:d,isLoading:!1}),console.log("[authStore] Registration complete, state updated")}catch(d){const f=It(d,"Registration failed");throw console.error("[authStore] Registration error:",f,d),s({error:f,isLoading:!1}),d}},logout:()=>{$a.logout(),s({user:null,token:null})},setUser:n=>{localStorage.setItem("user",JSON.stringify(n)),s({user:n})},clearError:()=>s({error:null})})),Ml=()=>{const s=st(v=>v.user),n=st(v=>v.token),a=st(v=>v.isLoading),r=st(v=>v.initialized),l=st(v=>v.error),d=st(v=>v.login),f=st(v=>v.register),m=st(v=>v.logout),p=st(v=>v.setUser),y=st(v=>v.clearError),b=st(v=>v.initializeAuth);return{user:s,token:n,isLoading:a,initialized:r,error:l,login:d,register:f,logout:m,setUser:p,clearError:y,initializeAuth:b,isAuthenticated:!!n&&!!s}},wC=({children:s})=>{const{isAuthenticated:n,isLoading:a,initialized:r}=Ml();return console.log("[ProtectedRoute] Current state:",{isAuthenticated:n,isLoading:a,initialized:r}),a||!r?c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"var(--background)",color:"var(--text)"},children:c.jsx("div",{children:"Loading..."})}):n?c.jsx(c.Fragment,{children:s}):(console.warn("[ProtectedRoute] Not authenticated, redirecting to login"),c.jsx(Br,{to:"/login",replace:!0}))},ym=w.createContext({});function bm(s){const n=w.useRef(null);return n.current===null&&(n.current=s()),n.current}const vm=typeof window<"u",Wv=vm?w.useLayoutEffect:w.useEffect,ku=w.createContext(null);function xm(s,n){s.indexOf(n)===-1&&s.push(n)}function Sm(s,n){const a=s.indexOf(n);a>-1&&s.splice(a,1)}const na=(s,n,a)=>a>n?n:a<s?s:a;let _m=()=>{};const sa={},Kv=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function Qv(s){return typeof s=="object"&&s!==null}const Zv=s=>/^0[^.\s]+$/u.test(s);function wm(s){let n;return()=>(n===void 0&&(n=s()),n)}const Wn=s=>s,CC=(s,n)=>a=>n(s(a)),El=(...s)=>s.reduce(CC),pl=(s,n,a)=>{const r=n-s;return r===0?1:(a-s)/r};class Cm{constructor(){this.subscriptions=[]}add(n){return xm(this.subscriptions,n),()=>Sm(this.subscriptions,n)}notify(n,a,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,a,r);else for(let d=0;d<l;d++){const f=this.subscriptions[d];f&&f(n,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ts=s=>s*1e3,Xn=s=>s/1e3;function Jv(s,n){return n?s*(1e3/n):0}const ex=(s,n,a)=>(((1-3*a+3*n)*s+(3*a-6*n))*s+3*n)*s,jC=1e-7,TC=12;function MC(s,n,a,r,l){let d,f,m=0;do f=n+(a-n)/2,d=ex(f,r,l)-s,d>0?a=f:n=f;while(Math.abs(d)>jC&&++m<TC);return f}function Al(s,n,a,r){if(s===n&&a===r)return Wn;const l=d=>MC(d,0,1,s,a);return d=>d===0||d===1?d:ex(l(d),n,r)}const tx=s=>n=>n<=.5?s(2*n)/2:(2-s(2*(1-n)))/2,nx=s=>n=>1-s(1-n),sx=Al(.33,1.53,.69,.99),jm=nx(sx),ax=tx(jm),ix=s=>(s*=2)<1?.5*jm(s):.5*(2-Math.pow(2,-10*(s-1))),Tm=s=>1-Math.sin(Math.acos(s)),rx=nx(Tm),ox=tx(Tm),EC=Al(.42,0,1,1),AC=Al(0,0,.58,1),lx=Al(.42,0,.58,1),kC=s=>Array.isArray(s)&&typeof s[0]!="number",cx=s=>Array.isArray(s)&&typeof s[0]=="number",NC={linear:Wn,easeIn:EC,easeInOut:lx,easeOut:AC,circIn:Tm,circInOut:ox,circOut:rx,backIn:jm,backInOut:ax,backOut:sx,anticipate:ix},RC=s=>typeof s=="string",X0=s=>{if(cx(s)){_m(s.length===4);const[n,a,r,l]=s;return Al(n,a,r,l)}else if(RC(s))return NC[s];return s},Jc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DC(s,n){let a=new Set,r=new Set,l=!1,d=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(b){f.has(b)&&(y.schedule(b),s()),b(m)}const y={schedule:(b,v=!1,_=!1)=>{const E=_&&l?a:r;return v&&f.add(b),E.has(b)||E.add(b),b},cancel:b=>{r.delete(b),f.delete(b)},process:b=>{if(m=b,l){d=!0;return}l=!0,[a,r]=[r,a],a.forEach(p),a.clear(),l=!1,d&&(d=!1,y.process(b))}};return y}const BC=40;function ux(s,n){let a=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},d=()=>a=!0,f=Jc.reduce((V,J)=>(V[J]=DC(d),V),{}),{setup:m,read:p,resolveKeyframes:y,preUpdate:b,update:v,preRender:_,render:T,postRender:E}=f,M=()=>{const V=sa.useManualTiming?l.timestamp:performance.now();a=!1,sa.useManualTiming||(l.delta=r?1e3/60:Math.max(Math.min(V-l.timestamp,BC),1)),l.timestamp=V,l.isProcessing=!0,m.process(l),p.process(l),y.process(l),b.process(l),v.process(l),_.process(l),T.process(l),E.process(l),l.isProcessing=!1,a&&n&&(r=!1,s(M))},N=()=>{a=!0,r=!0,l.isProcessing||s(M)};return{schedule:Jc.reduce((V,J)=>{const q=f[J];return V[J]=(ee,se=!1,W=!1)=>(a||N(),q.schedule(ee,se,W)),V},{}),cancel:V=>{for(let J=0;J<Jc.length;J++)f[Jc[J]].cancel(V)},state:l,steps:f}}const{schedule:ot,cancel:Ga,state:Kt,steps:ah}=ux(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let uu;function zC(){uu=void 0}const gn={now:()=>(uu===void 0&&gn.set(Kt.isProcessing||sa.useManualTiming?Kt.timestamp:performance.now()),uu),set:s=>{uu=s,queueMicrotask(zC)}},dx=s=>n=>typeof n=="string"&&n.startsWith(s),fx=dx("--"),UC=dx("var(--"),Mm=s=>UC(s)?LC.test(s.split("/*")[0].trim()):!1,LC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wr={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},gl={...Wr,transform:s=>na(0,1,s)},eu={...Wr,default:1},cl=s=>Math.round(s*1e5)/1e5,Em=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OC(s){return s==null}const IC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Am=(s,n)=>a=>!!(typeof a=="string"&&IC.test(a)&&a.startsWith(s)||n&&!OC(a)&&Object.prototype.hasOwnProperty.call(a,n)),hx=(s,n,a)=>r=>{if(typeof r!="string")return r;const[l,d,f,m]=r.match(Em);return{[s]:parseFloat(l),[n]:parseFloat(d),[a]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},PC=s=>na(0,255,s),ih={...Wr,transform:s=>Math.round(PC(s))},Ei={test:Am("rgb","red"),parse:hx("red","green","blue"),transform:({red:s,green:n,blue:a,alpha:r=1})=>"rgba("+ih.transform(s)+", "+ih.transform(n)+", "+ih.transform(a)+", "+cl(gl.transform(r))+")"};function HC(s){let n="",a="",r="",l="";return s.length>5?(n=s.substring(1,3),a=s.substring(3,5),r=s.substring(5,7),l=s.substring(7,9)):(n=s.substring(1,2),a=s.substring(2,3),r=s.substring(3,4),l=s.substring(4,5),n+=n,a+=a,r+=r,l+=l),{red:parseInt(n,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const Uh={test:Am("#"),parse:HC,transform:Ei.transform},kl=s=>({test:n=>typeof n=="string"&&n.endsWith(s)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${s}`}),Pa=kl("deg"),Ms=kl("%"),ge=kl("px"),VC=kl("vh"),$C=kl("vw"),W0={...Ms,parse:s=>Ms.parse(s)/100,transform:s=>Ms.transform(s*100)},zr={test:Am("hsl","hue"),parse:hx("hue","saturation","lightness"),transform:({hue:s,saturation:n,lightness:a,alpha:r=1})=>"hsla("+Math.round(s)+", "+Ms.transform(cl(n))+", "+Ms.transform(cl(a))+", "+cl(gl.transform(r))+")"},kt={test:s=>Ei.test(s)||Uh.test(s)||zr.test(s),parse:s=>Ei.test(s)?Ei.parse(s):zr.test(s)?zr.parse(s):Uh.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Ei.transform(s):zr.transform(s),getAnimatableNone:s=>{const n=kt.parse(s);return n.alpha=0,kt.transform(n)}},FC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GC(s){return isNaN(s)&&typeof s=="string"&&(s.match(Em)?.length||0)+(s.match(FC)?.length||0)>0}const mx="number",px="color",qC="var",YC="var(",K0="${}",XC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yl(s){const n=s.toString(),a=[],r={color:[],number:[],var:[]},l=[];let d=0;const m=n.replace(XC,p=>(kt.test(p)?(r.color.push(d),l.push(px),a.push(kt.parse(p))):p.startsWith(YC)?(r.var.push(d),l.push(qC),a.push(p)):(r.number.push(d),l.push(mx),a.push(parseFloat(p))),++d,K0)).split(K0);return{values:a,split:m,indexes:r,types:l}}function gx(s){return yl(s).values}function yx(s){const{split:n,types:a}=yl(s),r=n.length;return l=>{let d="";for(let f=0;f<r;f++)if(d+=n[f],l[f]!==void 0){const m=a[f];m===mx?d+=cl(l[f]):m===px?d+=kt.transform(l[f]):d+=l[f]}return d}}const WC=s=>typeof s=="number"?0:kt.test(s)?kt.getAnimatableNone(s):s;function KC(s){const n=gx(s);return yx(s)(n.map(WC))}const qa={test:GC,parse:gx,createTransformer:yx,getAnimatableNone:KC};function rh(s,n,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+(n-s)*6*a:a<1/2?n:a<2/3?s+(n-s)*(2/3-a)*6:s}function QC({hue:s,saturation:n,lightness:a,alpha:r}){s/=360,n/=100,a/=100;let l=0,d=0,f=0;if(!n)l=d=f=a;else{const m=a<.5?a*(1+n):a+n-a*n,p=2*a-m;l=rh(p,m,s+1/3),d=rh(p,m,s),f=rh(p,m,s-1/3)}return{red:Math.round(l*255),green:Math.round(d*255),blue:Math.round(f*255),alpha:r}}function yu(s,n){return a=>a>0?n:s}const ft=(s,n,a)=>s+(n-s)*a,oh=(s,n,a)=>{const r=s*s,l=a*(n*n-r)+r;return l<0?0:Math.sqrt(l)},ZC=[Uh,Ei,zr],JC=s=>ZC.find(n=>n.test(s));function Q0(s){const n=JC(s);if(!n)return!1;let a=n.parse(s);return n===zr&&(a=QC(a)),a}const Z0=(s,n)=>{const a=Q0(s),r=Q0(n);if(!a||!r)return yu(s,n);const l={...a};return d=>(l.red=oh(a.red,r.red,d),l.green=oh(a.green,r.green,d),l.blue=oh(a.blue,r.blue,d),l.alpha=ft(a.alpha,r.alpha,d),Ei.transform(l))},Lh=new Set(["none","hidden"]);function e2(s,n){return Lh.has(s)?a=>a<=0?s:n:a=>a>=1?n:s}function t2(s,n){return a=>ft(s,n,a)}function km(s){return typeof s=="number"?t2:typeof s=="string"?Mm(s)?yu:kt.test(s)?Z0:a2:Array.isArray(s)?bx:typeof s=="object"?kt.test(s)?Z0:n2:yu}function bx(s,n){const a=[...s],r=a.length,l=s.map((d,f)=>km(d)(d,n[f]));return d=>{for(let f=0;f<r;f++)a[f]=l[f](d);return a}}function n2(s,n){const a={...s,...n},r={};for(const l in a)s[l]!==void 0&&n[l]!==void 0&&(r[l]=km(s[l])(s[l],n[l]));return l=>{for(const d in r)a[d]=r[d](l);return a}}function s2(s,n){const a=[],r={color:0,var:0,number:0};for(let l=0;l<n.values.length;l++){const d=n.types[l],f=s.indexes[d][r[d]],m=s.values[f]??0;a[l]=m,r[d]++}return a}const a2=(s,n)=>{const a=qa.createTransformer(n),r=yl(s),l=yl(n);return r.indexes.var.length===l.indexes.var.length&&r.indexes.color.length===l.indexes.color.length&&r.indexes.number.length>=l.indexes.number.length?Lh.has(s)&&!l.values.length||Lh.has(n)&&!r.values.length?e2(s,n):El(bx(s2(r,l),l.values),a):yu(s,n)};function vx(s,n,a){return typeof s=="number"&&typeof n=="number"&&typeof a=="number"?ft(s,n,a):km(s)(s,n)}const i2=s=>{const n=({timestamp:a})=>s(a);return{start:(a=!0)=>ot.update(n,a),stop:()=>Ga(n),now:()=>Kt.isProcessing?Kt.timestamp:gn.now()}},xx=(s,n,a=10)=>{let r="";const l=Math.max(Math.round(n/a),2);for(let d=0;d<l;d++)r+=Math.round(s(d/(l-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},bu=2e4;function Nm(s){let n=0;const a=50;let r=s.next(n);for(;!r.done&&n<bu;)n+=a,r=s.next(n);return n>=bu?1/0:n}function r2(s,n=100,a){const r=a({...s,keyframes:[0,n]}),l=Math.min(Nm(r),bu);return{type:"keyframes",ease:d=>r.next(l*d).value/n,duration:Xn(l)}}const o2=5;function Sx(s,n,a){const r=Math.max(n-o2,0);return Jv(a-s(r),n-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lh=.001;function l2({duration:s=yt.duration,bounce:n=yt.bounce,velocity:a=yt.velocity,mass:r=yt.mass}){let l,d,f=1-n;f=na(yt.minDamping,yt.maxDamping,f),s=na(yt.minDuration,yt.maxDuration,Xn(s)),f<1?(l=y=>{const b=y*f,v=b*s,_=b-a,T=Oh(y,f),E=Math.exp(-v);return lh-_/T*E},d=y=>{const v=y*f*s,_=v*a+a,T=Math.pow(f,2)*Math.pow(y,2)*s,E=Math.exp(-v),M=Oh(Math.pow(y,2),f);return(-l(y)+lh>0?-1:1)*((_-T)*E)/M}):(l=y=>{const b=Math.exp(-y*s),v=(y-a)*s+1;return-lh+b*v},d=y=>{const b=Math.exp(-y*s),v=(a-y)*(s*s);return b*v});const m=5/s,p=u2(l,d,m);if(s=Ts(s),isNaN(p))return{stiffness:yt.stiffness,damping:yt.damping,duration:s};{const y=Math.pow(p,2)*r;return{stiffness:y,damping:f*2*Math.sqrt(r*y),duration:s}}}const c2=12;function u2(s,n,a){let r=a;for(let l=1;l<c2;l++)r=r-s(r)/n(r);return r}function Oh(s,n){return s*Math.sqrt(1-n*n)}const d2=["duration","bounce"],f2=["stiffness","damping","mass"];function J0(s,n){return n.some(a=>s[a]!==void 0)}function h2(s){let n={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...s};if(!J0(s,f2)&&J0(s,d2))if(s.visualDuration){const a=s.visualDuration,r=2*Math.PI/(a*1.2),l=r*r,d=2*na(.05,1,1-(s.bounce||0))*Math.sqrt(l);n={...n,mass:yt.mass,stiffness:l,damping:d}}else{const a=l2(s);n={...n,...a,mass:yt.mass},n.isResolvedFromDuration=!0}return n}function vu(s=yt.visualDuration,n=yt.bounce){const a=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:n}:s;let{restSpeed:r,restDelta:l}=a;const d=a.keyframes[0],f=a.keyframes[a.keyframes.length-1],m={done:!1,value:d},{stiffness:p,damping:y,mass:b,duration:v,velocity:_,isResolvedFromDuration:T}=h2({...a,velocity:-Xn(a.velocity||0)}),E=_||0,M=y/(2*Math.sqrt(p*b)),N=f-d,P=Xn(Math.sqrt(p/b)),Q=Math.abs(N)<5;r||(r=Q?yt.restSpeed.granular:yt.restSpeed.default),l||(l=Q?yt.restDelta.granular:yt.restDelta.default);let V;if(M<1){const q=Oh(P,M);V=ee=>{const se=Math.exp(-M*P*ee);return f-se*((E+M*P*N)/q*Math.sin(q*ee)+N*Math.cos(q*ee))}}else if(M===1)V=q=>f-Math.exp(-P*q)*(N+(E+P*N)*q);else{const q=P*Math.sqrt(M*M-1);V=ee=>{const se=Math.exp(-M*P*ee),W=Math.min(q*ee,300);return f-se*((E+M*P*N)*Math.sinh(W)+q*N*Math.cosh(W))/q}}const J={calculatedDuration:T&&v||null,next:q=>{const ee=V(q);if(T)m.done=q>=v;else{let se=q===0?E:0;M<1&&(se=q===0?Ts(E):Sx(V,q,ee));const W=Math.abs(se)<=r,ue=Math.abs(f-ee)<=l;m.done=W&&ue}return m.value=m.done?f:ee,m},toString:()=>{const q=Math.min(Nm(J),bu),ee=xx(se=>J.next(q*se).value,q,30);return q+"ms "+ee},toTransition:()=>{}};return J}vu.applyToOptions=s=>{const n=r2(s,100,vu);return s.ease=n.ease,s.duration=Ts(n.duration),s.type="keyframes",s};function Ih({keyframes:s,velocity:n=0,power:a=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:d=500,modifyTarget:f,min:m,max:p,restDelta:y=.5,restSpeed:b}){const v=s[0],_={done:!1,value:v},T=W=>m!==void 0&&W<m||p!==void 0&&W>p,E=W=>m===void 0?p:p===void 0||Math.abs(m-W)<Math.abs(p-W)?m:p;let M=a*n;const N=v+M,P=f===void 0?N:f(N);P!==N&&(M=P-v);const Q=W=>-M*Math.exp(-W/r),V=W=>P+Q(W),J=W=>{const ue=Q(W),fe=V(W);_.done=Math.abs(ue)<=y,_.value=_.done?P:fe};let q,ee;const se=W=>{T(_.value)&&(q=W,ee=vu({keyframes:[_.value,E(_.value)],velocity:Sx(V,W,_.value),damping:l,stiffness:d,restDelta:y,restSpeed:b}))};return se(0),{calculatedDuration:null,next:W=>{let ue=!1;return!ee&&q===void 0&&(ue=!0,J(W),se(W)),q!==void 0&&W>=q?ee.next(W-q):(!ue&&J(W),_)}}}function m2(s,n,a){const r=[],l=a||sa.mix||vx,d=s.length-1;for(let f=0;f<d;f++){let m=l(s[f],s[f+1]);if(n){const p=Array.isArray(n)?n[f]||Wn:n;m=El(p,m)}r.push(m)}return r}function p2(s,n,{clamp:a=!0,ease:r,mixer:l}={}){const d=s.length;if(_m(d===n.length),d===1)return()=>n[0];if(d===2&&n[0]===n[1])return()=>n[1];const f=s[0]===s[1];s[0]>s[d-1]&&(s=[...s].reverse(),n=[...n].reverse());const m=m2(n,r,l),p=m.length,y=b=>{if(f&&b<s[0])return n[0];let v=0;if(p>1)for(;v<s.length-2&&!(b<s[v+1]);v++);const _=pl(s[v],s[v+1],b);return m[v](_)};return a?b=>y(na(s[0],s[d-1],b)):y}function g2(s,n){const a=s[s.length-1];for(let r=1;r<=n;r++){const l=pl(0,n,r);s.push(ft(a,1,l))}}function y2(s){const n=[0];return g2(n,s.length-1),n}function b2(s,n){return s.map(a=>a*n)}function v2(s,n){return s.map(()=>n||lx).splice(0,s.length-1)}function ul({duration:s=300,keyframes:n,times:a,ease:r="easeInOut"}){const l=kC(r)?r.map(X0):X0(r),d={done:!1,value:n[0]},f=b2(a&&a.length===n.length?a:y2(n),s),m=p2(f,n,{ease:Array.isArray(l)?l:v2(n,l)});return{calculatedDuration:s,next:p=>(d.value=m(p),d.done=p>=s,d)}}const x2=s=>s!==null;function Rm(s,{repeat:n,repeatType:a="loop"},r,l=1){const d=s.filter(x2),m=l<0||n&&a!=="loop"&&n%2===1?0:d.length-1;return!m||r===void 0?d[m]:r}const S2={decay:Ih,inertia:Ih,tween:ul,keyframes:ul,spring:vu};function _x(s){typeof s.type=="string"&&(s.type=S2[s.type])}class Dm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,a){return this.finished.then(n,a)}}const _2=s=>s/100;class Bm extends Dm{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;_x(n);const{type:a=ul,repeat:r=0,repeatDelay:l=0,repeatType:d,velocity:f=0}=n;let{keyframes:m}=n;const p=a||ul;p!==ul&&typeof m[0]!="number"&&(this.mixKeyframes=El(_2,vx(m[0],m[1])),m=[0,100]);const y=p({...n,keyframes:m});d==="mirror"&&(this.mirroredGenerator=p({...n,keyframes:[...m].reverse(),velocity:-f})),y.calculatedDuration===null&&(y.calculatedDuration=Nm(y));const{calculatedDuration:b}=y;this.calculatedDuration=b,this.resolvedDuration=b+l,this.totalDuration=this.resolvedDuration*(r+1)-l,this.generator=y}updateTime(n){const a=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(n,a=!1){const{generator:r,totalDuration:l,mixKeyframes:d,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:b,repeat:v,repeatType:_,repeatDelay:T,type:E,onUpdate:M,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-l/this.speed,this.startTime)),a?this.currentTime=n:this.updateTime(n);const P=this.currentTime-y*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?P<0:P>l;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let V=this.currentTime,J=r;if(v){const W=Math.min(this.currentTime,l)/m;let ue=Math.floor(W),fe=W%1;!fe&&W>=1&&(fe=1),fe===1&&ue--,ue=Math.min(ue,v+1),!!(ue%2)&&(_==="reverse"?(fe=1-fe,T&&(fe-=T/m)):_==="mirror"&&(J=f)),V=na(0,1,fe)*m}const q=Q?{done:!1,value:b[0]}:J.next(V);d&&(q.value=d(q.value));let{done:ee}=q;!Q&&p!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const se=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return se&&E!==Ih&&(q.value=Rm(b,this.options,N,this.speed)),M&&M(q.value),se&&this.finish(),q}then(n,a){return this.finished.then(n,a)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Xn(n)}get time(){return Xn(this.currentTime)}set time(n){n=Ts(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(gn.now());const a=this.playbackSpeed!==n;this.playbackSpeed=n,a&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=i2,startTime:a}=this.options;this.driver||(this.driver=n(l=>this.tick(l))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function w2(s){for(let n=1;n<s.length;n++)s[n]??(s[n]=s[n-1])}const Ai=s=>s*180/Math.PI,Ph=s=>{const n=Ai(Math.atan2(s[1],s[0]));return Hh(n)},C2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Ph,rotateZ:Ph,skewX:s=>Ai(Math.atan(s[1])),skewY:s=>Ai(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},Hh=s=>(s=s%360,s<0&&(s+=360),s),eb=Ph,tb=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),nb=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),j2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tb,scaleY:nb,scale:s=>(tb(s)+nb(s))/2,rotateX:s=>Hh(Ai(Math.atan2(s[6],s[5]))),rotateY:s=>Hh(Ai(Math.atan2(-s[2],s[0]))),rotateZ:eb,rotate:eb,skewX:s=>Ai(Math.atan(s[4])),skewY:s=>Ai(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function Vh(s){return s.includes("scale")?1:0}function $h(s,n){if(!s||s==="none")return Vh(n);const a=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,l;if(a)r=j2,l=a;else{const m=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C2,l=m}if(!l)return Vh(n);const d=r[n],f=l[1].split(",").map(M2);return typeof d=="function"?d(f):f[d]}const T2=(s,n)=>{const{transform:a="none"}=getComputedStyle(s);return $h(a,n)};function M2(s){return parseFloat(s.trim())}const Kr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qr=new Set(Kr),sb=s=>s===Wr||s===ge,E2=new Set(["x","y","z"]),A2=Kr.filter(s=>!E2.has(s));function k2(s){const n=[];return A2.forEach(a=>{const r=s.getValue(a);r!==void 0&&(n.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),n}const Ni={width:({x:s},{paddingLeft:n="0",paddingRight:a="0"})=>s.max-s.min-parseFloat(n)-parseFloat(a),height:({y:s},{paddingTop:n="0",paddingBottom:a="0"})=>s.max-s.min-parseFloat(n)-parseFloat(a),top:(s,{top:n})=>parseFloat(n),left:(s,{left:n})=>parseFloat(n),bottom:({y:s},{top:n})=>parseFloat(n)+(s.max-s.min),right:({x:s},{left:n})=>parseFloat(n)+(s.max-s.min),x:(s,{transform:n})=>$h(n,"x"),y:(s,{transform:n})=>$h(n,"y")};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const Ri=new Set;let Fh=!1,Gh=!1,qh=!1;function wx(){if(Gh){const s=Array.from(Ri).filter(r=>r.needsMeasurement),n=new Set(s.map(r=>r.element)),a=new Map;n.forEach(r=>{const l=k2(r);l.length&&(a.set(r,l),r.render())}),s.forEach(r=>r.measureInitialState()),n.forEach(r=>{r.render();const l=a.get(r);l&&l.forEach(([d,f])=>{r.getValue(d)?.set(f)})}),s.forEach(r=>r.measureEndState()),s.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gh=!1,Fh=!1,Ri.forEach(s=>s.complete(qh)),Ri.clear()}function Cx(){Ri.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Gh=!0)})}function N2(){qh=!0,Cx(),wx(),qh=!1}class zm{constructor(n,a,r,l,d,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=a,this.name=r,this.motionValue=l,this.element=d,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Ri.add(this),Fh||(Fh=!0,ot.read(Cx),ot.resolveKeyframes(wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:a,element:r,motionValue:l}=this;if(n[0]===null){const d=l?.get(),f=n[n.length-1];if(d!==void 0)n[0]=d;else if(r&&a){const m=r.readValue(a,f);m!=null&&(n[0]=m)}n[0]===void 0&&(n[0]=f),l&&d===void 0&&l.set(n[0])}w2(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),Ri.delete(this)}cancel(){this.state==="scheduled"&&(Ri.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R2=s=>s.startsWith("--");function D2(s,n,a){R2(n)?s.style.setProperty(n,a):s.style[n]=a}const B2=wm(()=>window.ScrollTimeline!==void 0),z2={};function U2(s,n){const a=wm(s);return()=>z2[n]??a()}const jx=U2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ol=([s,n,a,r])=>`cubic-bezier(${s}, ${n}, ${a}, ${r})`,ab={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ol([0,.65,.55,1]),circOut:ol([.55,0,1,.45]),backIn:ol([.31,.01,.66,-.59]),backOut:ol([.33,1.53,.69,.99])};function Tx(s,n){if(s)return typeof s=="function"?jx()?xx(s,n):"ease-out":cx(s)?ol(s):Array.isArray(s)?s.map(a=>Tx(a,n)||ab.easeOut):ab[s]}function L2(s,n,a,{delay:r=0,duration:l=300,repeat:d=0,repeatType:f="loop",ease:m="easeOut",times:p}={},y=void 0){const b={[n]:a};p&&(b.offset=p);const v=Tx(m,l);Array.isArray(v)&&(b.easing=v);const _={delay:r,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:d+1,direction:f==="reverse"?"alternate":"normal"};return y&&(_.pseudoElement=y),s.animate(b,_)}function Mx(s){return typeof s=="function"&&"applyToOptions"in s}function O2({type:s,...n}){return Mx(s)&&jx()?s.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class I2 extends Dm{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:a,name:r,keyframes:l,pseudoElement:d,allowFlatten:f=!1,finalKeyframe:m,onComplete:p}=n;this.isPseudoElement=!!d,this.allowFlatten=f,this.options=n,_m(typeof n.type!="string");const y=O2(n);this.animation=L2(a,r,l,y,d),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const b=Rm(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):D2(a,r,b),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Xn(n)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=Ts(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&B2()?(this.animation.timeline=n,Wn):a(this)}}const Ex={anticipate:ix,backInOut:ax,circInOut:ox};function P2(s){return s in Ex}function H2(s){typeof s.ease=="string"&&P2(s.ease)&&(s.ease=Ex[s.ease])}const ib=10;class V2 extends I2{constructor(n){H2(n),_x(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:a,onUpdate:r,onComplete:l,element:d,...f}=this.options;if(!a)return;if(n!==void 0){a.set(n);return}const m=new Bm({...f,autoplay:!1}),p=Ts(this.finishedTime??this.time);a.setWithVelocity(m.sample(p-ib).value,m.sample(p).value,ib),m.stop()}}const rb=(s,n)=>n==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(qa.test(s)||s==="0")&&!s.startsWith("url("));function $2(s){const n=s[0];if(s.length===1)return!0;for(let a=0;a<s.length;a++)if(s[a]!==n)return!0}function F2(s,n,a,r){const l=s[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const d=s[s.length-1],f=rb(l,n),m=rb(d,n);return!f||!m?!1:$2(s)||(a==="spring"||Mx(a))&&r}function Yh(s){s.duration=0,s.type="keyframes"}const G2=new Set(["opacity","clipPath","filter","transform"]),q2=wm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y2(s){const{motionValue:n,name:a,repeatDelay:r,repeatType:l,damping:d,type:f}=s;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=n.owner.getProps();return q2()&&a&&G2.has(a)&&(a!=="transform"||!y)&&!p&&!r&&l!=="mirror"&&d!==0&&f!=="inertia"}const X2=40;class W2 extends Dm{constructor({autoplay:n=!0,delay:a=0,type:r="keyframes",repeat:l=0,repeatDelay:d=0,repeatType:f="loop",keyframes:m,name:p,motionValue:y,element:b,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const _={autoplay:n,delay:a,type:r,repeat:l,repeatDelay:d,repeatType:f,name:p,motionValue:y,element:b,...v},T=b?.KeyframeResolver||zm;this.keyframeResolver=new T(m,(E,M,N)=>this.onKeyframesResolved(E,M,_,!N),p,y,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,a,r,l){this.keyframeResolver=void 0;const{name:d,type:f,velocity:m,delay:p,isHandoff:y,onUpdate:b}=r;this.resolvedAt=gn.now(),F2(n,d,f,m)||((sa.instantAnimations||!p)&&b?.(Rm(n,r,a)),n[0]=n[n.length-1],Yh(r),r.repeat=0);const _={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>X2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:n},T=!y&&Y2(_)?new V2({..._,element:_.motionValue.owner.current}):new Bm(_);T.finished.then(()=>this.notifyFinished()).catch(Wn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(n,a){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),N2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const K2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q2(s){const n=K2.exec(s);if(!n)return[,];const[,a,r,l]=n;return[`--${a??r}`,l]}function Ax(s,n,a=1){const[r,l]=Q2(s);if(!r)return;const d=window.getComputedStyle(n).getPropertyValue(r);if(d){const f=d.trim();return Kv(f)?parseFloat(f):f}return Mm(l)?Ax(l,n,a+1):l}function Um(s,n){return s?.[n]??s?.default??s}const kx=new Set(["width","height","top","left","right","bottom",...Kr]),Z2={test:s=>s==="auto",parse:s=>s},Nx=s=>n=>n.test(s),Rx=[Wr,ge,Ms,Pa,$C,VC,Z2],ob=s=>Rx.find(Nx(s));function J2(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||Zv(s):!0}const ej=new Set(["brightness","contrast","saturate","opacity"]);function tj(s){const[n,a]=s.slice(0,-1).split("(");if(n==="drop-shadow")return s;const[r]=a.match(Em)||[];if(!r)return s;const l=a.replace(r,"");let d=ej.has(n)?1:0;return r!==a&&(d*=100),n+"("+d+l+")"}const nj=/\b([a-z-]*)\(.*?\)/gu,Xh={...qa,getAnimatableNone:s=>{const n=s.match(nj);return n?n.map(tj).join(" "):s}},lb={...Wr,transform:Math.round},sj={rotate:Pa,rotateX:Pa,rotateY:Pa,rotateZ:Pa,scale:eu,scaleX:eu,scaleY:eu,scaleZ:eu,skew:Pa,skewX:Pa,skewY:Pa,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:gl,originX:W0,originY:W0,originZ:ge},Lm={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...sj,zIndex:lb,fillOpacity:gl,strokeOpacity:gl,numOctaves:lb},aj={...Lm,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Xh,WebkitFilter:Xh},Dx=s=>aj[s];function Bx(s,n){let a=Dx(s);return a!==Xh&&(a=qa),a.getAnimatableNone?a.getAnimatableNone(n):void 0}const ij=new Set(["auto","none","0"]);function rj(s,n,a){let r=0,l;for(;r<s.length&&!l;){const d=s[r];typeof d=="string"&&!ij.has(d)&&yl(d).values.length&&(l=s[r]),r++}if(l&&a)for(const d of n)s[d]=Bx(a,l)}class oj extends zm{constructor(n,a,r,l,d){super(n,a,r,l,d,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){let y=n[p];if(typeof y=="string"&&(y=y.trim(),Mm(y))){const b=Ax(y,a.current);b!==void 0&&(n[p]=b),p===n.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!kx.has(r)||n.length!==2)return;const[l,d]=n,f=ob(l),m=ob(d);if(f!==m)if(sb(f)&&sb(m))for(let p=0;p<n.length;p++){const y=n[p];typeof y=="string"&&(n[p]=parseFloat(y))}else Ni[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:a}=this,r=[];for(let l=0;l<n.length;l++)(n[l]===null||J2(n[l]))&&r.push(l);r.length&&rj(n,r,a)}measureInitialState(){const{element:n,unresolvedKeyframes:a,name:r}=this;if(!n||!n.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a[0]=this.measuredOrigin;const l=a[a.length-1];l!==void 0&&n.getValue(r,l).jump(l,!1)}measureEndState(){const{element:n,name:a,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const l=n.getValue(a);l&&l.jump(this.measuredOrigin,!1);const d=r.length-1,f=r[d];r[d]=Ni[a](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{n.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function lj(s,n,a){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let r=document;const l=a?.[s]??r.querySelectorAll(s);return l?Array.from(l):[]}return Array.from(s)}const zx=(s,n)=>n&&typeof s=="number"?n.transform(s):s;function Ux(s){return Qv(s)&&"offsetHeight"in s}const cb=30,cj=s=>!isNaN(parseFloat(s));class uj{constructor(n,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const l=gn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=a.owner}setCurrent(n){this.current=n,this.updatedAt=gn.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=cj(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,a){this.events[n]||(this.events[n]=new Cm);const r=this.events[n].add(a);return n==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,a){this.passiveEffect=n,this.stopPassiveEffect=a}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-r}jump(n,a=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>cb)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,cb);return Jv(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(n){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=n(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fr(s,n){return new uj(s,n)}const{schedule:Om}=ux(queueMicrotask,!1),ns={x:!1,y:!1};function Lx(){return ns.x||ns.y}function dj(s){return s==="x"||s==="y"?ns[s]?null:(ns[s]=!0,()=>{ns[s]=!1}):ns.x||ns.y?null:(ns.x=ns.y=!0,()=>{ns.x=ns.y=!1})}function Ox(s,n){const a=lj(s),r=new AbortController,l={passive:!0,...n,signal:r.signal};return[a,l,()=>r.abort()]}function ub(s){return!(s.pointerType==="touch"||Lx())}function fj(s,n,a={}){const[r,l,d]=Ox(s,a),f=m=>{if(!ub(m))return;const{target:p}=m,y=n(p,m);if(typeof y!="function"||!p)return;const b=v=>{ub(v)&&(y(v),p.removeEventListener("pointerleave",b))};p.addEventListener("pointerleave",b,l)};return r.forEach(m=>{m.addEventListener("pointerenter",f,l)}),d}const Ix=(s,n)=>n?s===n?!0:Ix(s,n.parentElement):!1,Im=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,hj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mj(s){return hj.has(s.tagName)||s.tabIndex!==-1}const du=new WeakSet;function db(s){return n=>{n.key==="Enter"&&s(n)}}function ch(s,n){s.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const pj=(s,n)=>{const a=s.currentTarget;if(!a)return;const r=db(()=>{if(du.has(a))return;ch(a,"down");const l=db(()=>{ch(a,"up")}),d=()=>ch(a,"cancel");a.addEventListener("keyup",l,n),a.addEventListener("blur",d,n)});a.addEventListener("keydown",r,n),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),n)};function fb(s){return Im(s)&&!Lx()}function gj(s,n,a={}){const[r,l,d]=Ox(s,a),f=m=>{const p=m.currentTarget;if(!fb(m))return;du.add(p);const y=n(p,m),b=(T,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),du.has(p)&&du.delete(p),fb(T)&&typeof y=="function"&&y(T,{success:E})},v=T=>{b(T,p===window||p===document||a.useGlobalTarget||Ix(p,T.target))},_=T=>{b(T,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",_,l)};return r.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",f,l),Ux(m)&&(m.addEventListener("focus",y=>pj(y,l)),!mj(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),d}function Px(s){return Qv(s)&&"ownerSVGElement"in s}function yj(s){return Px(s)&&s.tagName==="svg"}const sn=s=>!!(s&&s.getVelocity),bj=[...Rx,kt,qa],vj=s=>bj.find(Nx(s)),Pm=w.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function hb(s,n){if(typeof s=="function")return s(n);s!=null&&(s.current=n)}function xj(...s){return n=>{let a=!1;const r=s.map(l=>{const d=hb(l,n);return!a&&typeof d=="function"&&(a=!0),d});if(a)return()=>{for(let l=0;l<r.length;l++){const d=r[l];typeof d=="function"?d():hb(s[l],null)}}}}function Sj(...s){return w.useCallback(xj(...s),s)}class _j extends w.Component{getSnapshotBeforeUpdate(n){const a=this.props.childRef.current;if(a&&n.isPresent&&!this.props.isPresent){const r=a.offsetParent,l=Ux(r)&&r.offsetWidth||0,d=this.props.sizeRef.current;d.height=a.offsetHeight||0,d.width=a.offsetWidth||0,d.top=a.offsetTop,d.left=a.offsetLeft,d.right=l-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wj({children:s,isPresent:n,anchorX:a,root:r}){const l=w.useId(),d=w.useRef(null),f=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=w.useContext(Pm),p=Sj(d,s?.ref);return w.useInsertionEffect(()=>{const{width:y,height:b,top:v,left:_,right:T}=f.current;if(n||!d.current||!y||!b)return;const E=a==="left"?`left: ${_}`:`right: ${T}`;d.current.dataset.motionPopId=l;const M=document.createElement("style");m&&(M.nonce=m);const N=r??document.head;return N.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${b}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(M)&&N.removeChild(M)}},[n]),c.jsx(_j,{isPresent:n,childRef:d,sizeRef:f,children:w.cloneElement(s,{ref:p})})}const Cj=({children:s,initial:n,isPresent:a,onExitComplete:r,custom:l,presenceAffectsLayout:d,mode:f,anchorX:m,root:p})=>{const y=bm(jj),b=w.useId();let v=!0,_=w.useMemo(()=>(v=!1,{id:b,initial:n,isPresent:a,custom:l,onExitComplete:T=>{y.set(T,!0);for(const E of y.values())if(!E)return;r&&r()},register:T=>(y.set(T,!1),()=>y.delete(T))}),[a,y,r]);return d&&v&&(_={..._}),w.useMemo(()=>{y.forEach((T,E)=>y.set(E,!1))},[a]),w.useEffect(()=>{!a&&!y.size&&r&&r()},[a]),f==="popLayout"&&(s=c.jsx(wj,{isPresent:a,anchorX:m,root:p,children:s})),c.jsx(ku.Provider,{value:_,children:s})};function jj(){return new Map}function Hx(s=!0){const n=w.useContext(ku);if(n===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:l}=n,d=w.useId();w.useEffect(()=>{if(s)return l(d)},[s]);const f=w.useCallback(()=>s&&r&&r(d),[d,r,s]);return!a&&r?[!1,f]:[!0]}const tu=s=>s.key||"";function mb(s){const n=[];return w.Children.forEach(s,a=>{w.isValidElement(a)&&n.push(a)}),n}const rn=({children:s,custom:n,initial:a=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:d="sync",propagate:f=!1,anchorX:m="left",root:p})=>{const[y,b]=Hx(f),v=w.useMemo(()=>mb(s),[s]),_=f&&!y?[]:v.map(tu),T=w.useRef(!0),E=w.useRef(v),M=bm(()=>new Map),[N,P]=w.useState(v),[Q,V]=w.useState(v);Wv(()=>{T.current=!1,E.current=v;for(let ee=0;ee<Q.length;ee++){const se=tu(Q[ee]);_.includes(se)?M.delete(se):M.get(se)!==!0&&M.set(se,!1)}},[Q,_.length,_.join("-")]);const J=[];if(v!==N){let ee=[...v];for(let se=0;se<Q.length;se++){const W=Q[se],ue=tu(W);_.includes(ue)||(ee.splice(se,0,W),J.push(W))}return d==="wait"&&J.length&&(ee=J),V(mb(ee)),P(v),null}const{forceRender:q}=w.useContext(ym);return c.jsx(c.Fragment,{children:Q.map(ee=>{const se=tu(ee),W=f&&!y?!1:v===Q||_.includes(se),ue=()=>{if(M.has(se))M.set(se,!0);else return;let fe=!0;M.forEach(je=>{je||(fe=!1)}),fe&&(q?.(),V(E.current),f&&b?.(),r&&r())};return c.jsx(Cj,{isPresent:W,initial:!T.current||a?void 0:!1,custom:n,presenceAffectsLayout:l,mode:d,root:p,onExitComplete:W?void 0:ue,anchorX:m,children:ee},se)})})},Vx=w.createContext({strict:!1}),pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gr={};for(const s in pb)Gr[s]={isEnabled:n=>pb[s].some(a=>!!n[a])};function Tj(s){for(const n in s)Gr[n]={...Gr[n],...s[n]}}const Mj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xu(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||Mj.has(s)}let $x=s=>!xu(s);function Ej(s){typeof s=="function"&&($x=n=>n.startsWith("on")?!xu(n):s(n))}try{Ej(require("@emotion/is-prop-valid").default)}catch{}function Aj(s,n,a){const r={};for(const l in s)l==="values"&&typeof s.values=="object"||($x(l)||a===!0&&xu(l)||!n&&!xu(l)||s.draggable&&l.startsWith("onDrag"))&&(r[l]=s[l]);return r}const Nu=w.createContext({});function Ru(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function bl(s){return typeof s=="string"||Array.isArray(s)}const Hm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vm=["initial",...Hm];function Du(s){return Ru(s.animate)||Vm.some(n=>bl(s[n]))}function Fx(s){return!!(Du(s)||s.variants)}function kj(s,n){if(Du(s)){const{initial:a,animate:r}=s;return{initial:a===!1||bl(a)?a:void 0,animate:bl(r)?r:void 0}}return s.inherit!==!1?n:{}}function Nj(s){const{initial:n,animate:a}=kj(s,w.useContext(Nu));return w.useMemo(()=>({initial:n,animate:a}),[gb(n),gb(a)])}function gb(s){return Array.isArray(s)?s.join(" "):s}function yb(s,n){return n.max===n.min?0:s/(n.max-n.min)*100}const al={correct:(s,n)=>{if(!n.target)return s;if(typeof s=="string")if(ge.test(s))s=parseFloat(s);else return s;const a=yb(s,n.target.x),r=yb(s,n.target.y);return`${a}% ${r}%`}},Rj={correct:(s,{treeScale:n,projectionDelta:a})=>{const r=s,l=qa.parse(s);if(l.length>5)return r;const d=qa.createTransformer(s),f=typeof l[0]!="number"?1:0,m=a.x.scale*n.x,p=a.y.scale*n.y;l[0+f]/=m,l[1+f]/=p;const y=ft(m,p,.5);return typeof l[2+f]=="number"&&(l[2+f]/=y),typeof l[3+f]=="number"&&(l[3+f]/=y),d(l)}},Wh={borderRadius:{...al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:al,borderTopRightRadius:al,borderBottomLeftRadius:al,borderBottomRightRadius:al,boxShadow:Rj};function Gx(s,{layout:n,layoutId:a}){return Qr.has(s)||s.startsWith("origin")||(n||a!==void 0)&&(!!Wh[s]||s==="opacity")}const Dj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bj=Kr.length;function zj(s,n,a){let r="",l=!0;for(let d=0;d<Bj;d++){const f=Kr[d],m=s[f];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(f.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||a){const y=zx(m,Lm[f]);if(!p){l=!1;const b=Dj[f]||f;r+=`${b}(${y}) `}a&&(n[f]=y)}}return r=r.trim(),a?r=a(n,l?"":r):l&&(r="none"),r}function $m(s,n,a){const{style:r,vars:l,transformOrigin:d}=s;let f=!1,m=!1;for(const p in n){const y=n[p];if(Qr.has(p)){f=!0;continue}else if(fx(p)){l[p]=y;continue}else{const b=zx(y,Lm[p]);p.startsWith("origin")?(m=!0,d[p]=b):r[p]=b}}if(n.transform||(f||a?r.transform=zj(n,s.transform,a):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:y="50%",originZ:b=0}=d;r.transformOrigin=`${p} ${y} ${b}`}}const Fm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qx(s,n,a){for(const r in n)!sn(n[r])&&!Gx(r,a)&&(s[r]=n[r])}function Uj({transformTemplate:s},n){return w.useMemo(()=>{const a=Fm();return $m(a,n,s),Object.assign({},a.vars,a.style)},[n])}function Lj(s,n){const a=s.style||{},r={};return qx(r,a,s),Object.assign(r,Uj(s,n)),r}function Oj(s,n){const a={},r=Lj(s,n);return s.drag&&s.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(a.tabIndex=0),a.style=r,a}const Ij={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pj={offset:"strokeDashoffset",array:"strokeDasharray"};function Hj(s,n,a=1,r=0,l=!0){s.pathLength=1;const d=l?Ij:Pj;s[d.offset]=ge.transform(-r);const f=ge.transform(n),m=ge.transform(a);s[d.array]=`${f} ${m}`}function Yx(s,{attrX:n,attrY:a,attrScale:r,pathLength:l,pathSpacing:d=1,pathOffset:f=0,...m},p,y,b){if($m(s,m,y),p){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:v,style:_}=s;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=b?.transformBox??"fill-box",delete v.transformBox),n!==void 0&&(v.x=n),a!==void 0&&(v.y=a),r!==void 0&&(v.scale=r),l!==void 0&&Hj(v,l,d,f,!1)}const Xx=()=>({...Fm(),attrs:{}}),Wx=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Vj(s,n,a,r){const l=w.useMemo(()=>{const d=Xx();return Yx(d,n,Wx(r),s.transformTemplate,s.style),{...d.attrs,style:{...d.style}}},[n]);if(s.style){const d={};qx(d,s.style,s),l.style={...d,...l.style}}return l}const $j=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gm(s){return typeof s!="string"||s.includes("-")?!1:!!($j.indexOf(s)>-1||/[A-Z]/u.test(s))}function Fj(s,n,a,{latestValues:r},l,d=!1){const m=(Gm(s)?Vj:Oj)(n,r,l,s),p=Aj(n,typeof s=="string",d),y=s!==w.Fragment?{...p,...m,ref:a}:{},{children:b}=n,v=w.useMemo(()=>sn(b)?b.get():b,[b]);return w.createElement(s,{...y,children:v})}function bb(s){const n=[{},{}];return s?.values.forEach((a,r)=>{n[0][r]=a.get(),n[1][r]=a.getVelocity()}),n}function qm(s,n,a,r){if(typeof n=="function"){const[l,d]=bb(r);n=n(a!==void 0?a:s.custom,l,d)}if(typeof n=="string"&&(n=s.variants&&s.variants[n]),typeof n=="function"){const[l,d]=bb(r);n=n(a!==void 0?a:s.custom,l,d)}return n}function fu(s){return sn(s)?s.get():s}function Gj({scrapeMotionValuesFromProps:s,createRenderState:n},a,r,l){return{latestValues:qj(a,r,l,s),renderState:n()}}function qj(s,n,a,r){const l={},d=r(s,{});for(const _ in d)l[_]=fu(d[_]);let{initial:f,animate:m}=s;const p=Du(s),y=Fx(s);n&&y&&!p&&s.inherit!==!1&&(f===void 0&&(f=n.initial),m===void 0&&(m=n.animate));let b=a?a.initial===!1:!1;b=b||f===!1;const v=b?m:f;if(v&&typeof v!="boolean"&&!Ru(v)){const _=Array.isArray(v)?v:[v];for(let T=0;T<_.length;T++){const E=qm(s,_[T]);if(E){const{transitionEnd:M,transition:N,...P}=E;for(const Q in P){let V=P[Q];if(Array.isArray(V)){const J=b?V.length-1:0;V=V[J]}V!==null&&(l[Q]=V)}for(const Q in M)l[Q]=M[Q]}}}return l}const Kx=s=>(n,a)=>{const r=w.useContext(Nu),l=w.useContext(ku),d=()=>Gj(s,n,r,l);return a?d():bm(d)};function Ym(s,n,a){const{style:r}=s,l={};for(const d in r)(sn(r[d])||n.style&&sn(n.style[d])||Gx(d,s)||a?.getValue(d)?.liveStyle!==void 0)&&(l[d]=r[d]);return l}const Yj=Kx({scrapeMotionValuesFromProps:Ym,createRenderState:Fm});function Qx(s,n,a){const r=Ym(s,n,a);for(const l in s)if(sn(s[l])||sn(n[l])){const d=Kr.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;r[d]=s[l]}return r}const Xj=Kx({scrapeMotionValuesFromProps:Qx,createRenderState:Xx}),Wj=Symbol.for("motionComponentSymbol");function Ur(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Kj(s,n,a){return w.useCallback(r=>{r&&s.onMount&&s.onMount(r),n&&(r?n.mount(r):n.unmount()),a&&(typeof a=="function"?a(r):Ur(a)&&(a.current=r))},[n])}const Xm=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qj="framerAppearId",Zx="data-"+Xm(Qj),Jx=w.createContext({});function Zj(s,n,a,r,l){const{visualElement:d}=w.useContext(Nu),f=w.useContext(Vx),m=w.useContext(ku),p=w.useContext(Pm).reducedMotion,y=w.useRef(null);r=r||f.renderer,!y.current&&r&&(y.current=r(s,{visualState:n,parent:d,props:a,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const b=y.current,v=w.useContext(Jx);b&&!b.projection&&l&&(b.type==="html"||b.type==="svg")&&Jj(y.current,a,l,v);const _=w.useRef(!1);w.useInsertionEffect(()=>{b&&_.current&&b.update(a,m)});const T=a[Zx],E=w.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return Wv(()=>{b&&(_.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),E.current&&b.animationState&&b.animationState.animateChanges())}),w.useEffect(()=>{b&&(!E.current&&b.animationState&&b.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),E.current=!1),b.enteringChildren=void 0)}),b}function Jj(s,n,a,r){const{layoutId:l,layout:d,drag:f,dragConstraints:m,layoutScroll:p,layoutRoot:y,layoutCrossfade:b}=n;s.projection=new a(s.latestValues,n["data-framer-portal-id"]?void 0:e1(s.parent)),s.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!f||m&&Ur(m),visualElement:s,animationType:typeof d=="string"?d:"both",initialPromotionConfig:r,crossfade:b,layoutScroll:p,layoutRoot:y})}function e1(s){if(s)return s.options.allowProjection!==!1?s.projection:e1(s.parent)}function uh(s,{forwardMotionProps:n=!1}={},a,r){a&&Tj(a);const l=Gm(s)?Xj:Yj;function d(m,p){let y;const b={...w.useContext(Pm),...m,layoutId:eT(m)},{isStatic:v}=b,_=Nj(m),T=l(m,v);if(!v&&vm){tT();const E=nT(b);y=E.MeasureLayout,_.visualElement=Zj(s,T,b,r,E.ProjectionNode)}return c.jsxs(Nu.Provider,{value:_,children:[y&&_.visualElement?c.jsx(y,{visualElement:_.visualElement,...b}):null,Fj(s,m,Kj(T,_.visualElement,p),T,v,n)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const f=w.forwardRef(d);return f[Wj]=s,f}function eT({layoutId:s}){const n=w.useContext(ym).id;return n&&s!==void 0?n+"-"+s:s}function tT(s,n){w.useContext(Vx).strict}function nT(s){const{drag:n,layout:a}=Gr;if(!n&&!a)return{};const r={...n,...a};return{MeasureLayout:n?.isEnabled(s)||a?.isEnabled(s)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sT(s,n){if(typeof Proxy>"u")return uh;const a=new Map,r=(d,f)=>uh(d,f,s,n),l=(d,f)=>r(d,f);return new Proxy(l,{get:(d,f)=>f==="create"?r:(a.has(f)||a.set(f,uh(f,void 0,s,n)),a.get(f))})}function t1({top:s,left:n,right:a,bottom:r}){return{x:{min:n,max:a},y:{min:s,max:r}}}function aT({x:s,y:n}){return{top:n.min,right:s.max,bottom:n.max,left:s.min}}function iT(s,n){if(!n)return s;const a=n({x:s.left,y:s.top}),r=n({x:s.right,y:s.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function dh(s){return s===void 0||s===1}function Kh({scale:s,scaleX:n,scaleY:a}){return!dh(s)||!dh(n)||!dh(a)}function wi(s){return Kh(s)||n1(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function n1(s){return vb(s.x)||vb(s.y)}function vb(s){return s&&s!=="0%"}function Su(s,n,a){const r=s-a,l=n*r;return a+l}function xb(s,n,a,r,l){return l!==void 0&&(s=Su(s,l,r)),Su(s,a,r)+n}function Qh(s,n=0,a=1,r,l){s.min=xb(s.min,n,a,r,l),s.max=xb(s.max,n,a,r,l)}function s1(s,{x:n,y:a}){Qh(s.x,n.translate,n.scale,n.originPoint),Qh(s.y,a.translate,a.scale,a.originPoint)}const Sb=.999999999999,_b=1.0000000000001;function rT(s,n,a,r=!1){const l=a.length;if(!l)return;n.x=n.y=1;let d,f;for(let m=0;m<l;m++){d=a[m],f=d.projectionDelta;const{visualElement:p}=d.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Or(s,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),f&&(n.x*=f.x.scale,n.y*=f.y.scale,s1(s,f)),r&&wi(d.latestValues)&&Or(s,d.latestValues))}n.x<_b&&n.x>Sb&&(n.x=1),n.y<_b&&n.y>Sb&&(n.y=1)}function Lr(s,n){s.min=s.min+n,s.max=s.max+n}function wb(s,n,a,r,l=.5){const d=ft(s.min,s.max,l);Qh(s,n,a,d,r)}function Or(s,n){wb(s.x,n.x,n.scaleX,n.scale,n.originX),wb(s.y,n.y,n.scaleY,n.scale,n.originY)}function a1(s,n){return t1(iT(s.getBoundingClientRect(),n))}function oT(s,n,a){const r=a1(s,a),{scroll:l}=n;return l&&(Lr(r.x,l.offset.x),Lr(r.y,l.offset.y)),r}const Cb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ir=()=>({x:Cb(),y:Cb()}),jb=()=>({min:0,max:0}),zt=()=>({x:jb(),y:jb()}),Zh={current:null},i1={current:!1};function lT(){if(i1.current=!0,!!vm)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),n=()=>Zh.current=s.matches;s.addEventListener("change",n),n()}else Zh.current=!1}const cT=new WeakMap;function uT(s,n,a){for(const r in n){const l=n[r],d=a[r];if(sn(l))s.addValue(r,l);else if(sn(d))s.addValue(r,Fr(l,{owner:s}));else if(d!==l)if(s.hasValue(r)){const f=s.getValue(r);f.liveStyle===!0?f.jump(l):f.hasAnimated||f.set(l)}else{const f=s.getStaticValue(r);s.addValue(r,Fr(f!==void 0?f:l,{owner:s}))}}for(const r in a)n[r]===void 0&&s.removeValue(r);return n}const Tb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dT{scrapeMotionValuesFromProps(n,a,r){return{}}constructor({parent:n,props:a,presenceContext:r,reducedMotionConfig:l,blockInitialAnimation:d,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=gn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ot.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=a.initial?{...p}:{},this.renderState=y,this.parent=n,this.props=a,this.presenceContext=r,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=Du(a),this.isVariantNode=Fx(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:b,...v}=this.scrapeMotionValuesFromProps(a,{},this);for(const _ in v){const T=v[_];p[_]!==void 0&&sn(T)&&T.set(p[_])}}mount(n){this.current=n,cT.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),i1.current||lT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ga(this.notifyUpdate),Ga(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,a){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const r=Qr.has(n);r&&this.onBindTransform&&this.onBindTransform();const l=a.on("change",f=>{this.latestValues[n]=f,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,a)),this.valueSubscriptions.set(n,()=>{l(),d&&d(),a.owner&&a.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Gr){const a=Gr[n];if(!a)continue;const{isEnabled:r,Feature:l}=a;if(!this.features[n]&&l&&r(this.props)&&(this.features[n]=new l(this)),this.features[n]){const d=this.features[n];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,a){this.latestValues[n]=a}update(n,a){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<Tb.length;r++){const l=Tb[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const d="on"+l,f=n[d];f&&(this.propEventSubscriptions[l]=this.on(l,f))}this.prevMotionValues=uT(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(n),()=>a.variantChildren.delete(n)}addValue(n,a){const r=this.values.get(n);a!==r&&(r&&this.removeValue(n),this.bindToMotionValue(n,a),this.values.set(n,a),this.latestValues[n]=a.get())}removeValue(n){this.values.delete(n);const a=this.valueSubscriptions.get(n);a&&(a(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,a){if(this.props.values&&this.props.values[n])return this.props.values[n];let r=this.values.get(n);return r===void 0&&a!==void 0&&(r=Fr(a===null?void 0:a,{owner:this}),this.addValue(n,r)),r}readValue(n,a){let r=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return r!=null&&(typeof r=="string"&&(Kv(r)||Zv(r))?r=parseFloat(r):!vj(r)&&qa.test(a)&&(r=Bx(n,a)),this.setBaseTarget(n,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(n,a){this.baseTarget[n]=a}getBaseTarget(n){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const d=qm(this.props,a,this.presenceContext?.custom);d&&(r=d[n])}if(a&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,n);return l!==void 0&&!sn(l)?l:this.initialValues[n]!==void 0&&r===void 0?void 0:this.baseTarget[n]}on(n,a){return this.events[n]||(this.events[n]=new Cm),this.events[n].add(a)}notify(n,...a){this.events[n]&&this.events[n].notify(...a)}scheduleRenderMicrotask(){Om.render(this.render)}}class r1 extends dT{constructor(){super(...arguments),this.KeyframeResolver=oj}sortInstanceNodePosition(n,a){return n.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(n,a){return n.style?n.style[a]:void 0}removeValueFromRenderState(n,{vars:a,style:r}){delete a[n],delete r[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;sn(n)&&(this.childSubscription=n.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function o1(s,{style:n,vars:a},r,l){const d=s.style;let f;for(f in n)d[f]=n[f];l?.applyProjectionStyles(d,r);for(f in a)d.setProperty(f,a[f])}function fT(s){return window.getComputedStyle(s)}class hT extends r1{constructor(){super(...arguments),this.type="html",this.renderInstance=o1}readValueFromInstance(n,a){if(Qr.has(a))return this.projection?.isProjecting?Vh(a):T2(n,a);{const r=fT(n),l=(fx(a)?r.getPropertyValue(a):r[a])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:a}){return a1(n,a)}build(n,a,r){$m(n,a,r.transformTemplate)}scrapeMotionValuesFromProps(n,a,r){return Ym(n,a,r)}}const l1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mT(s,n,a,r){o1(s,n,void 0,r);for(const l in n.attrs)s.setAttribute(l1.has(l)?l:Xm(l),n.attrs[l])}class pT extends r1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(n,a){return n[a]}readValueFromInstance(n,a){if(Qr.has(a)){const r=Dx(a);return r&&r.default||0}return a=l1.has(a)?a:Xm(a),n.getAttribute(a)}scrapeMotionValuesFromProps(n,a,r){return Qx(n,a,r)}build(n,a,r){Yx(n,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(n,a,r,l){mT(n,a,r,l)}mount(n){this.isSVGTag=Wx(n.tagName),super.mount(n)}}const gT=(s,n)=>Gm(s)?new pT(n):new hT(n,{allowProjection:s!==w.Fragment});function Hr(s,n,a){const r=s.getProps();return qm(r,n,a!==void 0?a:r.custom,s)}const Jh=s=>Array.isArray(s);function yT(s,n,a){s.hasValue(n)?s.getValue(n).set(a):s.addValue(n,Fr(a))}function bT(s){return Jh(s)?s[s.length-1]||0:s}function vT(s,n){const a=Hr(s,n);let{transitionEnd:r={},transition:l={},...d}=a||{};d={...d,...r};for(const f in d){const m=bT(d[f]);yT(s,f,m)}}function xT(s){return!!(sn(s)&&s.add)}function em(s,n){const a=s.getValue("willChange");if(xT(a))return a.add(n);if(!a&&sa.WillChange){const r=new sa.WillChange("auto");s.addValue("willChange",r),r.add(n)}}function c1(s){return s.props[Zx]}const ST=s=>s!==null;function _T(s,{repeat:n,repeatType:a="loop"},r){const l=s.filter(ST),d=n&&a!=="loop"&&n%2===1?0:l.length-1;return l[d]}const wT={type:"spring",stiffness:500,damping:25,restSpeed:10},CT=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),jT={type:"keyframes",duration:.8},TT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MT=(s,{keyframes:n})=>n.length>2?jT:Qr.has(s)?s.startsWith("scale")?CT(n[1]):wT:TT;function ET({when:s,delay:n,delayChildren:a,staggerChildren:r,staggerDirection:l,repeat:d,repeatType:f,repeatDelay:m,from:p,elapsed:y,...b}){return!!Object.keys(b).length}const Wm=(s,n,a,r={},l,d)=>f=>{const m=Um(r,s)||{},p=m.delay||r.delay||0;let{elapsed:y=0}=r;y=y-Ts(p);const b={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:n.getVelocity(),...m,delay:-y,onUpdate:_=>{n.set(_),m.onUpdate&&m.onUpdate(_)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:s,motionValue:n,element:d?void 0:l};ET(m)||Object.assign(b,MT(s,b)),b.duration&&(b.duration=Ts(b.duration)),b.repeatDelay&&(b.repeatDelay=Ts(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let v=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(Yh(b),b.delay===0&&(v=!0)),(sa.instantAnimations||sa.skipAnimations)&&(v=!0,Yh(b),b.delay=0),b.allowFlatten=!m.type&&!m.ease,v&&!d&&n.get()!==void 0){const _=_T(b.keyframes,m);if(_!==void 0){ot.update(()=>{b.onUpdate(_),b.onComplete()});return}}return m.isSync?new Bm(b):new W2(b)};function AT({protectedKeys:s,needsAnimating:n},a){const r=s.hasOwnProperty(a)&&n[a]!==!0;return n[a]=!1,r}function u1(s,n,{delay:a=0,transitionOverride:r,type:l}={}){let{transition:d=s.getDefaultTransition(),transitionEnd:f,...m}=n;r&&(d=r);const p=[],y=l&&s.animationState&&s.animationState.getState()[l];for(const b in m){const v=s.getValue(b,s.latestValues[b]??null),_=m[b];if(_===void 0||y&&AT(y,b))continue;const T={delay:a,...Um(d||{},b)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===E&&!T.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const P=c1(s);if(P){const Q=window.MotionHandoffAnimation(P,b,ot);Q!==null&&(T.startTime=Q,M=!0)}}em(s,b),v.start(Wm(b,v,_,s.shouldReduceMotion&&kx.has(b)?{type:!1}:T,s,M));const N=v.animation;N&&p.push(N)}return f&&Promise.all(p).then(()=>{ot.update(()=>{f&&vT(s,f)})}),p}function d1(s,n,a,r=0,l=1){const d=Array.from(s).sort((y,b)=>y.sortNodePosition(b)).indexOf(n),f=s.size,m=(f-1)*r;return typeof a=="function"?a(d,f):l===1?d*r:m-d*r}function tm(s,n,a={}){const r=Hr(s,n,a.type==="exit"?s.presenceContext?.custom:void 0);let{transition:l=s.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(l=a.transitionOverride);const d=r?()=>Promise.all(u1(s,r,a)):()=>Promise.resolve(),f=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:b,staggerDirection:v}=l;return kT(s,n,p,y,b,v,a)}:()=>Promise.resolve(),{when:m}=l;if(m){const[p,y]=m==="beforeChildren"?[d,f]:[f,d];return p().then(()=>y())}else return Promise.all([d(),f(a.delay)])}function kT(s,n,a=0,r=0,l=0,d=1,f){const m=[];for(const p of s.variantChildren)p.notify("AnimationStart",n),m.push(tm(p,n,{...f,delay:a+(typeof r=="function"?0:r)+d1(s.variantChildren,p,r,l,d)}).then(()=>p.notify("AnimationComplete",n)));return Promise.all(m)}function NT(s,n,a={}){s.notify("AnimationStart",n);let r;if(Array.isArray(n)){const l=n.map(d=>tm(s,d,a));r=Promise.all(l)}else if(typeof n=="string")r=tm(s,n,a);else{const l=typeof n=="function"?Hr(s,n,a.custom):n;r=Promise.all(u1(s,l,a))}return r.then(()=>{s.notify("AnimationComplete",n)})}function f1(s,n){if(!Array.isArray(n))return!1;const a=n.length;if(a!==s.length)return!1;for(let r=0;r<a;r++)if(n[r]!==s[r])return!1;return!0}const RT=Vm.length;function h1(s){if(!s)return;if(!s.isControllingVariants){const a=s.parent?h1(s.parent)||{}:{};return s.props.initial!==void 0&&(a.initial=s.props.initial),a}const n={};for(let a=0;a<RT;a++){const r=Vm[a],l=s.props[r];(bl(l)||l===!1)&&(n[r]=l)}return n}const DT=[...Hm].reverse(),BT=Hm.length;function zT(s){return n=>Promise.all(n.map(({animation:a,options:r})=>NT(s,a,r)))}function UT(s){let n=zT(s),a=Mb(),r=!0;const l=p=>(y,b)=>{const v=Hr(s,b,p==="exit"?s.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:T,...E}=v;y={...y,...E,...T}}return y};function d(p){n=p(s)}function f(p){const{props:y}=s,b=h1(s.parent)||{},v=[],_=new Set;let T={},E=1/0;for(let N=0;N<BT;N++){const P=DT[N],Q=a[P],V=y[P]!==void 0?y[P]:b[P],J=bl(V),q=P===p?Q.isActive:null;q===!1&&(E=N);let ee=V===b[P]&&V!==y[P]&&J;if(ee&&r&&s.manuallyAnimateOnMount&&(ee=!1),Q.protectedKeys={...T},!Q.isActive&&q===null||!V&&!Q.prevProp||Ru(V)||typeof V=="boolean")continue;const se=LT(Q.prevProp,V);let W=se||P===p&&Q.isActive&&!ee&&J||N>E&&J,ue=!1;const fe=Array.isArray(V)?V:[V];let je=fe.reduce(l(P),{});q===!1&&(je={});const{prevResolvedValues:Re={}}=Q,Fe={...Re,...je},tt=Z=>{W=!0,_.has(Z)&&(ue=!0,_.delete(Z)),Q.needsAnimating[Z]=!0;const ne=s.getValue(Z);ne&&(ne.liveStyle=!1)};for(const Z in Fe){const ne=je[Z],be=Re[Z];if(T.hasOwnProperty(Z))continue;let Te=!1;Jh(ne)&&Jh(be)?Te=!f1(ne,be):Te=ne!==be,Te?ne!=null?tt(Z):_.add(Z):ne!==void 0&&_.has(Z)?tt(Z):Q.protectedKeys[Z]=!0}Q.prevProp=V,Q.prevResolvedValues=je,Q.isActive&&(T={...T,...je}),r&&s.blockInitialAnimation&&(W=!1);const Ee=ee&&se;W&&(!Ee||ue)&&v.push(...fe.map(Z=>{const ne={type:P};if(typeof Z=="string"&&r&&!Ee&&s.manuallyAnimateOnMount&&s.parent){const{parent:be}=s,Te=Hr(be,Z);if(be.enteringChildren&&Te){const{delayChildren:Le}=Te.transition||{};ne.delay=d1(be.enteringChildren,s,Le)}}return{animation:Z,options:ne}}))}if(_.size){const N={};if(typeof y.initial!="boolean"){const P=Hr(s,Array.isArray(y.initial)?y.initial[0]:y.initial);P&&P.transition&&(N.transition=P.transition)}_.forEach(P=>{const Q=s.getBaseTarget(P),V=s.getValue(P);V&&(V.liveStyle=!0),N[P]=Q??null}),v.push({animation:N})}let M=!!v.length;return r&&(y.initial===!1||y.initial===y.animate)&&!s.manuallyAnimateOnMount&&(M=!1),r=!1,M?n(v):Promise.resolve()}function m(p,y){if(a[p].isActive===y)return Promise.resolve();s.variantChildren?.forEach(v=>v.animationState?.setActive(p,y)),a[p].isActive=y;const b=f(p);for(const v in a)a[v].protectedKeys={};return b}return{animateChanges:f,setActive:m,setAnimateFunction:d,getState:()=>a,reset:()=>{a=Mb()}}}function LT(s,n){return typeof n=="string"?n!==s:Array.isArray(n)?!f1(n,s):!1}function Si(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mb(){return{animate:Si(!0),whileInView:Si(),whileHover:Si(),whileTap:Si(),whileDrag:Si(),whileFocus:Si(),exit:Si()}}class Ya{constructor(n){this.isMounted=!1,this.node=n}update(){}}class OT extends Ya{constructor(n){super(n),n.animationState||(n.animationState=UT(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Ru(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:a}=this.node.prevProps||{};n!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let IT=0;class PT extends Ya{constructor(){super(...arguments),this.id=IT++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===r)return;const l=this.node.animationState.setActive("exit",!n);a&&!n&&l.then(()=>{a(this.id)})}mount(){const{register:n,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const HT={animation:{Feature:OT},exit:{Feature:PT}};function vl(s,n,a,r={passive:!0}){return s.addEventListener(n,a,r),()=>s.removeEventListener(n,a)}function Nl(s){return{point:{x:s.pageX,y:s.pageY}}}const VT=s=>n=>Im(n)&&s(n,Nl(n));function dl(s,n,a,r){return vl(s,n,VT(a),r)}const m1=1e-4,$T=1-m1,FT=1+m1,p1=.01,GT=0-p1,qT=0+p1;function on(s){return s.max-s.min}function YT(s,n,a){return Math.abs(s-n)<=a}function Eb(s,n,a,r=.5){s.origin=r,s.originPoint=ft(n.min,n.max,s.origin),s.scale=on(a)/on(n),s.translate=ft(a.min,a.max,s.origin)-s.originPoint,(s.scale>=$T&&s.scale<=FT||isNaN(s.scale))&&(s.scale=1),(s.translate>=GT&&s.translate<=qT||isNaN(s.translate))&&(s.translate=0)}function fl(s,n,a,r){Eb(s.x,n.x,a.x,r?r.originX:void 0),Eb(s.y,n.y,a.y,r?r.originY:void 0)}function Ab(s,n,a){s.min=a.min+n.min,s.max=s.min+on(n)}function XT(s,n,a){Ab(s.x,n.x,a.x),Ab(s.y,n.y,a.y)}function kb(s,n,a){s.min=n.min-a.min,s.max=s.min+on(n)}function _u(s,n,a){kb(s.x,n.x,a.x),kb(s.y,n.y,a.y)}function qn(s){return[s("x"),s("y")]}const g1=({current:s})=>s?s.ownerDocument.defaultView:null,Nb=(s,n)=>Math.abs(s-n);function WT(s,n){const a=Nb(s.x,n.x),r=Nb(s.y,n.y);return Math.sqrt(a**2+r**2)}class y1{constructor(n,a,{transformPagePoint:r,contextWindow:l=window,dragSnapToOrigin:d=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=hh(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,E=WT(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!E)return;const{point:M}=_,{timestamp:N}=Kt;this.history.push({...M,timestamp:N});const{onStart:P,onMove:Q}=this.handlers;T||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=fh(T,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:E,onSessionEnd:M,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=hh(_.type==="pointercancel"?this.lastMoveEventInfo:fh(T,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,P),M&&M(_,P)},!Im(n))return;this.dragSnapToOrigin=d,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=f,this.contextWindow=l||window;const m=Nl(n),p=fh(m,this.transformPagePoint),{point:y}=p,{timestamp:b}=Kt;this.history=[{...y,timestamp:b}];const{onSessionStart:v}=a;v&&v(n,hh(p,this.history)),this.removeListeners=El(dl(this.contextWindow,"pointermove",this.handlePointerMove),dl(this.contextWindow,"pointerup",this.handlePointerUp),dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Ga(this.updatePoint)}}function fh(s,n){return n?{point:n(s.point)}:s}function Rb(s,n){return{x:s.x-n.x,y:s.y-n.y}}function hh({point:s},n){return{point:s,delta:Rb(s,b1(n)),offset:Rb(s,KT(n)),velocity:QT(n,.1)}}function KT(s){return s[0]}function b1(s){return s[s.length-1]}function QT(s,n){if(s.length<2)return{x:0,y:0};let a=s.length-1,r=null;const l=b1(s);for(;a>=0&&(r=s[a],!(l.timestamp-r.timestamp>Ts(n)));)a--;if(!r)return{x:0,y:0};const d=Xn(l.timestamp-r.timestamp);if(d===0)return{x:0,y:0};const f={x:(l.x-r.x)/d,y:(l.y-r.y)/d};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function ZT(s,{min:n,max:a},r){return n!==void 0&&s<n?s=r?ft(n,s,r.min):Math.max(s,n):a!==void 0&&s>a&&(s=r?ft(a,s,r.max):Math.min(s,a)),s}function Db(s,n,a){return{min:n!==void 0?s.min+n:void 0,max:a!==void 0?s.max+a-(s.max-s.min):void 0}}function JT(s,{top:n,left:a,bottom:r,right:l}){return{x:Db(s.x,a,l),y:Db(s.y,n,r)}}function Bb(s,n){let a=n.min-s.min,r=n.max-s.max;return n.max-n.min<s.max-s.min&&([a,r]=[r,a]),{min:a,max:r}}function e5(s,n){return{x:Bb(s.x,n.x),y:Bb(s.y,n.y)}}function t5(s,n){let a=.5;const r=on(s),l=on(n);return l>r?a=pl(n.min,n.max-r,s.min):r>l&&(a=pl(s.min,s.max-l,n.min)),na(0,1,a)}function n5(s,n){const a={};return n.min!==void 0&&(a.min=n.min-s.min),n.max!==void 0&&(a.max=n.max-s.min),a}const nm=.35;function s5(s=nm){return s===!1?s=0:s===!0&&(s=nm),{x:zb(s,"left","right"),y:zb(s,"top","bottom")}}function zb(s,n,a){return{min:Ub(s,n),max:Ub(s,a)}}function Ub(s,n){return typeof s=="number"?s:s[n]||0}const a5=new WeakMap;class i5{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const d=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Nl(v).point)},f=(v,_)=>{const{drag:T,dragPropagation:E,onDragStart:M}=this.getProps();if(T&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dj(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(P=>{let Q=this.getAxisMotionValue(P).get()||0;if(Ms.test(Q)){const{projection:V}=this.visualElement;if(V&&V.layout){const J=V.layout.layoutBox[P];J&&(Q=on(J)*(parseFloat(Q)/100))}}this.originPoint[P]=Q}),M&&ot.postRender(()=>M(v,_)),em(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},m=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:T,dragDirectionLock:E,onDirectionLock:M,onDrag:N}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:P}=_;if(E&&this.currentDirection===null){this.currentDirection=r5(P),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),N&&N(v,_)},p=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>qn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new y1(n,{onSessionStart:d,onStart:f,onMove:m,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:r,contextWindow:g1(this.visualElement)})}stop(n,a){const r=n||this.latestPointerEvent,l=a||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!l||!r)return;const{velocity:f}=l;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&ot.postRender(()=>m(r,l))}cancel(){this.isDragging=!1;const{projection:n,animationState:a}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(n,a,r){const{drag:l}=this.getProps();if(!r||!nu(n,l,this.currentDirection))return;const d=this.getAxisMotionValue(n);let f=this.originPoint[n]+r[n];this.constraints&&this.constraints[n]&&(f=ZT(f,this.constraints[n],this.elastic[n])),d.set(f)}resolveConstraints(){const{dragConstraints:n,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;n&&Ur(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=JT(r.layoutBox,n):this.constraints=!1,this.elastic=s5(a),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=n5(r.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:a}=this.getProps();if(!n||!Ur(n))return!1;const r=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const d=oT(r,l.root,this.visualElement.getTransformPagePoint());let f=e5(l.layout.layoutBox,d);if(a){const m=a(aT(f));this.hasMutatedConstraints=!!m,m&&(f=t1(m))}return f}startAnimation(n){const{drag:a,dragMomentum:r,dragElastic:l,dragTransition:d,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},y=qn(b=>{if(!nu(b,a,this.currentDirection))return;let v=p&&p[b]||{};f&&(v={min:0,max:0});const _=l?200:1e6,T=l?40:1e7,E={type:"inertia",velocity:r?n[b]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...d,...v};return this.startAxisValueAnimation(b,E)});return Promise.all(y).then(m)}startAxisValueAnimation(n,a){const r=this.getAxisMotionValue(n);return em(this.visualElement,n),r.start(Wm(n,r,0,a,this.visualElement,!1))}stopAnimation(){qn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){qn(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const a=`_drag${n.toUpperCase()}`,r=this.visualElement.getProps(),l=r[a];return l||this.visualElement.getValue(n,(r.initial?r.initial[n]:void 0)||0)}snapToCursor(n){qn(a=>{const{drag:r}=this.getProps();if(!nu(a,r,this.currentDirection))return;const{projection:l}=this.visualElement,d=this.getAxisMotionValue(a);if(l&&l.layout){const{min:f,max:m}=l.layout.layoutBox[a];d.set(n[a]-ft(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Ur(a)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};qn(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const p=m.get();l[f]=t5({min:p,max:p},this.constraints[f])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(f=>{if(!nu(f,n,null))return;const m=this.getAxisMotionValue(f),{min:p,max:y}=this.constraints[f];m.set(ft(p,y,l[f]))})}addListeners(){if(!this.visualElement.current)return;a5.set(this.visualElement,this);const n=this.visualElement.current,a=dl(n,"pointerdown",p=>{const{drag:y,dragListener:b=!0}=this.getProps();y&&b&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Ur(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,d=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ot.read(r);const f=vl(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(qn(b=>{const v=this.getAxisMotionValue(b);v&&(this.originPoint[b]+=p[b].translate,v.set(v.get()+p[b].translate))}),this.visualElement.render())}));return()=>{f(),a(),d(),m&&m()}}getProps(){const n=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:d=!1,dragElastic:f=nm,dragMomentum:m=!0}=n;return{...n,drag:a,dragDirectionLock:r,dragPropagation:l,dragConstraints:d,dragElastic:f,dragMomentum:m}}}function nu(s,n,a){return(n===!0||n===s)&&(a===null||a===s)}function r5(s,n=10){let a=null;return Math.abs(s.y)>n?a="y":Math.abs(s.x)>n&&(a="x"),a}class o5 extends Ya{constructor(n){super(n),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new i5(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lb=s=>(n,a)=>{s&&ot.postRender(()=>s(n,a))};class l5 extends Ya{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(n){this.session=new y1(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g1(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:a,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:Lb(n),onStart:Lb(a),onMove:r,onEnd:(d,f)=>{delete this.session,l&&ot.postRender(()=>l(d,f))}}}mount(){this.removePointerDownListener=dl(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let mh=!1;class c5 extends w.Component{componentDidMount(){const{visualElement:n,layoutGroup:a,switchLayoutGroup:r,layoutId:l}=this.props,{projection:d}=n;d&&(a.group&&a.group.add(d),r&&r.register&&l&&r.register(d),mh&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),hu.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:a,visualElement:r,drag:l,isPresent:d}=this.props,{projection:f}=r;return f&&(f.isPresent=d,mh=!0,l||n.layoutDependency!==a||a===void 0||n.isPresent!==d?f.willUpdate():this.safeToRemove(),n.isPresent!==d&&(d?f.promote():f.relegate()||ot.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),Om.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:l}=n;mh=!0,l&&(l.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function v1(s){const[n,a]=Hx(),r=w.useContext(ym);return c.jsx(c5,{...s,layoutGroup:r,switchLayoutGroup:w.useContext(Jx),isPresent:n,safeToRemove:a})}function u5(s,n,a){const r=sn(s)?s:Fr(s);return r.start(Wm("",r,n,a)),r.animation}const d5=(s,n)=>s.depth-n.depth;class f5{constructor(){this.children=[],this.isDirty=!1}add(n){xm(this.children,n),this.isDirty=!0}remove(n){Sm(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(d5),this.isDirty=!1,this.children.forEach(n)}}function h5(s,n){const a=gn.now(),r=({timestamp:l})=>{const d=l-a;d>=n&&(Ga(r),s(d-n))};return ot.setup(r,!0),()=>Ga(r)}const x1=["TopLeft","TopRight","BottomLeft","BottomRight"],m5=x1.length,Ob=s=>typeof s=="string"?parseFloat(s):s,Ib=s=>typeof s=="number"||ge.test(s);function p5(s,n,a,r,l,d){l?(s.opacity=ft(0,a.opacity??1,g5(r)),s.opacityExit=ft(n.opacity??1,0,y5(r))):d&&(s.opacity=ft(n.opacity??1,a.opacity??1,r));for(let f=0;f<m5;f++){const m=`border${x1[f]}Radius`;let p=Pb(n,m),y=Pb(a,m);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||Ib(p)===Ib(y)?(s[m]=Math.max(ft(Ob(p),Ob(y),r),0),(Ms.test(y)||Ms.test(p))&&(s[m]+="%")):s[m]=y}(n.rotate||a.rotate)&&(s.rotate=ft(n.rotate||0,a.rotate||0,r))}function Pb(s,n){return s[n]!==void 0?s[n]:s.borderRadius}const g5=S1(0,.5,rx),y5=S1(.5,.95,Wn);function S1(s,n,a){return r=>r<s?0:r>n?1:a(pl(s,n,r))}function Hb(s,n){s.min=n.min,s.max=n.max}function ts(s,n){Hb(s.x,n.x),Hb(s.y,n.y)}function Vb(s,n){s.translate=n.translate,s.scale=n.scale,s.originPoint=n.originPoint,s.origin=n.origin}function $b(s,n,a,r,l){return s-=n,s=Su(s,1/a,r),l!==void 0&&(s=Su(s,1/l,r)),s}function b5(s,n=0,a=1,r=.5,l,d=s,f=s){if(Ms.test(n)&&(n=parseFloat(n),n=ft(f.min,f.max,n/100)-f.min),typeof n!="number")return;let m=ft(d.min,d.max,r);s===d&&(m-=n),s.min=$b(s.min,n,a,m,l),s.max=$b(s.max,n,a,m,l)}function Fb(s,n,[a,r,l],d,f){b5(s,n[a],n[r],n[l],n.scale,d,f)}const v5=["x","scaleX","originX"],x5=["y","scaleY","originY"];function Gb(s,n,a,r){Fb(s.x,n,v5,a?a.x:void 0,r?r.x:void 0),Fb(s.y,n,x5,a?a.y:void 0,r?r.y:void 0)}function qb(s){return s.translate===0&&s.scale===1}function _1(s){return qb(s.x)&&qb(s.y)}function Yb(s,n){return s.min===n.min&&s.max===n.max}function S5(s,n){return Yb(s.x,n.x)&&Yb(s.y,n.y)}function Xb(s,n){return Math.round(s.min)===Math.round(n.min)&&Math.round(s.max)===Math.round(n.max)}function w1(s,n){return Xb(s.x,n.x)&&Xb(s.y,n.y)}function Wb(s){return on(s.x)/on(s.y)}function Kb(s,n){return s.translate===n.translate&&s.scale===n.scale&&s.originPoint===n.originPoint}class _5{constructor(){this.members=[]}add(n){xm(this.members,n),n.scheduleRender()}remove(n){if(Sm(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(n){const a=this.members.findIndex(l=>n===l);if(a===0)return!1;let r;for(let l=a;l>=0;l--){const d=this.members[l];if(d.isPresent!==!1){r=d;break}}return r?(this.promote(r),!0):!1}promote(n,a){const r=this.lead;if(n!==r&&(this.prevLead=r,this.lead=n,n.show(),r)){r.instance&&r.scheduleRender(),n.scheduleRender(),n.resumeFrom=r,a&&(n.resumeFrom.preserveOpacity=!0),r.snapshot&&(n.snapshot=r.snapshot,n.snapshot.latestValues=r.animationValues||r.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:a,resumingFrom:r}=n;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w5(s,n,a){let r="";const l=s.x.translate/n.x,d=s.y.translate/n.y,f=a?.z||0;if((l||d||f)&&(r=`translate3d(${l}px, ${d}px, ${f}px) `),(n.x!==1||n.y!==1)&&(r+=`scale(${1/n.x}, ${1/n.y}) `),a){const{transformPerspective:y,rotate:b,rotateX:v,rotateY:_,skewX:T,skewY:E}=a;y&&(r=`perspective(${y}px) ${r}`),b&&(r+=`rotate(${b}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),E&&(r+=`skewY(${E}deg) `)}const m=s.x.scale*n.x,p=s.y.scale*n.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const ph=["","X","Y","Z"],C5=1e3;let j5=0;function gh(s,n,a,r){const{latestValues:l}=n;l[s]&&(a[s]=l[s],n.setStaticValue(s,0),r&&(r[s]=0))}function C1(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:n}=s.options;if(!n)return;const a=c1(n);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:l,layoutId:d}=s.options;window.MotionCancelOptimisedAnimation(a,"transform",ot,!(l||d))}const{parent:r}=s;r&&!r.hasCheckedOptimisedAppear&&C1(r)}function j1({attachResizeListener:s,defaultParent:n,measureScroll:a,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(f={},m=n?.()){this.id=j5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E5),this.nodes.forEach(R5),this.nodes.forEach(D5),this.nodes.forEach(A5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new f5)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Cm),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const p=this.eventHandlers.get(f);p&&p.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Px(f)&&!yj(f),this.instance=f;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),s){let b,v=0;const _=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{v=window.innerWidth}),s(f,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,b&&b(),b=h5(_,250),hu.hasAnimatedSinceResize&&(hu.hasAnimatedSinceResize=!1,this.nodes.forEach(Jb)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||O5,{onLayoutAnimationStart:M,onLayoutAnimationComplete:N}=y.getProps(),P=!this.targetLayout||!w1(this.targetLayout,T),Q=!v&&_;if(this.options.layoutRoot||this.resumeFrom||Q||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...Um(E,"layout"),onPlay:M,onComplete:N};(y.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(b,Q)}else v||Jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B5),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&C1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const v=this.path[b];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N5),this.nodes.forEach(T5),this.nodes.forEach(M5)):this.nodes.forEach(Zb),this.clearAllSnapshots();const m=gn.now();Kt.delta=na(0,1e3/60,m-Kt.timestamp),Kt.timestamp=m,Kt.isProcessing=!0,ah.update.process(Kt),ah.preRender.process(Kt),ah.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Om.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k5),this.sharedNodes.forEach(z5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:p,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!_1(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,b=y!==this.prevTransformTemplateValue;f&&this.instance&&(m||wi(this.latestValues)||b)&&(l(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return f&&(p=this.removeTransform(p)),I5(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return zt();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(P5))){const{scroll:y}=this.root;y&&(Lr(m.x,y.offset.x),Lr(m.y,y.offset.y))}return m}removeElementScroll(f){const m=zt();if(ts(m,f),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:b,options:v}=y;y!==this.root&&b&&v.layoutScroll&&(b.wasRoot&&ts(m,f),Lr(m.x,b.offset.x),Lr(m.y,b.offset.y))}return m}applyTransform(f,m=!1){const p=zt();ts(p,f);for(let y=0;y<this.path.length;y++){const b=this.path[y];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Or(p,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),wi(b.latestValues)&&Or(p,b.latestValues)}return wi(this.latestValues)&&Or(p,this.latestValues),p}removeTransform(f){const m=zt();ts(m,f);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!wi(y.latestValues))continue;Kh(y.latestValues)&&y.updateSnapshot();const b=zt(),v=y.measurePageBox();ts(b,v),Gb(m,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,b)}return wi(this.latestValues)&&Gb(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:v}=this.options;if(!this.layout||!(b||v))return;this.resolvedRelativeTargetAt=Kt.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ts(this.target,this.layout.layoutBox),s1(this.target,this.targetDelta)):ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kh(this.parent.latestValues)||n1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,m,p){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),_u(this.relativeTargetOrigin,m,p),ts(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||b))return;ts(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;rT(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=zt());const{target:T}=f;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vb(this.prevProjectionDelta.x,this.projectionDelta.x),Vb(this.prevProjectionDelta.y,this.projectionDelta.y)),fl(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!Kb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ir(),this.projectionDelta=Ir(),this.projectionDeltaWithTransform=Ir()}setAnimationOrigin(f,m=!1){const p=this.snapshot,y=p?p.latestValues:{},b={...this.latestValues},v=Ir();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const _=zt(),T=p?p.source:void 0,E=this.layout?this.layout.source:void 0,M=T!==E,N=this.getStack(),P=!N||N.members.length<=1,Q=!!(M&&!P&&this.options.crossfade===!0&&!this.path.some(L5));this.animationProgress=0;let V;this.mixTargetDelta=J=>{const q=J/1e3;ev(v.x,f.x,q),ev(v.y,f.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_u(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U5(this.relativeTarget,this.relativeTargetOrigin,_,q),V&&S5(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=zt()),ts(V,this.relativeTarget)),M&&(this.animationValues=b,p5(b,y,this.latestValues,q,Q,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{hu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fr(0)),this.currentAnimation=u5(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:p,layout:y,latestValues:b}=f;if(!(!m||!p||!y)){if(this!==f&&this.layout&&y&&T1(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||zt();const v=on(this.layout.layoutBox.x);p.x.min=f.target.x.min,p.x.max=p.x.min+v;const _=on(this.layout.layoutBox.y);p.y.min=f.target.y.min,p.y.max=p.y.min+_}ts(m,p),Or(m,b),fl(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new _5),this.sharedNodes.get(f).add(m);const y=m.options.initialPromotionConfig;m.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:p}=f;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const y={};p.z&&gh("z",f,y,this.animationValues);for(let b=0;b<ph.length;b++)gh(`rotate${ph[b]}`,f,y,this.animationValues),gh(`skew${ph[b]}`,f,y,this.animationValues);f.render();for(const b in y)f.setStaticValue(b,y[b]),this.animationValues&&(this.animationValues[b]=y[b]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=fu(m?.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=fu(m?.pointerEvents)||""),this.hasProjected&&!wi(this.latestValues)&&(f.transform=p?p({},""):"none",this.hasProjected=!1);return}f.visibility="";const b=y.animationValues||y.latestValues;this.applyTransformsToTarget();let v=w5(this.projectionDeltaWithTransform,this.treeScale,b);p&&(v=p(b,v)),f.transform=v;const{x:_,y:T}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,y.animationValues?f.opacity=y===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=y===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const E in Wh){if(b[E]===void 0)continue;const{correct:M,applyTo:N,isCSSVariable:P}=Wh[E],Q=v==="none"?b[E]:M(b[E],y);if(N){const V=N.length;for(let J=0;J<V;J++)f[N[J]]=Q}else P?this.options.visualElement.renderState.vars[E]=Q:f[E]=Q}this.options.layoutId&&(f.pointerEvents=y===this?fu(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(Qb),this.root.sharedNodes.clear()}}}function T5(s){s.updateLayout()}function M5(s){const n=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&n&&s.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=s.layout,{animationType:l}=s.options,d=n.source!==s.layout.source;l==="size"?qn(b=>{const v=d?n.measuredBox[b]:n.layoutBox[b],_=on(v);v.min=a[b].min,v.max=v.min+_}):T1(l,n.layoutBox,a)&&qn(b=>{const v=d?n.measuredBox[b]:n.layoutBox[b],_=on(a[b]);v.max=v.min+_,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[b].max=s.relativeTarget[b].min+_)});const f=Ir();fl(f,a,n.layoutBox);const m=Ir();d?fl(m,s.applyTransform(r,!0),n.measuredBox):fl(m,a,n.layoutBox);const p=!_1(f);let y=!1;if(!s.resumeFrom){const b=s.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:v,layout:_}=b;if(v&&_){const T=zt();_u(T,n.layoutBox,v.layoutBox);const E=zt();_u(E,a,_.layoutBox),w1(T,E)||(y=!0),b.options.layoutRoot&&(s.relativeTarget=E,s.relativeTargetOrigin=T,s.relativeParent=b)}}}s.notifyListeners("didUpdate",{layout:a,snapshot:n,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(s.isLead()){const{onExitComplete:a}=s.options;a&&a()}s.options.transition=void 0}function E5(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function A5(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function k5(s){s.clearSnapshot()}function Qb(s){s.clearMeasurements()}function Zb(s){s.isLayoutDirty=!1}function N5(s){const{visualElement:n}=s.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),s.resetTransform()}function Jb(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function R5(s){s.resolveTargetDelta()}function D5(s){s.calcProjection()}function B5(s){s.resetSkewAndRotation()}function z5(s){s.removeLeadSnapshot()}function ev(s,n,a){s.translate=ft(n.translate,0,a),s.scale=ft(n.scale,1,a),s.origin=n.origin,s.originPoint=n.originPoint}function tv(s,n,a,r){s.min=ft(n.min,a.min,r),s.max=ft(n.max,a.max,r)}function U5(s,n,a,r){tv(s.x,n.x,a.x,r),tv(s.y,n.y,a.y,r)}function L5(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const O5={duration:.45,ease:[.4,0,.1,1]},nv=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),sv=nv("applewebkit/")&&!nv("chrome/")?Math.round:Wn;function av(s){s.min=sv(s.min),s.max=sv(s.max)}function I5(s){av(s.x),av(s.y)}function T1(s,n,a){return s==="position"||s==="preserve-aspect"&&!YT(Wb(n),Wb(a),.2)}function P5(s){return s!==s.root&&s.scroll?.wasRoot}const H5=j1({attachResizeListener:(s,n)=>vl(s,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yh={current:void 0},M1=j1({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!yh.current){const s=new H5({});s.mount(window),s.setOptions({layoutScroll:!0}),yh.current=s}return yh.current},resetTransform:(s,n)=>{s.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),V5={pan:{Feature:l5},drag:{Feature:o5,ProjectionNode:M1,MeasureLayout:v1}};function iv(s,n,a){const{props:r}=s;s.animationState&&r.whileHover&&s.animationState.setActive("whileHover",a==="Start");const l="onHover"+a,d=r[l];d&&ot.postRender(()=>d(n,Nl(n)))}class $5 extends Ya{mount(){const{current:n}=this.node;n&&(this.unmount=fj(n,(a,r)=>(iv(this.node,r,"Start"),l=>iv(this.node,l,"End"))))}unmount(){}}class F5 extends Ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=El(vl(this.node.current,"focus",()=>this.onFocus()),vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rv(s,n,a){const{props:r}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&r.whileTap&&s.animationState.setActive("whileTap",a==="Start");const l="onTap"+(a==="End"?"":a),d=r[l];d&&ot.postRender(()=>d(n,Nl(n)))}class G5 extends Ya{mount(){const{current:n}=this.node;n&&(this.unmount=gj(n,(a,r)=>(rv(this.node,r,"Start"),(l,{success:d})=>rv(this.node,l,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sm=new WeakMap,bh=new WeakMap,q5=s=>{const n=sm.get(s.target);n&&n(s)},Y5=s=>{s.forEach(q5)};function X5({root:s,...n}){const a=s||document;bh.has(a)||bh.set(a,{});const r=bh.get(a),l=JSON.stringify(n);return r[l]||(r[l]=new IntersectionObserver(Y5,{root:s,...n})),r[l]}function W5(s,n,a){const r=X5(n);return sm.set(s,a),r.observe(s),()=>{sm.delete(s),r.unobserve(s)}}const K5={some:0,all:1};class Q5 extends Ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:a,margin:r,amount:l="some",once:d}=n,f={root:a?a.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:K5[l]},m=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,d&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:b,onViewportLeave:v}=this.node.getProps(),_=y?b:v;_&&_(p)};return W5(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:a}=this.node;["amount","margin","root"].some(Z5(n,a))&&this.startObserver()}unmount(){}}function Z5({viewport:s={}},{viewport:n={}}={}){return a=>s[a]!==n[a]}const J5={inView:{Feature:Q5},tap:{Feature:G5},focus:{Feature:F5},hover:{Feature:$5}},eM={layout:{ProjectionNode:M1,MeasureLayout:v1}},tM={...HT,...J5,...V5,...eM},X=sT(tM,gT),vh=s=>{const[n,a]=w.useState(!1);return w.useEffect(()=>{const r=window.matchMedia(s);r.matches!==n&&a(r.matches);const l=()=>a(r.matches);return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[n,s]),n},nM=()=>{const[s,n]=w.useState({x:0,y:0}),[a,r]=w.useState(!1),[l,d]=w.useState(!1),[f,m]=w.useState(!1);return w.useEffect(()=>{const p=T=>{n({x:T.clientX,y:T.clientY}),d(!0);const M=T.target.closest('a, button, [role="button"], input, textarea, select, [onclick]');r(!!M)},y=()=>m(!0),b=()=>m(!1),v=()=>d(!1),_=()=>d(!0);return document.addEventListener("mousemove",p),document.addEventListener("mousedown",y),document.addEventListener("mouseup",b),document.addEventListener("mouseleave",v),document.addEventListener("mouseenter",_),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mousedown",y),document.removeEventListener("mouseup",b),document.removeEventListener("mouseleave",v),document.removeEventListener("mouseenter",_)}},[]),l?c.jsxs(c.Fragment,{children:[c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?40:12,height:a?40:12,borderRadius:"50%",background:a?"rgba(16, 185, 129, 0.15)":"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",border:a?"2px solid rgba(16, 185, 129, 0.6)":"none",pointerEvents:"none",zIndex:9999,transform:`translate(-50%, -50%) scale(${f?.8:1})`,transition:"width 0.2s ease, height 0.2s ease, background 0.2s ease, border 0.2s ease, transform 0.1s ease",mixBlendMode:"difference"}}),c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?50:32,height:a?50:32,borderRadius:"50%",border:`1.5px solid ${a?"rgba(16, 185, 129, 0.4)":"rgba(16, 185, 129, 0.5)"}`,pointerEvents:"none",zIndex:9998,transform:"translate(-50%, -50%)",transition:"width 0.3s ease, height 0.3s ease, border 0.2s ease"},animate:{x:s.x-s.x,y:s.y-s.y},transition:{type:"spring",stiffness:150,damping:15,mass:.1}})]}):null},sM=`
  /* Custom scrollbar - only for devices with fine pointer (mouse) */
  @media (pointer: fine) {
    /* Hide default cursor on landing page */
    .landing-page-custom-cursor {
      cursor: none !important;
    }
    .landing-page-custom-cursor * {
      cursor: none !important;
    }

    /* Custom Scrollbar for html/body */
    html:has(.landing-page-custom-cursor)::-webkit-scrollbar,
    body:has(.landing-page-custom-cursor)::-webkit-scrollbar {
      width: 12px;
    }

    html:has(.landing-page-custom-cursor)::-webkit-scrollbar-track,
    body:has(.landing-page-custom-cursor)::-webkit-scrollbar-track {
      background: #050505;
    }

    html:has(.landing-page-custom-cursor)::-webkit-scrollbar-thumb,
    body:has(.landing-page-custom-cursor)::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #10b981 0%, #0d9488 100%);
      border-radius: 6px;
      border: 3px solid #050505;
    }

    html:has(.landing-page-custom-cursor)::-webkit-scrollbar-thumb:hover,
    body:has(.landing-page-custom-cursor)::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #34d399 0%, #10b981 100%);
    }

    /* Firefox scrollbar */
    html:has(.landing-page-custom-cursor),
    body:has(.landing-page-custom-cursor) {
      scrollbar-width: thin;
      scrollbar-color: #10b981 #050505;
    }
  }

  /* Touch devices - use default cursor and scrollbar */
  @media (pointer: coarse) {
    .landing-page-custom-cursor {
      cursor: auto !important;
    }
    .landing-page-custom-cursor * {
      cursor: auto !important;
    }
  }
`,ss={page:{background:"#050505",fontFamily:'"DM Sans", sans-serif',color:"#f1f5f9",minHeight:"100vh",overflowX:"hidden"},h1:{fontFamily:'"Syne", sans-serif',color:"#ffffff",fontSize:"clamp(2.5rem, 8vw, 4.5rem)",fontWeight:700,lineHeight:1.1,marginBottom:"1.5rem"},h2:{fontFamily:'"Syne", sans-serif',color:"#f1f5f9",fontSize:"clamp(2rem, 5vw, 3rem)",fontWeight:700,lineHeight:1.2,marginBottom:"1.5rem"},h3:{fontFamily:'"Syne", sans-serif',color:"#f1f5f9",fontSize:"1.25rem",fontWeight:700,lineHeight:1.4,marginBottom:"0.75rem"},text:{color:"#94a3b8",fontSize:"1rem",lineHeight:1.7,marginBottom:0},textLarge:{color:"#94a3b8",fontSize:"1.125rem",lineHeight:1.7,marginBottom:0},gradientText:{background:"linear-gradient(135deg, #10b981 0%, #14b8a6 50%, #34d399 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}},aM=({delay:s,duration:n,size:a,left:r,top:l})=>c.jsx(X.div,{className:"absolute rounded-full",style:{width:a,height:a,left:r,top:l,background:"radial-gradient(circle, rgba(16,185,129,0.4) 0%, transparent 70%)",filter:"blur(1px)"},animate:{y:[-20,20,-20],x:[-10,10,-10],opacity:[.3,.6,.3],scale:[1,1.2,1]},transition:{duration:n,delay:s,repeat:1/0,ease:"easeInOut"}}),Rr=({size:s,color:n,delay:a,x:r,y:l})=>c.jsx(X.div,{style:{position:"absolute",left:r,top:l},initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,y:[0,-15,0]},transition:{opacity:{duration:.6,delay:a},scale:{duration:.6,delay:a},y:{duration:3,delay:a+.5,repeat:1/0,ease:"easeInOut"}},children:c.jsxs("div",{style:{position:"relative",width:s,height:s,transformStyle:"preserve-3d",transform:"rotateX(-20deg) rotateY(45deg)"},children:[c.jsx("div",{style:{position:"absolute",inset:0,background:`linear-gradient(135deg, ${n} 0%, ${n}99 100%)`,transform:`translateZ(${s/2}px)`,borderRadius:8,boxShadow:`0 0 30px ${n}66`}}),c.jsx("div",{style:{position:"absolute",inset:0,background:`linear-gradient(180deg, ${n}cc 0%, ${n}66 100%)`,transform:`rotateX(-90deg) translateZ(${s/2}px)`,borderRadius:8}}),c.jsx("div",{style:{position:"absolute",inset:0,background:`linear-gradient(90deg, ${n}99 0%, ${n}44 100%)`,transform:`rotateY(90deg) translateZ(${s/2}px)`,borderRadius:8}})]})}),iM=({icon:s,title:n,description:a})=>c.jsx(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5},whileHover:{y:-8,scale:1.02},style:{position:"relative"},children:c.jsxs("div",{style:{position:"relative",overflow:"hidden",borderRadius:"1rem",padding:"2rem",height:"100%",background:"linear-gradient(145deg, rgba(20,20,20,0.95) 0%, rgba(10,10,10,0.98) 100%)",border:"1px solid rgba(16,185,129,0.2)"},children:[c.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"3.5rem",height:"3.5rem",borderRadius:"0.75rem",marginBottom:"1.5rem",background:"linear-gradient(135deg, rgba(16,185,129,0.2) 0%, rgba(20,184,166,0.1) 100%)",border:"1px solid rgba(16,185,129,0.3)"},children:c.jsx(s,{style:{width:"1.75rem",height:"1.75rem",color:"#34d399"}})}),c.jsx("h3",{style:ss.h3,children:n}),c.jsx("p",{style:ss.text,children:a})]})}),rM=()=>{const s=w.useRef(null),n=vh("(max-width: 640px)"),a=vh("(max-width: 1024px)"),r=vh("(pointer: fine)");w.useEffect(()=>{const f="landing-page-custom-styles";if(!document.getElementById(f)){const m=document.createElement("style");m.id=f,m.textContent=sM,document.head.appendChild(m)}return()=>{const m=document.getElementById(f);m&&m.remove()}},[]);const l=Array.from({length:20},(f,m)=>({id:m,delay:Math.random()*2,duration:4+Math.random()*3,size:4+Math.random()*8,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`})),d=[{icon:f_,title:"Real-time Messaging",description:"Lightning-fast message delivery with live typing indicators. Your conversations flow naturally without any delays."},{icon:Ui,title:"End-to-End Security",description:"Your conversations stay private with military-grade encryption. Only you and your recipients can read your messages."},{icon:Ut,title:"Group Collaboration",description:"Create channels, manage groups, and share files seamlessly. Perfect for teams of any size."}];return c.jsxs("div",{ref:s,className:r?"landing-page-custom-cursor":"",style:ss.page,children:[r&&c.jsx(nM,{}),c.jsx("div",{className:"fixed inset-0 pointer-events-none",style:{background:`
            radial-gradient(ellipse 80% 50% at 20% -10%, rgba(16,185,129,0.15) 0%, transparent 50%),
            radial-gradient(ellipse 60% 40% at 80% 10%, rgba(20,184,166,0.1) 0%, transparent 50%),
            radial-gradient(ellipse 50% 30% at 50% 100%, rgba(16,185,129,0.08) 0%, transparent 50%)
          `}}),c.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:l.map(f=>c.jsx(aM,{...f},f.id))}),c.jsx(X.nav,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},style:{position:"fixed",top:0,left:0,right:0,zIndex:50,backdropFilter:"blur(12px)",background:"rgba(5,5,5,0.85)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:c.jsxs("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:n?"0.875rem 1rem":"1rem 1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs(js,{to:"/",style:{display:"flex",alignItems:"center",gap:n?"0.5rem":"0.75rem",textDecoration:"none"},children:[c.jsx("div",{style:{width:n?"2rem":"2.5rem",height:n?"2rem":"2.5rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",boxShadow:"0 0 20px rgba(16,185,129,0.4)"},children:c.jsx(hl,{style:{width:n?"1rem":"1.25rem",height:n?"1rem":"1.25rem",color:"#ffffff"}})}),c.jsx("span",{style:{fontSize:n?"1rem":"1.25rem",fontWeight:700,color:"#ffffff",fontFamily:'"Syne", sans-serif'},children:"Simpchat"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:n?"0.5rem":"0.75rem"},children:[c.jsx(js,{to:"/login",style:{padding:n?"0.375rem 0.625rem":"0.5rem 1rem",fontSize:n?"0.813rem":"0.875rem",fontWeight:600,color:"#10b981",textDecoration:"none",borderRadius:"0.5rem",transition:"all 0.2s ease"},children:"Sign In"}),c.jsx(js,{to:"/register",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:n?"0.5rem 0.875rem":"0.625rem 1.25rem",fontSize:n?"0.813rem":"0.875rem",fontWeight:600,borderRadius:"0.5rem",background:"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",color:"#050505",textDecoration:"none",boxShadow:"0 0 20px rgba(16,185,129,0.3)",transition:"all 0.2s ease"},children:"Get Started"})]})]})}),c.jsxs("section",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"5rem"},children:[c.jsx("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:n?"3rem 1rem":"5rem 1.5rem"},children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(2, 1fr)",gap:a?"2rem":"4rem",alignItems:"center"},children:[c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},style:{marginBottom:"1.5rem"},children:c.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:500,background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",color:"#10b981"},children:[c.jsx(Eh,{style:{width:"1rem",height:"1rem"}}),"Simple. Secure. Seamless."]})}),c.jsxs(X.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},style:ss.h1,children:[c.jsx("span",{style:{color:"#ffffff"},children:"Connect."}),c.jsx("br",{}),c.jsx("span",{style:ss.gradientText,children:"Chat."}),c.jsx("br",{}),c.jsx("span",{style:{color:"#ffffff"},children:"Simplify."})]}),c.jsx(X.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},style:{...ss.textLarge,marginBottom:"2.5rem",maxWidth:"32rem",margin:"0 auto 2.5rem auto"},children:"Experience real-time messaging reimagined. Simpchat brings you instant communication with uncompromising security and elegant simplicity."}),c.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},style:{display:"flex",flexDirection:"row",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[c.jsxs(js,{to:"/register",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.875rem 1.75rem",fontSize:"0.938rem",fontWeight:600,borderRadius:"0.75rem",background:"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",color:"#050505",boxShadow:"0 0 25px rgba(16,185,129,0.35)",textDecoration:"none",transition:"all 0.3s ease"},children:["Start Chatting Free",c.jsx(zi,{style:{width:"1.125rem",height:"1.125rem"}})]}),c.jsx(js,{to:"/login",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.875rem 1.75rem",fontSize:"0.938rem",fontWeight:600,borderRadius:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.15)",color:"#f1f5f9",textDecoration:"none",transition:"all 0.3s ease"},children:"Open App"})]}),c.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.7},style:{display:"flex",flexDirection:n?"column":"row",alignItems:"center",gap:n?"0.75rem":"2rem",marginTop:"2.5rem",justifyContent:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(om,{style:{width:"1rem",height:"1rem",color:"#34d399"}}),c.jsx("span",{style:{fontSize:n?"0.813rem":"0.875rem",color:"#64748b"},children:"End-to-end encrypted"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(lm,{style:{width:"1rem",height:"1rem",color:"#34d399"}}),c.jsx("span",{style:{fontSize:n?"0.813rem":"0.875rem",color:"#64748b"},children:"Real-time notifications"})]})]})]}),!a&&c.jsx("div",{style:{position:"relative",height:"500px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:[c.jsx("div",{style:{position:"absolute",width:"20rem",height:"20rem",borderRadius:"50%",background:"radial-gradient(circle, rgba(16,185,129,0.25) 0%, transparent 70%)",filter:"blur(40px)"}}),c.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",perspective:"1000px"},children:[c.jsx(Rr,{size:100,color:"#10b981",delay:0,x:180,y:120}),c.jsx(Rr,{size:70,color:"#14b8a6",delay:.2,x:280,y:180}),c.jsx(Rr,{size:50,color:"#34d399",delay:.4,x:220,y:250}),c.jsx(Rr,{size:80,color:"#10b981",delay:.3,x:120,y:200}),c.jsx(Rr,{size:60,color:"#0d9488",delay:.5,x:300,y:280}),c.jsx(Rr,{size:40,color:"#14b8a6",delay:.6,x:160,y:300})]}),c.jsx(X.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.8},style:{position:"absolute",top:"25%",right:"2.5rem"},children:c.jsx("div",{style:{padding:"1rem 1.5rem",borderRadius:"1rem",borderBottomRightRadius:"0.375rem",background:"linear-gradient(135deg, rgba(16,185,129,0.2) 0%, rgba(16,185,129,0.1) 100%)",border:"1px solid rgba(16,185,129,0.3)",backdropFilter:"blur(10px)"},children:c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:500,color:"#6ee7b7",margin:0},children:"Hey! Welcome to Simpchat"})})}),c.jsx(X.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:1},style:{position:"absolute",bottom:"25%",left:"2.5rem"},children:c.jsx("div",{style:{padding:"1rem 1.5rem",borderRadius:"1rem",borderBottomLeftRadius:"0.375rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",backdropFilter:"blur(10px)"},children:c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:500,color:"#cbd5e1",margin:0},children:"Thanks! This is amazing"})})})]})})]})}),c.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},style:{position:"absolute",bottom:"2.5rem",left:"50%",transform:"translateX(-50%)",cursor:"pointer"},onClick:()=>document.getElementById("features")?.scrollIntoView({behavior:"smooth"}),children:[c.jsx(X.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},style:{width:"2rem",height:"3.5rem",borderRadius:"9999px",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"0.625rem",border:"2px solid rgba(255,255,255,0.25)",background:"rgba(255,255,255,0.03)"},children:c.jsx(X.div,{animate:{y:[0,8,0],opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},style:{width:"0.5rem",height:"1rem",borderRadius:"9999px",background:"linear-gradient(180deg, #10b981 0%, #14b8a6 100%)",boxShadow:"0 0 8px rgba(16,185,129,0.5)"}})}),c.jsx("p",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",marginTop:"0.5rem",textAlign:"center",fontWeight:500},children:"Scroll"})]})]}),c.jsx("section",{id:"features",style:{position:"relative",padding:n?"4rem 0":"8rem 0"},children:c.jsxs("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:n?"0 1rem":"0 1.5rem"},children:[c.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},style:{textAlign:"center",marginBottom:"4rem"},children:[c.jsxs("h2",{style:ss.h2,children:["Built for"," ",c.jsx("span",{style:ss.gradientText,children:"Modern Teams"})]}),c.jsx("p",{style:{...ss.textLarge,maxWidth:"42rem",margin:"0 auto"},children:"Everything you need for seamless communication, wrapped in an elegant interface that stays out of your way."})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",gap:n?"1rem":"1.5rem"},children:d.map((f,m)=>c.jsx(iM,{...f,index:m},f.title))})]})}),c.jsx("section",{style:{position:"relative",padding:n?"4rem 0":"8rem 0"},children:c.jsx("div",{style:{maxWidth:"56rem",margin:"0 auto",padding:n?"0 1rem":"0 1.5rem",textAlign:"center"},children:c.jsxs(X.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},style:{position:"relative",borderRadius:n?"1rem":"1.5rem",padding:n?"2.5rem 1.5rem":"4rem 3rem",overflow:"hidden",background:"linear-gradient(145deg, rgba(16,185,129,0.1) 0%, rgba(5,5,5,0.9) 100%)",border:"1px solid rgba(16,185,129,0.2)"},children:[c.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:"100%",height:"50%",background:"radial-gradient(ellipse at center top, rgba(16,185,129,0.15) 0%, transparent 70%)"}}),c.jsx("h2",{style:{...ss.h2,position:"relative"},children:"Ready to simplify your conversations?"}),c.jsx("p",{style:{...ss.textLarge,position:"relative",maxWidth:"32rem",margin:"0 auto 2.5rem auto"},children:"Join thousands of users who have already made the switch to simpler, more secure messaging."}),c.jsxs(js,{to:"/register",style:{position:"relative",display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"1rem 2rem",fontSize:"1rem",fontWeight:600,borderRadius:"0.75rem",background:"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",color:"#050505",boxShadow:"0 0 40px rgba(16,185,129,0.4)",textDecoration:"none"},children:["Get Started  It's Free",c.jsx(zi,{style:{width:"1.25rem",height:"1.25rem"}})]})]})})}),c.jsx("footer",{style:{position:"relative",padding:n?"2rem 0":"3rem 0",borderTop:"1px solid rgba(255,255,255,0.05)"},children:c.jsx("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:n?"0 1rem":"0 1.5rem"},children:c.jsxs("div",{style:{display:"flex",flexDirection:n?"column":"row",alignItems:"center",justifyContent:n?"center":"space-between",gap:n?"1rem":"1.5rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[c.jsx("div",{style:{width:"2rem",height:"2rem",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)"},children:c.jsx(hl,{style:{width:"1rem",height:"1rem",color:"#ffffff"}})}),c.jsx("span",{style:{fontSize:"1.125rem",fontWeight:700,color:"#ffffff",fontFamily:'"Syne", sans-serif'},children:"Simpchat"})]}),c.jsxs("p",{style:{fontSize:"0.875rem",color:"#64748b",margin:0},children:[" ",new Date().getFullYear()," Simpchat. All rights reserved."]})]})})})]})},oM="_authContainer_1u6uv_47",lM="_orb_1u6uv_99",cM="_orb1_1u6uv_117",uM="_orb2_1u6uv_135",dM="_orb3_1u6uv_153",fM="_authCard_1u6uv_175",hM="_header_1u6uv_213",mM="_iconWrapper_1u6uv_225",pM="_title_1u6uv_257",gM="_subtitle_1u6uv_277",yM="_errorAlert_1u6uv_293",bM="_successAlert_1u6uv_343",vM="_form_1u6uv_393",xM="_inputGroup_1u6uv_401",SM="_label_1u6uv_409",_M="_inputWrapper_1u6uv_425",wM="_input_1u6uv_401",CM="_inputPassword_1u6uv_507",jM="_togglePassword_1u6uv_515",TM="_forgotLink_1u6uv_555",MM="_submitBtn_1u6uv_599",EM="_footer_1u6uv_689",AM="_backBtn_1u6uv_747",kM="_verifiedBadge_1u6uv_789",NM="_otpInput_1u6uv_837",RM="_resendSection_1u6uv_855",DM="_resendBtn_1u6uv_879",BM="_spinner_1u6uv_923",L={authContainer:oM,orb:lM,orb1:cM,orb2:uM,orb3:dM,authCard:fM,header:hM,iconWrapper:mM,title:pM,subtitle:gM,errorAlert:yM,successAlert:bM,form:vM,inputGroup:xM,label:SM,inputWrapper:_M,input:wM,inputPassword:CM,togglePassword:jM,forgotLink:TM,submitBtn:MM,footer:EM,backBtn:AM,verifiedBadge:kM,otpInput:NM,resendSection:RM,resendBtn:DM,spinner:BM},zM=()=>{const s=rm(),{login:n,isLoading:a,error:r,clearError:l}=Ml(),[d,f]=w.useState(""),[m,p]=w.useState(""),[y,b]=w.useState(!1),v=async _=>{_.preventDefault(),l();try{console.log("[LoginForm] Starting login..."),await n({credential:d,password:m});const T=st.getState();console.log("[LoginForm] Login successful. Auth state:",{hasToken:!!T.token,hasUser:!!T.user,isLoading:T.isLoading}),T.token&&T.user?(console.log("[LoginForm] Auth state verified, navigating to dashboard..."),s("/dashboard-new")):console.error("[LoginForm] Login completed but auth state not set!")}catch(T){console.error("[LoginForm] Login error:",T)}};return c.jsxs("div",{className:L.authContainer,children:[c.jsx("div",{className:`${L.orb} ${L.orb1}`}),c.jsx("div",{className:`${L.orb} ${L.orb2}`}),c.jsx("div",{className:`${L.orb} ${L.orb3}`}),c.jsxs("div",{className:L.authCard,children:[c.jsxs("div",{className:L.header,children:[c.jsx("div",{className:L.iconWrapper,children:c.jsx(hl,{size:32,color:"#ffffff"})}),c.jsx("h1",{className:L.title,children:"Sign In"}),c.jsx("p",{className:L.subtitle,children:"Welcome back to Simpchat"})]}),r&&c.jsxs("div",{className:L.errorAlert,children:[c.jsx(Fa,{size:20}),c.jsx("p",{children:r})]}),c.jsxs("form",{onSubmit:v,className:L.form,children:[c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"credential",className:L.label,children:"Email or Username"}),c.jsx("input",{id:"credential",type:"text",value:d,onChange:_=>f(_.target.value),placeholder:"john@example.com",required:!0,disabled:a,className:L.input})]}),c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"password",className:L.label,children:"Password"}),c.jsxs("div",{className:L.inputWrapper,children:[c.jsx("input",{id:"password",type:y?"text":"password",value:m,onChange:_=>p(_.target.value),placeholder:"",required:!0,disabled:a,className:`${L.input} ${L.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>b(!y),disabled:a,className:L.togglePassword,children:y?c.jsx(ml,{size:20}):c.jsx(Vr,{size:20})})]})]}),c.jsx("div",{className:L.forgotLink,children:c.jsx(js,{to:"/forgot-password",children:"Forgot password?"})}),c.jsx("button",{type:"submit",disabled:a||!d||!m,className:L.submitBtn,children:a?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:L.spinner}),"Signing in..."]}):c.jsxs(c.Fragment,{children:["Sign In",c.jsx(zi,{size:20})]})})]}),c.jsxs("div",{className:L.footer,children:[c.jsx("p",{children:"Don't have an account?"}),c.jsx(js,{to:"/register",children:"Create Account "})]})]})]})},UM=s=>{const[n,a]=w.useState(!1);return w.useEffect(()=>{const r=window.matchMedia(s);r.matches!==n&&a(r.matches);const l=()=>a(r.matches);return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[n,s]),n},LM=()=>{const[s,n]=w.useState({x:0,y:0}),[a,r]=w.useState(!1),[l,d]=w.useState(!1),[f,m]=w.useState(!1);return w.useEffect(()=>{const p=T=>{n({x:T.clientX,y:T.clientY}),d(!0);const M=T.target.closest('a, button, [role="button"], input, textarea, select, [onclick]');r(!!M)},y=()=>m(!0),b=()=>m(!1),v=()=>d(!1),_=()=>d(!0);return document.addEventListener("mousemove",p),document.addEventListener("mousedown",y),document.addEventListener("mouseup",b),document.addEventListener("mouseleave",v),document.addEventListener("mouseenter",_),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mousedown",y),document.removeEventListener("mouseup",b),document.removeEventListener("mouseleave",v),document.removeEventListener("mouseenter",_)}},[]),l?c.jsxs(c.Fragment,{children:[c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?40:12,height:a?40:12,borderRadius:"50%",background:a?"rgba(16, 185, 129, 0.15)":"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",border:a?"2px solid rgba(16, 185, 129, 0.6)":"none",pointerEvents:"none",zIndex:9999,transform:`translate(-50%, -50%) scale(${f?.8:1})`,transition:"width 0.2s ease, height 0.2s ease, background 0.2s ease, border 0.2s ease, transform 0.1s ease",mixBlendMode:"difference"}}),c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?50:32,height:a?50:32,borderRadius:"50%",border:`1.5px solid ${a?"rgba(16, 185, 129, 0.4)":"rgba(16, 185, 129, 0.5)"}`,pointerEvents:"none",zIndex:9998,transform:"translate(-50%, -50%)",transition:"width 0.3s ease, height 0.3s ease, border 0.2s ease"}})]}):null},OM=`
  @media (pointer: fine) {
    .auth-page-custom-cursor {
      cursor: none !important;
    }
    .auth-page-custom-cursor * {
      cursor: none !important;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar {
      width: 12px;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-track,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-track {
      background: #050505;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #10b981 0%, #0d9488 100%);
      border-radius: 6px;
      border: 3px solid #050505;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb:hover,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #34d399 0%, #10b981 100%);
    }

    html:has(.auth-page-custom-cursor),
    body:has(.auth-page-custom-cursor) {
      scrollbar-width: thin;
      scrollbar-color: #10b981 #050505;
    }
  }

  @media (pointer: coarse) {
    .auth-page-custom-cursor {
      cursor: auto !important;
    }
    .auth-page-custom-cursor * {
      cursor: auto !important;
    }
  }
`,IM=()=>{const s=UM("(pointer: fine)");return w.useEffect(()=>{const n="auth-page-custom-styles";if(!document.getElementById(n)){const a=document.createElement("style");a.id=n,a.textContent=OM,document.head.appendChild(a)}return()=>{const a=document.getElementById(n);a&&a.remove()}},[]),c.jsxs("div",{className:s?"auth-page-custom-cursor":"",children:[s&&c.jsx(LM,{}),c.jsx(zM,{})]})},PM=s=>{const n=typeof s=="string"?new Date(s):s,r=new Date().getTime()-n.getTime(),l=Math.floor(r/6e4),d=Math.floor(r/36e5),f=Math.floor(r/864e5);return l<1?"just now":l<60?`${l}m ago`:d<24?`${d}h ago`:f<7?`${f}d ago`:n.toLocaleDateString()},HM=s=>(typeof s=="string"?new Date(s):s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ov=(s,n)=>s.length<=n?s:s.substring(0,n)+"...",Yn=s=>{if(!s||s==="undefined"||s==="null")return"?";const n=String(s).trim();if(!n||n.length===0)return"?";const a=n.split(/\s+/).filter(r=>r.length>0);return a.length===0?"?":a.length===1?a[0][0]?.toUpperCase()||"?":a.map(r=>r[0]).join("").toUpperCase().slice(0,2)||"?"},E1=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),We=s=>{if(s)return s.replace("simpchat.filestorage:9000","localhost:9000").replace("localhost:9000","localhost:9000")},A1=s=>{if(!s)return"Unknown";const n=new Date(s),r=new Date().getTime()-n.getTime(),l=Math.floor(r/6e4),d=Math.floor(r/36e5),f=Math.floor(r/864e5);if(l<1)return"just now";if(l===1)return"1 minute ago";if(l<60)return`${l} minutes ago`;if(d===1)return"1 hour ago";if(d<24)return`${d} hours ago`;if(f===1)return`Yesterday at ${n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;if(f<7){const m=n.toLocaleDateString([],{weekday:"long"}),p=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${m} at ${p}`}return n.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})},VM=()=>{const s=rm(),{register:n,isLoading:a}=Ml(),[r,l]=w.useState("email"),[d,f]=w.useState(""),[m,p]=w.useState(""),[y,b]=w.useState(""),[v,_]=w.useState(""),[T,E]=w.useState(""),[M,N]=w.useState(!1),[P,Q]=w.useState(!1),[V,J]=w.useState(""),[q,ee]=w.useState(!1),se=async fe=>{if(fe.preventDefault(),J(""),!E1(d)){J("Please enter a valid email address");return}ee(!0);try{await $a.sendOTP(d),l("complete")}catch(je){J(It(je,"Failed to send verification code"))}finally{ee(!1)}},W=async fe=>{if(fe.preventDefault(),J(""),!m.trim()){J("Username is required");return}if(m.length<3){J("Username must be at least 3 characters");return}if(y.length<5){J("Password must be at least 5 characters");return}if(y!==v){J("Passwords do not match");return}if(!T.trim()){J("Verification code is required");return}try{console.log("[RegisterForm] Registering user..."),await n(d,m,y,T);const je=st.getState();console.log("[RegisterForm] Registration successful. Auth state:",{hasToken:!!je.token,hasUser:!!je.user,isLoading:je.isLoading}),je.token&&je.user?(console.log("[RegisterForm] Auth state verified, navigating to dashboard..."),s("/dashboard-new")):console.error("[RegisterForm] Registration completed but auth state not set!")}catch(je){J(It(je,"Registration failed"))}},ue=async()=>{J(""),ee(!0);try{await $a.sendOTP(d)}catch(fe){J(It(fe,"Failed to resend code"))}finally{ee(!1)}};return r==="email"?c.jsxs("div",{className:L.authContainer,children:[c.jsx("div",{className:`${L.orb} ${L.orb1}`}),c.jsx("div",{className:`${L.orb} ${L.orb2}`}),c.jsx("div",{className:`${L.orb} ${L.orb3}`}),c.jsxs("div",{className:L.authCard,children:[c.jsxs("div",{className:L.header,children:[c.jsx("div",{className:L.iconWrapper,children:c.jsx(hl,{size:32,color:"#ffffff"})}),c.jsx("h1",{className:L.title,children:"Create Account"}),c.jsx("p",{className:L.subtitle,children:"Join Simpchat today"})]}),V&&c.jsxs("div",{className:L.errorAlert,children:[c.jsx(Fa,{size:20}),c.jsx("p",{children:V})]}),c.jsxs("form",{onSubmit:se,className:L.form,children:[c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"email",className:L.label,children:"Email Address"}),c.jsx("input",{id:"email",type:"email",value:d,onChange:fe=>f(fe.target.value),placeholder:"you@example.com",required:!0,disabled:q,className:L.input})]}),c.jsx("button",{type:"submit",disabled:q||!d,className:L.submitBtn,children:q?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:L.spinner}),"Sending..."]}):c.jsxs(c.Fragment,{children:["Continue",c.jsx(zi,{size:20})]})})]}),c.jsxs("div",{className:L.footer,children:[c.jsx("p",{children:"Already have an account?"}),c.jsx(js,{to:"/login",children:"Sign In "})]})]})]}):c.jsxs("div",{className:L.authContainer,children:[c.jsx("div",{className:`${L.orb} ${L.orb1}`}),c.jsx("div",{className:`${L.orb} ${L.orb2}`}),c.jsx("div",{className:`${L.orb} ${L.orb3}`}),c.jsxs("div",{className:L.authCard,children:[c.jsxs("div",{className:L.header,style:{textAlign:"left"},children:[c.jsxs("button",{onClick:()=>l("email"),className:L.backBtn,children:[c.jsx(xv,{size:16}),"Back"]}),c.jsx("h1",{className:L.title,style:{textAlign:"left"},children:"Complete Profile"}),c.jsxs("div",{className:L.verifiedBadge,children:[c.jsx(Ah,{size:16}),c.jsxs("p",{children:["Email verified: ",d]})]})]}),V&&c.jsxs("div",{className:L.errorAlert,children:[c.jsx(Fa,{size:20}),c.jsx("p",{children:V})]}),c.jsxs("form",{onSubmit:W,className:L.form,children:[c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"username",className:L.label,children:"Username"}),c.jsx("input",{id:"username",type:"text",value:m,onChange:fe=>p(fe.target.value),placeholder:"johndoe",required:!0,disabled:a,className:L.input})]}),c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"password",className:L.label,children:"Password"}),c.jsxs("div",{className:L.inputWrapper,children:[c.jsx("input",{id:"password",type:M?"text":"password",value:y,onChange:fe=>b(fe.target.value),placeholder:"",required:!0,disabled:a,className:`${L.input} ${L.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>N(!M),disabled:a,className:L.togglePassword,children:M?c.jsx(ml,{size:20}):c.jsx(Vr,{size:20})})]})]}),c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"confirm-password",className:L.label,children:"Confirm Password"}),c.jsxs("div",{className:L.inputWrapper,children:[c.jsx("input",{id:"confirm-password",type:P?"text":"password",value:v,onChange:fe=>_(fe.target.value),placeholder:"",required:!0,disabled:a,className:`${L.input} ${L.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>Q(!P),disabled:a,className:L.togglePassword,children:P?c.jsx(ml,{size:20}):c.jsx(Vr,{size:20})})]})]}),c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"otp-code",className:L.label,children:"Verification Code"}),c.jsx("input",{id:"otp-code",type:"text",value:T,onChange:fe=>E(fe.target.value),placeholder:"000000",required:!0,disabled:a,className:`${L.input} ${L.otpInput}`})]}),c.jsx("button",{type:"submit",disabled:a||!m||!y||!v||!T,className:L.submitBtn,children:a?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:L.spinner}),"Creating..."]}):c.jsxs(c.Fragment,{children:["Create Account",c.jsx(zi,{size:20})]})})]}),c.jsxs("div",{className:L.resendSection,children:[c.jsx("p",{children:"Didn't get the code?"}),c.jsx("button",{onClick:ue,disabled:q,className:L.resendBtn,children:q?"Resending...":"Resend Code"})]})]})]})},$M=s=>{const[n,a]=w.useState(!1);return w.useEffect(()=>{const r=window.matchMedia(s);r.matches!==n&&a(r.matches);const l=()=>a(r.matches);return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[n,s]),n},FM=()=>{const[s,n]=w.useState({x:0,y:0}),[a,r]=w.useState(!1),[l,d]=w.useState(!1),[f,m]=w.useState(!1);return w.useEffect(()=>{const p=T=>{n({x:T.clientX,y:T.clientY}),d(!0);const M=T.target.closest('a, button, [role="button"], input, textarea, select, [onclick]');r(!!M)},y=()=>m(!0),b=()=>m(!1),v=()=>d(!1),_=()=>d(!0);return document.addEventListener("mousemove",p),document.addEventListener("mousedown",y),document.addEventListener("mouseup",b),document.addEventListener("mouseleave",v),document.addEventListener("mouseenter",_),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mousedown",y),document.removeEventListener("mouseup",b),document.removeEventListener("mouseleave",v),document.removeEventListener("mouseenter",_)}},[]),l?c.jsxs(c.Fragment,{children:[c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?40:12,height:a?40:12,borderRadius:"50%",background:a?"rgba(16, 185, 129, 0.15)":"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",border:a?"2px solid rgba(16, 185, 129, 0.6)":"none",pointerEvents:"none",zIndex:9999,transform:`translate(-50%, -50%) scale(${f?.8:1})`,transition:"width 0.2s ease, height 0.2s ease, background 0.2s ease, border 0.2s ease, transform 0.1s ease",mixBlendMode:"difference"}}),c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?50:32,height:a?50:32,borderRadius:"50%",border:`1.5px solid ${a?"rgba(16, 185, 129, 0.4)":"rgba(16, 185, 129, 0.5)"}`,pointerEvents:"none",zIndex:9998,transform:"translate(-50%, -50%)",transition:"width 0.3s ease, height 0.3s ease, border 0.2s ease"}})]}):null},GM=`
  @media (pointer: fine) {
    .auth-page-custom-cursor {
      cursor: none !important;
    }
    .auth-page-custom-cursor * {
      cursor: none !important;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar {
      width: 12px;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-track,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-track {
      background: #050505;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #10b981 0%, #0d9488 100%);
      border-radius: 6px;
      border: 3px solid #050505;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb:hover,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #34d399 0%, #10b981 100%);
    }

    html:has(.auth-page-custom-cursor),
    body:has(.auth-page-custom-cursor) {
      scrollbar-width: thin;
      scrollbar-color: #10b981 #050505;
    }
  }

  @media (pointer: coarse) {
    .auth-page-custom-cursor {
      cursor: auto !important;
    }
    .auth-page-custom-cursor * {
      cursor: auto !important;
    }
  }
`,qM=()=>{const s=$M("(pointer: fine)");return w.useEffect(()=>{const n="auth-page-custom-styles";if(!document.getElementById(n)){const a=document.createElement("style");a.id=n,a.textContent=GM,document.head.appendChild(a)}return()=>{const a=document.getElementById(n);a&&a.remove()}},[]),c.jsxs("div",{className:s?"auth-page-custom-cursor":"",children:[s&&c.jsx(FM,{}),c.jsx(VM,{})]})},YM=()=>{const s=rm(),[n,a]=w.useState("email"),[r,l]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(""),[y,b]=w.useState(""),[v,_]=w.useState(!1),[T,E]=w.useState(!1),[M,N]=w.useState(""),[P,Q]=w.useState(""),[V,J]=w.useState(!1),q=async W=>{if(W.preventDefault(),N(""),!E1(r)){N("Please enter a valid email address");return}J(!0);try{await $a.sendOTP(r),a("reset")}catch(ue){N(It(ue,"Failed to send verification code"))}finally{J(!1)}},ee=async W=>{if(W.preventDefault(),N(""),Q(""),d.length<5){N("Password must be at least 5 characters");return}if(d!==m){N("Passwords do not match");return}if(!y.trim()){N("Verification code is required");return}J(!0);try{await $a.resetPasswordByEmail(r,d,y),Q("Password reset successfully! Redirecting to login..."),setTimeout(()=>{s("/login")},2e3)}catch(ue){N(It(ue,"Failed to reset password"))}finally{J(!1)}},se=async()=>{N(""),J(!0);try{await $a.sendOTP(r)}catch(W){N(It(W,"Failed to resend code"))}finally{J(!1)}};return n==="email"?c.jsxs("div",{className:L.authContainer,children:[c.jsx("div",{className:`${L.orb} ${L.orb1}`}),c.jsx("div",{className:`${L.orb} ${L.orb2}`}),c.jsx("div",{className:`${L.orb} ${L.orb3}`}),c.jsxs("div",{className:L.authCard,children:[c.jsxs("div",{className:L.header,children:[c.jsx("div",{className:L.iconWrapper,children:c.jsx(h_,{size:32,color:"#ffffff"})}),c.jsx("h1",{className:L.title,children:"Forgot Password"}),c.jsx("p",{className:L.subtitle,children:"Enter your email to reset your password"})]}),M&&c.jsxs("div",{className:L.errorAlert,children:[c.jsx(Fa,{size:20}),c.jsx("p",{children:M})]}),c.jsxs("form",{onSubmit:q,className:L.form,children:[c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"email",className:L.label,children:"Email Address"}),c.jsx("input",{id:"email",type:"email",value:r,onChange:W=>l(W.target.value),placeholder:"you@example.com",required:!0,disabled:V,className:L.input})]}),c.jsx("button",{type:"submit",disabled:V||!r,className:L.submitBtn,children:V?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:L.spinner}),"Sending..."]}):c.jsxs(c.Fragment,{children:["Send Reset Code",c.jsx(zi,{size:20})]})})]}),c.jsxs("div",{className:L.footer,children:[c.jsx("p",{children:"Remember your password?"}),c.jsx(js,{to:"/login",children:"Back to Sign In "})]})]})]}):c.jsxs("div",{className:L.authContainer,children:[c.jsx("div",{className:`${L.orb} ${L.orb1}`}),c.jsx("div",{className:`${L.orb} ${L.orb2}`}),c.jsx("div",{className:`${L.orb} ${L.orb3}`}),c.jsxs("div",{className:L.authCard,children:[c.jsxs("div",{className:L.header,style:{textAlign:"left"},children:[c.jsxs("button",{onClick:()=>a("email"),className:L.backBtn,children:[c.jsx(xv,{size:16}),"Back"]}),c.jsx("h1",{className:L.title,style:{textAlign:"left"},children:"Reset Password"}),c.jsxs("div",{className:L.verifiedBadge,children:[c.jsx(Ah,{size:16}),c.jsxs("p",{children:["Code sent to: ",r]})]})]}),P&&c.jsxs("div",{className:L.successAlert,children:[c.jsx(Ah,{size:20}),c.jsx("p",{children:P})]}),M&&c.jsxs("div",{className:L.errorAlert,children:[c.jsx(Fa,{size:20}),c.jsx("p",{children:M})]}),c.jsxs("form",{onSubmit:ee,className:L.form,children:[c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"password",className:L.label,children:"New Password"}),c.jsxs("div",{className:L.inputWrapper,children:[c.jsx("input",{id:"password",type:v?"text":"password",value:d,onChange:W=>f(W.target.value),placeholder:"",required:!0,disabled:V||!!P,className:`${L.input} ${L.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>_(!v),disabled:V||!!P,className:L.togglePassword,children:v?c.jsx(ml,{size:20}):c.jsx(Vr,{size:20})})]})]}),c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"confirm-password",className:L.label,children:"Confirm New Password"}),c.jsxs("div",{className:L.inputWrapper,children:[c.jsx("input",{id:"confirm-password",type:T?"text":"password",value:m,onChange:W=>p(W.target.value),placeholder:"",required:!0,disabled:V||!!P,className:`${L.input} ${L.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>E(!T),disabled:V||!!P,className:L.togglePassword,children:T?c.jsx(ml,{size:20}):c.jsx(Vr,{size:20})})]})]}),c.jsxs("div",{className:L.inputGroup,children:[c.jsx("label",{htmlFor:"otp-code",className:L.label,children:"Verification Code"}),c.jsx("input",{id:"otp-code",type:"text",value:y,onChange:W=>b(W.target.value),placeholder:"000000",required:!0,disabled:V||!!P,className:`${L.input} ${L.otpInput}`})]}),c.jsx("button",{type:"submit",disabled:V||!d||!m||!y||!!P,className:L.submitBtn,children:V?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:L.spinner}),"Resetting..."]}):c.jsxs(c.Fragment,{children:["Reset Password",c.jsx(zi,{size:20})]})})]}),!P&&c.jsxs("div",{className:L.resendSection,children:[c.jsx("p",{children:"Didn't get the code?"}),c.jsx("button",{onClick:se,disabled:V,className:L.resendBtn,children:V?"Resending...":"Resend Code"})]})]})]})},XM=s=>{const[n,a]=w.useState(!1);return w.useEffect(()=>{const r=window.matchMedia(s);r.matches!==n&&a(r.matches);const l=()=>a(r.matches);return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[n,s]),n},WM=()=>{const[s,n]=w.useState({x:0,y:0}),[a,r]=w.useState(!1),[l,d]=w.useState(!1),[f,m]=w.useState(!1);return w.useEffect(()=>{const p=T=>{n({x:T.clientX,y:T.clientY}),d(!0);const M=T.target.closest('a, button, [role="button"], input, textarea, select, [onclick]');r(!!M)},y=()=>m(!0),b=()=>m(!1),v=()=>d(!1),_=()=>d(!0);return document.addEventListener("mousemove",p),document.addEventListener("mousedown",y),document.addEventListener("mouseup",b),document.addEventListener("mouseleave",v),document.addEventListener("mouseenter",_),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mousedown",y),document.removeEventListener("mouseup",b),document.removeEventListener("mouseleave",v),document.removeEventListener("mouseenter",_)}},[]),l?c.jsxs(c.Fragment,{children:[c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?40:12,height:a?40:12,borderRadius:"50%",background:a?"rgba(16, 185, 129, 0.15)":"linear-gradient(135deg, #10b981 0%, #14b8a6 100%)",border:a?"2px solid rgba(16, 185, 129, 0.6)":"none",pointerEvents:"none",zIndex:9999,transform:`translate(-50%, -50%) scale(${f?.8:1})`,transition:"width 0.2s ease, height 0.2s ease, background 0.2s ease, border 0.2s ease, transform 0.1s ease",mixBlendMode:"difference"}}),c.jsx(X.div,{style:{position:"fixed",left:s.x,top:s.y,width:a?50:32,height:a?50:32,borderRadius:"50%",border:`1.5px solid ${a?"rgba(16, 185, 129, 0.4)":"rgba(16, 185, 129, 0.5)"}`,pointerEvents:"none",zIndex:9998,transform:"translate(-50%, -50%)",transition:"width 0.3s ease, height 0.3s ease, border 0.2s ease"}})]}):null},KM=`
  @media (pointer: fine) {
    .auth-page-custom-cursor {
      cursor: none !important;
    }
    .auth-page-custom-cursor * {
      cursor: none !important;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar {
      width: 12px;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-track,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-track {
      background: #050505;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #10b981 0%, #0d9488 100%);
      border-radius: 6px;
      border: 3px solid #050505;
    }

    html:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb:hover,
    body:has(.auth-page-custom-cursor)::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #34d399 0%, #10b981 100%);
    }

    html:has(.auth-page-custom-cursor),
    body:has(.auth-page-custom-cursor) {
      scrollbar-width: thin;
      scrollbar-color: #10b981 #050505;
    }
  }

  @media (pointer: coarse) {
    .auth-page-custom-cursor {
      cursor: auto !important;
    }
    .auth-page-custom-cursor * {
      cursor: auto !important;
    }
  }
`,QM=()=>{const s=XM("(pointer: fine)");return w.useEffect(()=>{const n="auth-page-custom-styles";if(!document.getElementById(n)){const a=document.createElement("style");a.id=n,a.textContent=KM,document.head.appendChild(a)}return()=>{const a=document.getElementById(n);a&&a.remove()}},[]),c.jsxs("div",{className:s?"auth-page-custom-cursor":"",children:[s&&c.jsx(WM,{}),c.jsx(YM,{})]})},ZM=s=>{if(!s)return"channel";const n=String(s).toLowerCase().trim();return n==="conversation"||n==="dm"||n==="directmessage"?"dm":n==="group"?"group":(n==="channel"||console.warn("[Normalizer] Unknown chat type:",s,"defaulting to channel"),"channel")},ll=s=>{if(!s)return{};console.log("[Normalizer] Raw chat data:",{id:s.id,name:s.name,participantsCount:s.participantsCount,ParticipantsCount:s.ParticipantsCount,membersLength:s.members?.length});let n;s.privacy!==null&&s.privacy!==void 0&&(typeof s.privacy=="number"?n=s.privacy===0?"public":"private":typeof s.privacy=="string"&&(n=s.privacy.toLowerCase()));const a={id:s.id,name:s.name||"Unknown",type:ZM(s.type),avatar:We(s.avatarUrl||s.AvatarUrl||s.avatar||s.profileImage),description:s.description||"",privacy:n,members:(s.members||[]).map(r=>{const l=r.user?{...r.user,id:r.user.id||r.user.userId||r.userId,avatar:We(r.user.avatarUrl||r.user.AvatarUrl||r.user.avatar||r.user.profileImage)}:{id:r.userId||r.id,username:r.username||"Unknown",email:"",avatar:We(r.avatarUrl||r.AvatarUrl||r.avatar),onlineStatus:"offline",lastSeen:new Date().toISOString()};return{id:r.id||r.userId||r.user?.id,userId:r.userId||r.id||r.user?.id,user:l,joinedAt:r.joinedAt,role:r.role||"member"}}),lastMessage:s.lastMessage?{id:s.lastMessage.id,content:s.lastMessage.content,createdAt:s.lastMessage.createdAt||s.lastMessage.sentAt||new Date().toISOString(),senderId:s.lastMessage.senderId,senderUsername:s.lastMessage.senderUsername,fileUrl:We(s.lastMessage.fileUrl),replyId:s.lastMessage.replyId,isSeen:s.lastMessage.isSeen??!1}:void 0,unreadCount:s.unreadCount!==void 0?s.unreadCount:s.notificationsCount||0,createdAt:s.created||s.createdAt||new Date().toISOString(),updatedAt:s.userLastMessage||s.updatedAt||s.createdAt||new Date().toISOString(),messages:s.messages?s.messages.map(r=>({...r,fileUrl:We(r.fileUrl),senderAvatarUrl:We(r.senderAvatarUrl),isSeen:r.isSeen??r.IsSeen??!1,seenAt:r.seenAt??r.SeenAt,isCurrentUser:r.isCurrentUser??r.IsCurrentUser??!1})):void 0,participantsCount:s.participantsCount??s.ParticipantsCount,participantsOnline:s.participantsOnline??s.ParticipantsOnline,notificationsCount:s.notificationsCount??s.NotificationsCount,isOnline:s.isOnline??s.IsOnline??!1,createdById:s.createdById??s.CreatedById??s.ownerId??s.OwnerId};return console.log("[Normalizer] Normalized chat result:",{id:a.id,name:a.name,participantsCount:a.participantsCount,createdById:a.createdById,membersCount:a.members?.length}),a},am=s=>{if(!s)return{};console.log("[Normalizer] Normalizing user:",s),console.log("[Normalizer] User description fields:",{description:s.description,Description:s.Description,bio:s.bio});const n=s.userId||s.id||s.entityId||s.EntityId;let a="offline";return typeof s.onlineStatus=="string"?a=s.onlineStatus.toLowerCase()||"offline":typeof s.isOnline=="boolean"&&(a=s.isOnline?"online":"offline"),{id:n,username:s.username||s.displayName||s.name||"Unknown",email:s.email||"",avatar:We(s.avatarUrl||s.AvatarUrl||s.avatar||s.profileImage),bio:s.description||s.Description||s.bio||"",onlineStatus:a,lastSeen:s.lastSeen||new Date().toISOString(),addMePolicy:s.addMePolicy||"everyone"}},JM=s=>Array.isArray(s)?s.map(n=>ll(n)):(console.warn("[Normalizer] Expected array of chats, got:",typeof s),[]),xh=s=>Array.isArray(s)?s.map(n=>am(n)):(console.warn("[Normalizer] Expected array of users, got:",typeof s),[]),et={getAllChats:async()=>{const s=await ce.get("/chats/me");console.log("[ChatService] Raw API response:",s.data);const n=s.data?.data||s.data;console.log("[ChatService] Extracted rawChats:",n),console.log("[ChatService] First chat participantsCount:",n?.[0]?.participantsCount);const a=JM(n);return console.log("[ChatService] After normalization, first chat participantsCount:",a?.[0]?.participantsCount),a},getChat:async s=>{const n=await ce.get(`/chats/${s}`),a=n.data?.data||n.data;return console.log("[ChatService] getChat raw response:",{chatId:s,rawChat:a,hasMembers:!!a?.members,membersLength:a?.members?.length,members:a?.members}),ll(a)},getChatProfile:async s=>{const n=await ce.get(`/chats/${s}/profile`),a=n.data?.data||n.data;return console.log("[ChatService] getChatProfile raw response:",{chatId:s,rawChat:a,hasMembers:!!a?.members,membersLength:a?.members?.length,hasParticipants:!!a?.participants,participantsLength:a?.participants?.length,createdById:a?.createdById,ownerId:a?.ownerId,CreatedById:a?.CreatedById,OwnerId:a?.OwnerId}),ll(a)},createGroup:async s=>{console.log("[ChatService] createGroup called"),console.log("[ChatService] FormData contents:");for(const[r,l]of s.entries())console.log(`  ${r}:`,l instanceof File?`File(${l.name}, ${l.size} bytes)`:l);const n=await ce.post("/groups",s);console.log("[ChatService] createGroup raw response:",n),console.log("[ChatService] createGroup response.data:",n.data);const a=n.data?.data||n.data;return console.log("[ChatService] createGroup rawChat:",a),ll(a)},createChannel:async s=>{console.log("[ChatService] createChannel called"),console.log("[ChatService] FormData contents:");for(const[r,l]of s.entries())console.log(`  ${r}:`,l instanceof File?`File(${l.name}, ${l.size} bytes)`:l);const n=await ce.post("/channels",s);console.log("[ChatService] createChannel raw response:",n),console.log("[ChatService] createChannel response.data:",n.data);const a=n.data?.data||n.data;return console.log("[ChatService] createChannel rawChat:",a),ll(a)},updateChat:async(s,n,a)=>{const r=n==="group"?"/groups":"/channels";console.log("[ChatService] updateChat FormData contents:");for(const[d,f]of a.entries())console.log(`  ${d}:`,f instanceof File?`File(${f.name}, ${f.size} bytes)`:f);const l=await ce.put(r,a,{params:{chatId:s},headers:{"Content-Type":void 0}});return console.log("[ChatService] updateChat response:",l.data),l.data?.data||l.data},deleteChat:async(s,n)=>{const a=n==="group"?"/groups":"/channels",r=await ce.delete(a,{params:{chatId:s}});return r.data?.data||r.data},deleteConversation:async s=>{const n=await ce.delete("/conversations",{params:{conversationId:s}});return n.data?.data||n.data},joinChat:async(s,n)=>{const a=n==="group"?"/groups/join":"/channels/join",r=n==="group"?"groupId":"channelId",l=await ce.post(a,null,{params:{[r]:s}});return l.data?.data||l.data},leaveChat:async(s,n)=>{const a=n==="group"?"/groups/leave":"/channels/leave",r=await ce.post(a,null,{params:{chatId:s}});return r.data?.data||r.data},searchChats:async s=>{const n=await ce.post("/chats/search",{pageNumber:1,pageSize:10,searchTerm:s});console.log("[ChatService] searchChats full response:",n);const a=n.data?.data;if(!Array.isArray(a))return console.warn("[ChatService] Search returned non-array data:",a),[];const r=a.map(l=>{const d=l.type||l.chatType,f=String(d).toLowerCase().trim();let m="channel";return f==="conversation"||f==="dm"||f==="directmessage"?m="dm":f==="group"?m="group":f==="channel"&&(m="channel"),{id:l.id||l.entityId,name:l.name||l.displayName||"Unknown",type:m,avatar:We(l.avatarUrl||l.avatar||l.profileImage),description:l.description||"",memberCount:l.memberCount||l.participantsCount||0}});return console.log("[ChatService] Normalized search results:",r),r},searchGroupsPaginated:async(s,n=1,a=10)=>{if(!s||s.length<3)return{data:[],pageNumber:n,pageSize:a,totalCount:0,hasNext:!1,hasPrevious:!1};const r=await ce.get("/groups/search/paginated",{params:{searchTerm:s,page:n,pageSize:a}}),l=r.data?.data||r.data;return{data:(l.data||[]).map(f=>({id:f.entityId||f.chatId||f.id,chatId:f.chatId||f.entityId||f.id,name:f.displayName||f.name||"Unknown",type:"group",avatar:We(f.avatarUrl||f.avatar)})),pageNumber:l.pageNumber||n,pageSize:l.pageSize||a,totalCount:l.totalCount||0,hasNext:l.hasNext||!1,hasPrevious:l.hasPrevious||!1}},searchChannelsPaginated:async(s,n=1,a=10)=>{if(!s||s.length<3)return{data:[],pageNumber:n,pageSize:a,totalCount:0,hasNext:!1,hasPrevious:!1};const r=await ce.get("/channels/search/paginated",{params:{searchTerm:s,page:n,pageSize:a}}),l=r.data?.data||r.data;return{data:(l.data||[]).map(f=>({id:f.entityId||f.chatId||f.id,chatId:f.chatId||f.entityId||f.id,name:f.displayName||f.name||"Unknown",type:"channel",avatar:We(f.avatarUrl||f.avatar)})),pageNumber:l.pageNumber||n,pageSize:l.pageSize||a,totalCount:l.totalCount||0,hasNext:l.hasNext||!1,hasPrevious:l.hasPrevious||!1}},banUser:async(s,n)=>{const a=await ce.post(`/chats/ban/${n}`,null,{params:{chatId:s}});return a.data?.data||a.data},unbanUser:async(s,n)=>{const a=await ce.post(`/chats/unban/${n}`,null,{params:{chatId:s}});return a.data?.data||a.data},getBannedUsers:async s=>{const n=await ce.get(`/chats/${s}/banned-users`);return n.data?.data||n.data||[]},addMemberToGroup:async(s,n)=>{const a=await ce.post("/groups/add-member",null,{params:{chatId:s,addingUserId:n}});return a.data?.data||a.data},addMemberToChannel:async(s,n)=>{const a=await ce.post("/channels/add-member",null,{params:{chatId:s,addingUserId:n}});return a.data?.data||a.data},removeMemberFromGroup:async(s,n)=>{const a=await ce.post("/groups/remove-member",null,{params:{chatId:s,removingUserId:n}});return a.data?.data||a.data},removeMemberFromChannel:async(s,n)=>{const a=await ce.post("/channels/remove-member",null,{params:{chatId:s,removingUserId:n}});return a.data?.data||a.data},updateChatPrivacy:async(s,n)=>{const a=n==="public"?0:1,r=await ce.put("/chats/privacy-type",null,{params:{chatId:s,privacyType:a}});return r.data?.data||r.data},addUserPermission:async(s,n,a)=>{const r=await ce.post("/chats/add-user-permission",null,{params:{chatId:s,addingUserId:n,permissionName:a}});return r.data?.data||r.data},createOrGetDM:async(s,n)=>{try{if(console.log("[ChatService] createOrGetDM called with:",{recipientId:s,recipientIdType:typeof s,initialMessage:n,isRecipientIdValid:s&&s!=="undefined"}),!s||s==="undefined")throw new Error(`Invalid recipientId: ${s}`);const a=await et.getAllChats();console.log("[ChatService] Fetched chats, looking for existing DM with recipient:",s);let r;for(const l of a)if(console.log("[ChatService] Checking chat:",{chatId:l.id,type:l.type,memberCount:l.members?.length||0}),l.type==="dm")if(l.members&&l.members.length>0){if(l.members.some(f=>{const m=f.userId===s||f.id===s||f.user?.id===s;return m&&console.log("[ChatService] Found matching member:",f),m})){r=l;break}}else{console.log("[ChatService] Members array empty for DM, fetching full details for chat:",l.id);try{const d=await et.getChat(l.id);if(console.log("[ChatService] Full chat details:",{id:d.id,memberCount:d.members?.length||0,members:d.members?.map(f=>({userId:f.userId,id:f.id}))}),d.members&&d.members.length>0&&d.members.some(m=>{const p=m.userId===s||m.id===s||m.user?.id===s;return p&&console.log("[ChatService] Found matching member in full chat:",m),p})){r=d;break}}catch(d){console.error("[ChatService] Error fetching full chat details:",d)}}if(console.log("[ChatService] DM chat found:",r?.id||"NOT FOUND"),r&&n){console.log("[ChatService] Sending to existing DM with chatId:",r.id);const l=new FormData;return l.append("chatId",r.id),l.append("content",n),console.log("[ChatService] FormData entries:",{chatId:r.id,content:n}),await ce.post("/messages/",l,{headers:{"Content-Type":void 0}}),console.log("[ChatService] Message sent to existing DM:",r.id),r}if(!r&&n){console.log("[ChatService] Creating new DM conversation with user:",s);const l=new FormData;l.append("receiverId",s),l.append("content",n),console.log("[ChatService] FormData entries for new DM:",{receiverId:s,content:n});const d=await ce.post("/messages/",l,{headers:{"Content-Type":void 0}});console.log("[ChatService] Message sent to new DM, conversation auto-created. Response:",d);const m=(await et.getAllChats()).find(p=>p.type==="dm"&&p.members?.some(y=>y.id===s||y.userId===s));return console.log("[ChatService] Newly created DM:",m?.id||"NOT FOUND"),m}return console.log("[ChatService] No action taken (no message to send)"),r}catch(a){throw console.error("[ChatService] Error in createOrGetDM:",a),a}}},eE=Object.freeze(Object.defineProperty({__proto__:null,chatService:et},Symbol.toStringTag,{value:"Module"})),tE={"":"Like","":"Love","":"Laugh","":"Sad","":"Angry"},Ha={sendMessage:async s=>{try{console.log("[MessageService] sendMessage called"),console.log("[MessageService] FormData entries:");for(const[a,r]of s.entries())r instanceof File?console.log(`  ${a}: File(${r.name}, ${r.size} bytes, ${r.type})`):console.log(`  ${a}: ${r}`);const n=await ce.post("/messages",s,{headers:{"Content-Type":void 0}});return console.log("[MessageService] Response:",n.data),n.data?.data||n.data}catch(n){throw console.error("[MessageService] Error sending message:",n),n}},editMessage:async(s,n)=>{const a=new FormData;a.append("Content",n);const r=await ce.put(`/messages/${s}`,a,{headers:{"Content-Type":void 0}});return r.data?.data||r.data},deleteMessage:async s=>{const n=await ce.delete(`/messages/${s}`);return n.data?.data||n.data},toggleReaction:async(s,n)=>{const a=await ce.post(`/messages/${s}/reactions/${n}`);return a.data?.data??a.data},toggleReactionByEmoji:async(s,n)=>{const a=tE[n];if(!a)throw new Error(`Unknown emoji: ${n}`);return Ha.toggleReaction(s,a)},getReactions:async s=>{const n=await ce.get(`/messages/${s}/reactions`);return n.data?.data||n.data||[]},pinMessage:async s=>{const n=await ce.post(`/messages/${s}/pin`);return n.data?.data||n.data},unpinMessage:async s=>{const n=await ce.post(`/messages/${s}/unpin`);return n.data?.data||n.data},getPinnedMessages:async s=>{const n=await ce.get(`/messages/pinned/${s}`);return n.data?.data||n.data}},Tn=_l((s,n)=>({chats:[],currentChat:null,messages:[],pinnedMessages:new Map,chatPermissions:new Map,isLoadingChats:!1,isLoadingMessages:!1,isLoadingPinned:!1,permissionsLoading:!1,error:null,typingUsers:new Map,onlineUsers:new Map,userLastSeen:new Map,blockedByUsers:new Set,usersYouBlocked:new Set,loadChats:async()=>{s({isLoadingChats:!0,error:null});try{const a=await et.getAllChats();console.log("[ChatStore] Chats from API (already normalized):",a),console.log("[ChatStore] Sample chat participantsCount:",a[0]?.participantsCount,a[0]?.name),s({chats:a,isLoadingChats:!1})}catch(a){const r=It(a,"Failed to load chats");console.error("[ChatStore] Error loading chats:",a),s({error:r,isLoadingChats:!1})}},setCurrentChat:a=>{console.log("[ChatStore] setCurrentChat called with:",{chatId:a?.id,chatName:a?.name,participantsCount:a?.participantsCount,membersLength:a?.members?.length}),s({currentChat:a})},setMessages:a=>{s({messages:a})},loadMessages:async(a,r=1)=>{s({isLoadingMessages:!0,error:null});try{const{chatService:l}=await ea(async()=>{const{chatService:m}=await Promise.resolve().then(()=>eE);return{chatService:m}},void 0),[d,f]=await Promise.all([l.getChat(a),l.getChatProfile(a)]);s(m=>({currentChat:m.currentChat?.id===a?{...m.currentChat,...f,messages:d.messages}:m.currentChat,messages:d.messages||[],isLoadingMessages:!1}))}catch(l){const d=It(l,"Failed to load messages");s({error:d,isLoadingMessages:!1})}},sendMessage:async(a,r,l,d,f)=>{s({error:null});try{const m=a&&a.startsWith("temp_dm_"),p=m?null:a,y=m?a.replace("temp_dm_",""):r;if(console.log("[ChatStore] sendMessage - isTempChat:",m,"actualChatId:",p,"actualReceiverId:",y),d){const b=new FormData;p&&b.append("chatId",p),y&&b.append("receiverId",y),l&&b.append("content",l),f&&b.append("replyId",f),b.append("file",d),await Ha.sendMessage(b)}else await(await ea(()=>Promise.resolve().then(()=>hv),void 0).then(v=>v.signalRService)).sendMessage(p,l,y||void 0,f||null)}catch(m){const p=It(m,"Failed to send message");s({error:p})}},editMessage:async(a,r)=>{s({error:null});try{await Ha.editMessage(a,r),s(l=>({messages:l.messages.map(d=>d.messageId===a?{...d,content:r,isEdited:!0}:d)}))}catch(l){const d=It(l,"Failed to edit message");s({error:d})}},deleteMessage:async a=>{s({error:null});try{await Ha.deleteMessage(a),s(r=>({messages:r.messages.filter(l=>l.messageId!==a)}))}catch(r){const l=It(r,"Failed to delete message");s({error:l})}},toggleReaction:async(a,r)=>{s({error:null});try{return await Ha.toggleReactionByEmoji(a,r)}catch(l){const d=It(l,"Failed to toggle reaction");return s({error:d}),!1}},clearError:()=>s({error:null}),loadPinnedMessages:async a=>{s({isLoadingPinned:!0});try{const r=await Ha.getPinnedMessages(a);s(l=>{const d=new Map(l.pinnedMessages);return d.set(a,r||[]),{pinnedMessages:d,isLoadingPinned:!1}})}catch(r){console.error("[ChatStore] Error loading pinned messages:",r),s({isLoadingPinned:!1})}},pinMessage:async a=>{try{await Ha.pinMessage(a)}catch(r){const l=It(r,"Failed to pin message");throw s({error:l}),r}},unpinMessage:async a=>{try{await Ha.unpinMessage(a)}catch(r){const l=It(r,"Failed to unpin message");throw s({error:l}),r}},getPinnedMessages:a=>n().pinnedMessages.get(a)||[],loadPermissions:async a=>{const{user:r}=st.getState();if(console.log("[loadPermissions] Called with:",{chatId:a,userId:r?.id,username:r?.username}),!r||!a){console.log("[loadPermissions] Early return - no user or chatId");return}s({permissionsLoading:!0});try{const{permissionService:l}=await ea(async()=>{const{permissionService:p}=await import("./permission.service-BMzIMu-h.js");return{permissionService:p}},__vite__mapDeps([0,1,2]));console.log("[loadPermissions] Calling API: GET /permissions/",a,"/user/",r.id);const d=await l.getUserPermissions(a,r.id);console.log("[loadPermissions] API response:",d);const f=d?.permissions||d||[],m=Array.isArray(f)?f.map(p=>p.permissionName||p.name||p):[];console.log("[ChatStore] Loaded permissions for chat",a,":",m),s(p=>({chatPermissions:new Map(p.chatPermissions).set(a,m),permissionsLoading:!1}))}catch(l){console.error("[ChatStore] Failed to load permissions:",l),s(d=>({chatPermissions:new Map(d.chatPermissions).set(a,[]),permissionsLoading:!1}))}},hasPermission:(a,r)=>{const{currentChat:l,chatPermissions:d}=n(),{user:f}=st.getState();if(console.log("[hasPermission] Checking permission:",{chatId:a,permission:r,currentChatId:l?.id,currentChatType:l?.type,userId:f?.id,createdById:l?.createdById,membersCount:l?.members?.length}),l?.type==="dm")return["SendMessage","PinMessages"].includes(r)?(console.log("[hasPermission] DM chat - allowing:",r),!0):!1;if(l&&f&&l.createdById===f.id)return console.log("[hasPermission] User is chat creator - granting all permissions"),!0;if(l&&f&&l.members){const y=l.members.find(v=>v.userId===f.id);console.log("[hasPermission] Current member:",{found:!!y,memberId:y?.userId,role:y?.role});const b=y?.role?.toLowerCase();if(b==="admin"||b==="owner")return console.log("[hasPermission] User has admin/owner role - granting all permissions"),!0}const m=d.get(a)||[],p=m.includes(r);return console.log("[hasPermission] Checking cached permissions:",{cachedPermissions:m,hasPermission:p}),p},clearPermissions:a=>{s(a?r=>{const l=new Map(r.chatPermissions);return l.delete(a),{chatPermissions:l}}:{chatPermissions:new Map})},grantPermission:(a,r)=>{console.log("[ChatStore] Granting permission:",{chatId:a,permissionName:r}),s(l=>{const d=new Map(l.chatPermissions),f=d.get(a)||[];return f.includes(r)||d.set(a,[...f,r]),{chatPermissions:d}})},revokePermission:(a,r)=>{console.log("[ChatStore] Revoking permission:",{chatId:a,permissionName:r}),s(l=>{const d=new Map(l.chatPermissions),f=d.get(a)||[];return d.set(a,f.filter(m=>m!==r)),{chatPermissions:d}})},isUserOnline:a=>n().onlineUsers.get(a)||!1,getUserLastSeen:a=>n().userLastSeen.get(a),getOnlineMembersCount:a=>{const r=n().chats.find(f=>f.id===a);if(!r||!r.members)return 0;let l=0;const d=n().onlineUsers;for(const f of r.members)d.get(f.userId)&&l++;return l},setInitialPresenceStates:a=>{console.log("[ChatStore] Setting initial presence states for",Object.keys(a).length,"users"),console.log("[ChatStore] Raw presence states:",a);const r=new Map,l=new Map;Object.entries(a).forEach(([d,f])=>{console.log(`[ChatStore] Processing user ${d}, state:`,f,"type:",typeof f),typeof f=="boolean"?(r.set(d,f),console.log(`[ChatStore] Set user ${d} to ${f?"online":"offline"}`)):(r.set(d,f.isOnline),f.lastSeen&&l.set(d,f.lastSeen),console.log(`[ChatStore] Set user ${d} to ${f.isOnline?"online":"offline"}, lastSeen: ${f.lastSeen||"none"}`))}),s({onlineUsers:r,userLastSeen:l}),console.log("[ChatStore] Presence states initialized:",{online:Array.from(r.entries()).filter(([d,f])=>f).length,total:r.size,onlineUserIds:Array.from(r.entries()).filter(([d,f])=>f).map(([d])=>d)})},handleReceiveMessage:a=>{console.log("[ChatStore] Received message:",a);const r=st.getState().user?.id;s(l=>{if(l.currentChat&&a.chatId===l.currentChat.id&&!l.messages.some(f=>f.messageId===a.messageId)){const f={messageId:a.messageId,chatId:a.chatId,senderId:a.senderId,senderUsername:a.senderUsername||"Unknown",senderAvatarUrl:a.senderAvatarUrl,content:a.content,fileUrl:a.fileUrl,replyId:a.replyId,sentAt:a.sentAt,isSeen:a.isSeen??!1,seenAt:a.seenAt,isNotificated:!1,notificationId:"",messageReactions:[],isCurrentUser:a.senderId===r};return console.log("[ChatStore] Added new message to state, isCurrentUser:",f.isCurrentUser),{messages:[...l.messages,f]}}return{}}),s(l=>({chats:l.chats.map(d=>d.id===a.chatId?{...d,lastMessage:{id:a.messageId,chatId:a.chatId,senderId:a.senderId,sender:{id:a.senderId,username:a.senderUsername||"Unknown"},content:a.content||"",fileUrl:a.fileUrl,reactions:[],edited:!1,createdAt:a.sentAt||new Date().toISOString()},updatedAt:a.sentAt||new Date().toISOString()}:d).sort((d,f)=>new Date(f.updatedAt||0).getTime()-new Date(d.updatedAt||0).getTime())}))},handleMessageEdited:a=>{console.log("[ChatStore] Message edited:",a),s(r=>({messages:r.messages.map(l=>l.messageId===a.messageId?{...l,content:a.content}:l)}))},handleMessageDeleted:a=>{console.log("[ChatStore] Message deleted:",a),s(r=>({messages:r.messages.filter(l=>l.messageId!==a.messageId)}))},handleReactionAdded:a=>{console.log("[ChatStore] Reaction added event received:",a);const r=n();console.log("[ChatStore] Current messages count:",r.messages.length),console.log("[ChatStore] Looking for messageId:",a.messageId);const l=r.messages.find(d=>d.messageId===a.messageId);if(console.log("[ChatStore] Found message:",l?"YES":"NO"),l){let d=a.userName||"";if(!d&&a.userId){const f=st.getState().user;f&&f.id===a.userId&&(d=f.username||"You")}s(f=>({messages:f.messages.map(m=>m.messageId===a.messageId?{...m,messageReactions:[...m.messageReactions||[],{reactionType:a.reactionType,userId:a.userId,userName:d}]}:m)})),console.log("[ChatStore] Reaction added to message with userName:",d)}},handleReactionRemoved:a=>{console.log("[ChatStore] Reaction removed:",a),s(r=>({messages:r.messages.map(l=>l.messageId===a.messageId?{...l,messageReactions:(l.messageReactions||[]).filter(d=>!(d.userId===a.userId&&d.reactionType===a.reactionType))}:l)}))},handleUserOnline:a=>{console.log("[ChatStore] User online:",a),s(r=>{const l=new Map(r.onlineUsers);l.set(a.userId,!0);const d=new Map(r.userLastSeen);return d.delete(a.userId),{onlineUsers:l,userLastSeen:d,chats:r.chats.map(f=>f.members?.some(p=>p.userId===a.userId)?{...f,isOnline:f.type==="dm"?!0:f.isOnline,members:f.members?.map(p=>p.userId===a.userId?{...p,user:{...p.user,onlineStatus:"online",lastSeen:""}}:p)}:f)}})},handleUserOffline:a=>{console.log("[ChatStore] User offline:",a),s(r=>{const l=new Map(r.onlineUsers);l.set(a.userId,!1);const d=new Map(r.userLastSeen);return a.lastSeen&&d.set(a.userId,a.lastSeen),{onlineUsers:l,userLastSeen:d,chats:r.chats.map(f=>f.members?.some(p=>p.userId===a.userId)?{...f,isOnline:f.type==="dm"?!1:f.isOnline,members:f.members?.map(p=>p.userId===a.userId?{...p,user:{...p.user,onlineStatus:"offline",lastSeen:a.lastSeen}}:p)}:f)}})},handleUserTyping:a=>{console.log("[ChatStore] User typing:",a),s(r=>{const l=new Map(r.typingUsers);return l.set(`${a.chatId}-${a.userId}`,{userId:a.userId,timestamp:Date.now()}),{typingUsers:l}}),setTimeout(()=>{s(r=>{const l=new Map(r.typingUsers);return l.delete(`${a.chatId}-${a.userId}`),{typingUsers:l}})},3e3)},handleUserStoppedTyping:a=>{console.log("[ChatStore] User stopped typing:",a),s(r=>{const l=new Map(r.typingUsers);return l.delete(`${a.chatId}-${a.userId}`),{typingUsers:l}})},handleMessagePinned:a=>{console.log("[ChatStore] Message pinned:",a),s(r=>({messages:r.messages.map(l=>l.messageId===a.messageId?{...l,isPinned:!0,pinnedAt:a.pinnedAt,pinnedById:a.pinnedById,pinnedByUsername:a.pinnedByUsername}:l)})),n().loadPinnedMessages(a.chatId)},handleMessageUnpinned:a=>{console.log("[ChatStore] Message unpinned:",a),s(r=>({messages:r.messages.map(l=>l.messageId===a.messageId?{...l,isPinned:!1,pinnedAt:void 0,pinnedById:void 0,pinnedByUsername:void 0}:l)})),s(r=>{const l=new Map(r.pinnedMessages),d=l.get(a.chatId)||[];return l.set(a.chatId,d.filter(f=>f.messageId!==a.messageId)),{pinnedMessages:l}})},handleAddedToChat:a=>{console.log("[ChatStore] Added to chat:",a),n().loadChats()},handleNewConversation:a=>{console.log("[ChatStore] New conversation:",a),n().loadChats()},handleConversationCreated:async a=>{console.log("[ChatStore] Conversation created (sender notification):",a);const l=n().currentChat;if(l&&l.id.startsWith("temp_dm_")&&l.id.includes(a.receiverId)){console.log("[ChatStore] Switching from temp chat to real conversation:",a.conversationId),await n().loadChats();const f=n().chats.find(m=>m.id===a.conversationId);if(f){console.log("[ChatStore] Found new conversation, switching to it:",f.id),s({currentChat:f});try{await(await ea(()=>Promise.resolve().then(()=>hv),void 0).then(p=>p.signalRService)).joinChat(f.id)}catch(m){console.error("[ChatStore] Failed to join new chat:",m)}}}else n().loadChats()},handlePermissionGranted:a=>{console.log("[ChatStore] Permission granted:",a);const{user:r}=st.getState();r&&a.userId===r.id&&s(l=>{const d=new Map(l.chatPermissions),f=d.get(a.chatId)||[];return f.includes(a.permissionName)||d.set(a.chatId,[...f,a.permissionName]),{chatPermissions:d}})},handlePermissionRevoked:a=>{console.log("[ChatStore] Permission revoked:",a);const{user:r}=st.getState();r&&a.userId===r.id&&s(l=>{const d=new Map(l.chatPermissions),f=d.get(a.chatId)||[];return d.set(a.chatId,f.filter(m=>m!==a.permissionName)),{chatPermissions:d}})},handleAllPermissionsRevoked:a=>{console.log("[ChatStore] All permissions revoked:",a);const{user:r}=st.getState();r&&a.userId===r.id&&s(l=>{const d=new Map(l.chatPermissions);return d.set(a.chatId,[]),{chatPermissions:d}})},handleUserBlockedYou:a=>{console.log("[ChatStore] User blocked you:",a),s(r=>{const l=new Set(r.blockedByUsers);return l.add(a.blockerId),{blockedByUsers:l}})},handleYouBlockedUser:a=>{console.log("[ChatStore] You blocked user:",a),a.blockedUserId&&s(r=>{const l=new Set(r.usersYouBlocked);return l.add(a.blockedUserId),{usersYouBlocked:l}})},handleUserUnblockedYou:a=>{console.log("[ChatStore] User unblocked you:",a),s(r=>{const l=new Set(r.blockedByUsers);return l.delete(a.unblockerId),{blockedByUsers:l}})},handleYouUnblockedUser:a=>{console.log("[ChatStore] You unblocked user:",a),a.unblockedUserId&&s(r=>{const l=new Set(r.usersYouBlocked);return l.delete(a.unblockedUserId),{usersYouBlocked:l}})},handleChatDeleted:a=>{console.log("[ChatStore] Chat deleted:",a);const r=n();s({chats:r.chats.filter(l=>l.id!==a.chatId),currentChat:r.currentChat?.id===a.chatId?null:r.currentChat,messages:r.currentChat?.id===a.chatId?[]:r.messages}),s(l=>{const d=new Map(l.chatPermissions);return d.delete(a.chatId),{chatPermissions:d}})},handleRemovedFromChat:a=>{console.log("[ChatStore] Removed from chat:",a);const r=n();s({chats:r.chats.filter(l=>l.id!==a.chatId),currentChat:r.currentChat?.id===a.chatId?null:r.currentChat,messages:r.currentChat?.id===a.chatId?[]:r.messages}),s(l=>{const d=new Map(l.chatPermissions);return d.delete(a.chatId),{chatPermissions:d}})},handleMessagesMarkedSeen:a=>{console.log("[ChatStore] Messages marked as seen:",a);const r=n();r.currentChat&&a.chatId===r.currentChat.id&&s({messages:r.messages.map(d=>a.messageIds.includes(d.messageId)?{...d,isSeen:!0,seenAt:a.seenAt}:d)});const l=st.getState().user?.id;l&&a.seenByUserId===l&&s(d=>({chats:d.chats.map(f=>f.id===a.chatId?{...f,unreadCount:Math.max(0,(f.unreadCount||0)-a.messageIds.length)}:f),currentChat:d.currentChat?.id===a.chatId?{...d.currentChat,unreadCount:Math.max(0,(d.currentChat.unreadCount||0)-a.messageIds.length)}:d.currentChat}))},resetUnreadCount:a=>{console.log("[ChatStore] Resetting unread count for chat:",a),s(r=>({chats:r.chats.map(l=>l.id===a?{...l,unreadCount:0}:l),currentChat:r.currentChat?.id===a?{...r.currentChat,unreadCount:0}:r.currentChat}))},isBlockedBy:a=>n().blockedByUsers.has(a),hasBlocked:a=>n().usersYouBlocked.has(a),addBlockedUser:a=>{console.log("[ChatStore] Adding blocked user:",a),s(r=>{const l=new Set(r.usersYouBlocked);return l.add(a),{usersYouBlocked:l}})},removeBlockedUser:a=>{console.log("[ChatStore] Removing blocked user:",a),s(r=>{const l=new Set(r.usersYouBlocked);return l.delete(a),{usersYouBlocked:l}})}})),nE=()=>{const s=localStorage.getItem("simpchat-theme");return s==="dark"||s==="light"?s:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},Sh=s=>{s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("simpchat-theme",s)},sE=_l(s=>{const n=nE();return Sh(n),{theme:n,toggleTheme:()=>{s(a=>{const r=a.theme==="light"?"dark":"light";return Sh(r),{theme:r}})},setTheme:a=>{Sh(a),s({theme:a})}}}),aE=()=>localStorage.getItem("simpchat-fancy-animations")!=="false",iE=_l(s=>({fancyAnimations:aE(),toggleFancyAnimations:()=>{s(n=>{const a=!n.fancyAnimations;return localStorage.setItem("simpchat-fancy-animations",String(a)),{fancyAnimations:a}})},setFancyAnimations:n=>{localStorage.setItem("simpchat-fancy-animations",String(n)),s({fancyAnimations:n})}})),Qt={getCurrentUser:async()=>{const s=await ce.get("/users/me"),n=s.data?.data||s.data;return am(n)},updateProfile:async s=>{console.log("[UserService] updateProfile called"),console.log("[UserService] FormData contents:");for(const[a,r]of s.entries())console.log(`  ${a}:`,r instanceof File?`File(${r.name}, ${r.size} bytes)`:r);const n=await ce.put("/users/me",s);return console.log("[UserService] updateProfile response:",n),Qt.getCurrentUser()},searchUsers:async s=>{const n=await ce.get(`/users/search/${encodeURIComponent(s)}`),a=n.data?.data||n.data;return xh(a)},searchUsersPaginated:async(s,n=1,a=10)=>{if(!s||s.length<3)return{data:[],pageNumber:n,pageSize:a,totalCount:0,hasNext:!1,hasPrevious:!1};const r=await ce.get("/users/search",{params:{searchTerm:s,page:n,pageSize:a}}),l=r.data?.data||r.data;return{data:xh(l.data||[]),pageNumber:l.pageNumber||n,pageSize:l.pageSize||a,totalCount:l.totalCount||0,hasNext:l.hasNext||!1,hasPrevious:l.hasPrevious||!1}},getUserProfile:async s=>{const n=await ce.get(`/users/${s}`);console.log("[UserService] getUserProfile raw response:",n.data);const a=n.data?.data||n.data;return console.log("[UserService] getUserProfile rawUser:",a),console.log("[UserService] getUserProfile description:",a?.description,a?.Description),am(a)},updateLastSeen:async()=>{const s=await ce.put("/users/last-seen");return s.data?.data||s.data},getAllUsers:async()=>{const s=await ce.get("/users"),n=s.data?.data||s.data;return xh(n)},deleteUser:async s=>{const n=await ce.delete(`/users/${s}`);return n.data?.data||n.data},blockUser:async s=>{const n=await ce.post(`/users/blocks/${s}`);return n.data?.data||n.data},unblockUser:async s=>{const n=await ce.delete(`/users/blocks/${s}`);return n.data?.data||n.data},getBlockedUsers:async()=>{const s=await ce.get("/users/blocks");return s.data?.data||s.data||[]},getBlockStatus:async s=>(await ce.get(`/users/blocks/${s}/status`)).data?.isBlocked||!1,getMutualBlockStatus:async s=>{const n=await ce.get(`/users/blocks/${s}/mutual-status`);return{iBlockedThem:n.data?.iBlockedThem||!1,theyBlockedMe:n.data?.theyBlockedMe||!1}}},_h=Object.freeze(Object.defineProperty({__proto__:null,userService:Qt},Symbol.toStringTag,{value:"Module"}));class Di extends Error{constructor(n,a){const r=new.target.prototype;super(`${n}: Status code '${a}'`),this.statusCode=a,this.__proto__=r}}class Km extends Error{constructor(n="A timeout occurred."){const a=new.target.prototype;super(n),this.__proto__=a}}class is extends Error{constructor(n="An abort occurred."){const a=new.target.prototype;super(n),this.__proto__=a}}class rE extends Error{constructor(n,a){const r=new.target.prototype;super(n),this.transport=a,this.errorType="UnsupportedTransportError",this.__proto__=r}}class oE extends Error{constructor(n,a){const r=new.target.prototype;super(n),this.transport=a,this.errorType="DisabledTransportError",this.__proto__=r}}class lE extends Error{constructor(n,a){const r=new.target.prototype;super(n),this.transport=a,this.errorType="FailedToStartTransportError",this.__proto__=r}}class lv extends Error{constructor(n){const a=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=a}}class cE extends Error{constructor(n,a){const r=new.target.prototype;super(n),this.innerErrors=a,this.__proto__=r}}class k1{constructor(n,a,r){this.statusCode=n,this.statusText=a,this.content=r}}class Bu{get(n,a){return this.send({...a,method:"GET",url:n})}post(n,a){return this.send({...a,method:"POST",url:n})}delete(n,a){return this.send({...a,method:"DELETE",url:n})}getCookieString(n){return""}}var F;(function(s){s[s.Trace=0]="Trace",s[s.Debug=1]="Debug",s[s.Information=2]="Information",s[s.Warning=3]="Warning",s[s.Error=4]="Error",s[s.Critical=5]="Critical",s[s.None=6]="None"})(F||(F={}));class xl{constructor(){}log(n,a){}}xl.instance=new xl;const uE="10.0.0";class Nt{static isRequired(n,a){if(n==null)throw new Error(`The '${a}' argument is required.`)}static isNotEmpty(n,a){if(!n||n.match(/^\s*$/))throw new Error(`The '${a}' argument should not be empty.`)}static isIn(n,a,r){if(!(n in a))throw new Error(`Unknown ${r} value: ${n}.`)}}class dt{static get isBrowser(){return!dt.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!dt.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!dt.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Sl(s,n){let a="";return Oi(s)?(a=`Binary data of length ${s.byteLength}`,n&&(a+=`. Content: '${dE(s)}'`)):typeof s=="string"&&(a=`String data of length ${s.length}`,n&&(a+=`. Content: '${s}'`)),a}function dE(s){const n=new Uint8Array(s);let a="";return n.forEach(r=>{const l=r<16?"0":"";a+=`0x${l}${r.toString(16)} `}),a.substring(0,a.length-1)}function Oi(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}async function N1(s,n,a,r,l,d){const f={},[m,p]=qr();f[m]=p,s.log(F.Trace,`(${n} transport) sending data. ${Sl(l,d.logMessageContent)}.`);const y=Oi(l)?"arraybuffer":"text",b=await a.post(r,{content:l,headers:{...f,...d.headers},responseType:y,timeout:d.timeout,withCredentials:d.withCredentials});s.log(F.Trace,`(${n} transport) request complete. Response status: ${b.statusCode}.`)}function fE(s){return s===void 0?new wu(F.Information):s===null?xl.instance:s.log!==void 0?s:new wu(s)}class hE{constructor(n,a){this._subject=n,this._observer=a}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(a=>{})}}class wu{constructor(n){this._minLevel=n,this.out=console}log(n,a){if(n>=this._minLevel){const r=`[${new Date().toISOString()}] ${F[n]}: ${a}`;switch(n){case F.Critical:case F.Error:this.out.error(r);break;case F.Warning:this.out.warn(r);break;case F.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function qr(){let s="X-SignalR-User-Agent";return dt.isNode&&(s="User-Agent"),[s,mE(uE,pE(),yE(),gE())]}function mE(s,n,a,r){let l="Microsoft SignalR/";const d=s.split(".");return l+=`${d[0]}.${d[1]}`,l+=` (${s}; `,n&&n!==""?l+=`${n}; `:l+="Unknown OS; ",l+=`${a}`,r?l+=`; ${r}`:l+="; Unknown Runtime Version",l+=")",l}function pE(){if(dt.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function gE(){if(dt.isNode)return process.versions.node}function yE(){return dt.isNode?"NodeJS":"Browser"}function wh(s){return s.stack?s.stack:s.message?s.message:`${s}`}function bE(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class vE extends Bu{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||dt.isNode){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(a("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=a("node-fetch"):this._fetchType=fetch,this._fetchType=a("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(bE());if(typeof AbortController>"u"){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=a("abort-controller")}else this._abortControllerType=AbortController}async send(n){if(n.abortSignal&&n.abortSignal.aborted)throw new is;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const a=new this._abortControllerType;let r;n.abortSignal&&(n.abortSignal.onabort=()=>{a.abort(),r=new is});let l=null;if(n.timeout){const p=n.timeout;l=setTimeout(()=>{a.abort(),this._logger.log(F.Warning,"Timeout from HTTP request."),r=new Km},p)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},Oi(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let d;try{d=await this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:a.signal})}catch(p){throw r||(this._logger.log(F.Warning,`Error from HTTP request. ${p}.`),p)}finally{l&&clearTimeout(l),n.abortSignal&&(n.abortSignal.onabort=null)}if(!d.ok){const p=await cv(d,"text");throw new Di(p||d.statusText,d.status)}const m=await cv(d,n.responseType);return new k1(d.status,d.statusText,m)}getCookieString(n){let a="";return dt.isNode&&this._jar&&this._jar.getCookies(n,(r,l)=>a=l.join("; ")),a}}function cv(s,n){let a;switch(n){case"arraybuffer":a=s.arrayBuffer();break;case"text":a=s.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:a=s.text();break}return a}class xE extends Bu{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new is):n.method?n.url?new Promise((a,r)=>{const l=new XMLHttpRequest;l.open(n.method,n.url,!0),l.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(Oi(n.content)?l.setRequestHeader("Content-Type","application/octet-stream"):l.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const d=n.headers;d&&Object.keys(d).forEach(f=>{l.setRequestHeader(f,d[f])}),n.responseType&&(l.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{l.abort(),r(new is)}),n.timeout&&(l.timeout=n.timeout),l.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),l.status>=200&&l.status<300?a(new k1(l.status,l.statusText,l.response||l.responseText)):r(new Di(l.response||l.responseText||l.statusText,l.status))},l.onerror=()=>{this._logger.log(F.Warning,`Error from HTTP request. ${l.status}: ${l.statusText}.`),r(new Di(l.statusText,l.status))},l.ontimeout=()=>{this._logger.log(F.Warning,"Timeout from HTTP request."),r(new Km)},l.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class SE extends Bu{constructor(n){if(super(),typeof fetch<"u"||dt.isNode)this._httpClient=new vE(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new xE(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new is):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}class Mn{static write(n){return`${n}${Mn.RecordSeparator}`}static parse(n){if(n[n.length-1]!==Mn.RecordSeparator)throw new Error("Message is incomplete.");const a=n.split(Mn.RecordSeparator);return a.pop(),a}}Mn.RecordSeparatorCode=30;Mn.RecordSeparator=String.fromCharCode(Mn.RecordSeparatorCode);class _E{writeHandshakeRequest(n){return Mn.write(JSON.stringify(n))}parseHandshakeResponse(n){let a,r;if(Oi(n)){const m=new Uint8Array(n),p=m.indexOf(Mn.RecordSeparatorCode);if(p===-1)throw new Error("Message is incomplete.");const y=p+1;a=String.fromCharCode.apply(null,Array.prototype.slice.call(m.slice(0,y))),r=m.byteLength>y?m.slice(y).buffer:null}else{const m=n,p=m.indexOf(Mn.RecordSeparator);if(p===-1)throw new Error("Message is incomplete.");const y=p+1;a=m.substring(0,y),r=m.length>y?m.substring(y):null}const l=Mn.parse(a),d=JSON.parse(l[0]);if(d.type)throw new Error("Expected a handshake response from the server.");return[r,d]}}var xe;(function(s){s[s.Invocation=1]="Invocation",s[s.StreamItem=2]="StreamItem",s[s.Completion=3]="Completion",s[s.StreamInvocation=4]="StreamInvocation",s[s.CancelInvocation=5]="CancelInvocation",s[s.Ping=6]="Ping",s[s.Close=7]="Close",s[s.Ack=8]="Ack",s[s.Sequence=9]="Sequence"})(xe||(xe={}));class wE{constructor(){this.observers=[]}next(n){for(const a of this.observers)a.next(n)}error(n){for(const a of this.observers)a.error&&a.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new hE(this,n)}}class CE{constructor(n,a,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=a,this._bufferSize=r}async _send(n){const a=this._protocol.writeMessage(n);let r=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let l=()=>{},d=()=>{};Oi(a)?this._bufferedByteCount+=a.byteLength:this._bufferedByteCount+=a.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((f,m)=>{l=f,d=m})),this._messages.push(new jE(a,this._totalMessageCount,l,d))}try{this._reconnectInProgress||await this._connection.send(a)}catch{this._disconnected()}await r}_ack(n){let a=-1;for(let r=0;r<this._messages.length;r++){const l=this._messages[r];if(l._id<=n.sequenceId)a=r,Oi(l._message)?this._bufferedByteCount-=l._message.byteLength:this._bufferedByteCount-=l._message.length,l._resolver();else if(this._bufferedByteCount<this._bufferSize)l._resolver();else break}a!==-1&&(this._messages=this._messages.slice(a+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==xe.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;const a=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,a<=this._latestReceivedSequenceId?(a===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=a,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:xe.Sequence,sequenceId:n}));const a=this._messages;for(const r of a)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(const a of this._messages)a._rejector(n)}_isInvocationMessage(n){switch(n.type){case xe.Invocation:case xe.StreamItem:case xe.Completion:case xe.StreamInvocation:case xe.CancelInvocation:return!0;case xe.Close:case xe.Sequence:case xe.Ping:case xe.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:xe.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class jE{constructor(n,a,r,l){this._message=n,this._id=a,this._resolver=r,this._rejector=l}}const TE=30*1e3,ME=15*1e3,EE=1e5;var Xe;(function(s){s.Disconnected="Disconnected",s.Connecting="Connecting",s.Connected="Connected",s.Disconnecting="Disconnecting",s.Reconnecting="Reconnecting"})(Xe||(Xe={}));class Qm{static create(n,a,r,l,d,f,m){return new Qm(n,a,r,l,d,f,m)}constructor(n,a,r,l,d,f,m){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(F.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Nt.isRequired(n,"connection"),Nt.isRequired(a,"logger"),Nt.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=d??TE,this.keepAliveIntervalInMilliseconds=f??ME,this._statefulReconnectBufferSize=m??EE,this._logger=a,this._protocol=r,this.connection=n,this._reconnectPolicy=l,this._handshakeProtocol=new _E,this.connection.onreceive=p=>this._processIncomingData(p),this.connection.onclose=p=>this._connectionClosed(p),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Xe.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:xe.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==Xe.Disconnected&&this._connectionState!==Xe.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Xe.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Xe.Connecting,this._logger.log(F.Debug,"Starting HubConnection.");try{await this._startInternal(),dt.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Xe.Connected,this._connectionStarted=!0,this._logger.log(F.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=Xe.Disconnected,this._logger.log(F.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const n=new Promise((a,r)=>{this._handshakeResolver=a,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let a=this._protocol.version;this.connection.features.reconnect||(a=1);const r={protocol:this._protocol.name,version:a};if(this._logger.log(F.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(F.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await n,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new CE(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(a){throw this._logger.log(F.Debug,`Hub handshake failed with error '${a}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(a),a}}async stop(){const n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await n}catch{}}_stopInternal(n){if(this._connectionState===Xe.Disconnected)return this._logger.log(F.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Xe.Disconnecting)return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const a=this._connectionState;return this._connectionState=Xe.Disconnecting,this._logger.log(F.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(F.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(a===Xe.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new is("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(n,...a){const[r,l]=this._replaceStreamingParams(a),d=this._createStreamInvocation(n,a,l);let f;const m=new wE;return m.cancelCallback=()=>{const p=this._createCancelInvocation(d.invocationId);return delete this._callbacks[d.invocationId],f.then(()=>this._sendWithProtocol(p))},this._callbacks[d.invocationId]=(p,y)=>{if(y){m.error(y);return}else p&&(p.type===xe.Completion?p.error?m.error(new Error(p.error)):m.complete():m.next(p.item))},f=this._sendWithProtocol(d).catch(p=>{m.error(p),delete this._callbacks[d.invocationId]}),this._launchStreams(r,f),m}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...a){const[r,l]=this._replaceStreamingParams(a),d=this._sendWithProtocol(this._createInvocation(n,a,!0,l));return this._launchStreams(r,d),d}invoke(n,...a){const[r,l]=this._replaceStreamingParams(a),d=this._createInvocation(n,a,!1,l);return new Promise((m,p)=>{this._callbacks[d.invocationId]=(b,v)=>{if(v){p(v);return}else b&&(b.type===xe.Completion?b.error?p(new Error(b.error)):m(b.result):p(new Error(`Unexpected message type: ${b.type}`)))};const y=this._sendWithProtocol(d).catch(b=>{p(b),delete this._callbacks[d.invocationId]});this._launchStreams(r,y)})}on(n,a){!n||!a||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(a)===-1&&this._methods[n].push(a))}off(n,a){if(!n)return;n=n.toLowerCase();const r=this._methods[n];if(r)if(a){const l=r.indexOf(a);l!==-1&&(r.splice(l,1),r.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const a=this._protocol.parseMessages(n,this._logger);for(const r of a)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case xe.Invocation:this._invokeClientMethod(r).catch(l=>{this._logger.log(F.Error,`Invoke client method threw error: ${wh(l)}`)});break;case xe.StreamItem:case xe.Completion:{const l=this._callbacks[r.invocationId];if(l){r.type===xe.Completion&&delete this._callbacks[r.invocationId];try{l(r)}catch(d){this._logger.log(F.Error,`Stream callback threw error: ${wh(d)}`)}}break}case xe.Ping:break;case xe.Close:{this._logger.log(F.Information,"Close message received from server.");const l=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(l):this._stopPromise=this._stopInternal(l);break}case xe.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case xe.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(F.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let a,r;try{[r,a]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(l){const d="Error parsing handshake response: "+l;this._logger.log(F.Error,d);const f=new Error(d);throw this._handshakeRejecter(f),f}if(a.error){const l="Server returned handshake error: "+a.error;this._logger.log(F.Error,l);const d=new Error(l);throw this._handshakeRejecter(d),d}else this._logger.log(F.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let n=this._nextKeepAlive-new Date().getTime();if(n<0){this._connectionState===Xe.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(n<0&&(n=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===Xe.Connected&&await this._trySendPingMessage()},n))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(n){const a=n.target.toLowerCase(),r=this._methods[a];if(!r){this._logger.log(F.Warning,`No client method with the name '${a}' found.`),n.invocationId&&(this._logger.log(F.Warning,`No result given for '${a}' method and invocation ID '${n.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}const l=r.slice(),d=!!n.invocationId;let f,m,p;for(const y of l)try{const b=f;f=await y.apply(this,n.arguments),d&&f&&b&&(this._logger.log(F.Error,`Multiple results provided for '${a}'. Sending error to server.`),p=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),m=void 0}catch(b){m=b,this._logger.log(F.Error,`A callback for the method '${a}' threw error '${b}'.`)}p?await this._sendWithProtocol(p):d?(m?p=this._createCompletionMessage(n.invocationId,`${m}`,null):f!==void 0?p=this._createCompletionMessage(n.invocationId,null,f):(this._logger.log(F.Warning,`No result given for '${a}' method and invocation ID '${n.invocationId}'.`),p=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(p)):f&&this._logger.log(F.Error,`Result given for '${a}' method but server is not expecting a result.`)}_connectionClosed(n){this._logger.log(F.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new is("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Xe.Disconnecting?this._completeClose(n):this._connectionState===Xe.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===Xe.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=Xe.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),dt.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(a=>a.apply(this,[n]))}catch(a){this._logger.log(F.Error,`An onclose callback called with error '${n}' threw error '${a}'.`)}}}async _reconnect(n){const a=Date.now();let r=0,l=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),d=this._getNextRetryDelay(r,0,l);if(d===null){this._logger.log(F.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=Xe.Reconnecting,n?this._logger.log(F.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(F.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(f=>f.apply(this,[n]))}catch(f){this._logger.log(F.Error,`An onreconnecting callback called with error '${n}' threw error '${f}'.`)}if(this._connectionState!==Xe.Reconnecting){this._logger.log(F.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;d!==null;){if(this._logger.log(F.Information,`Reconnect attempt number ${r+1} will start in ${d} ms.`),await new Promise(f=>{this._reconnectDelayHandle=setTimeout(f,d)}),this._reconnectDelayHandle=void 0,this._connectionState!==Xe.Reconnecting){this._logger.log(F.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Xe.Connected,this._logger.log(F.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(f=>f.apply(this,[this.connection.connectionId]))}catch(f){this._logger.log(F.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${f}'.`)}return}catch(f){if(this._logger.log(F.Information,`Reconnect attempt failed because of error '${f}'.`),this._connectionState!==Xe.Reconnecting){this._logger.log(F.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Xe.Disconnecting&&this._completeClose();return}r++,l=f instanceof Error?f:new Error(f.toString()),d=this._getNextRetryDelay(r,Date.now()-a,l)}}this._logger.log(F.Information,`Reconnect retries have been exhausted after ${Date.now()-a} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(n,a,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:a,previousRetryCount:n,retryReason:r})}catch(l){return this._logger.log(F.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${a}) threw error '${l}'.`),null}}_cancelCallbacksWithError(n){const a=this._callbacks;this._callbacks={},Object.keys(a).forEach(r=>{const l=a[r];try{l(null,n)}catch(d){this._logger.log(F.Error,`Stream 'error' callback called with '${n}' threw error: ${wh(d)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,a,r,l){if(r)return l.length!==0?{target:n,arguments:a,streamIds:l,type:xe.Invocation}:{target:n,arguments:a,type:xe.Invocation};{const d=this._invocationId;return this._invocationId++,l.length!==0?{target:n,arguments:a,invocationId:d.toString(),streamIds:l,type:xe.Invocation}:{target:n,arguments:a,invocationId:d.toString(),type:xe.Invocation}}}_launchStreams(n,a){if(n.length!==0){a||(a=Promise.resolve());for(const r in n)n[r].subscribe({complete:()=>{a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:l=>{let d;l instanceof Error?d=l.message:l&&l.toString?d=l.toString():d="Unknown error",a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,d)))},next:l=>{a=a.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,l)))}})}}_replaceStreamingParams(n){const a=[],r=[];for(let l=0;l<n.length;l++){const d=n[l];if(this._isObservable(d)){const f=this._invocationId;this._invocationId++,a[f]=d,r.push(f.toString()),n.splice(l,1)}}return[a,r]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,a,r){const l=this._invocationId;return this._invocationId++,r.length!==0?{target:n,arguments:a,invocationId:l.toString(),streamIds:r,type:xe.StreamInvocation}:{target:n,arguments:a,invocationId:l.toString(),type:xe.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:xe.CancelInvocation}}_createStreamItemMessage(n,a){return{invocationId:n,item:a,type:xe.StreamItem}}_createCompletionMessage(n,a,r){return a?{error:a,invocationId:n,type:xe.Completion}:{invocationId:n,result:r,type:xe.Completion}}_createCloseMessage(){return{type:xe.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const AE=[0,2e3,1e4,3e4,null];class uv{constructor(n){this._retryDelays=n!==void 0?[...n,null]:AE}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}class Bi{}Bi.Authorization="Authorization";Bi.Cookie="Cookie";class kE extends Bu{constructor(n,a){super(),this._innerClient=n,this._accessTokenFactory=a}async send(n){let a=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(a=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(n);const r=await this._innerClient.send(n);return a&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(n),await this._innerClient.send(n)):r}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Bi.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Bi.Authorization]&&delete n.headers[Bi.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}var gt;(function(s){s[s.None=0]="None",s[s.WebSockets=1]="WebSockets",s[s.ServerSentEvents=2]="ServerSentEvents",s[s.LongPolling=4]="LongPolling"})(gt||(gt={}));var tn;(function(s){s[s.Text=1]="Text",s[s.Binary=2]="Binary"})(tn||(tn={}));let NE=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class dv{get pollAborted(){return this._pollAbort.aborted}constructor(n,a,r){this._httpClient=n,this._logger=a,this._pollAbort=new NE,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(n,a){if(Nt.isRequired(n,"url"),Nt.isRequired(a,"transferFormat"),Nt.isIn(a,tn,"transferFormat"),this._url=n,this._logger.log(F.Trace,"(LongPolling transport) Connecting."),a===tn.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,l]=qr(),d={[r]:l,...this._options.headers},f={abortSignal:this._pollAbort.signal,headers:d,timeout:1e5,withCredentials:this._options.withCredentials};a===tn.Binary&&(f.responseType="arraybuffer");const m=`${n}&_=${Date.now()}`;this._logger.log(F.Trace,`(LongPolling transport) polling: ${m}.`);const p=await this._httpClient.get(m,f);p.statusCode!==200?(this._logger.log(F.Error,`(LongPolling transport) Unexpected response code: ${p.statusCode}.`),this._closeError=new Di(p.statusText||"",p.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,f)}async _poll(n,a){try{for(;this._running;)try{const r=`${n}&_=${Date.now()}`;this._logger.log(F.Trace,`(LongPolling transport) polling: ${r}.`);const l=await this._httpClient.get(r,a);l.statusCode===204?(this._logger.log(F.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):l.statusCode!==200?(this._logger.log(F.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new Di(l.statusText||"",l.statusCode),this._running=!1):l.content?(this._logger.log(F.Trace,`(LongPolling transport) data received. ${Sl(l.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(l.content)):this._logger.log(F.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof Km?this._logger.log(F.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(F.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(F.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(n){return this._running?N1(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(F.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(F.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const n={},[a,r]=qr();n[a]=r;const l={headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let d;try{await this._httpClient.delete(this._url,l)}catch(f){d=f}d?d instanceof Di&&(d.statusCode===404?this._logger.log(F.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(F.Trace,`(LongPolling transport) Error sending a DELETE request: ${d}`)):this._logger.log(F.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(F.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(F.Trace,n),this.onclose(this._closeError)}}}class RE{constructor(n,a,r,l){this._httpClient=n,this._accessToken=a,this._logger=r,this._options=l,this.onreceive=null,this.onclose=null}async connect(n,a){return Nt.isRequired(n,"url"),Nt.isRequired(a,"transferFormat"),Nt.isIn(a,tn,"transferFormat"),this._logger.log(F.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,l)=>{let d=!1;if(a!==tn.Text){l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let f;if(dt.isBrowser||dt.isWebWorker)f=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{const m=this._httpClient.getCookieString(n),p={};p.Cookie=m;const[y,b]=qr();p[y]=b,f=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:{...p,...this._options.headers}})}try{f.onmessage=m=>{if(this.onreceive)try{this._logger.log(F.Trace,`(SSE transport) data received. ${Sl(m.data,this._options.logMessageContent)}.`),this.onreceive(m.data)}catch(p){this._close(p);return}},f.onerror=m=>{d?this._close():l(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},f.onopen=()=>{this._logger.log(F.Information,`SSE connected to ${this._url}`),this._eventSource=f,d=!0,r()}}catch(m){l(m);return}})}async send(n){return this._eventSource?N1(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class DE{constructor(n,a,r,l,d,f){this._logger=r,this._accessTokenFactory=a,this._logMessageContent=l,this._webSocketConstructor=d,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=f}async connect(n,a){Nt.isRequired(n,"url"),Nt.isRequired(a,"transferFormat"),Nt.isIn(a,tn,"transferFormat"),this._logger.log(F.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((l,d)=>{n=n.replace(/^http/,"ws");let f;const m=this._httpClient.getCookieString(n);let p=!1;if(dt.isNode||dt.isReactNative){const y={},[b,v]=qr();y[b]=v,r&&(y[Bi.Authorization]=`Bearer ${r}`),m&&(y[Bi.Cookie]=m),f=new this._webSocketConstructor(n,void 0,{headers:{...y,...this._headers}})}else r&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);f||(f=new this._webSocketConstructor(n)),a===tn.Binary&&(f.binaryType="arraybuffer"),f.onopen=y=>{this._logger.log(F.Information,`WebSocket connected to ${n}.`),this._webSocket=f,p=!0,l()},f.onerror=y=>{let b=null;typeof ErrorEvent<"u"&&y instanceof ErrorEvent?b=y.error:b="There was an error with the transport",this._logger.log(F.Information,`(WebSockets transport) ${b}.`)},f.onmessage=y=>{if(this._logger.log(F.Trace,`(WebSockets transport) data received. ${Sl(y.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(y.data)}catch(b){this._close(b);return}},f.onclose=y=>{if(p)this._close(y);else{let b=null;typeof ErrorEvent<"u"&&y instanceof ErrorEvent?b=y.error:b="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",d(new Error(b))}}})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(F.Trace,`(WebSockets transport) sending data. ${Sl(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(F.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}}const fv=100;class BE{constructor(n,a={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Nt.isRequired(n,"url"),this._logger=fE(a.logger),this.baseUrl=this._resolveUrl(n),a=a||{},a.logMessageContent=a.logMessageContent===void 0?!1:a.logMessageContent,typeof a.withCredentials=="boolean"||a.withCredentials===void 0)a.withCredentials=a.withCredentials===void 0?!0:a.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");a.timeout=a.timeout===void 0?100*1e3:a.timeout;let r=null,l=null;if(dt.isNode&&typeof require<"u"){const d=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=d("ws"),l=d("eventsource")}!dt.isNode&&typeof WebSocket<"u"&&!a.WebSocket?a.WebSocket=WebSocket:dt.isNode&&!a.WebSocket&&r&&(a.WebSocket=r),!dt.isNode&&typeof EventSource<"u"&&!a.EventSource?a.EventSource=EventSource:dt.isNode&&!a.EventSource&&typeof l<"u"&&(a.EventSource=l),this._httpClient=new kE(a.httpClient||new SE(this._logger),a.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=a,this.onreceive=null,this.onclose=null}async start(n){if(n=n||tn.Binary,Nt.isIn(n,tn,"transferFormat"),this._logger.log(F.Debug,`Starting connection with transfer format '${tn[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),await this._startInternalPromise,this._connectionState==="Disconnecting"){const a="Failed to start the HttpConnection before stop() was called.";return this._logger.log(F.Error,a),await this._stopPromise,Promise.reject(new is(a))}else if(this._connectionState!=="Connected"){const a="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(F.Error,a),Promise.reject(new is(a))}this._connectionStarted=!0}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Zm(this.transport)),this._sendQueue.send(n))}async stop(n){if(this._connectionState==="Disconnected")return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(a=>{this._stopPromiseResolver=a}),await this._stopInternal(n),await this._stopPromise}async _stopInternal(n){this._stopError=n;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(a){this._logger.log(F.Error,`HttpConnection.transport.stop() threw error '${a}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(F.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(n){let a=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===gt.WebSockets)this.transport=this._constructTransport(gt.WebSockets),await this._startTransport(a,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,l=0;do{if(r=await this._getNegotiationResponse(a),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new is("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(a=r.url),r.accessToken){const d=r.accessToken;this._accessTokenFactory=()=>d,this._httpClient._accessToken=d,this._httpClient._accessTokenFactory=void 0}l++}while(r.url&&l<fv);if(l===fv&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(a,this._options.transport,r,n)}this.transport instanceof dv&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(F.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(F.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(n){const a={},[r,l]=qr();a[r]=l;const d=this._resolveNegotiateUrl(n);this._logger.log(F.Debug,`Sending negotiation request: ${d}.`);try{const f=await this._httpClient.post(d,{content:"",headers:{...a,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(f.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${f.statusCode}'`));const m=JSON.parse(f.content);return(!m.negotiateVersion||m.negotiateVersion<1)&&(m.connectionToken=m.connectionId),m.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new lv("Client didn't negotiate Stateful Reconnect but the server did.")):m}catch(f){let m="Failed to complete negotiation with the server: "+f;return f instanceof Di&&f.statusCode===404&&(m=m+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(F.Error,m),Promise.reject(new lv(m))}}_createConnectUrl(n,a){return a?n+(n.indexOf("?")===-1?"?":"&")+`id=${a}`:n}async _createTransport(n,a,r,l){let d=this._createConnectUrl(n,r.connectionToken);if(this._isITransport(a)){this._logger.log(F.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=a,await this._startTransport(d,l),this.connectionId=r.connectionId;return}const f=[],m=r.availableTransports||[];let p=r;for(const y of m){const b=this._resolveTransportOrError(y,a,l,p?.useStatefulReconnect===!0);if(b instanceof Error)f.push(`${y.transport} failed:`),f.push(b);else if(this._isITransport(b)){if(this.transport=b,!p){try{p=await this._getNegotiationResponse(n)}catch(v){return Promise.reject(v)}d=this._createConnectUrl(n,p.connectionToken)}try{await this._startTransport(d,l),this.connectionId=p.connectionId;return}catch(v){if(this._logger.log(F.Error,`Failed to start the transport '${y.transport}': ${v}`),p=void 0,f.push(new lE(`${y.transport} failed: ${v}`,gt[y.transport])),this._connectionState!=="Connecting"){const _="Failed to select transport before stop() was called.";return this._logger.log(F.Debug,_),Promise.reject(new is(_))}}}}return f.length>0?Promise.reject(new cE(`Unable to connect to the server with any of the available transports. ${f.join(" ")}`,f)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(n){switch(n){case gt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new DE(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case gt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new RE(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case gt.LongPolling:return new dv(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,a){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let l=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(n,a),await this.features.resend()}catch{l=!0}else{this._stopConnection(r);return}l&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(n,a)}_resolveTransportOrError(n,a,r,l){const d=gt[n.transport];if(d==null)return this._logger.log(F.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(zE(a,d))if(n.transferFormats.map(m=>tn[m]).indexOf(r)>=0){if(d===gt.WebSockets&&!this._options.WebSocket||d===gt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(F.Debug,`Skipping transport '${gt[d]}' because it is not supported in your environment.'`),new rE(`'${gt[d]}' is not supported in your environment.`,d);this._logger.log(F.Debug,`Selecting transport '${gt[d]}'.`);try{return this.features.reconnect=d===gt.WebSockets?l:void 0,this._constructTransport(d)}catch(m){return m}}else return this._logger.log(F.Debug,`Skipping transport '${gt[d]}' because it does not support the requested transfer format '${tn[r]}'.`),new Error(`'${gt[d]}' does not support ${tn[r]}.`);else return this._logger.log(F.Debug,`Skipping transport '${gt[d]}' because it was disabled by the client.`),new oE(`'${gt[d]}' is disabled by the client.`,d)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(F.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(F.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(F.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(F.Error,`Connection disconnected with error '${n}'.`):this._logger.log(F.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(a=>{this._logger.log(F.Error,`TransportSendQueue.stop() threw error '${a}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(a){this._logger.log(F.Error,`HttpConnection.onclose(${n}) threw error '${a}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!dt.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const a=window.document.createElement("a");return a.href=n,this._logger.log(F.Information,`Normalizing '${n}' to '${a.href}'.`),a.href}_resolveNegotiateUrl(n){const a=new URL(n);a.pathname.endsWith("/")?a.pathname+="negotiate":a.pathname+="/negotiate";const r=new URLSearchParams(a.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),a.search=r.toString(),a.toString()}}function zE(s,n){return!s||(n&s)!==0}class Zm{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new su,this._transportResult=new su,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new su),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new su;const n=this._transportResult;this._transportResult=void 0;const a=typeof this._buffer[0]=="string"?this._buffer.join(""):Zm._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(a),n.resolve()}catch(r){n.reject(r)}}}static _concatBuffers(n){const a=n.map(d=>d.byteLength).reduce((d,f)=>d+f),r=new Uint8Array(a);let l=0;for(const d of n)r.set(new Uint8Array(d),l),l+=d.byteLength;return r.buffer}}class su{constructor(){this.promise=new Promise((n,a)=>[this._resolver,this._rejecter]=[n,a])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}const UE="json";class LE{constructor(){this.name=UE,this.version=2,this.transferFormat=tn.Text}parseMessages(n,a){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];a===null&&(a=xl.instance);const r=Mn.parse(n),l=[];for(const d of r){const f=JSON.parse(d);if(typeof f.type!="number")throw new Error("Invalid payload.");switch(f.type){case xe.Invocation:this._isInvocationMessage(f);break;case xe.StreamItem:this._isStreamItemMessage(f);break;case xe.Completion:this._isCompletionMessage(f);break;case xe.Ping:break;case xe.Close:break;case xe.Ack:this._isAckMessage(f);break;case xe.Sequence:this._isSequenceMessage(f);break;default:a.log(F.Information,"Unknown message type '"+f.type+"' ignored.");continue}l.push(f)}return l}writeMessage(n){return Mn.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,a){if(typeof n!="string"||n==="")throw new Error(a)}}const OE={trace:F.Trace,debug:F.Debug,info:F.Information,information:F.Information,warn:F.Warning,warning:F.Warning,error:F.Error,critical:F.Critical,none:F.None};function IE(s){const n=OE[s.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${s}`)}class PE{configureLogging(n){if(Nt.isRequired(n,"logging"),HE(n))this.logger=n;else if(typeof n=="string"){const a=IE(n);this.logger=new wu(a)}else this.logger=new wu(n);return this}withUrl(n,a){return Nt.isRequired(n,"url"),Nt.isNotEmpty(n,"url"),this.url=n,typeof a=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...a}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:a},this}withHubProtocol(n){return Nt.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new uv(n):this.reconnectPolicy=n:this.reconnectPolicy=new uv,this}withServerTimeout(n){return Nt.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return Nt.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n?.bufferSize,this}build(){const n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const a=new BE(this.url,n);return Qm.create(a,this.logger||xl.instance,this.protocol||new LE,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function HE(s){return s.log!==void 0}class VE{connection=null;eventHandlers={};reconnectAttempts=0;maxReconnectAttempts=5;isManualDisconnect=!1;constructor(){const a="https://your-domain.com/api".replace("/api","/hubs/chat");this.connection=new PE().withUrl(a,{accessTokenFactory:()=>localStorage.getItem("token")||"",skipNegotiation:!1,withCredentials:!0,transport:gt.WebSockets|gt.ServerSentEvents|gt.LongPolling}).withAutomaticReconnect({nextRetryDelayInMilliseconds:r=>r.previousRetryCount>=this.maxReconnectAttempts?null:Math.min(1e3*Math.pow(2,r.previousRetryCount),32e3)}).configureLogging(F.Information).build(),this.setupConnectionHandlers(),this.setupEventListeners()}setupConnectionHandlers(){this.connection&&(this.connection.onreconnecting(n=>{console.warn("SignalR reconnecting...",n),this.reconnectAttempts++}),this.connection.onreconnected(n=>{console.log("SignalR reconnected:",n),this.reconnectAttempts=0,this.rejoinChats()}),this.connection.onclose(n=>{console.error("SignalR connection closed:",n),!this.isManualDisconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>this.start(),5e3)}))}setupEventListeners(){this.connection&&(this.connection.on("UserOnline",n=>{console.log("[SignalR] UserOnline event received:",n),this.eventHandlers.onUserOnline?.(n)}),this.connection.on("UserOffline",n=>{console.log("[SignalR] UserOffline event received:",n),this.eventHandlers.onUserOffline?.(n)}),this.connection.on("ReceiveMessage",n=>{this.eventHandlers.onReceiveMessage?.(n)}),this.connection.on("MessageEdited",n=>{this.eventHandlers.onMessageEdited?.(n)}),this.connection.on("MessageDeleted",n=>{this.eventHandlers.onMessageDeleted?.(n)}),this.connection.on("ReactionAdded",n=>{console.log("[SignalR] ReactionAdded event received:",n),this.eventHandlers.onReactionAdded?.(n)}),this.connection.on("ReactionRemoved",n=>{console.log("[SignalR] ReactionRemoved event received:",n),this.eventHandlers.onReactionRemoved?.(n)}),this.connection.on("UserTyping",n=>{this.eventHandlers.onUserTyping?.(n)}),this.connection.on("UserStoppedTyping",n=>{this.eventHandlers.onUserStoppedTyping?.(n)}),this.connection.on("NewNotification",n=>{this.eventHandlers.onNewNotification?.(n)}),this.connection.on("NotificationsMarkedSeen",n=>{this.eventHandlers.onNotificationsMarkedSeen?.(n)}),this.connection.on("MessagePinned",n=>{this.eventHandlers.onMessagePinned?.(n)}),this.connection.on("MessageUnpinned",n=>{this.eventHandlers.onMessageUnpinned?.(n)}),this.connection.on("AddedToChat",n=>{console.log("[SignalR] AddedToChat:",n),this.eventHandlers.onAddedToChat?.(n)}),this.connection.on("NewConversation",n=>{console.log("[SignalR] NewConversation:",n),this.eventHandlers.onNewConversation?.(n)}),this.connection.on("ConversationCreated",n=>{console.log("[SignalR] ConversationCreated:",n),this.eventHandlers.onConversationCreated?.(n)}),this.connection.on("PermissionGranted",n=>{console.log("[SignalR] PermissionGranted:",n),this.eventHandlers.onPermissionGranted?.(n)}),this.connection.on("PermissionRevoked",n=>{console.log("[SignalR] PermissionRevoked:",n),this.eventHandlers.onPermissionRevoked?.(n)}),this.connection.on("AllPermissionsRevoked",n=>{console.log("[SignalR] AllPermissionsRevoked:",n),this.eventHandlers.onAllPermissionsRevoked?.(n)}),this.connection.on("UserBlockedYou",n=>{console.log("[SignalR] UserBlockedYou:",n),this.eventHandlers.onUserBlockedYou?.(n)}),this.connection.on("YouBlockedUser",n=>{console.log("[SignalR] YouBlockedUser:",n),this.eventHandlers.onYouBlockedUser?.(n)}),this.connection.on("UserUnblockedYou",n=>{console.log("[SignalR] UserUnblockedYou:",n),this.eventHandlers.onUserUnblockedYou?.(n)}),this.connection.on("YouUnblockedUser",n=>{console.log("[SignalR] YouUnblockedUser:",n),this.eventHandlers.onYouUnblockedUser?.(n)}),this.connection.on("ChatDeleted",n=>{console.log("[SignalR] ChatDeleted:",n),this.eventHandlers.onChatDeleted?.(n)}),this.connection.on("RemovedFromChat",n=>{console.log("[SignalR] RemovedFromChat:",n),this.eventHandlers.onRemovedFromChat?.(n)}),this.connection.on("MessagesMarkedSeen",n=>{console.log("[SignalR] MessagesMarkedSeen:",n),this.eventHandlers.onMessagesMarkedSeen?.(n)}),this.connection.on("Error",n=>{console.error("SignalR Error:",n),this.eventHandlers.onError?.(n)}))}setEventHandlers(n){this.eventHandlers={...this.eventHandlers,...n}}async start(){if(this.connection)try{this.connection.state===Xe.Disconnected&&(this.isManualDisconnect=!1,await this.connection.start(),console.log("SignalR Connected:",this.connection.connectionId))}catch(n){throw console.error("Error starting SignalR connection:",n),n}}async getPresenceStates(n){if(!this.connection||this.connection.state!==Xe.Connected)return console.warn("Cannot fetch presence states: not connected"),{};try{const a=await this.connection.invoke("GetPresenceStates",n);return console.log(`Fetched initial presence states for ${n.length} users`),a}catch(a){return console.error("Error fetching presence states:",a),{}}}async stop(){if(this.connection)try{this.isManualDisconnect=!0,await this.connection.stop(),console.log("SignalR Disconnected")}catch(n){console.error("Error stopping SignalR connection:",n)}}getConnectionState(){return this.connection?.state||Xe.Disconnected}isConnected(){return this.connection?.state===Xe.Connected}activeChats=new Set;async joinChat(n){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("JoinChat",n),this.activeChats.add(n),console.log("Joined chat:",n)}catch(a){throw console.error("Error joining chat:",a),a}}async leaveChat(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("LeaveChat",n),this.activeChats.delete(n),console.log("Left chat:",n)}catch(a){console.error("Error leaving chat:",a)}}async rejoinChats(){const n=Array.from(this.activeChats);for(const a of n)try{await this.connection?.invoke("JoinChat",a)}catch(r){console.error("Error rejoining chat:",a,r)}}async sendMessage(n,a,r=null,l=null){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("SendMessage",{chatId:n,content:a,receiverId:r,replyId:l})}catch(d){throw console.error("Error sending message:",d),d}}async editMessage(n,a,r){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("EditMessage",n,a,r)}catch(l){throw console.error("Error editing message:",l),l}}async deleteMessage(n,a){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("DeleteMessage",n,a)}catch(r){throw console.error("Error deleting message:",r),r}}async addReaction(n,a,r){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("AddReaction",n,a,r)}catch(l){throw console.error("Error adding reaction:",l),l}}async removeReaction(n,a){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("RemoveReaction",n,a)}catch(r){throw console.error("Error removing reaction:",r),r}}async sendTyping(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("Typing",n)}catch(a){console.error("Error sending typing indicator:",a)}}async sendStopTyping(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("StopTyping",n)}catch(a){console.error("Error sending stop typing indicator:",a)}}async markNotificationsAsSeen(n){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("MarkAsSeen",n)}catch(a){throw console.error("Error marking notifications as seen:",a),a}}markSeenDebounceTimers=new Map;async markMessagesAsSeen(n){if(!this.connection||!this.isConnected())return;const a=this.markSeenDebounceTimers.get(n);return a&&clearTimeout(a),new Promise(r=>{const l=setTimeout(async()=>{if(this.markSeenDebounceTimers.delete(n),!this.connection||!this.isConnected()){r();return}try{await this.connection.invoke("MarkMessagesAsSeen",n)}catch(d){d?.message?.includes("connection being closed")||console.error("Error marking messages as seen:",d)}r()},300);this.markSeenDebounceTimers.set(n,l)})}}const ta=new VE,hv=Object.freeze(Object.defineProperty({__proto__:null,signalRService:ta},Symbol.toStringTag,{value:"Module"})),mv=[],R1=s=>{const n=Tn(m=>m.permissionsLoading),a=Tn(m=>m.currentChat),r=st(m=>m.user),l=Tn(m=>s?m.chatPermissions.get(s)??mv:mv),d=(()=>{if(!s||!a||!r)return!1;if(a.createdById===r.id)return!0;const p=a.members?.find(y=>y.userId===r.id)?.role?.toLowerCase();return p==="admin"||p==="owner"})(),f=m=>d?!0:l.includes(m);return a?.type==="dm"?{canSendMessage:!0,canAddUsers:!1,canPinMessages:!0,canManageMessages:!1,canManageBans:!1,canManageChatInfo:!1,canManageUsers:!1,isLoading:!1}:s?{canSendMessage:f("SendMessage"),canAddUsers:f("AddUsers"),canPinMessages:f("PinMessages"),canManageMessages:f("ManageMessages"),canManageBans:f("ManageBans"),canManageChatInfo:f("ManageChatInfo"),canManageUsers:f("ManageUsers"),isLoading:n}:{canSendMessage:!1,canAddUsers:!1,canPinMessages:!1,canManageMessages:!1,canManageBans:!1,canManageChatInfo:!1,canManageUsers:!1,isLoading:!1}},$E="_overlay_iwrk9_69",FE="_fadeIn_iwrk9_1",GE="_closing_iwrk9_85",qE="_fadeOut_iwrk9_1",YE="_modal_iwrk9_90",XE="_slideUp_iwrk9_1",WE="_slideDown_iwrk9_1",KE="_header_iwrk9_109",QE="_headerContent_iwrk9_118",ZE="_headerIcon_iwrk9_124",JE="_title_iwrk9_136",eA="_subtitle_iwrk9_144",tA="_closeBtn_iwrk9_150",nA="_content_iwrk9_174",sA="_userCard_iwrk9_198",aA="_userAvatar_iwrk9_209",iA="_userInfo_iwrk9_230",rA="_userName_iwrk9_235",oA="_userRole_iwrk9_242",lA="_roleBadge_iwrk9_247",cA="_admin_iwrk9_256",uA="_moderator_iwrk9_262",dA="_member_iwrk9_268",fA="_permissionStats_iwrk9_274",hA="_statNumber_iwrk9_282",mA="_statLabel_iwrk9_288",pA="_loadingState_iwrk9_294",gA="_loadingSpinner_iwrk9_299",yA="_spin_iwrk9_303",bA="_skeletonList_iwrk9_314",vA="_skeletonItem_iwrk9_320",xA="_skeletonIcon_iwrk9_330",SA="_shimmer_iwrk9_1",_A="_skeletonText_iwrk9_339",wA="_skeletonLine_iwrk9_343",CA="_skeletonToggle_iwrk9_356",jA="_permissionsList_iwrk9_366",TA="_category_iwrk9_373",MA="_categoryHeader_iwrk9_377",EA="_categoryLabel_iwrk9_385",AA="_categoryCount_iwrk9_393",kA="_categoryItems_iwrk9_399",NA="_permissionItem_iwrk9_406",RA="_granted_iwrk9_422",DA="_updating_iwrk9_432",BA="_permissionIcon_iwrk9_437",zA="_permissionInfo_iwrk9_455",UA="_permissionLabel_iwrk9_460",LA="_permissionDescription_iwrk9_467",OA="_toggleSwitch_iwrk9_474",IA="_toggleTrack_iwrk9_484",PA="_on_iwrk9_493",HA="_toggleThumb_iwrk9_498",VA="_footer_iwrk9_524",$A="_footerInfo_iwrk9_533",FA="_doneButton_iwrk9_545",GA="_pulse_iwrk9_1",he={overlay:$E,fadeIn:FE,closing:GE,fadeOut:qE,modal:YE,slideUp:XE,slideDown:WE,header:KE,headerContent:QE,headerIcon:ZE,title:JE,subtitle:eA,closeBtn:tA,content:nA,userCard:sA,userAvatar:aA,userInfo:iA,userName:rA,userRole:oA,roleBadge:lA,admin:cA,moderator:uA,member:dA,permissionStats:fA,statNumber:hA,statLabel:mA,loadingState:pA,loadingSpinner:gA,spin:yA,skeletonList:bA,skeletonItem:vA,skeletonIcon:xA,shimmer:SA,skeletonText:_A,skeletonLine:wA,skeletonToggle:CA,permissionsList:jA,category:TA,categoryHeader:MA,categoryLabel:EA,categoryCount:AA,categoryItems:kA,permissionItem:NA,granted:RA,updating:DA,permissionIcon:BA,permissionInfo:zA,permissionLabel:UA,permissionDescription:LA,toggleSwitch:OA,toggleTrack:IA,on:PA,toggleThumb:HA,footer:VA,footerInfo:$A,doneButton:FA,pulse:GA},pv=[{name:"SendMessage",label:"Send Messages",description:"Allow sending messages in this chat",icon:c.jsx(hl,{size:18}),category:"messaging"},{name:"ManageMessages",label:"Manage Messages",description:"Edit or delete messages from other users",icon:c.jsx(kh,{size:18}),category:"moderation"},{name:"AddUsers",label:"Add Users",description:"Invite new members to this chat",icon:c.jsx(rl,{size:18}),category:"management"},{name:"ManageUsers",label:"Manage Users",description:"Remove members and manage their roles",icon:c.jsx(Ut,{size:18}),category:"management"},{name:"ManageChatInfo",label:"Manage Chat Info",description:"Edit chat name, description, and avatar",icon:c.jsx(kh,{size:18}),category:"management"},{name:"ManageBans",label:"Manage Bans",description:"Ban or unban users from this chat",icon:c.jsx(Va,{size:18}),category:"moderation"},{name:"PinMessages",label:"Pin Messages",description:"Pin important messages for all members",icon:c.jsx(Nh,{size:18}),category:"messaging"}],Ch={messaging:{label:"Messaging",order:1},moderation:{label:"Moderation",order:2},management:{label:"Management",order:3}},D1=({isOpen:s,onClose:n,chatId:a,member:r,onPermissionsChanged:l})=>{const[d,f]=w.useState([]),[m,p]=w.useState(!1),[y,b]=w.useState(null),[v,_]=w.useState(!1);w.useEffect(()=>{s&&(T(),_(!1))},[s,a,r.userId]);const T=async()=>{p(!0);try{const{permissionService:q}=await ea(async()=>{const{permissionService:ue}=await import("./permission.service-BMzIMu-h.js");return{permissionService:ue}},__vite__mapDeps([0,1,2])),ee=await q.getUserPermissions(a,r.userId),se=ee?.permissions||ee,W=Array.isArray(se)?se.map(ue=>ue.permissionName||ue.name||ue):[];f(W)}catch(q){console.error("Failed to load permissions:",q),f([])}finally{p(!1)}},E=async q=>{const ee=d.includes(q);b(q);const W=st.getState().user?.id===r.userId;try{const{permissionService:ue}=await ea(async()=>{const{permissionService:fe}=await import("./permission.service-BMzIMu-h.js");return{permissionService:fe}},__vite__mapDeps([0,1,2]));ee?(await ue.revokePermission(a,r.userId,q),f(d.filter(fe=>fe!==q)),W&&Tn.getState().revokePermission(a,q)):(await ue.grantPermission(a,r.userId,q),f([...d,q]),W&&Tn.getState().grantPermission(a,q)),await l()}catch(ue){console.error("Failed to update permission:",ue)}finally{b(null)}},M=()=>{_(!0),setTimeout(()=>{n(),_(!1)},200)};if(!s)return null;const N=q=>q.slice(0,2).toUpperCase(),P=pv.reduce((q,ee)=>(q[ee.category]||(q[ee.category]=[]),q[ee.category].push(ee),q),{}),Q=Object.entries(P).sort(([q],[ee])=>Ch[q].order-Ch[ee].order),V=d.length,J=pv.length;return c.jsx("div",{className:`${he.overlay} ${v?he.closing:""}`,onClick:M,children:c.jsxs("div",{className:`${he.modal} ${v?he.closing:""}`,onClick:q=>q.stopPropagation(),children:[c.jsxs("div",{className:he.header,children:[c.jsxs("div",{className:he.headerContent,children:[c.jsx("div",{className:he.headerIcon,children:c.jsx(Ui,{size:20})}),c.jsxs("div",{children:[c.jsx("h2",{className:he.title,children:"Manage Permissions"}),c.jsx("p",{className:he.subtitle,children:"Configure access for this member"})]})]}),c.jsx("button",{onClick:M,className:he.closeBtn,"aria-label":"Close",children:""})]}),c.jsxs("div",{className:he.content,children:[c.jsxs("div",{className:he.userCard,children:[c.jsx("div",{className:he.userAvatar,children:r.user.avatarUrl?c.jsx("img",{src:r.user.avatarUrl,alt:r.user.username}):N(r.user.username)}),c.jsxs("div",{className:he.userInfo,children:[c.jsx("div",{className:he.userName,children:r.user.username}),c.jsx("div",{className:he.userRole,children:c.jsx("span",{className:`${he.roleBadge} ${he[r.role]}`,children:r.role.charAt(0).toUpperCase()+r.role.slice(1)})})]}),c.jsxs("div",{className:he.permissionStats,children:[c.jsx("div",{className:he.statNumber,children:V}),c.jsxs("div",{className:he.statLabel,children:["of ",J]})]})]}),m?c.jsxs("div",{className:he.loadingState,children:[c.jsx("div",{className:he.loadingSpinner,children:c.jsx(Lt,{size:32,className:he.spin})}),c.jsx("p",{children:"Loading permissions..."}),c.jsx("div",{className:he.skeletonList,children:[1,2,3,4].map(q=>c.jsxs("div",{className:he.skeletonItem,children:[c.jsx("div",{className:he.skeletonIcon}),c.jsxs("div",{className:he.skeletonText,children:[c.jsx("div",{className:he.skeletonLine,style:{width:"60%"}}),c.jsx("div",{className:he.skeletonLine,style:{width:"80%"}})]}),c.jsx("div",{className:he.skeletonToggle})]},q))})]}):c.jsx("div",{className:he.permissionsList,children:Q.map(([q,ee],se)=>c.jsxs("div",{className:he.category,style:{animationDelay:`${se*.1}s`},children:[c.jsxs("div",{className:he.categoryHeader,children:[c.jsx("span",{className:he.categoryLabel,children:Ch[q].label}),c.jsxs("span",{className:he.categoryCount,children:[ee.filter(W=>d.includes(W.name)).length," / ",ee.length]})]}),c.jsx("div",{className:he.categoryItems,children:ee.map((W,ue)=>{const fe=d.includes(W.name),je=y===W.name;return c.jsxs("div",{className:`${he.permissionItem} ${fe?he.granted:""} ${je?he.updating:""}`,style:{animationDelay:`${se*.1+ue*.05}s`},children:[c.jsx("div",{className:he.permissionIcon,children:W.icon}),c.jsxs("div",{className:he.permissionInfo,children:[c.jsx("div",{className:he.permissionLabel,children:W.label}),c.jsx("div",{className:he.permissionDescription,children:W.description})]}),c.jsx("button",{className:`${he.toggleSwitch} ${fe?he.on:he.off}`,onClick:()=>E(W.name),disabled:je,children:c.jsx("div",{className:he.toggleTrack,children:c.jsx("div",{className:he.toggleThumb,children:je&&c.jsx(Lt,{size:12,className:he.spin})})})})]},W.name)})})]},q))})]}),c.jsxs("div",{className:he.footer,children:[c.jsxs("div",{className:he.footerInfo,children:[c.jsx(Ui,{size:14}),c.jsx("span",{children:"Changes take effect immediately"})]}),c.jsx("button",{onClick:M,className:he.doneButton,children:"Done"})]})]})})},Ne={surface:"#0a0a0a",surfaceElevated:"#0f0f0f",surfaceHover:"#151515",border:"#1a1a1a",borderLight:"#252525",primaryHover:"#0d9668",danger:"#ef4444",dangerHover:"#dc2626",dangerMuted:"rgba(239, 68, 68, 0.15)",warning:"#f59e0b",warningHover:"#d97706",warningMuted:"rgba(245, 158, 11, 0.15)",info:"#10b981",infoHover:"#0d9668",infoMuted:"rgba(16, 185, 129, 0.15)",success:"#10b981",successMuted:"rgba(16, 185, 129, 0.15)",text:"#ffffff",textSecondary:"#a1a1aa",textMuted:"#71717a"},qA=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M5.5 3.21V20.8l4.75-4.73 2.99 6.73L15.5 21.6l-3-6.7h6z'/%3E%3Cpath fill='%23064e3b' d='M6.5 5.61v11.68l3.38-3.37.37-.37.48 1.07 1.93 4.35 1.07-.47L11.8 14.1l-.48-1.07H16z'/%3E%3C/svg%3E") 5 3, default`,jh=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M9 2.5a2.5 2.5 0 0 1 5 0v7.996l3.904-.74a2.095 2.095 0 0 1 2.537 2.466L19.5 17.5a6 6 0 0 1-6 6H11a7 7 0 0 1-7-7V9a2 2 0 1 1 4 0v3.5h1z'/%3E%3Cpath fill='%23064e3b' d='M10 2.5V14h-.5a1.5 1.5 0 0 1-1.5-1.5V9a1 1 0 1 0-2 0v7.5a6 6 0 0 0 6 6h2.5a5 5 0 0 0 5-5l.941-5.278a1.095 1.095 0 0 0-1.324-1.288l-4.117.78V2.5a1.5 1.5 0 0 0-3 0z'/%3E%3C/svg%3E") 9 4, pointer`,YA=s=>{switch(s){case"danger":return{iconBg:Ne.dangerMuted,iconBorder:`${Ne.danger}30`,iconColor:Ne.danger,buttonBg:Ne.danger,buttonHover:Ne.dangerHover,glow:`0 0 60px ${Ne.dangerMuted}`};case"warning":return{iconBg:Ne.warningMuted,iconBorder:`${Ne.warning}30`,iconColor:Ne.warning,buttonBg:Ne.warning,buttonHover:Ne.warningHover,glow:`0 0 60px ${Ne.warningMuted}`};case"success":return{iconBg:Ne.successMuted,iconBorder:`${Ne.success}30`,iconColor:Ne.success,buttonBg:Ne.success,buttonHover:Ne.primaryHover,glow:`0 0 60px ${Ne.successMuted}`};case"info":default:return{iconBg:Ne.infoMuted,iconBorder:`${Ne.info}30`,iconColor:Ne.info,buttonBg:Ne.info,buttonHover:Ne.infoHover,glow:`0 0 60px ${Ne.infoMuted}`}}},XA=(s,n)=>{switch(s){case"delete":return c.jsx(Cu,{size:28,color:n});case"ban":return c.jsx(Va,{size:28,color:n});case"leave":return c.jsx(um,{size:28,color:n});case"shield":return c.jsx(Ui,{size:28,color:n});case"success":return c.jsx(Sv,{size:28,color:n});case"info":return c.jsx(cm,{size:28,color:n});case"warning":default:return c.jsx(m_,{size:28,color:n})}},WA={hidden:{opacity:0},visible:{opacity:1}},KA={hidden:{opacity:0,scale:.9,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:400,mass:.8}},exit:{opacity:0,scale:.9,y:20,transition:{duration:.15,ease:"easeOut"}}},QA={hidden:{scale:0,rotate:-180},visible:{scale:1,rotate:0,transition:{type:"spring",damping:15,stiffness:400,delay:.1}}},ZA={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{delay:.15,duration:.2}}},JA={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.2,duration:.2}}},ek=({isOpen:s,title:n,message:a,confirmText:r="Confirm",cancelText:l="Cancel",variant:d="danger",icon:f="warning",onConfirm:m,onCancel:p})=>{const y=YA(d);return c.jsx(rn,{children:s&&c.jsxs(X.div,{variants:WA,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.2},onClick:p,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",cursor:qA},children:[c.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`
              linear-gradient(rgba(16, 185, 129, 0.02) 1px, transparent 1px),
              linear-gradient(90deg, rgba(16, 185, 129, 0.02) 1px, transparent 1px)
            `,backgroundSize:"50px 50px",pointerEvents:"none"}}),c.jsxs(X.div,{variants:KA,initial:"hidden",animate:"visible",exit:"exit",onClick:b=>b.stopPropagation(),style:{position:"relative",width:"100%",maxWidth:"420px",background:`linear-gradient(180deg, ${Ne.surfaceElevated} 0%, ${Ne.surface} 100%)`,border:`1px solid ${Ne.border}`,borderRadius:"20px",boxShadow:`
                0 25px 50px -12px rgba(0, 0, 0, 0.5),
                0 0 0 1px ${Ne.borderLight},
                ${y.glow}
              `,overflow:"hidden"},children:[c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:`linear-gradient(90deg, transparent, ${y.iconColor}, transparent)`}}),c.jsx(X.button,{whileHover:{scale:1.1,backgroundColor:Ne.surfaceHover},whileTap:{scale:.9},onClick:p,style:{position:"absolute",top:"16px",right:"16px",width:"32px",height:"32px",borderRadius:"8px",border:"none",background:"transparent",cursor:jh,display:"flex",alignItems:"center",justifyContent:"center",color:Ne.textMuted,zIndex:1},children:c.jsx(Ot,{size:18})}),c.jsxs("div",{style:{padding:"32px 28px 28px"},children:[c.jsx(X.div,{variants:QA,style:{width:"72px",height:"72px",borderRadius:"20px",background:y.iconBg,border:`1px solid ${y.iconBorder}`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:`0 8px 32px ${y.iconBg}`},children:XA(f,y.iconColor)}),c.jsxs(X.div,{variants:ZA,style:{textAlign:"center"},children:[c.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"20px",fontWeight:700,color:Ne.text,letterSpacing:"-0.02em"},children:n}),c.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:1.7,color:Ne.textSecondary,maxWidth:"320px",marginLeft:"auto",marginRight:"auto"},children:a})]}),c.jsxs(X.div,{variants:JA,style:{display:"flex",gap:"12px",marginTop:"28px"},children:[c.jsx(X.button,{whileHover:{scale:1.02,backgroundColor:Ne.surfaceHover,borderColor:Ne.borderLight,boxShadow:"none"},whileTap:{scale:.98},onClick:p,style:{flex:1,padding:"14px 24px",borderRadius:"12px",border:`1px solid ${Ne.border}`,background:Ne.surfaceElevated,color:Ne.textSecondary,fontSize:"14px",fontWeight:600,cursor:jh,transition:"all 0.2s ease",outline:"none",boxShadow:"none"},children:l}),c.jsx(X.button,{whileHover:{scale:1.02,boxShadow:`0 8px 32px ${y.iconBg}`},whileTap:{scale:.98},onClick:m,style:{flex:1,padding:"14px 24px",borderRadius:"12px",border:"none",background:`linear-gradient(135deg, ${y.buttonBg} 0%, ${y.buttonHover} 100%)`,color:"white",fontSize:"14px",fontWeight:600,cursor:jh,boxShadow:`0 4px 16px ${y.iconBg}`,transition:"all 0.2s ease"},children:r})]})]})]})]})})};let il=null;const mu={init:s=>{il=s},show:s=>new Promise(n=>{if(il){let a=s.icon;if(!a)switch(s.variant){case"danger":a="delete";break;case"warning":a="warning";break;case"success":a="success";break;case"info":default:a="info";break}il({isOpen:!0,title:s.title,message:s.message,confirmText:s.confirmText||"Confirm",cancelText:s.cancelText||"Cancel",variant:s.variant||"danger",icon:a||"warning",callback:n})}else console.warn("[ConfirmModal] Store not initialized"),n(!1)}),close:s=>{il&&il(n=>(n.callback&&n.callback(s),{...n,isOpen:!1,callback:null}))}},as=mu.show,tk=()=>{const[s,n]=Ti.useState({isOpen:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"danger",icon:"warning",callback:null});return Ti.useEffect(()=>{mu.init(n)},[]),c.jsx(ek,{isOpen:s.isOpen,title:s.title,message:s.message,confirmText:s.confirmText,cancelText:s.cancelText,variant:s.variant,icon:s.icon,onConfirm:()=>mu.close(!0),onCancel:()=>mu.close(!1)})},te={bg:"#050505",surface:"#0a0a0a",surfaceElevated:"#0f0f0f",surfaceHover:"#151515",border:"#1a1a1a",primary:"#10b981",primaryHover:"#0d9668",primaryMuted:"rgba(16, 185, 129, 0.15)",danger:"#ef4444",dangerMuted:"rgba(239, 68, 68, 0.15)",text:"#ffffff",textSecondary:"#a1a1aa",textMuted:"#71717a"},nk=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M5.5 3.21V20.8l4.75-4.73 2.99 6.73L15.5 21.6l-3-6.7h6z'/%3E%3Cpath fill='%23064e3b' d='M6.5 5.61v11.68l3.38-3.37.37-.37.48 1.07 1.93 4.35 1.07-.47L11.8 14.1l-.48-1.07H16z'/%3E%3C/svg%3E") 5 3, default`,sk=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M9 2.5a2.5 2.5 0 0 1 5 0v7.996l3.904-.74a2.095 2.095 0 0 1 2.537 2.466L19.5 17.5a6 6 0 0 1-6 6H11a7 7 0 0 1-7-7V9a2 2 0 1 1 4 0v3.5h1z'/%3E%3Cpath fill='%23064e3b' d='M10 2.5V14h-.5a1.5 1.5 0 0 1-1.5-1.5V9a1 1 0 1 0-2 0v7.5a6 6 0 0 0 6 6h2.5a5 5 0 0 0 5-5l.941-5.278a1.095 1.095 0 0 0-1.324-1.288l-4.117.78V2.5a1.5 1.5 0 0 0-3 0z'/%3E%3C/svg%3E") 9 4, pointer`,ak=`
  /* Custom Emerald Cursor Styles */
  .user-profile-modal-overlay {
    cursor: ${nk};
  }
  .user-profile-modal-overlay * {
    cursor: inherit;
  }
  .user-profile-modal-overlay button,
  .user-profile-modal-overlay a,
  .user-profile-modal-overlay [role="button"],
  .user-profile-modal-overlay input[type="submit"],
  .user-profile-modal-overlay input[type="button"],
  .user-profile-modal-overlay .clickable {
    cursor: ${sk};
  }
  .user-profile-modal-overlay input[type="text"],
  .user-profile-modal-overlay input[type="email"],
  .user-profile-modal-overlay input[type="password"],
  .user-profile-modal-overlay input[type="search"],
  .user-profile-modal-overlay textarea {
    cursor: text;
  }

  /* Scrollbar Styles */
  .user-profile-modal-content::-webkit-scrollbar {
    width: 8px;
  }
  .user-profile-modal-content::-webkit-scrollbar-track {
    background: ${te.surface};
    border-radius: 4px;
  }
  .user-profile-modal-content::-webkit-scrollbar-thumb {
    background: ${te.primary};
    border-radius: 4px;
    border: 2px solid ${te.surface};
  }
  .user-profile-modal-content::-webkit-scrollbar-thumb:hover {
    background: ${te.primaryHover};
  }

  /* Matrix Animation Keyframes */
  @keyframes user-matrix-flicker {
    0%, 100% { opacity: 0.1; }
    50% { opacity: 0.4; }
  }

  @keyframes user-matrix-fall {
    0% { transform: translateY(-100%); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(100%); opacity: 0; }
  }

  @keyframes user-matrix-glow {
    0%, 100% { filter: brightness(1) drop-shadow(0 0 2px ${te.primary}); }
    50% { filter: brightness(1.3) drop-shadow(0 0 8px ${te.primary}); }
  }

  .user-matrix-container .user-matrix-cell {
    background: ${te.primary};
    opacity: 0.18;
    border-radius: 2px;
    transition: all 0.2s ease;
    animation: user-matrix-flicker 2s ease-in-out infinite;
    animation-delay: calc(var(--cell-index) * 0.02s);
  }

  .user-matrix-container .user-matrix-cell:nth-child(3n) {
    opacity: 0.32;
    animation-duration: 1.5s;
    box-shadow: 0 0 3px ${te.primary};
  }
  .user-matrix-container .user-matrix-cell:nth-child(5n) {
    opacity: 0.42;
    animation-duration: 1.8s;
    box-shadow: 0 0 4px ${te.primary};
  }
  .user-matrix-container .user-matrix-cell:nth-child(7n+1) {
    opacity: 0.25;
    animation-duration: 2.2s;
  }
  .user-matrix-container .user-matrix-cell:nth-child(11n) {
    opacity: 0.55;
    box-shadow: 0 0 6px ${te.primary}, 0 0 10px ${te.primary};
    animation-duration: 1.2s;
  }

  .user-matrix-container .user-matrix-rain {
    position: absolute;
    width: 2px;
    background: linear-gradient(to bottom, transparent, ${te.primary}, transparent);
    pointer-events: none;
    animation: user-matrix-fall 2s linear infinite;
  }

  .user-matrix-container .user-avatar-wrapper {
    animation: user-matrix-glow 3s ease-in-out infinite;
  }
`;if(typeof document<"u"&&!document.getElementById("user-profile-scrollbar-styles")){const s=document.createElement("style");s.id="user-profile-scrollbar-styles",s.textContent=ak,document.head.appendChild(s)}const ik={hidden:{opacity:0},visible:{opacity:1}},rk={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.15}}},ok={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},Dr={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},lk=({children:s,enabled:n=!0})=>c.jsxs("div",{className:"user-matrix-container",style:{position:"relative",background:te.bg,borderRadius:"16px",overflow:"hidden",marginBottom:"20px",border:`1px solid ${te.border}`},children:[n&&c.jsx("div",{style:{position:"absolute",inset:0,display:"grid",gridTemplateColumns:"repeat(15, 1fr)",gridTemplateRows:"repeat(12, 1fr)",gap:"3px",padding:"12px",pointerEvents:"none",zIndex:0},children:Array.from({length:180}).map((f,m)=>c.jsx("div",{className:"user-matrix-cell",style:{"--cell-index":m}},m))}),n&&Array.from({length:8}).map((f,m)=>c.jsx("div",{className:"user-matrix-rain",style:{left:`${10+m*80/8}%`,height:"40px",animationDelay:`${m*.15}s`}},`rain-${m}`)),c.jsx("div",{style:{position:"relative",zIndex:1,padding:"24px"},children:s})]}),ck=({isOpen:s,onClose:n,userId:a,onSendMessage:r,onBlockUser:l,onUnblockUser:d,fancyAnimations:f=!0})=>{const[m,p]=w.useState(null),[y,b]=w.useState(!1),[v,_]=w.useState(null),[T,E]=w.useState(!1),[M,N]=w.useState(!1),[P,Q]=w.useState(!1),{isUserOnline:V,getUserLastSeen:J,usersYouBlocked:q,blockedByUsers:ee}=Tn();w.useEffect(()=>{s&&a&&(se(),W())},[s,a]),w.useEffect(()=>{if(!s||!a)return;const Ee=q.has(a),O=ee.has(a);Ee!==T&&E(Ee),O!==M&&N(O)},[s,a,q,ee]);const se=async()=>{b(!0),_(null);try{const Ee=await Qt.getUserProfile(a);p(Ee)}catch(Ee){console.error("[UserProfileViewer] Error loading profile:",Ee),_(Ee.response?.data?.message||"Failed to load user profile")}finally{b(!1)}},W=async()=>{Q(!0);try{const Ee=await Qt.getMutualBlockStatus(a);E(Ee.iBlockedThem),N(Ee.theyBlockedMe)}catch(Ee){console.error("[UserProfileViewer] Error checking block status:",Ee),E(!1),N(!1)}finally{Q(!1)}},ue=()=>{r&&(r(a),n())},fe=async()=>{if(!l)return;await as({title:"Block User",message:`Are you sure you want to block ${m?.username||"this user"}? They won't be able to message you.`,confirmText:"Block",cancelText:"Cancel",variant:"danger"})&&(E(!0),await l(a))},je=async()=>{if(!d)return;await as({title:"Unblock User",message:`Are you sure you want to unblock ${m?.username||"this user"}? They will be able to message you again.`,confirmText:"Unblock",cancelText:"Cancel",variant:"success",icon:"success"})&&(E(!1),await d(a))},Re=T||M,Fe=m?V(m.id):!1,tt=m?J(m.id):void 0;return c.jsx(rn,{children:s&&c.jsx(X.div,{className:"user-profile-modal-overlay",variants:ik,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.2},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:c.jsxs(X.div,{variants:rk,initial:"hidden",animate:"visible",exit:"exit",style:{background:te.surface,borderRadius:"16px",border:`1px solid ${te.border}`,maxWidth:"420px",width:"100%",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",overflow:"hidden"},onClick:Ee=>Ee.stopPropagation(),children:[c.jsxs("div",{style:{padding:"20px 24px",borderBottom:`1px solid ${te.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",background:te.bg},children:[c.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:700,color:te.text,letterSpacing:"-0.02em"},children:"User Profile"}),c.jsx(X.button,{whileHover:{scale:1.1,backgroundColor:te.surfaceHover},whileTap:{scale:.9},onClick:n,"aria-label":"Close",style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",color:te.textMuted},children:c.jsx(Ot,{size:20,style:{flexShrink:0,minWidth:20}})})]}),c.jsxs("div",{className:"user-profile-modal-content",style:{overflowY:"auto",flex:1,padding:"24px"},children:[y&&c.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:te.textMuted},children:[c.jsx(X.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:"40px",height:"40px",border:`3px solid ${te.border}`,borderTopColor:te.primary,borderRadius:"50%",margin:"0 auto 16px"}}),"Loading profile..."]}),v&&c.jsx("div",{style:{textAlign:"center",padding:"60px 20px",color:te.danger,backgroundColor:te.dangerMuted,borderRadius:"12px"},children:v}),!y&&!v&&m&&c.jsxs(X.div,{variants:ok,initial:"hidden",animate:"visible",children:[c.jsx(lk,{enabled:f,children:c.jsxs(X.div,{variants:Dr,style:{textAlign:"center"},children:[c.jsxs("div",{className:"user-avatar-wrapper",style:{position:"relative",display:"inline-block",marginBottom:"16px"},children:[m.avatar?c.jsx("img",{src:m.avatar,alt:m.username,style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:`3px solid ${Fe?te.primary:te.border}`,boxShadow:Fe?`0 0 30px ${te.primaryMuted}`:"none"}}):c.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:`linear-gradient(135deg, ${te.primary} 0%, ${te.primaryHover} 100%)`,color:"white",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"48px",fontWeight:700,boxShadow:`0 0 30px ${te.primaryMuted}`},children:m.username.charAt(0).toUpperCase()}),c.jsx("div",{style:{position:"absolute",bottom:"6px",right:"6px",width:"24px",height:"24px",borderRadius:"50%",background:Fe?te.primary:te.textMuted,border:`3px solid ${te.bg}`,boxShadow:Fe?`0 0 12px ${te.primary}`:"none"}})]}),c.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:700,color:te.text,letterSpacing:"-0.02em",textShadow:`0 0 20px ${te.primaryMuted}`},children:m.username}),c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",borderRadius:"20px",background:Fe?te.primaryMuted:"rgba(15, 15, 15, 0.8)",border:`1px solid ${Fe?`${te.primary}30`:te.border}`,backdropFilter:"blur(4px)"},children:[c.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Fe?te.primary:te.textMuted,boxShadow:Fe?`0 0 8px ${te.primary}`:"none"}}),c.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:Fe?te.primary:te.textMuted},children:Fe?"Online":tt?`Last seen ${A1(tt)}`:"Offline"})]})]})}),c.jsxs(X.div,{variants:Dr,style:{padding:"16px",background:te.surfaceElevated,borderRadius:"12px",marginBottom:"16px",border:`1px solid ${te.border}`},children:[c.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"12px",fontWeight:700,color:te.primary,textTransform:"uppercase",letterSpacing:"0.5px"},children:"About"}),c.jsx("p",{style:{margin:0,fontSize:"14px",color:m.bio?te.textSecondary:te.textMuted,lineHeight:"1.6",fontStyle:m.bio?"normal":"italic"},children:m.bio||"No bio set"})]}),m.email&&c.jsxs(X.div,{variants:Dr,style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:te.surfaceElevated,borderRadius:"12px",marginBottom:"12px",border:`1px solid ${te.border}`},children:[c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:te.primaryMuted,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(p_,{size:18,color:te.primary,style:{flexShrink:0,minWidth:18}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"12px",color:te.textMuted,marginBottom:"2px"},children:"Email"}),c.jsx("div",{style:{fontSize:"14px",color:te.text,fontWeight:500},children:m.email})]})]}),m.createdAt&&c.jsxs(X.div,{variants:Dr,style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:te.surfaceElevated,borderRadius:"12px",marginBottom:"16px",border:`1px solid ${te.border}`},children:[c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:te.primaryMuted,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(_v,{size:18,color:te.primary,style:{flexShrink:0,minWidth:18}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"12px",color:te.textMuted,marginBottom:"2px"},children:"Member Since"}),c.jsx("div",{style:{fontSize:"14px",color:te.text,fontWeight:500},children:new Date(m.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),!P&&(M||T)&&c.jsxs(X.div,{variants:Dr,style:{padding:"14px 16px",background:te.dangerMuted,borderRadius:"12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"12px",border:`1px solid ${te.danger}30`},children:[c.jsx(Va,{size:20,color:te.danger,style:{flexShrink:0,minWidth:20}}),c.jsx("span",{style:{fontSize:"14px",color:te.danger,fontWeight:500},children:M&&T?"You have blocked each other":M?"This user has blocked you":"You have blocked this user"})]}),c.jsxs(X.div,{variants:Dr,style:{display:"flex",gap:"12px",flexDirection:"column"},children:[r&&c.jsxs(X.button,{whileHover:Re?{}:{scale:1.02},whileTap:Re?{}:{scale:.98},onClick:ue,disabled:Re||P,style:{width:"100%",padding:"14px 20px",background:Re?te.surfaceElevated:te.primary,color:Re?te.textMuted:"white",border:Re?`1px solid ${te.border}`:"none",borderRadius:"12px",cursor:Re?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:Re?.6:1,boxShadow:Re?"none":`0 0 20px ${te.primaryMuted}`},children:[c.jsx(ru,{size:20,style:{flexShrink:0,minWidth:20}}),Re?"Cannot Message":"Send Message"]}),T?d&&c.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:je,style:{width:"100%",padding:"14px 20px",background:te.primaryMuted,color:te.primary,border:`1px solid ${te.primary}30`,borderRadius:"12px",cursor:"pointer",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[c.jsx(g_,{size:20,style:{flexShrink:0,minWidth:20}}),"Unblock User"]}):l&&c.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:fe,style:{width:"100%",padding:"14px 20px",background:te.dangerMuted,color:te.danger,border:`1px solid ${te.danger}30`,borderRadius:"12px",cursor:"pointer",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[c.jsx(dm,{size:20,style:{flexShrink:0,minWidth:20}}),"Block User"]})]})]})]})]})})})},I={bg:"#030303",surface:"#080808",surfaceElevated:"#0c0c0c",surfaceHover:"#121212",surfaceActive:"#181818",border:"#1a1a1a",borderLight:"#222222",primary:"#10b981",primaryHover:"#0d9668",primaryMuted:"rgba(16, 185, 129, 0.12)",primaryGlow:"rgba(16, 185, 129, 0.25)",danger:"#ef4444",dangerMuted:"rgba(239, 68, 68, 0.12)",warning:"#f59e0b",warningMuted:"rgba(245, 158, 11, 0.12)",info:"#3b82f6",infoMuted:"rgba(59, 130, 246, 0.12)",text:"#fafafa",textSecondary:"#a1a1aa",textMuted:"#71717a",online:"#22c55e",offline:"#71717a"},uk=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M5.5 3.21V20.8l4.75-4.73 2.99 6.73L15.5 21.6l-3-6.7h6z'/%3E%3Cpath fill='%23064e3b' d='M6.5 5.61v11.68l3.38-3.37.37-.37.48 1.07 1.93 4.35 1.07-.47L11.8 14.1l-.48-1.07H16z'/%3E%3C/svg%3E") 4 2, default`,dk=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M9 2.5a2.5 2.5 0 0 1 5 0v7.996l3.904-.74a2.095 2.095 0 0 1 2.537 2.466L19.5 17.5a6 6 0 0 1-6 6H11a7 7 0 0 1-7-7V9a2 2 0 1 1 4 0v3.5h1z'/%3E%3Cpath fill='%23064e3b' d='M10 2.5V14h-.5a1.5 1.5 0 0 1-1.5-1.5V9a1 1 0 1 0-2 0v7.5a6 6 0 0 0 6 6h2.5a5 5 0 0 0 5-5l.941-5.278a1.095 1.095 0 0 0-1.324-1.288l-4.117.78V2.5a1.5 1.5 0 0 0-3 0z'/%3E%3C/svg%3E") 7 3, pointer`,gv="group-profile-modal-styles";if(typeof document<"u"&&!document.getElementById(gv)){const s=document.createElement("style");s.id=gv,s.textContent=`
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

    .gpm-overlay {
      cursor: ${uk};
    }
    .gpm-overlay * {
      cursor: inherit;
    }
    .gpm-overlay button,
    .gpm-overlay a,
    .gpm-overlay [role="button"],
    .gpm-overlay .gpm-clickable {
      cursor: ${dk} !important;
    }
    .gpm-overlay input[type="text"],
    .gpm-overlay input[type="search"],
    .gpm-overlay textarea {
      cursor: text !important;
    }

    .gpm-scrollable::-webkit-scrollbar {
      width: 6px;
    }
    .gpm-scrollable::-webkit-scrollbar-track {
      background: transparent;
    }
    .gpm-scrollable::-webkit-scrollbar-thumb {
      background: ${I.primary};
      border-radius: 3px;
    }
    .gpm-scrollable::-webkit-scrollbar-thumb:hover {
      background: ${I.primaryHover};
    }

    .gpm-scrollable {
      scrollbar-width: thin;
      scrollbar-color: ${I.primary} transparent;
    }

    @keyframes gpm-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @keyframes gpm-glow {
      0%, 100% { box-shadow: 0 0 20px ${I.primaryGlow}; }
      50% { box-shadow: 0 0 40px ${I.primaryGlow}; }
    }

    @keyframes matrix-fall {
      0% { transform: translateY(-100%); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(100%); opacity: 0; }
    }

    @keyframes matrix-flicker {
      0%, 100% { opacity: 0.1; }
      50% { opacity: 0.4; }
    }

    @keyframes matrix-glow-pulse {
      0%, 100% { filter: brightness(1) drop-shadow(0 0 2px ${I.primary}); }
      50% { filter: brightness(1.5) drop-shadow(0 0 6px ${I.primary}); }
    }

    .matrix-grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      grid-template-rows: repeat(8, 1fr);
      gap: 2px;
      position: absolute;
      inset: 0;
      padding: 8px;
      overflow: hidden;
    }

    .matrix-cell {
      background: ${I.primary};
      opacity: 0.18;
      border-radius: 2px;
      transition: all 0.2s ease;
      animation: matrix-flicker 2s ease-in-out infinite;
      animation-delay: calc(var(--cell-index) * 0.02s);
    }

    .matrix-cell:nth-child(3n) {
      opacity: 0.32;
      animation-duration: 1.5s;
      box-shadow: 0 0 3px ${I.primary};
    }

    .matrix-cell:nth-child(5n) {
      opacity: 0.42;
      animation-duration: 1.8s;
      box-shadow: 0 0 4px ${I.primary};
    }

    .matrix-cell:nth-child(7n+1) {
      opacity: 0.25;
      animation-duration: 2.2s;
    }

    .matrix-cell:nth-child(11n) {
      opacity: 0.55;
      box-shadow: 0 0 6px ${I.primary}, 0 0 10px ${I.primary};
      animation-duration: 1.2s;
    }

    .matrix-rain {
      position: absolute;
      width: 2px;
      background: linear-gradient(to bottom, transparent, ${I.primary}, transparent);
      pointer-events: none;
      animation: matrix-fall 2s linear infinite;
    }

    .avatar-wrapper {
      animation: matrix-glow-pulse 3s ease-in-out infinite;
    }
  `,document.head.appendChild(s)}const fk={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.1,ease:"easeIn"}}},hk={hidden:{opacity:0,scale:.98,y:10},visible:{opacity:1,scale:1,y:0,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,scale:.98,y:5,transition:{duration:.1,ease:"easeIn"}}},au={hidden:{opacity:1},visible:{opacity:1}},Ci={hidden:{opacity:1,x:0},visible:{opacity:1,x:0}},Th={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.1,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.08,ease:"easeIn"}}},mk=({type:s,message:n,onDismiss:a})=>{if(w.useEffect(()=>{const f=setTimeout(a,4e3);return()=>clearTimeout(f)},[a]),!s)return null;const r=s==="success"?I.primaryMuted:s==="error"?I.dangerMuted:I.infoMuted,l=s==="success"?I.primary:s==="error"?I.danger:I.info,d=s==="success"?b_:s==="error"?Fa:Vr;return c.jsxs(X.div,{initial:{opacity:0,y:-5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-5,height:0},transition:{duration:.1,ease:"easeOut"},style:{background:r,borderRadius:8,padding:"10px 14px",marginBottom:12,display:"flex",alignItems:"center",gap:10,border:`1px solid ${l}20`},children:[c.jsx(d,{size:16,color:l,style:{flexShrink:0,minWidth:16}}),c.jsx("span",{style:{flex:1,fontSize:13,color:l,fontWeight:500},children:n}),c.jsx("button",{onClick:a,style:{background:"none",border:"none",padding:4,display:"flex",color:l,opacity:.7},className:"gpm-clickable",children:c.jsx(Ot,{size:14,style:{flexShrink:0,minWidth:14}})})]})},pk=({privacy:s,size:n="md"})=>{const a=s==="public",r=n==="sm"?12:14,l=n==="sm"?"4px 8px":"6px 12px",d=n==="sm"?11:12;return c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:l,borderRadius:20,background:a?I.primaryMuted:I.warningMuted,border:`1px solid ${a?I.primary:I.warning}30`},children:[a?c.jsx(wv,{size:r,color:I.primary,style:{flexShrink:0,minWidth:r}}):c.jsx(om,{size:r,color:I.warning,style:{flexShrink:0,minWidth:r}}),c.jsx("span",{style:{fontSize:d,fontWeight:600,color:a?I.primary:I.warning,textTransform:"uppercase",letterSpacing:"0.5px"},children:a?"Public":"Private"})]})},gk=({role:s})=>{const n={admin:{icon:S_,color:"#fbbf24",bg:"rgba(251, 191, 36, 0.15)",label:"Admin"},moderator:{icon:Ui,color:"#60a5fa",bg:"rgba(96, 165, 250, 0.15)",label:"Mod"},member:{icon:pu,color:I.textMuted,bg:I.surfaceHover,label:"Member"}}[s]||{icon:pu,color:I.textMuted,bg:I.surfaceHover,label:s},a=n.icon;return c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:4,padding:"3px 8px",borderRadius:4,background:n.bg,border:`1px solid ${n.color}20`},children:[c.jsx(a,{size:11,color:n.color,style:{flexShrink:0,minWidth:11}}),c.jsx("span",{style:{fontSize:10,fontWeight:600,color:n.color,textTransform:"uppercase"},children:n.label})]})},yk=({children:s,enabled:n=!0})=>c.jsxs("div",{className:"matrix-container",style:{position:"relative",margin:"-20px -20px 24px -20px",padding:"28px 20px",borderRadius:"0 0 16px 16px",background:`linear-gradient(180deg, ${I.bg} 0%, ${I.surface} 100%)`,overflow:"hidden"},children:[n&&c.jsx("div",{className:"matrix-grid",style:{position:"absolute",inset:0,display:"grid",gridTemplateColumns:"repeat(15, 1fr)",gridTemplateRows:"repeat(12, 1fr)",gap:3,padding:10,opacity:.8},children:Array.from({length:180}).map((l,d)=>c.jsx("div",{className:"matrix-cell",style:{"--cell-index":d}},d))}),n&&Array.from({length:12}).map((l,d)=>c.jsx("div",{className:"matrix-rain",style:{left:`${5+d*8}%`,height:"40%",animationDelay:`${d*.15}s`}},`rain-${d}`)),c.jsx("div",{style:{position:"relative",zIndex:2,textAlign:"center"},children:s}),c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"60%",background:`radial-gradient(ellipse at 50% 0%, ${I.primary}15 0%, transparent 70%)`,pointerEvents:"none"}}),c.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:40,background:`linear-gradient(to top, ${I.surface}, transparent)`,pointerEvents:"none"}}),c.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"0 0 16px 16px",border:`1px solid ${I.primary}20`,pointerEvents:"none"}})]}),bk=({member:s,isOnline:n,lastSeen:a,isCurrentUser:r,canManage:l,onViewProfile:d,onKick:f,onBan:m,onManagePermissions:p})=>{const[y,b]=w.useState(!1);return c.jsxs(X.div,{variants:Ci,style:{display:"flex",alignItems:"center",padding:"12px 14px",background:I.surfaceElevated,borderRadius:10,border:`1px solid ${I.border}`,transition:"background 0.1s, border-color 0.1s",position:"relative"},whileHover:{background:I.surfaceHover,borderColor:I.borderLight,transition:{duration:.1}},onHoverStart:()=>b(!0),onHoverEnd:()=>b(!1),children:[c.jsxs("div",{className:"gpm-clickable",onClick:d,style:{position:"relative",marginRight:12},children:[s.user.avatar?c.jsx("img",{src:We(s.user.avatar),alt:s.user.username,style:{width:44,height:44,borderRadius:"50%",objectFit:"cover",border:`2px solid ${n?I.online:I.border}`}}):c.jsx("div",{style:{width:44,height:44,borderRadius:"50%",background:`linear-gradient(135deg, ${I.primary}40, ${I.primary}20)`,display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${n?I.online:I.border}`,color:I.primary,fontWeight:600,fontSize:16},children:Yn(s.user.username)}),c.jsx("div",{style:{position:"absolute",bottom:0,right:0,width:12,height:12,borderRadius:"50%",background:n?I.online:I.offline,border:`2px solid ${I.surfaceElevated}`}})]}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:2},children:[c.jsxs("span",{className:"gpm-clickable",onClick:d,style:{fontSize:14,fontWeight:600,color:I.text,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[s.user.username,r&&c.jsx("span",{style:{color:I.textMuted,fontWeight:400},children:" (you)"})]}),c.jsx(gk,{role:s.role})]}),c.jsx("div",{style:{fontSize:12,color:I.textMuted},children:n?c.jsx("span",{style:{color:I.online},children:" Online"}):a?`Last seen ${A1(a)}`:"Offline"})]}),c.jsx(rn,{children:y&&l&&!r&&s.role!=="admin"&&c.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.08},style:{display:"flex",gap:6},children:[p&&c.jsx("button",{onClick:p,className:"gpm-clickable",title:"Manage Permissions",style:{width:32,height:32,padding:0,borderRadius:6,background:I.infoMuted,border:"none",display:"flex",alignItems:"center",justifyContent:"center",color:I.info,transition:"all 0.15s"},children:c.jsx(v_,{size:16,strokeWidth:2.5,style:{flexShrink:0,minWidth:16}})}),f&&c.jsx("button",{onClick:f,className:"gpm-clickable",title:"Remove Member",style:{width:32,height:32,padding:0,borderRadius:6,background:I.warningMuted,border:"none",display:"flex",alignItems:"center",justifyContent:"center",color:I.warning,transition:"all 0.15s"},children:c.jsx(x_,{size:16,strokeWidth:2.5,style:{flexShrink:0,minWidth:16}})}),m&&c.jsx("button",{onClick:m,className:"gpm-clickable",title:"Ban Member",style:{width:32,height:32,padding:0,borderRadius:6,background:I.dangerMuted,border:"none",display:"flex",alignItems:"center",justifyContent:"center",color:I.danger,transition:"all 0.15s"},children:c.jsx(Va,{size:16,strokeWidth:2.5,style:{flexShrink:0,minWidth:16}})})]})})]})},_i=({icon:s,label:n,onClick:a,variant:r="default",disabled:l,loading:d})=>{const f=r==="danger"?I.dangerMuted:r==="primary"?I.primaryMuted:I.surfaceHover,m=r==="danger"?I.danger:r==="primary"?I.primary:I.text,p=r==="danger"?I.danger:r==="primary"?I.primary:I.surfaceActive,y=r==="danger"||r==="primary"?"#fff":I.text;return c.jsxs(X.button,{onClick:a,disabled:l||d,className:"gpm-clickable",style:{display:"flex",alignItems:"center",gap:10,width:"100%",padding:"12px 16px",background:f,border:`1px solid ${m}20`,borderRadius:10,color:m,fontSize:14,fontWeight:500,opacity:l?.5:1,transition:"background 0.1s, color 0.1s"},whileHover:l?{}:{background:p,color:y,transition:{duration:.1}},whileTap:l?{}:{scale:.98,transition:{duration:.05}},children:[d?c.jsx(Lt,{size:18,className:"animate-spin"}):s,c.jsx("span",{children:n}),c.jsx(fm,{size:16,style:{marginLeft:"auto",opacity:.5,flexShrink:0,minWidth:16}})]})},vk=({isOpen:s,onClose:n,chat:a,currentUserId:r,onEditGroup:l,onDeleteGroup:d,onLeaveGroup:f,onKickMember:m,onViewUserProfile:p,onBanMember:y,onUnbanMember:b,onUpdatePrivacy:v,fancyAnimations:_=!0})=>{const[T,E]=w.useState(null),[M,N]=w.useState(!1),[P,Q]=w.useState("main"),[V,J]=w.useState(""),[q,ee]=w.useState(""),[se,W]=w.useState([]),[ue,fe]=w.useState(!1),[je,Re]=w.useState(!1),[Fe,tt]=w.useState(!1),[Ee,O]=w.useState([]),[Z,ne]=w.useState(!1),[be,Te]=w.useState({type:null,message:""}),[Le,we]=w.useState(!1),[ve,Ke]=w.useState(null),[Ct,ln]=w.useState(!1),{isUserOnline:Kn,getUserLastSeen:os,loadChats:Pt,setInitialPresenceStates:En}=Tn(),{canAddUsers:An,canManageChatInfo:Qn,canManageBans:kn,canManageUsers:Rt}=R1(a?.id),lt=T?.members.find(K=>K.userId===r)?.role==="admin",Vt=T?.members.some(K=>K.userId===r),Nn=T?.members.filter(K=>Kn(K.userId)).length||0,ls=T?.members.filter(K=>{if(!V.trim())return!0;const ye=V.toLowerCase();return K.user.username.toLowerCase().includes(ye)||K.user.email?.toLowerCase().includes(ye)})||[],ct=(K,ye)=>{Te({type:K,message:ye})},Rn=async()=>{N(!0);try{const K=await et.getChatProfile(a.id);E(K);const ye=K.members?.map(Ve=>Ve.userId)||[];if(ye.length>0)try{const Ve=await ta.getPresenceStates(ye);Object.keys(Ve).length>0&&En(Ve)}catch(Ve){console.error("Failed to fetch presence:",Ve)}}catch(K){ct("error",K.response?.data?.message||"Failed to load profile")}finally{N(!1)}},Zr=async()=>{if(!(!a?.id||!lt&&!kn)){ne(!0);try{const K=await et.getBannedUsers(a.id);O(K)}catch{ct("error","Failed to load banned users")}finally{ne(!1)}}};w.useEffect(()=>{s&&a.id&&(tt(!1),Q("main"),Rn())},[s,a.id]),w.useEffect(()=>{T&&a&&s&&(a.name!==T.name||a.description!==T.description||a.avatar!==T.avatar)&&E(ye=>ye?{...ye,name:a.name||ye.name,description:a.description??ye.description,avatar:a.avatar??ye.avatar}:null)},[a.name,a.description,a.avatar,s]),w.useEffect(()=>{P==="banned"&&(lt||kn)&&Zr()},[P,lt,kn]);const Jr=async()=>{if(!(!a||!a.type)){Re(!0);try{await et.joinChat(a.id,a.type),ct("success",`Successfully joined the ${a.type}!`),await Pt(),await Rn()}catch(K){vC(K)?(tt(!0),ct("error",xC(K))):ct("error",It(K,"Failed to join"))}finally{Re(!1)}}},$t=async K=>{if(!m)return;const ye=T?.members.find(Oe=>Oe.userId===K);await as({title:"Remove Member",message:`Remove ${ye?.user.username||"this member"} from the ${a.type}?`,confirmText:"Remove",cancelText:"Cancel",variant:"danger"})&&(E(Oe=>Oe?{...Oe,members:Oe.members.filter(ut=>ut.userId!==K)}:null),ct("success",`${ye?.user.username} has been removed`),m(K))},Ii=async K=>{if(!y)return;const ye=T?.members.find(Oe=>Oe.userId===K);if(await as({title:"Ban Member",message:`Ban ${ye?.user.username||"this member"}? They won't be able to rejoin.`,confirmText:"Ban",cancelText:"Cancel",variant:"danger"})){if(ye){const Oe={userId:ye.userId,username:ye.user.username,avatarUrl:ye.user.avatar,bannedAt:new Date().toISOString()};O(ut=>[...ut,Oe])}E(Oe=>Oe?{...Oe,members:Oe.members.filter(ut=>ut.userId!==K)}:null),ct("success",`${ye?.user.username} has been banned`),await y(K)}},Pi=async(K,ye)=>{if(!b)return;if(await as({title:"Unban User",message:`Unban ${ye}? They will be able to rejoin.`,confirmText:"Unban",cancelText:"Cancel",variant:"info"}))try{await b(K),O(Oe=>Oe.filter(ut=>ut.userId!==K)),ct("success",`${ye} has been unbanned`)}catch{ct("error","Failed to unban user")}},cs=async()=>{if(!v||!T)return;const K=T.privacy==="public"?"private":"public";if(await as({title:`Make ${a.type} ${K}?`,message:K==="private"?"Only invited members will be able to join.":"Anyone can find and join this chat.",confirmText:"Confirm",cancelText:"Cancel",variant:"info"})){ln(!0);try{await v(K),E(Ve=>Ve?{...Ve,privacy:K}:null)}catch{ct("error","Failed to update privacy")}finally{ln(!1)}}},ia=async()=>{if(!f)return;const K=a.type==="channel";await as({title:`Leave ${K?"Channel":"Group"}?`,message:`Are you sure you want to leave "${T?.name||a.name}"? You can rejoin later if it's public.`,confirmText:"Leave",cancelText:"Cancel",variant:"danger"})&&f()},Es=async()=>{if(!d)return;const K=a.type==="channel";await as({title:`Delete ${K?"Channel":"Group"}?`,message:`Are you sure you want to permanently delete "${T?.name||a.name}"? This action cannot be undone and all messages will be lost.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"})&&d()};w.useEffect(()=>{if(!q.trim()){W([]),fe(!1);return}fe(!0);const K=setTimeout(async()=>{try{const ye=await Qt.searchUsers(q.trim()),Ve=new Set(T?.members?.map(Oe=>Oe.userId)||[]);W(ye.filter(Oe=>!Ve.has(Oe.id)))}catch(ye){console.error("Search failed:",ye),W([])}finally{fe(!1)}},300);return()=>clearTimeout(K)},[q,T?.members]);const Hi=async K=>{try{a.type==="group"?await et.addMemberToGroup(a.id,K):await et.addMemberToChannel(a.id,K),ct("success","Member added successfully"),ee(""),W([]),await Rn()}catch(ye){ct("error",It(ye,"Failed to add member"))}},cn=a.type==="channel";return c.jsxs(c.Fragment,{children:[c.jsx(rn,{children:s&&c.jsx(X.div,{className:"gpm-overlay",variants:fk,initial:"hidden",animate:"visible",exit:"exit",onClick:n,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},children:c.jsxs(X.div,{variants:hk,onClick:K=>K.stopPropagation(),style:{width:"100%",maxWidth:520,maxHeight:"85vh",background:I.surface,borderRadius:16,border:`1px solid ${I.border}`,boxShadow:`0 0 0 1px ${I.border}, 0 25px 80px -20px rgba(0, 0, 0, 0.8)`,display:"flex",flexDirection:"column",overflow:"hidden"},children:[c.jsxs("div",{style:{padding:"16px 20px",borderBottom:`1px solid ${I.border}`,display:"flex",alignItems:"center",gap:12,background:I.bg},children:[P!=="main"&&c.jsx(X.button,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.1},whileHover:{backgroundColor:I.surfaceActive,transition:{duration:.1}},whileTap:{scale:.95,transition:{duration:.05}},onClick:()=>Q("main"),className:"gpm-clickable",style:{width:32,height:32,borderRadius:8,background:I.surfaceHover,border:`1px solid ${I.border}`,display:"flex",alignItems:"center",justifyContent:"center",color:I.text},children:c.jsx(fm,{size:18,style:{transform:"rotate(180deg)",flexShrink:0,minWidth:18}})}),c.jsx("div",{style:{flex:1},children:c.jsxs("h2",{style:{margin:0,fontSize:16,fontWeight:600,color:I.text,letterSpacing:"-0.01em"},children:[P==="main"&&`${cn?"Channel":"Group"} Profile`,P==="members"&&"Members",P==="banned"&&"Banned Users",P==="addMember"&&"Add Member"]})}),c.jsx(X.button,{whileHover:{backgroundColor:I.surfaceActive,transition:{duration:.1}},whileTap:{scale:.95,transition:{duration:.05}},onClick:n,className:"gpm-clickable",style:{width:32,height:32,padding:0,borderRadius:8,background:I.surfaceHover,border:`1px solid ${I.border}`,display:"flex",alignItems:"center",justifyContent:"center",color:I.textMuted,transition:"background 0.1s"},children:c.jsx(Ot,{size:16,style:{flexShrink:0,minWidth:16}})})]}),c.jsxs("div",{className:"gpm-scrollable",style:{flex:1,overflowY:"auto",padding:20},children:[c.jsx(rn,{children:be.type&&c.jsx(mk,{type:be.type,message:be.message,onDismiss:()=>Te({type:null,message:""})})}),c.jsx(rn,{mode:"wait",children:M?c.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:60,gap:16},children:[c.jsx(X.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:c.jsx(Lt,{size:32,color:I.primary})}),c.jsx("span",{style:{color:I.textMuted,fontSize:14},children:"Loading..."})]},"loading"):P==="main"?c.jsxs(X.div,{variants:au,initial:"hidden",animate:"visible",exit:"hidden",children:[c.jsx(X.div,{variants:Ci,children:c.jsxs(yk,{enabled:_,children:[c.jsx("div",{style:{width:100,height:100,borderRadius:"50%",margin:"0 auto 16px",background:T?.avatar?"none":`linear-gradient(135deg, ${I.primary}60, ${I.primary}30)`,display:"flex",alignItems:"center",justifyContent:"center",border:`3px solid ${I.primary}50`,overflow:"hidden",boxShadow:`0 0 25px ${I.primaryGlow}`},children:T?.avatar?c.jsx("img",{src:We(T.avatar),alt:T.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):cn?c.jsx(Cs,{size:42,color:I.primary,style:{flexShrink:0,minWidth:42}}):c.jsx(Ut,{size:42,color:I.primary,style:{flexShrink:0,minWidth:42}})}),c.jsx("h3",{style:{margin:"0 0 8px",fontSize:22,fontWeight:700,color:I.text,letterSpacing:"-0.02em"},children:T?.name||a.name}),c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,marginBottom:8},children:[c.jsx(pk,{privacy:T?.privacy||"private"}),c.jsxs("span",{style:{fontSize:13,color:I.textSecondary,display:"flex",alignItems:"center",gap:6},children:[c.jsx(Ut,{size:14,style:{flexShrink:0,minWidth:14}}),T?.members.length||0," members",c.jsxs("span",{style:{color:I.online},children:[" ",Nn," online"]})]})]}),T?.description&&c.jsx("p",{style:{margin:"12px 0 0",fontSize:14,color:I.textSecondary,lineHeight:1.5,maxWidth:360,marginLeft:"auto",marginRight:"auto"},children:T.description}),T?.createdAt&&c.jsxs("div",{style:{marginTop:12,fontSize:12,color:I.textMuted,display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[c.jsx(_v,{size:12,style:{flexShrink:0,minWidth:12}}),"Created ",new Date(T.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})}),!Vt&&!Fe&&c.jsx(X.div,{variants:Ci,style:{marginBottom:20},children:c.jsxs(X.button,{onClick:Jr,disabled:je,className:"gpm-clickable",style:{width:"100%",padding:"14px 20px",background:I.primary,border:"none",borderRadius:10,color:"#fff",fontSize:15,fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"box-shadow 0.1s"},whileHover:{boxShadow:`0 0 20px ${I.primaryGlow}`,transition:{duration:.1}},whileTap:{scale:.98,transition:{duration:.05}},children:[je?c.jsx(Lt,{size:18,className:"animate-spin"}):c.jsx(rl,{size:18}),je?"Joining...":`Join ${cn?"Channel":"Group"}`]})}),Fe&&c.jsxs(X.div,{variants:Ci,style:{padding:16,background:I.dangerMuted,borderRadius:10,border:`1px solid ${I.danger}30`,marginBottom:20,textAlign:"center"},children:[c.jsx(Va,{size:24,color:I.danger,style:{marginBottom:8}}),c.jsxs("p",{style:{margin:0,fontSize:14,color:I.danger,fontWeight:500},children:["You are banned from this ",a.type]})]}),c.jsxs(X.div,{variants:Ci,style:{display:"flex",flexDirection:"column",gap:8},children:[c.jsx(_i,{icon:c.jsx(Ut,{size:18,style:{flexShrink:0,minWidth:18}}),label:`View Members (${T?.members.length||0})`,onClick:()=>Q("members")}),(lt||An)&&Vt&&c.jsx(_i,{icon:c.jsx(rl,{size:18,style:{flexShrink:0,minWidth:18}}),label:"Add Member",onClick:()=>Q("addMember"),variant:"primary"}),(lt||Qn)&&Vt&&c.jsx(_i,{icon:T?.privacy==="public"?c.jsx(om,{size:18,style:{flexShrink:0,minWidth:18}}):c.jsx(wv,{size:18,style:{flexShrink:0,minWidth:18}}),label:`Make ${T?.privacy==="public"?"Private":"Public"}`,onClick:cs,loading:Ct}),(lt||Qn)&&Vt&&l&&c.jsx(_i,{icon:c.jsx(y_,{size:18,style:{flexShrink:0,minWidth:18}}),label:`Edit ${cn?"Channel":"Group"}`,onClick:l}),(lt||kn)&&Vt&&c.jsx(_i,{icon:c.jsx(Va,{size:18,style:{flexShrink:0,minWidth:18}}),label:"Banned Users",onClick:()=>Q("banned")}),Vt&&f&&c.jsx(_i,{icon:c.jsx(um,{size:18,style:{flexShrink:0,minWidth:18}}),label:`Leave ${cn?"Channel":"Group"}`,onClick:ia,variant:"danger"}),lt&&d&&c.jsx(_i,{icon:c.jsx(Cu,{size:18,style:{flexShrink:0,minWidth:18}}),label:`Delete ${cn?"Channel":"Group"}`,onClick:Es,variant:"danger"})]})]},"main"):P==="members"?c.jsxs(X.div,{variants:Th,initial:"hidden",animate:"visible",exit:"exit",children:[c.jsxs("div",{style:{marginBottom:16,position:"relative"},children:[c.jsx(Pr,{size:16,color:I.textMuted,style:{position:"absolute",left:14,top:"50%",transform:"translateY(-50%)",flexShrink:0,minWidth:16}}),c.jsx("input",{type:"text",placeholder:"Search members...",value:V,onChange:K=>J(K.target.value),style:{width:"100%",padding:"12px 14px 12px 42px",background:I.surfaceElevated,border:`1px solid ${I.border}`,borderRadius:10,color:I.text,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:K=>K.target.style.borderColor=I.primary,onBlur:K=>K.target.style.borderColor=I.border})]}),c.jsxs(X.div,{variants:au,initial:"hidden",animate:"visible",style:{display:"flex",flexDirection:"column",gap:8},children:[ls.map(K=>c.jsx(bk,{member:K,isOnline:Kn(K.userId),lastSeen:os(K.userId),isCurrentUser:K.userId===r,canManage:lt||Rt||kn,onViewProfile:()=>p?.(K.userId),onKick:(lt||Rt)&&K.role!=="admin"?()=>$t(K.userId):void 0,onBan:(lt||kn)&&K.role!=="admin"?()=>Ii(K.userId):void 0,onManagePermissions:lt&&K.role!=="admin"?()=>{Ke(K),we(!0)}:void 0},K.userId)),ls.length===0&&c.jsx("div",{style:{textAlign:"center",padding:40,color:I.textMuted},children:"No members found"})]})]},"members"):P==="banned"?c.jsx(X.div,{variants:Th,initial:"hidden",animate:"visible",exit:"exit",children:Z?c.jsx("div",{style:{textAlign:"center",padding:40},children:c.jsx(Lt,{size:24,color:I.primary,className:"animate-spin"})}):Ee.length===0?c.jsxs("div",{style:{textAlign:"center",padding:40,color:I.textMuted},children:[c.jsx(Va,{size:32,style:{marginBottom:12,opacity:.5}}),c.jsx("p",{children:"No banned users"})]}):c.jsx(X.div,{variants:au,initial:"hidden",animate:"visible",style:{display:"flex",flexDirection:"column",gap:8},children:Ee.map(K=>c.jsxs(X.div,{variants:Ci,style:{display:"flex",alignItems:"center",padding:"12px 14px",background:I.surfaceElevated,borderRadius:10,border:`1px solid ${I.border}`},children:[K.avatarUrl?c.jsx("img",{src:We(K.avatarUrl),alt:K.username,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",marginRight:12}}):c.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:I.dangerMuted,display:"flex",alignItems:"center",justifyContent:"center",marginRight:12,color:I.danger,fontWeight:600},children:Yn(K.username)}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{fontSize:14,fontWeight:600,color:I.text},children:K.username}),c.jsxs("div",{style:{fontSize:12,color:I.textMuted},children:["Banned ",new Date(K.bannedAt).toLocaleDateString()]})]}),c.jsx("button",{onClick:()=>Pi(K.userId,K.username),className:"gpm-clickable",style:{padding:"8px 14px",background:I.primaryMuted,border:`1px solid ${I.primary}30`,borderRadius:6,color:I.primary,fontSize:13,fontWeight:500},children:"Unban"})]},K.userId))})},"banned"):P==="addMember"?c.jsxs(X.div,{variants:Th,initial:"hidden",animate:"visible",exit:"exit",children:[c.jsxs("div",{style:{marginBottom:16,position:"relative"},children:[c.jsx(Pr,{size:16,color:I.textMuted,style:{position:"absolute",left:14,top:"50%",transform:"translateY(-50%)",flexShrink:0,minWidth:16}}),c.jsx("input",{type:"text",placeholder:"Search users to add...",value:q,onChange:K=>ee(K.target.value),style:{width:"100%",padding:"12px 14px 12px 42px",background:I.surfaceElevated,border:`1px solid ${I.border}`,borderRadius:10,color:I.text,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:K=>K.target.style.borderColor=I.primary,onBlur:K=>K.target.style.borderColor=I.border})]}),ue?c.jsx("div",{style:{textAlign:"center",padding:40},children:c.jsx(Lt,{size:24,color:I.primary,className:"animate-spin"})}):se.length>0?c.jsx(X.div,{variants:au,initial:"hidden",animate:"visible",style:{display:"flex",flexDirection:"column",gap:8},children:se.map(K=>c.jsxs(X.div,{variants:Ci,style:{display:"flex",alignItems:"center",padding:"12px 14px",background:I.surfaceElevated,borderRadius:10,border:`1px solid ${I.border}`},children:[K.avatar?c.jsx("img",{src:We(K.avatar),alt:K.username,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",marginRight:12}}):c.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:I.primaryMuted,display:"flex",alignItems:"center",justifyContent:"center",marginRight:12,color:I.primary,fontWeight:600},children:Yn(K.username)}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{fontSize:14,fontWeight:600,color:I.text},children:K.username}),K.email&&c.jsx("div",{style:{fontSize:12,color:I.textMuted},children:K.email})]}),c.jsxs("button",{onClick:()=>Hi(K.id),className:"gpm-clickable",style:{padding:"8px 14px",background:I.primary,border:"none",borderRadius:6,color:"#fff",fontSize:13,fontWeight:500,display:"flex",alignItems:"center",gap:6},children:[c.jsx(rl,{size:14}),"Add"]})]},K.id))}):q.trim()?c.jsx("div",{style:{textAlign:"center",padding:40,color:I.textMuted},children:"No users found"}):c.jsxs("div",{style:{textAlign:"center",padding:40,color:I.textMuted},children:[c.jsx(rl,{size:32,style:{marginBottom:12,opacity:.5}}),c.jsx("p",{children:"Type to search for users"})]})]},"addMember"):null})]})]})})}),Le&&ve&&c.jsx(D1,{isOpen:Le,onClose:()=>{we(!1),Ke(null)},chatId:a.id,member:ve,onPermissionsChanged:async()=>{await Rn()}})]})},xk="_blockedModal_atzbl_9",Sk="_lightMode_atzbl_53",_k="_overlay_atzbl_85",wk="_modal_atzbl_125",Ck="_header_atzbl_233",jk="_headerLeft_atzbl_249",Tk="_headerIcon_atzbl_261",Mk="_headerTitle_atzbl_321",Ek="_headerCount_atzbl_337",Ak="_headerSubtitle_atzbl_369",kk="_closeBtn_atzbl_381",Nk="_body_atzbl_425",Rk="_loadingState_atzbl_475",Dk="_spinner_atzbl_493",Bk="_loadingText_atzbl_519",zk="_emptyState_atzbl_531",Uk="_emptyIcon_atzbl_549",Lk="_emptyTitle_atzbl_577",Ok="_emptyText_atzbl_591",Ik="_userList_atzbl_609",Pk="_userCard_atzbl_623",Hk="_userAvatar_atzbl_655",Vk="_userInitials_atzbl_687",$k="_userInfo_atzbl_711",Fk="_userName_atzbl_721",Gk="_userMeta_atzbl_741",qk="_blockedBadge_atzbl_757",Yk="_unblockBtn_atzbl_787",Xk="_loading_atzbl_475",Wk="_footer_atzbl_865",Kk="_footerInfo_atzbl_883",Qk="_footerBtn_atzbl_893",He={blockedModal:xk,lightMode:Sk,overlay:_k,modal:wk,header:Ck,headerLeft:jk,headerIcon:Tk,headerTitle:Mk,headerCount:Ek,headerSubtitle:Ak,closeBtn:kk,body:Nk,loadingState:Rk,spinner:Dk,loadingText:Bk,emptyState:zk,emptyIcon:Uk,emptyTitle:Lk,emptyText:Ok,userList:Ik,userCard:Pk,userAvatar:Hk,userInitials:Vk,userInfo:$k,userName:Fk,userMeta:Gk,blockedBadge:qk,unblockBtn:Yk,loading:Xk,footer:Wk,footerInfo:Kk,footerBtn:Qk},Zk=({isOpen:s,onClose:n,isDarkMode:a=!0})=>{const[r,l]=w.useState([]),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{s&&y()},[s]),w.useEffect(()=>{const _=T=>{T.key==="Escape"&&s&&n()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[s,n]);const y=async()=>{f(!0);try{const _=await Qt.getBlockedUsers();l(_||[])}catch(_){console.error("Failed to load blocked users:",_)}finally{f(!1)}},b=async _=>{if(await as({title:"Unblock User",message:`Are you sure you want to unblock ${_.username}? They will be able to message you again.`,confirmText:"Unblock",cancelText:"Cancel",variant:"success",icon:"success"})){p(_.userId);try{await Qt.unblockUser(_.userId),l(E=>E.filter(M=>M.userId!==_.userId))}catch(E){console.error("Failed to unblock user:",E)}finally{p(null)}}},v=_=>{const T=new Date(_),M=Math.abs(new Date().getTime()-T.getTime()),N=Math.floor(M/(1e3*60*60*24));return N===0?"Today":N===1?"Yesterday":N<7?`${N} days ago`:N<30?`${Math.floor(N/7)} weeks ago`:T.toLocaleDateString()};return s?c.jsx("div",{className:`${He.blockedModal} ${a?"":He.lightMode}`,children:c.jsx("div",{className:He.overlay,onClick:n,children:c.jsxs("div",{className:He.modal,onClick:_=>_.stopPropagation(),children:[c.jsxs("header",{className:He.header,children:[c.jsxs("div",{className:He.headerLeft,children:[c.jsx("div",{className:He.headerIcon,children:c.jsx(v0,{size:22})}),c.jsxs("div",{children:[c.jsxs("h2",{className:He.headerTitle,children:["Blocked Users",r.length>0&&c.jsx("span",{className:He.headerCount,children:r.length})]}),c.jsx("p",{className:He.headerSubtitle,children:"Manage your block list"})]})]}),c.jsx("button",{className:He.closeBtn,onClick:n,"aria-label":"Close",children:c.jsx(Ot,{size:20})})]}),c.jsx("div",{className:He.body,children:d?c.jsxs("div",{className:He.loadingState,children:[c.jsx("div",{className:He.spinner}),c.jsx("span",{className:He.loadingText,children:"Loading blocked users..."})]}):r.length===0?c.jsxs("div",{className:He.emptyState,children:[c.jsx("div",{className:He.emptyIcon,children:c.jsx(__,{size:32})}),c.jsx("h3",{className:He.emptyTitle,children:"No blocked users"}),c.jsx("p",{className:He.emptyText,children:"You haven't blocked anyone yet. Blocked users cannot send you messages or see your online status."})]}):c.jsx("div",{className:He.userList,children:r.map(_=>c.jsxs("div",{className:He.userCard,children:[c.jsx("div",{className:He.userAvatar,children:_.avatarUrl?c.jsx("img",{src:We(_.avatarUrl),alt:_.username}):c.jsx("span",{className:He.userInitials,children:Yn(_.username)})}),c.jsxs("div",{className:He.userInfo,children:[c.jsx("p",{className:He.userName,children:_.username}),c.jsxs("div",{className:He.userMeta,children:[c.jsxs("span",{className:He.blockedBadge,children:[c.jsx(v0,{size:10}),"Blocked"]}),c.jsx("span",{children:v(_.blockedAt)})]})]}),c.jsxs("button",{className:`${He.unblockBtn} ${m===_.userId?He.loading:""}`,onClick:()=>b(_),disabled:m===_.userId,children:[c.jsx(w_,{size:14}),m===_.userId?"Unblocking...":"Unblock"]})]},_.userId))})}),c.jsxs("footer",{className:He.footer,children:[c.jsx("span",{className:He.footerInfo,children:r.length>0?`${r.length} user${r.length>1?"s":""} blocked`:"Your block list is empty"}),c.jsx("button",{className:He.footerBtn,onClick:n,children:"Done"})]})]})})}):null},Jk="_adminPanel_1ovl9_9",e3="_lightMode_1ovl9_61",t3="_overlay_1ovl9_93",n3="_modal_1ovl9_133",s3="_header_1ovl9_187",a3="_headerLeft_1ovl9_205",i3="_headerIcon_1ovl9_217",r3="_headerTitle_1ovl9_241",o3="_headerSubtitle_1ovl9_257",l3="_closeBtn_1ovl9_271",c3="_toolbar_1ovl9_315",u3="_searchWrapper_1ovl9_333",d3="_searchIcon_1ovl9_345",f3="_searchInput_1ovl9_365",h3="_statsBar_1ovl9_423",m3="_statItem_1ovl9_437",p3="_statIcon_1ovl9_457",g3="_statValue_1ovl9_465",y3="_statLabel_1ovl9_479",b3="_body_1ovl9_491",v3="_errorState_1ovl9_541",x3="_errorIcon_1ovl9_569",S3="_loadingState_1ovl9_579",_3="_spinner_1ovl9_597",w3="_loadingText_1ovl9_623",C3="_emptyState_1ovl9_635",j3="_emptyIcon_1ovl9_653",T3="_emptyText_1ovl9_663",M3="_table_1ovl9_675",E3="_tableHead_1ovl9_685",A3="_tableHeadRow_1ovl9_697",k3="_tableHeadCell_1ovl9_705",N3="_tableBody_1ovl9_737",R3="_tableRow_1ovl9_741",D3="_tableCell_1ovl9_767",B3="_userCell_1ovl9_787",z3="_userAvatar_1ovl9_799",U3="_userInitials_1ovl9_837",L3="_userInfo_1ovl9_849",O3="_userName_1ovl9_857",I3="_userBio_1ovl9_877",P3="_emailCell_1ovl9_899",H3="_statusBadge_1ovl9_913",V3="_online_1ovl9_935",$3="_away_1ovl9_945",F3="_offline_1ovl9_955",G3="_statusDot_1ovl9_965",q3="_actionBtn_1ovl9_981",Y3="_footer_1ovl9_1037",X3="_footerBtn_1ovl9_1057",W3="_secondary_1ovl9_1083",K3="_primary_1ovl9_1117",Q3="_spinning_1ovl9_1141",Z3="_emailColumn_1ovl9_1273",oe={adminPanel:Jk,lightMode:e3,overlay:t3,modal:n3,header:s3,headerLeft:a3,headerIcon:i3,headerTitle:r3,headerSubtitle:o3,closeBtn:l3,toolbar:c3,searchWrapper:u3,searchIcon:d3,searchInput:f3,statsBar:h3,statItem:m3,statIcon:p3,statValue:g3,statLabel:y3,body:b3,errorState:v3,errorIcon:x3,loadingState:S3,spinner:_3,loadingText:w3,emptyState:C3,emptyIcon:j3,emptyText:T3,table:M3,tableHead:E3,tableHeadRow:A3,tableHeadCell:k3,tableBody:N3,tableRow:R3,tableCell:D3,userCell:B3,userAvatar:z3,userInitials:U3,userInfo:L3,userName:O3,userBio:I3,emailCell:P3,statusBadge:H3,online:V3,away:$3,offline:F3,statusDot:G3,actionBtn:q3,footer:Y3,footerBtn:X3,secondary:W3,primary:K3,spinning:Q3,emailColumn:Z3},J3=s=>{if(!s||s==="undefined"||s==="null")return"?";const n=String(s).trim();if(!n||n.length===0)return"?";const a=n.split(/\s+/).filter(r=>r.length>0);return a.length===0?"?":a.length===1?a[0][0]?.toUpperCase()||"?":a.map(r=>r[0]).join("").toUpperCase().slice(0,2)||"?"},eN=({isOpen:s,onClose:n,isDarkMode:a=!0})=>{const[r,l]=w.useState([]),[d,f]=w.useState(!1),[m,p]=w.useState(""),[y,b]=w.useState(null);w.useEffect(()=>{s&&v()},[s]),w.useEffect(()=>{const M=N=>{N.key==="Escape"&&s&&n()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s,n]);const v=async()=>{f(!0),b(null);try{const M=await Qt.getAllUsers();l(M)}catch(M){console.error("Failed to load users:",M),M.response?.status===403?b("Access denied. You need admin privileges to view this panel."):b("Failed to load users. Please try again.")}finally{f(!1)}},_=async(M,N)=>{if(await as({title:"Delete User",message:`Are you sure you want to delete user "${N}"? This action cannot be undone and all their data will be permanently deleted.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",icon:"delete"}))try{await Qt.deleteUser(M),await v()}catch(Q){console.error("Failed to delete user:",Q)}},T=r.filter(M=>M.username.toLowerCase().includes(m.toLowerCase())||M.email.toLowerCase().includes(m.toLowerCase())),E=M=>M==="online"?oe.online:M==="away"?oe.away:oe.offline;return s?c.jsx("div",{className:`${oe.adminPanel} ${a?"":oe.lightMode}`,onClick:M=>M.target===M.currentTarget&&n(),children:c.jsx("div",{className:oe.overlay,onClick:n,children:c.jsxs("div",{className:oe.modal,onClick:M=>M.stopPropagation(),children:[c.jsxs("header",{className:oe.header,children:[c.jsxs("div",{className:oe.headerLeft,children:[c.jsx("div",{className:oe.headerIcon,children:c.jsx(Ui,{size:20})}),c.jsxs("div",{children:[c.jsx("h2",{className:oe.headerTitle,children:"Admin Panel"}),c.jsx("p",{className:oe.headerSubtitle,children:"User Management Console"})]})]}),c.jsx("button",{className:oe.closeBtn,onClick:n,"aria-label":"Close",children:c.jsx(Ot,{size:20})})]}),c.jsxs("div",{className:oe.toolbar,children:[c.jsxs("div",{className:oe.searchWrapper,children:[c.jsx(Pr,{size:18,className:oe.searchIcon}),c.jsx("input",{type:"text",placeholder:"Search by username or email...",value:m,onChange:M=>p(M.target.value),className:oe.searchInput,style:{padding:"0 16px 0 44px"}})]}),c.jsx("div",{className:oe.statsBar,children:c.jsxs("div",{className:oe.statItem,children:[c.jsx(Ut,{size:16,className:oe.statIcon}),c.jsx("span",{className:oe.statValue,children:T.length}),c.jsx("span",{className:oe.statLabel,children:"users"})]})})]}),c.jsxs("div",{className:oe.body,children:[y&&c.jsxs("div",{className:oe.errorState,children:[c.jsx(Fa,{size:20,className:oe.errorIcon}),c.jsx("span",{children:y})]}),d?c.jsxs("div",{className:oe.loadingState,children:[c.jsx("div",{className:oe.spinner}),c.jsx("span",{className:oe.loadingText,children:"Loading users..."})]}):T.length===0?c.jsxs("div",{className:oe.emptyState,children:[c.jsx(dm,{size:48,className:oe.emptyIcon}),c.jsx("span",{className:oe.emptyText,children:m?"No users match your search":"No users found"})]}):c.jsxs("table",{className:oe.table,children:[c.jsx("thead",{className:oe.tableHead,children:c.jsxs("tr",{className:oe.tableHeadRow,children:[c.jsx("th",{className:oe.tableHeadCell,children:"User"}),c.jsx("th",{className:`${oe.tableHeadCell} ${oe.emailColumn}`,children:"Email"}),c.jsx("th",{className:oe.tableHeadCell,children:"Status"}),c.jsx("th",{className:oe.tableHeadCell,children:"Actions"})]})}),c.jsx("tbody",{className:oe.tableBody,children:T.map(M=>c.jsxs("tr",{className:oe.tableRow,children:[c.jsx("td",{className:oe.tableCell,children:c.jsxs("div",{className:oe.userCell,children:[c.jsx("div",{className:oe.userAvatar,children:M.avatar?c.jsx("img",{src:M.avatar,alt:M.username}):c.jsx("span",{className:oe.userInitials,children:J3(M.username)})}),c.jsxs("div",{className:oe.userInfo,children:[c.jsx("p",{className:oe.userName,children:M.username}),M.bio&&c.jsx("p",{className:oe.userBio,children:M.bio})]})]})}),c.jsx("td",{className:`${oe.tableCell} ${oe.emailColumn}`,children:c.jsx("span",{className:oe.emailCell,children:M.email})}),c.jsx("td",{className:oe.tableCell,children:c.jsxs("span",{className:`${oe.statusBadge} ${E(M.onlineStatus)}`,children:[c.jsx("span",{className:oe.statusDot}),M.onlineStatus||"offline"]})}),c.jsx("td",{className:oe.tableCell,children:c.jsxs("button",{className:oe.actionBtn,onClick:()=>_(M.id,M.username),children:[c.jsx(Cu,{size:14}),"Delete"]})})]},M.id))})]})]}),c.jsxs("footer",{className:oe.footer,children:[c.jsxs("button",{className:`${oe.footerBtn} ${oe.secondary}`,onClick:v,disabled:d,children:[c.jsx(C_,{size:16,className:d?oe.spinning:""}),"Refresh"]}),c.jsx("button",{className:`${oe.footerBtn} ${oe.primary}`,onClick:n,children:"Done"})]})]})})}):null},ie={abyss:"#050505",obsidian:"#0a0a0a",charcoal:"#0f0f0f",slate:"#151515",border:"#1a1a1a",borderLight:"#252525",surfaceHover:"#1c1c1c",emerald:"#10b981",emeraldBright:"#34d399",emeraldDark:"#059669",emeraldGlow:"rgba(16, 185, 129, 0.4)",sapphire:"#3b82f6",amethyst:"#8b5cf6",amber:"#f59e0b",ruby:"#ef4444",rubyDark:"#dc2626",indigo:"#6366f1",text:"#ffffff",textSecondary:"#a1a1aa",textMuted:"#71717a",textDim:"#52525b"},tN=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M5.5 3.21V20.8l4.75-4.73 2.99 6.73L15.5 21.6l-3-6.7h6z'/%3E%3Cpath fill='%23064e3b' d='M6.5 5.61v11.68l3.38-3.37.37-.37.48 1.07 1.93 4.35 1.07-.47L11.8 14.1l-.48-1.07H16z'/%3E%3C/svg%3E") 5 3, default`,nN=`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M9 2.5a2.5 2.5 0 0 1 5 0v7.996l3.904-.74a2.095 2.095 0 0 1 2.537 2.466L19.5 17.5a6 6 0 0 1-6 6H11a7 7 0 0 1-7-7V9a2 2 0 1 1 4 0v3.5h1z'/%3E%3Cpath fill='%23064e3b' d='M10 2.5V14h-.5a1.5 1.5 0 0 1-1.5-1.5V9a1 1 0 1 0-2 0v7.5a6 6 0 0 0 6 6h2.5a5 5 0 0 0 5-5l.941-5.278a1.095 1.095 0 0 0-1.324-1.288l-4.117.78V2.5a1.5 1.5 0 0 0-3 0z'/%3E%3C/svg%3E") 9 4, pointer`,sN=`
  @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

  .settings-panel-overlay {
    cursor: ${tN};
  }
  .settings-panel-overlay * {
    cursor: inherit;
  }
  .settings-panel-overlay button,
  .settings-panel-overlay [role="button"],
  .settings-panel-overlay .clickable {
    cursor: ${nN};
  }

  .settings-panel-content::-webkit-scrollbar {
    width: 6px;
  }
  .settings-panel-content::-webkit-scrollbar-track {
    background: ${ie.obsidian};
  }
  .settings-panel-content::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, ${ie.emerald}, ${ie.emeraldDark});
    border-radius: 3px;
  }
  .settings-panel-content::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, ${ie.emeraldBright}, ${ie.emerald});
  }

  @keyframes settings-matrix-pulse {
    0%, 100% { opacity: 0.08; transform: scale(1); }
    50% { opacity: 0.25; transform: scale(1.05); }
  }

  @keyframes settings-glow-breathe {
    0%, 100% { filter: drop-shadow(0 0 2px ${ie.emeraldGlow}); }
    50% { filter: drop-shadow(0 0 8px ${ie.emeraldGlow}); }
  }

  @keyframes settings-shimmer {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  @keyframes emerald-pulse {
    0%, 100% { box-shadow: 0 0 0 0 ${ie.emeraldGlow}; }
    50% { box-shadow: 0 0 20px 5px ${ie.emeraldGlow}; }
  }
`;if(typeof document<"u"&&!document.getElementById("settings-panel-styles")){const s=document.createElement("style");s.id="settings-panel-styles",s.textContent=sN,document.head.appendChild(s)}const aN={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,ease:[.22,1,.36,1]}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}}},iN={hidden:{x:"-100%",opacity:.8},visible:{x:0,opacity:1,transition:{type:"spring",damping:30,stiffness:300,mass:.8}},exit:{x:"-100%",opacity:.5,transition:{duration:.25,ease:[.4,0,1,1]}}},rN={hidden:{opacity:0},visible:s=>({opacity:1,transition:{delay:.1+s*.08,duration:.4,ease:"easeOut"}})},im={hidden:{opacity:0,x:-20,scale:.95},visible:s=>({opacity:1,x:0,scale:1,transition:{delay:.15+s*.04,duration:.35,ease:[.22,1,.36,1]}})},oN=({enabled:s})=>{const n=w.useMemo(()=>{const a=[];for(let d=0;d<240;d++)a.push({id:d,delay:Math.random()*3,duration:1.5+Math.random()*2,opacity:.05+Math.random()*.15});return a},[]);return s?c.jsx("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",zIndex:0},children:c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:"4px",padding:"20px",height:"100%"},children:n.map(a=>c.jsx(X.div,{initial:{opacity:0},animate:{opacity:[a.opacity*.3,a.opacity,a.opacity*.3],scale:[1,1.1,1]},transition:{duration:a.duration,delay:a.delay,repeat:1/0,ease:"easeInOut"},style:{background:ie.emerald,borderRadius:"2px",aspectRatio:"1"}},a.id))})}):null},yv=({isOn:s,onToggle:n,label:a,icon:r,iconOff:l})=>c.jsxs(X.button,{onClick:n,whileHover:{scale:1.01},whileTap:{scale:.99},style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"14px 16px",background:ie.charcoal,border:`1px solid ${ie.border}`,borderRadius:"14px",fontFamily:"'Outfit', sans-serif",transition:"all 0.2s ease"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:s?`linear-gradient(135deg, ${ie.emerald}, ${ie.emeraldDark})`:ie.slate,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:s?`0 0 20px ${ie.emeraldGlow}, inset 0 1px 0 rgba(255,255,255,0.1)`:"inset 0 1px 0 rgba(255,255,255,0.05)",transition:"all 0.3s ease"},children:c.jsx(X.div,{animate:{rotate:s?0:180},transition:{duration:.3},children:s?r:l||r})}),c.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:ie.text},children:a})]}),c.jsx("div",{style:{width:"52px",height:"28px",borderRadius:"14px",background:s?`linear-gradient(90deg, ${ie.emeraldDark}, ${ie.emerald})`:ie.obsidian,border:`1px solid ${s?ie.emerald:ie.borderLight}`,padding:"2px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:s?`0 0 12px ${ie.emeraldGlow}`:"inset 0 2px 4px rgba(0,0,0,0.3)"},children:c.jsx(X.div,{animate:{x:s?24:0},transition:{type:"spring",stiffness:500,damping:30},style:{width:"22px",height:"22px",borderRadius:"11px",background:s?"#fff":ie.textMuted,boxShadow:s?"0 2px 8px rgba(0,0,0,0.3)":"0 1px 3px rgba(0,0,0,0.2)"}})})]}),bv=({icon:s,label:n,color:a,onClick:r,index:l})=>{const[d,f]=Ti.useState(!1);return c.jsxs(X.button,{custom:l,variants:im,initial:"hidden",animate:"visible",onClick:r,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),whileHover:{x:4},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px 14px",background:d?ie.surfaceHover:"transparent",border:"none",borderRadius:"12px",fontFamily:"'Outfit', sans-serif",transition:"background 0.15s ease"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"11px",background:`linear-gradient(135deg, ${a}20, ${a}10)`,border:`1px solid ${a}30`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:d?`0 0 16px ${a}40, inset 0 1px 0 rgba(255,255,255,0.1)`:`0 0 0 ${a}00`,transition:"all 0.25s ease"},children:c.jsx("div",{style:{color:a,transition:"transform 0.2s ease",transform:d?"scale(1.1)":"scale(1)"},children:s})}),c.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:ie.text,transition:"color 0.15s ease"},children:n})]}),c.jsx(X.div,{animate:{x:d?0:-4,opacity:d?1:0},transition:{duration:.15},children:c.jsx(fm,{size:16,color:ie.textMuted})})]})},Mh=({title:s,index:n})=>c.jsxs(X.div,{custom:n,variants:rN,initial:"hidden",animate:"visible",style:{display:"flex",alignItems:"center",gap:"10px",padding:"0 14px",marginBottom:"8px",marginTop:n>0?"24px":"0"},children:[c.jsx("span",{style:{fontSize:"11px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace",textTransform:"uppercase",letterSpacing:"1.5px",color:ie.textDim},children:s}),c.jsx("div",{style:{flex:1,height:"1px",background:`linear-gradient(90deg, ${ie.border}, transparent)`}})]}),lN=({isOpen:s,onClose:n,onCreateGroup:a,onCreateChannel:r,onEditProfile:l,onShowNotifications:d,onShowAdminPanel:f,onShowBlockedUsers:m,isDarkMode:p,onToggleDarkMode:y,onLogout:b,fancyAnimations:v,onToggleFancyAnimations:_})=>{w.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]);const T=[{icon:c.jsx(Ut,{size:18}),label:"New Group",color:ie.sapphire,onClick:a},{icon:c.jsx(Cs,{size:18}),label:"New Channel",color:ie.amethyst,onClick:r}],E=[{icon:c.jsx(pu,{size:18}),label:"Edit Profile",color:ie.emerald,onClick:l},{icon:c.jsx(lm,{size:18}),label:"Notifications",color:ie.ruby,onClick:d},{icon:c.jsx(dm,{size:18}),label:"Blocked Users",color:ie.rubyDark,onClick:m},{icon:c.jsx(Ui,{size:18}),label:"Admin Panel",color:ie.indigo,onClick:f}];return c.jsx(rn,{children:s&&c.jsxs(X.div,{className:"settings-panel-overlay",variants:aN,initial:"hidden",animate:"visible",exit:"exit",style:{position:"fixed",inset:0,zIndex:9999,display:"flex"},children:[c.jsx(X.div,{onClick:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)"}}),c.jsxs(X.div,{variants:iN,initial:"hidden",animate:"visible",exit:"exit",style:{position:"relative",width:"340px",height:"100vh",background:`linear-gradient(180deg, ${ie.obsidian} 0%, ${ie.abyss} 100%)`,borderRight:`1px solid ${ie.border}`,boxShadow:`
                4px 0 24px rgba(0, 0, 0, 0.5),
                0 0 1px ${ie.emeraldGlow}
              `,display:"flex",flexDirection:"column",overflow:"hidden"},children:[c.jsx(oN,{enabled:v}),c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:`linear-gradient(90deg, transparent, ${ie.emerald}, transparent)`,opacity:.6}}),c.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},style:{position:"relative",zIndex:1,padding:"20px 20px 16px",borderBottom:`1px solid ${ie.border}`,background:`linear-gradient(180deg, ${ie.charcoal}80 0%, transparent 100%)`},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:`linear-gradient(135deg, ${ie.emerald}, ${ie.emeraldDark})`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 0 20px ${ie.emeraldGlow}`},children:c.jsx(Eh,{size:18,color:"#fff"})}),c.jsxs("div",{children:[c.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,fontFamily:"'Outfit', sans-serif",color:ie.text,letterSpacing:"-0.02em"},children:"Settings"}),c.jsx("p",{style:{margin:0,fontSize:"12px",fontFamily:"'JetBrains Mono', monospace",color:ie.textMuted},children:"Customize your experience"})]})]}),c.jsx(X.button,{onClick:n,whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},style:{width:"32px",height:"32px",padding:0,borderRadius:"8px",border:`1px solid ${ie.border}`,background:ie.charcoal,display:"flex",alignItems:"center",justifyContent:"center",color:ie.textSecondary,transition:"all 0.2s ease"},children:c.jsx(Ot,{size:16})})]})}),c.jsxs("div",{className:"settings-panel-content",style:{position:"relative",zIndex:1,flex:1,overflowY:"auto",overflowX:"hidden",padding:"20px 16px"},children:[c.jsx(Mh,{title:"Create",index:0}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:T.map((M,N)=>c.jsx(bv,{icon:M.icon,label:M.label,color:M.color,onClick:()=>{M.onClick(),n()},index:N},M.label))}),c.jsx(Mh,{title:"Account",index:1}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:E.map((M,N)=>c.jsx(bv,{icon:M.icon,label:M.label,color:M.color,onClick:()=>{M.onClick(),n()},index:N+T.length},M.label))}),c.jsx(Mh,{title:"Preferences",index:2}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[c.jsx(X.div,{custom:E.length+T.length,variants:im,initial:"hidden",animate:"visible",children:c.jsx(yv,{isOn:p,onToggle:y,label:p?"Dark Mode":"Light Mode",icon:c.jsx(T_,{size:18,color:"#fff"}),iconOff:c.jsx(j_,{size:18,color:ie.amber})})}),c.jsx(X.div,{custom:E.length+T.length+1,variants:im,initial:"hidden",animate:"visible",children:c.jsx(yv,{isOn:v,onToggle:_,label:"Fancy Animations",icon:c.jsx(Eh,{size:18,color:"#fff"})})})]}),c.jsx("div",{style:{height:"24px"}})]}),c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},style:{position:"relative",zIndex:1,padding:"16px 20px 24px",borderTop:`1px solid ${ie.border}`,background:`linear-gradient(180deg, transparent 0%, ${ie.abyss}80 100%)`},children:[c.jsxs(X.button,{onClick:b,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px",borderRadius:"12px",border:`1px solid ${ie.ruby}40`,background:`linear-gradient(135deg, ${ie.ruby}15, ${ie.rubyDark}10)`,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:600,color:ie.ruby,transition:"all 0.2s ease"},onMouseEnter:M=>{M.currentTarget.style.background=`linear-gradient(135deg, ${ie.ruby}25, ${ie.rubyDark}20)`,M.currentTarget.style.borderColor=`${ie.ruby}60`,M.currentTarget.style.boxShadow=`0 0 20px ${ie.ruby}30`},onMouseLeave:M=>{M.currentTarget.style.background=`linear-gradient(135deg, ${ie.ruby}15, ${ie.rubyDark}10)`,M.currentTarget.style.borderColor=`${ie.ruby}40`,M.currentTarget.style.boxShadow="none"},children:[c.jsx(um,{size:18}),c.jsx("span",{children:"Sign Out"})]}),c.jsx("p",{style:{margin:"12px 0 0",textAlign:"center",fontSize:"11px",fontFamily:"'JetBrains Mono', monospace",color:ie.textDim},children:"SimpChat v1.0"})]}),c.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"1px",background:`linear-gradient(90deg, transparent, ${ie.emerald}40, transparent)`}})]})]})})},cN="_dashboardContainer_1wgh6_47",uN="_togglePanelBtn_1wgh6_111",dN="_clickable_1wgh6_213",fN="_chatItem_1wgh6_215",hN="_searchResultItem_1wgh6_217",mN="_mainWrapper_1wgh6_267",pN="_sidebar_1wgh6_283",gN="_searchSection_1wgh6_307",yN="_searchContainer_1wgh6_315",bN="_searchWrapper_1wgh6_323",vN="_searchIcon_1wgh6_335",xN="_searchInput_1wgh6_363",SN="_clearSearch_1wgh6_499",_N="_searchDropdown_1wgh6_557",wN="_dropdownHeader_1wgh6_587",CN="_resultAvatar_1wgh6_689",jN="_resultInfo_1wgh6_755",TN="_resultName_1wgh6_769",MN="_resultUsername_1wgh6_791",EN="_resultType_1wgh6_811",AN="_resultTypeIcon_1wgh6_823",kN="_group_1wgh6_849",NN="_channel_1wgh6_859",RN="_noResults_1wgh6_921",DN="_chatList_1wgh6_969",BN="_sidebarFooter_1wgh6_1017",zN="_settingsButton_1wgh6_1029",UN="_userStatus_1wgh6_1069",LN="_userInfo_1wgh6_1077",ON="_userAvatar_1wgh6_1089",IN="_userDetails_1wgh6_1129",PN="_userName_1wgh6_1143",HN="_active_1wgh6_1203",VN="_chatAvatar_1wgh6_1219",$N="_chatOnlineStatus_1wgh6_1293",FN="_chatInfo_1wgh6_1331",GN="_chatNameRow_1wgh6_1341",qN="_chatName_1wgh6_1341",YN="_chatTime_1wgh6_1373",XN="_chatPreviewRow_1wgh6_1387",WN="_chatPreview_1wgh6_1387",KN="_unreadBadge_1wgh6_1419",QN="_mainContent_1wgh6_1451",ZN="_mobileHeader_1wgh6_1471",JN="_mobileTitle_1wgh6_1489",eR="_mobileMenuBtn_1wgh6_1501",tR="_emptyState_1wgh6_1559",nR="_emptyStateIcon_1wgh6_1579",sR="_emptyStateTitle_1wgh6_1617",aR="_emptyStateText_1wgh6_1631",iR="_rightPanel_1wgh6_1649",rR="_collapsed_1wgh6_1671",oR="_rightPanelHeader_1wgh6_1687",lR="_rightPanelTitle_1wgh6_1703",cR="_closePanel_1wgh6_1717",uR="_rightPanelContent_1wgh6_1773",dR="_panelPlaceholder_1wgh6_1811",fR="_mobileOverlay_1wgh6_1945",hR="_visible_1wgh6_1969",mR="_open_1wgh6_2041",pR="_loadingChats_1wgh6_2211",gR="_noChats_1wgh6_2213",yR="_loadingMessages_1wgh6_2215",bR="_noMessages_1wgh6_2217",vR="_spinner_1wgh6_2275",xR="_chatViewContainer_1wgh6_2303",SR="_chatHeader_1wgh6_2319",_R="_chatHeaderLeft_1wgh6_2339",wR="_chatHeaderAvatar_1wgh6_2351",CR="_chatHeaderInfo_1wgh6_2423",jR="_chatHeaderName_1wgh6_2435",TR="_chatHeaderStatus_1wgh6_2449",MR="_chatHeaderRight_1wgh6_2459",ER="_chatHeaderBtn_1wgh6_2471",AR="_messagesContainer_1wgh6_2513",kR="_message_1wgh6_2513",NR="_own_1wgh6_2577",RR="_messageAvatar_1wgh6_2587",DR="_messageBubble_1wgh6_2631",BR="_messageSender_1wgh6_2679",zR="_messageText_1wgh6_2705",UR="_messageTime_1wgh6_2729",LR="_seenIndicator_1wgh6_2759",OR="_seen_1wgh6_2759",IR="_delivered_1wgh6_2783",PR="_messageAttachment_1wgh6_2811",HR="_attachmentImage_1wgh6_2819",VR="_attachmentLink_1wgh6_2833",$R="_messageInputContainer_1wgh6_2903",FR="_inputDisabledNotice_1wgh6_2917",GR="_filePreview_1wgh6_2941",qR="_fileName_1wgh6_2961",YR="_removeFile_1wgh6_2977",XR="_messageInputRow_1wgh6_3037",WR="_fileInput_1wgh6_3049",KR="_attachBtn_1wgh6_3057",QR="_messageInput_1wgh6_2903",ZR="_sendBtn_1wgh6_3231",JR="_panelDetails_1wgh6_3311",e6="_panelAvatar_1wgh6_3327",t6="_panelName_1wgh6_3391",n6="_panelType_1wgh6_3405",s6="_panelDescription_1wgh6_3421",a6="_panelMemberCount_1wgh6_3437",i6="_replyPreview_1wgh6_3477",r6="_replyAuthor_1wgh6_3555",o6="_replyContent_1wgh6_3575",l6="_messageReactions_1wgh6_3605",c6="_reactionBadge_1wgh6_3619",u6="_messageFooter_1wgh6_3745",d6="_editedLabel_1wgh6_3761",f6="_contextMenu_1wgh6_3815",h6="_contextReactions_1wgh6_3837",m6="_contextReactionBtn_1wgh6_3851",p6="_contextDivider_1wgh6_3891",g6="_contextMenuItem_1wgh6_3903",y6="_danger_1wgh6_3961",b6="_highlighted_1wgh6_3991",v6="_scrollToBottomBtn_1wgh6_4001",x6="_replyBar_1wgh6_4069",S6="_replyBarContent_1wgh6_4091",_6="_replyBarIcon_1wgh6_4107",w6="_replyBarInfo_1wgh6_4129",C6="_replyBarLabel_1wgh6_4143",j6="_replyBarText_1wgh6_4155",T6="_replyBarClose_1wgh6_4173",M6="_editBar_1wgh6_4231",E6="_editBarContent_1wgh6_4253",A6="_editBarIcon_1wgh6_4269",k6="_editBarInfo_1wgh6_4291",N6="_editBarLabel_1wgh6_4305",R6="_editBarText_1wgh6_4317",D6="_editBarClose_1wgh6_4335",B6="_pinnedBar_1wgh6_4481",z6="_pinnedBarHeader_1wgh6_4493",U6="_pinnedBarLeft_1wgh6_4525",L6="_pinnedBarChevron_1wgh6_4551",O6="_expanded_1wgh6_4561",I6="_pinnedBarContent_1wgh6_4569",P6="_pinnedLoading_1wgh6_4579",H6="_pinnedItem_1wgh6_4593",V6="_pinnedItemInfo_1wgh6_4627",$6="_pinnedItemSender_1wgh6_4643",F6="_pinnedItemPreview_1wgh6_4655",G6="_pinnedItemJump_1wgh6_4671",q6="_panelClickHint_1wgh6_4733",Y6="_modalBackdrop_1wgh6_4749",X6="_subModal_1wgh6_6411",W6="_subModalHeader_1wgh6_6437",K6="_subModalSearch_1wgh6_6521",Q6="_subModalContent_1wgh6_6573",Z6="_subModalLoading_1wgh6_6603",J6="_subModalEmpty_1wgh6_6631",eD="_subModalItem_1wgh6_6645",tD="_subModalItemAvatar_1wgh6_6671",nD="_subModalItemInfo_1wgh6_6719",sD="_subModalItemName_1wgh6_6733",aD="_subModalItemMeta_1wgh6_6745",iD="_subModalItemBtn_1wgh6_6755",rD="_unban_1wgh6_6787",j={dashboardContainer:cN,togglePanelBtn:uN,clickable:dN,chatItem:fN,searchResultItem:hN,mainWrapper:mN,sidebar:pN,searchSection:gN,searchContainer:yN,searchWrapper:bN,searchIcon:vN,searchInput:xN,clearSearch:SN,searchDropdown:_N,dropdownHeader:wN,resultAvatar:CN,resultInfo:jN,resultName:TN,resultUsername:MN,resultType:EN,resultTypeIcon:AN,group:kN,channel:NN,noResults:RN,chatList:DN,sidebarFooter:BN,settingsButton:zN,userStatus:UN,userInfo:LN,userAvatar:ON,userDetails:IN,userName:PN,active:HN,chatAvatar:VN,chatOnlineStatus:$N,chatInfo:FN,chatNameRow:GN,chatName:qN,chatTime:YN,chatPreviewRow:XN,chatPreview:WN,unreadBadge:KN,mainContent:QN,mobileHeader:ZN,mobileTitle:JN,mobileMenuBtn:eR,emptyState:tR,emptyStateIcon:nR,emptyStateTitle:sR,emptyStateText:aR,rightPanel:iR,collapsed:rR,rightPanelHeader:oR,rightPanelTitle:lR,closePanel:cR,rightPanelContent:uR,panelPlaceholder:dR,mobileOverlay:fR,visible:hR,open:mR,loadingChats:pR,noChats:gR,loadingMessages:yR,noMessages:bR,spinner:vR,chatViewContainer:xR,chatHeader:SR,chatHeaderLeft:_R,chatHeaderAvatar:wR,chatHeaderInfo:CR,chatHeaderName:jR,chatHeaderStatus:TR,chatHeaderRight:MR,chatHeaderBtn:ER,messagesContainer:AR,message:kR,own:NR,messageAvatar:RR,messageBubble:DR,messageSender:BR,messageText:zR,messageTime:UR,seenIndicator:LR,seen:OR,delivered:IR,messageAttachment:PR,attachmentImage:HR,attachmentLink:VR,messageInputContainer:$R,inputDisabledNotice:FR,filePreview:GR,fileName:qR,removeFile:YR,messageInputRow:XR,fileInput:WR,attachBtn:KR,messageInput:QR,sendBtn:ZR,panelDetails:JR,panelAvatar:e6,panelName:t6,panelType:n6,panelDescription:s6,panelMemberCount:a6,replyPreview:i6,replyAuthor:r6,replyContent:o6,messageReactions:l6,reactionBadge:c6,messageFooter:u6,editedLabel:d6,contextMenu:f6,contextReactions:h6,contextReactionBtn:m6,contextDivider:p6,contextMenuItem:g6,danger:y6,highlighted:b6,scrollToBottomBtn:v6,replyBar:x6,replyBarContent:S6,replyBarIcon:_6,replyBarInfo:w6,replyBarLabel:C6,replyBarText:j6,replyBarClose:T6,editBar:M6,editBarContent:E6,editBarIcon:A6,editBarInfo:k6,editBarLabel:N6,editBarText:R6,editBarClose:D6,pinnedBar:B6,pinnedBarHeader:z6,pinnedBarLeft:U6,pinnedBarChevron:L6,expanded:O6,pinnedBarContent:I6,pinnedLoading:P6,pinnedItem:H6,pinnedItemInfo:V6,pinnedItemSender:$6,pinnedItemPreview:F6,pinnedItemJump:G6,panelClickHint:q6,modalBackdrop:Y6,subModal:X6,subModalHeader:W6,subModalSearch:K6,subModalContent:Q6,subModalLoading:Z6,subModalEmpty:J6,subModalItem:eD,subModalItemAvatar:tD,subModalItemInfo:nD,subModalItemName:sD,subModalItemMeta:aD,subModalItemBtn:iD,unban:rD},oD=()=>{const{user:s,logout:n}=st(),{theme:a,toggleTheme:r}=sE(),{fancyAnimations:l,toggleFancyAnimations:d}=iE(),f=a==="dark",{chats:m,currentChat:p,messages:y,isLoadingChats:b,isLoadingMessages:v,setCurrentChat:_,loadChats:T,loadMessages:E,sendMessage:M,isUserOnline:N,deleteMessage:P,editMessage:Q,isBlockedBy:V,hasBlocked:J,loadPinnedMessages:q,getPinnedMessages:ee,unpinMessage:se,isLoadingPinned:W,addBlockedUser:ue,removeBlockedUser:fe,setInitialPresenceStates:je}=Tn(),{canSendMessage:Re}=R1(p?.id),Fe=()=>{if(!p||p.type!=="dm"||!s)return null;const x=p.members?.find(G=>(G.userId||G.id)!==s.id);return x?.userId||x?.id||null},tt=Fe(),Ee=tt?V(tt):!1,O=tt?J(tt):!1,Z=Ee||O,[ne,be]=w.useState(""),[Te,Le]=w.useState(!1),[we,ve]=w.useState([]),[Ke,Ct]=w.useState(!1),[ln,Kn]=w.useState(()=>window.innerWidth>768),[os,Pt]=w.useState(!1),[En,An]=w.useState(""),[Qn,kn]=w.useState(!1),[Rt,aa]=w.useState(null),[lt,Vt]=w.useState(null),[Nn,ls]=w.useState(null),[ct,Rn]=w.useState(null),[Zr,Jr]=w.useState(!1),[$t,Ii]=w.useState(!1),[Pi,cs]=w.useState(!1),[ia,Es]=w.useState(!1),[Hi,cn]=w.useState(!1),[K,ye]=w.useState(!1),[Ve,Oe]=w.useState(!1),[ut,Rl]=w.useState(!1),[zu,As]=w.useState(!1),[Vi,un]=w.useState(!1),[Xa,us]=w.useState(null),[eo,Wa]=w.useState(null),[Jm,to]=w.useState(!1),[Dl,ra]=w.useState(null),[ep,$i]=w.useState(!1),[Uu,Bl]=w.useState(!1),[no,Fi]=w.useState(null),[Lu,so]=w.useState(!1),[ds,bt]=w.useState(!1),[Ft,ks]=w.useState(""),[Gi,ao]=w.useState([]),[zl,io]=w.useState(!1),[Ka,qi]=w.useState(!1),[Ns,oa]=w.useState([]),[la,Rs]=w.useState(!1),[jt,Ul]=w.useState(!1),[ro,Ds]=w.useState(null),[ca,Qa]=w.useState(!1),[fs,oo]=w.useState(""),[lo,Za]=w.useState(""),[hs,Dn]=w.useState(null),[Gt,co]=w.useState(null),[vt,Yi]=w.useState(!1),[Zt,ua]=w.useState(""),[Xi,Jt]=w.useState(""),[da,uo]=w.useState(null),[fa,Bs]=w.useState(null),[Me,Ja]=w.useState(!1),[xt,ei]=w.useState("public"),[zs,fo]=w.useState(""),[Wi,Ll]=w.useState(""),[Ol,ti]=w.useState(null),[Bn,Ki]=w.useState(null),[Dt,Us]=w.useState(!1),[ms,ho]=w.useState(!1),ni=w.useRef(null),mo=w.useRef(null),ps=w.useRef(null),zn=w.useRef(null),gs=w.useRef(null),ha=w.useRef(null),Un=w.useRef(null),Qi=w.useRef(null),ma=w.useRef(null);w.useEffect(()=>{m.length===0&&T()},[]),w.useEffect(()=>{const x=()=>{const G=window.innerWidth<=768;G||Pt(!1),G&&Kn(!1)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),w.useEffect(()=>{const x=G=>{ni.current&&!ni.current.contains(G.target)&&Le(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),w.useEffect(()=>{p&&p.id!==Qi.current&&(Qi.current=p.id,E(p.id),q(p.id),ta.joinChat(p.id),ta.markMessagesAsSeen(p.id).catch(x=>{console.warn("[DashboardLayout] Failed to mark messages as seen:",x)}),Tn.getState().resetUnreadCount(p.id),ho(!1))},[p?.id]),w.useEffect(()=>{ps.current&&ps.current.scrollIntoView({behavior:"smooth"})},[y.length]),w.useEffect(()=>{const x=G=>{ma.current&&!ma.current.contains(G.target)&&Vt(null)};return lt&&document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[lt]),w.useEffect(()=>{const x=zn.current;if(!x)return;const G=()=>{const{scrollTop:ae,scrollHeight:pe,clientHeight:Ge}=x,Ue=pe-ae-Ge<100;Jr(!Ue)};return x.addEventListener("scroll",G),()=>x.removeEventListener("scroll",G)},[p?.id]);const Il=(x,G)=>{x.preventDefault(),x.stopPropagation(),Vt({messageId:G.messageId,x:x.clientX,y:x.clientY})},si=async(x,G)=>{try{await Tn.getState().toggleReaction(x,G)}catch(ae){console.error("Failed to toggle reaction:",ae)}Vt(null)},Zi=x=>{ls(x),Vt(null),ha.current?.focus()},Pl=x=>{Rn(x),An(x.content||""),Vt(null),ha.current?.focus()},en=async x=>{if(await as({title:"Delete Message",message:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger",icon:"delete"})){try{await P(x)}catch(ae){console.error("Failed to delete message:",ae)}Vt(null)}},Ls=async x=>{try{x.isPinned?await se(x.messageId):await Tn.getState().pinMessage(x.messageId)}catch(G){console.error("Failed to toggle pin:",G)}Vt(null)},Ji=()=>{ps.current?.scrollIntoView({behavior:"smooth"})},pa=x=>{const G=document.getElementById(`msg-${x}`);G&&(G.scrollIntoView({behavior:"smooth",block:"center"}),G.classList.add(j.highlighted),setTimeout(()=>G.classList.remove(j.highlighted),2e3))},Ou=["","","","",""],er={Like:"",Love:"",Laugh:"",Sad:"",Angry:""},po=w.useCallback(x=>{if(be(x),!x.trim()){ve([]),Ct(!1);return}if(x.trim().length<3){ve([]),Ct(!1);return}Un.current&&clearTimeout(Un.current),Ct(!0),Un.current=setTimeout(async()=>{try{const[G,ae,pe]=await Promise.all([Qt.searchUsersPaginated(x,1,10).catch(()=>({data:[]})),et.searchGroupsPaginated(x,1,10).catch(()=>({data:[]})),et.searchChannelsPaginated(x,1,10).catch(()=>({data:[]}))]),Ge=(G.data||[]).map(ht=>({id:ht.id,name:ht.username,type:"user",avatar:ht.avatar,username:ht.username})),Ue=(ae.data||[]).map(ht=>({id:ht.id||ht.chatId,name:ht.name,type:"group",avatar:ht.avatar})),Os=(pe.data||[]).map(ht=>({id:ht.id||ht.chatId,name:ht.name,type:"channel",avatar:ht.avatar})),nr=[...Ge,...Ue,...Os],Xl=new Set,xo=nr.filter(ht=>{const bs=`${ht.type}-${ht.name.toLowerCase()}`;return Xl.has(bs)?!1:(Xl.add(bs),!0)});xo.sort((ht,bs)=>{const ya={user:0,group:1,channel:2};return ya[ht.type]-ya[bs.type]}),ve(xo)}catch(G){console.error("Search failed:",G),ve([])}finally{Ct(!1)}},300)},[]),ga=m.filter(x=>x.name.toLowerCase().includes(ne.toLowerCase())),tr=Te&&ne.length>0,Hl=()=>{be(""),ve([]),mo.current?.focus()},go=async x=>{if(be(""),ve([]),Le(!1),x.type==="user")ai(x.id),un(!0);else{const G=m.find(ae=>ae.id===x.id);if(G)_(G),Pt(!1);else try{const ae=await et.getChatProfile(x.id);Fi(ae);const pe={id:x.id,name:x.name,type:x.type,avatar:x.avatar,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),unreadCount:0,members:[]};_(pe),As(!0)}catch(ae){console.error("Failed to load profile:",ae)}}},Iu=x=>{if(p?.id===x.id){Pt(!1);return}_(x),Pt(!1)},Vl=async x=>{if(x&&(x.preventDefault(),x.stopPropagation()),console.log("[DashboardLayout] handleSendMessage called",{hasText:!!En.trim(),hasFile:!!Rt,fileName:Rt?.name,chatId:p?.id}),!En.trim()&&!Rt||!p||Qn){console.log("[DashboardLayout] Skipping send - validation failed");return}kn(!0);try{if(ct){await Q(ct.messageId,En.trim()),Rn(null),An("");return}let G;if(p.id.startsWith("temp_dm_"))G=p.id.replace("temp_dm_",""),console.log("[DashboardLayout] Temp chat detected, using receiverId:",G);else if(p.type==="dm"&&p.members){const pe=p.members.find(Ge=>(Ge.userId||Ge.id)!==s?.id);G=pe?.userId||pe?.id}console.log("[DashboardLayout] Sending message...",{chatId:p.id,receiverId:G,hasFile:!!Rt,replyId:Nn?.messageId}),await M(p.id,G,En.trim(),Rt||void 0,Nn?.messageId),console.log("[DashboardLayout] Message sent successfully"),An(""),aa(null),ls(null),gs.current&&(gs.current.value="")}catch(G){console.error("[DashboardLayout] Failed to send message:",G)}finally{console.log("[DashboardLayout] Send complete, resetting isSending"),kn(!1)}},yo=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),Vl())},$l=x=>{if(x.type!=="dm")return!1;if(!x.members||!s)return x.isOnline||!1;const G=x.members.find(pe=>(pe.userId||pe.id)!==s.id);if(!G)return!1;const ae=G.userId||G.id;return N(ae)},Pu=x=>{if(x.lastMessage){const G=x.lastMessage.content||"";if(x.lastMessage.fileUrl&&!G)return" Attachment";if(G)return ov(G,40)}return"No messages yet"},Hu=x=>x.lastMessage?.createdAt&&(x.lastMessage.content||x.lastMessage.fileUrl)?PM(x.lastMessage.createdAt):"",ai=async x=>{us(x),to(!0),ra(null);try{const G=await Qt.getUserProfile(x);Wa(G);const ae=await Qt.getMutualBlockStatus(x);$i(ae.iBlockedThem),Bl(ae.theyBlockedMe)}catch(G){ra(G.response?.data?.message||"Failed to load profile")}finally{to(!1)}},Vu=async x=>{try{await Qt.blockUser(x),ue(x),$i(!0)}catch(G){console.error("Failed to block user:",G)}},Fl=async x=>{try{await Qt.unblockUser(x),fe(x),$i(!1)}catch(G){console.error("Failed to unblock user:",G)}},$u=async x=>{try{const G=m.find(Ue=>Ue.type!=="dm"?!1:Ue.members&&Ue.members.length>0?Ue.members.some(Os=>(Os.userId||Os.id)===x):!1);if(G){_(G),un(!1),Pt(!1);return}for(const Ue of m.filter(Os=>Os.type==="dm"))if(!Ue.members||Ue.members.length===0)try{if((await et.getChatProfile(Ue.id)).members?.some(nr=>nr.userId===x||nr.user?.id===x)){_(Ue),un(!1),Pt(!1);return}}catch{}console.log("[DashboardLayout] No existing DM found, creating temporary blank chat for:",x);let ae="User",pe;try{const Ue=await Qt.getUserProfile(x);ae=Ue.username||"User",pe=Ue.avatar,console.log("[DashboardLayout] Fetched user profile for blank chat:",ae)}catch(Ue){console.error("[DashboardLayout] Failed to fetch user profile:",Ue)}const Ge={id:`temp_dm_${x}`,name:ae,type:"dm",avatar:pe,description:"",privacy:"private",members:[],unreadCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("[DashboardLayout] Created blank chat:",Ge.id,Ge.name),_(Ge),un(!1),Pt(!1)}catch(G){console.error("Failed to start conversation:",G),console.error("Failed to start conversation")}},ys=async x=>{so(!0);try{const G=await et.getChatProfile(x);Fi(G);const ae=G.members?.map(pe=>pe.userId)||[];if(ae.length>0)try{const pe=await ta.getPresenceStates(ae);Object.keys(pe).length>0&&je(pe)}catch(pe){console.error("Failed to load presence states:",pe)}}catch(G){console.error("Failed to load group profile:",G)}finally{so(!1)}},Fu=async x=>{if(ks(x),!x.trim()){ao([]);return}io(!0);try{const G=await Qt.searchUsers(x),ae=new Set(no?.members?.map(Ge=>Ge.userId)||[]),pe=G.filter(Ge=>!ae.has(Ge.id));ao(pe)}catch(G){console.error("Failed to search users:",G)}finally{io(!1)}},Gu=async x=>{if(p)try{p.type==="group"?await et.addMemberToGroup(p.id,x):p.type==="channel"&&await et.addMemberToChannel(p.id,x),bt(!1),ks(""),ao([]),await ys(p.id)}catch(G){console.error("Failed to add member:",G)}},bo=async x=>{if(p)try{p.type==="group"?await et.removeMemberFromGroup(p.id,x):p.type==="channel"&&await et.removeMemberFromChannel(p.id,x),await ys(p.id)}catch(G){console.error("Failed to remove member:",G)}},qu=async x=>{if(p)try{await et.banUser(p.id,x),await ys(p.id)}catch(G){console.error("Failed to ban member:",G)}},Gl=async(x,G)=>{if(p)try{await et.unbanUser(p.id,x),await Yu()}catch(ae){console.error("Failed to unban member:",ae)}},Yu=async()=>{if(p){Rs(!0);try{const x=await et.getBannedUsers(p.id);oa(x)}catch(x){console.error("Failed to load banned users:",x)}finally{Rs(!1)}}},ql=async()=>{if(p)try{await et.leaveChat(p.id,p.type),As(!1),_(null),T()}catch(x){console.error("Failed to leave:",x)}},Xu=async()=>{if(p)try{await et.deleteChat(p.id,p.type),As(!1),_(null),T()}catch(x){console.error("Failed to delete:",x)}},Wu=async x=>{if(p)try{await et.updateChatPrivacy(p.id,x),_({...p,privacy:x}),ys(p.id)}catch(G){console.error("Failed to update privacy:",G)}},Ku=()=>{p&&(oo(p.name||""),Za(p.description||""),Dn(null),co(p.avatar?We(p.avatar)??null:null),Qa(!0))},Qu=x=>{const G=x.target.files?.[0];if(G){Dn(G);const ae=new FileReader;ae.onloadend=()=>{co(ae.result)},ae.readAsDataURL(G)}},Zu=async()=>{if(!(!p||!fs.trim())){Yi(!0);try{const x=new FormData;x.append("Name",fs.trim()),x.append("Description",lo.trim()),hs&&(x.append("file",hs),console.log("[EditGroup] Appending avatar file:",hs.name,hs.size,"bytes")),console.log("[EditGroup] Sending update for chat:",p.id,p.type),await et.updateChat(p.id,p.type,x);const G={...p,name:fs.trim(),description:lo.trim(),...hs&&Gt?{avatar:Gt}:{}};_(G),Qa(!1),T(),setTimeout(()=>{ys(p.id)},300)}catch(x){console.error("Failed to update group:",x)}finally{Yi(!1)}}},Ln=()=>{ua(""),Jt(""),uo(null),Bs(null),ei("public")},Yl=x=>{const G=x.target.files?.[0];if(G){uo(G);const ae=new FileReader;ae.onloadend=()=>{Bs(ae.result)},ae.readAsDataURL(G)}},Ju=async()=>{if(console.log("[DashboardLayout] handleCreateGroup called"),console.log("[DashboardLayout] createGroupName:",Zt),!Zt.trim()){console.log("[DashboardLayout] Group name is empty, returning");return}Ja(!0);try{const x=new FormData;x.append("Name",Zt.trim()),x.append("Description",Xi.trim()),x.append("PrivacyType",xt==="public"?"Public":"Private"),da&&x.append("file",da),console.log("[DashboardLayout] FormData contents:");for(const[ae,pe]of x.entries())console.log(`  ${ae}:`,pe instanceof File?`File(${pe.name})`:pe);console.log("[DashboardLayout] Calling chatService.createGroup...");const G=await et.createGroup(x);console.log("[DashboardLayout] createGroup response:",G),cs(!1),Ln(),await T(),G&&_(G),console.log("[DashboardLayout] Group created successfully!")}catch(x){console.error("[DashboardLayout] Failed to create group:",x)}finally{Ja(!1)}},ed=async()=>{if(Zt.trim()){Ja(!0);try{const x=new FormData;x.append("Name",Zt.trim()),x.append("Description",Xi.trim()),x.append("PrivacyType",xt==="public"?"Public":"Private"),da&&x.append("file",da);const G=await et.createChannel(x);Es(!1),Ln(),await T(),G&&_(G)}catch(x){console.error("Failed to create channel:",x)}finally{Ja(!1)}}},vo=()=>{fo(s?.username||""),Ll(s?.bio||""),ti(null),Ki(s?.avatar?We(s.avatar)??null:null),cn(!0)},ii=x=>{const G=x.target.files?.[0];if(G){ti(G);const ae=new FileReader;ae.onloadend=()=>{Ki(ae.result)},ae.readAsDataURL(G)}},td=async()=>{if(zs.trim()){Us(!0);try{const x=new FormData;x.append("Username",zs.trim()),x.append("Description",Wi.trim()),Ol&&x.append("file",Ol);const G=await Qt.updateProfile(x);G&&st.getState().setUser(G),cn(!1)}catch(x){console.error("Failed to update profile:",x)}finally{Us(!1)}}};return c.jsxs("div",{className:j.dashboardContainer,children:[c.jsx("div",{className:`${j.mobileOverlay} ${os?j.visible:""}`,onClick:()=>Pt(!1)}),c.jsxs("div",{className:j.mainWrapper,children:[c.jsxs("aside",{className:`${j.sidebar} ${os?j.open:""}`,children:[c.jsx("div",{className:j.searchSection,ref:ni,children:c.jsxs("div",{className:j.searchContainer,children:[c.jsxs("div",{className:j.searchWrapper,children:[c.jsx("input",{ref:mo,type:"text",className:j.searchInput,placeholder:"Search...",value:ne,onChange:x=>po(x.target.value),onFocus:()=>Le(!0)}),c.jsx(Pr,{className:j.searchIcon,size:15,strokeWidth:2}),ne&&c.jsx("button",{className:j.clearSearch,onClick:Hl,"aria-label":"Clear",type:"button",children:c.jsx(Ot,{size:12,strokeWidth:2})})]}),tr&&c.jsx("div",{className:j.searchDropdown,children:ne.trim().length<3?c.jsx("div",{className:j.noResults,children:c.jsx("span",{children:"Type at least 3 characters to search"})}):Ke?c.jsxs("div",{className:j.noResults,children:[c.jsx(Lt,{size:18,className:j.spinner}),c.jsx("span",{children:"Searching..."})]}):we.length>0?c.jsxs(c.Fragment,{children:[we.filter(x=>x.type==="user").length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:j.dropdownHeader,children:[c.jsx(Ut,{size:12}),"Users"]}),we.filter(x=>x.type==="user").map(x=>c.jsxs("button",{className:j.searchResultItem,onClick:()=>go(x),type:"button",children:[c.jsx("div",{className:j.resultAvatar,children:x.avatar?c.jsx("img",{src:We(x.avatar),alt:x.name}):Yn(x.name)}),c.jsxs("div",{className:j.resultInfo,children:[c.jsx("span",{className:j.resultName,children:x.name}),c.jsxs("span",{className:j.resultUsername,children:["@",x.username||x.name]})]}),c.jsx("div",{className:j.resultTypeIcon,children:c.jsx(Ut,{size:14})})]},`user-${x.id}`))]}),we.filter(x=>x.type==="group").length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:j.dropdownHeader,children:[c.jsx(Ut,{size:12}),"Groups"]}),we.filter(x=>x.type==="group").map(x=>c.jsxs("button",{className:j.searchResultItem,onClick:()=>go(x),type:"button",children:[c.jsx("div",{className:`${j.resultAvatar} ${j.group}`,children:x.avatar?c.jsx("img",{src:We(x.avatar),alt:x.name}):c.jsx(Ut,{size:16})}),c.jsxs("div",{className:j.resultInfo,children:[c.jsx("span",{className:j.resultName,children:x.name}),c.jsx("span",{className:j.resultType,children:"Group"})]}),c.jsx("div",{className:`${j.resultTypeIcon} ${j.group}`,children:c.jsx(Ut,{size:14})})]},`group-${x.id}`))]}),we.filter(x=>x.type==="channel").length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:j.dropdownHeader,children:[c.jsx(Cs,{size:12}),"Channels"]}),we.filter(x=>x.type==="channel").map(x=>c.jsxs("button",{className:j.searchResultItem,onClick:()=>go(x),type:"button",children:[c.jsx("div",{className:`${j.resultAvatar} ${j.channel}`,children:x.avatar?c.jsx("img",{src:We(x.avatar),alt:x.name}):c.jsx(Cs,{size:16})}),c.jsxs("div",{className:j.resultInfo,children:[c.jsx("span",{className:j.resultName,children:x.name}),c.jsx("span",{className:j.resultType,children:"Channel"})]}),c.jsx("div",{className:`${j.resultTypeIcon} ${j.channel}`,children:c.jsx(Cs,{size:14})})]},`channel-${x.id}`))]})]}):c.jsxs("div",{className:j.noResults,children:[c.jsx(Pr,{size:18,strokeWidth:1.5}),c.jsx("span",{children:"No results found"})]})})]})}),c.jsx("div",{className:j.chatList,children:b?c.jsxs("div",{className:j.loadingChats,children:[c.jsx(Lt,{size:24,className:j.spinner}),c.jsx("span",{children:"Loading chats..."})]}):ga.length===0?c.jsxs("div",{className:j.noChats,children:[c.jsx(ru,{size:24,strokeWidth:1.5}),c.jsx("span",{children:"No conversations yet"})]}):ga.map(x=>c.jsxs("div",{className:`${j.chatItem} ${p?.id===x.id?j.active:""}`,onClick:()=>Iu(x),children:[c.jsxs("div",{className:`${j.chatAvatar} ${x.type!=="dm"?j.group:""}`,children:[x.avatar?c.jsx("img",{src:We(x.avatar),alt:x.name}):x.type==="group"?c.jsx(Ut,{size:18,strokeWidth:2}):x.type==="channel"?c.jsx(Cs,{size:18,strokeWidth:2}):Yn(x.name),x.type==="dm"&&$l(x)&&c.jsx("div",{className:j.chatOnlineStatus})]}),c.jsxs("div",{className:j.chatInfo,children:[c.jsxs("div",{className:j.chatNameRow,children:[c.jsx("span",{className:j.chatName,children:x.name}),c.jsx("span",{className:j.chatTime,children:Hu(x)})]}),c.jsxs("div",{className:j.chatPreviewRow,children:[c.jsx("span",{className:j.chatPreview,children:Pu(x)}),x.unreadCount>0&&c.jsx("span",{className:j.unreadBadge,children:x.unreadCount})]})]})]},x.id))}),c.jsx("div",{className:j.sidebarFooter,children:c.jsxs("button",{className:j.settingsButton,onClick:()=>Ii(!0),type:"button",children:[c.jsxs("div",{className:j.userInfo,children:[c.jsx("div",{className:j.userAvatar,children:s?.avatar?c.jsx("img",{src:We(s.avatar),alt:s.username}):Yn(s?.username||"U")}),c.jsxs("div",{className:j.userDetails,children:[c.jsx("span",{className:j.userName,children:s?.username||"User"}),c.jsx("span",{className:j.userStatus,children:"Online"})]})]}),c.jsx(kh,{size:18,strokeWidth:2})]})})]}),c.jsxs("main",{className:j.mainContent,children:[c.jsxs("div",{className:j.mobileHeader,children:[c.jsx("button",{className:j.mobileMenuBtn,onClick:()=>Pt(!os),"aria-label":"Toggle menu",type:"button",children:c.jsx(M_,{size:20,strokeWidth:2})}),c.jsx("span",{className:j.mobileTitle,children:p?p.name:"Messages"})]}),p?c.jsxs("div",{className:j.chatViewContainer,children:[c.jsxs("div",{className:j.chatHeader,children:[c.jsxs("div",{className:j.chatHeaderLeft,children:[c.jsx("div",{className:`${j.chatHeaderAvatar} ${p.type!=="dm"?j.group:""}`,children:p.avatar?c.jsx("img",{src:We(p.avatar),alt:p.name}):p.type==="group"?c.jsx(Ut,{size:20,strokeWidth:2}):p.type==="channel"?c.jsx(Cs,{size:20,strokeWidth:2}):Yn(p.name)}),c.jsxs("div",{className:j.chatHeaderInfo,children:[c.jsx("h3",{className:j.chatHeaderName,children:p.name}),c.jsx("span",{className:j.chatHeaderStatus,children:p.type==="dm"?$l(p)?"Online":"Offline":`${p.members?.length||p.participantsCount||0} members`})]})]}),c.jsx("div",{className:j.chatHeaderRight,children:p.type!=="dm"&&c.jsx("button",{className:j.chatHeaderBtn,onClick:()=>{As(!0),ys(p.id)},title:`${p.type==="channel"?"Channel":"Group"} Info`,type:"button",children:c.jsx(cm,{size:18,strokeWidth:2,style:{flexShrink:0,minWidth:18}})})})]}),(()=>{const x=ee(p.id);return x.length===0?null:c.jsxs("div",{className:j.pinnedBar,children:[c.jsxs("button",{className:j.pinnedBarHeader,onClick:()=>ho(!ms),type:"button",children:[c.jsxs("div",{className:j.pinnedBarLeft,children:[c.jsx(Nh,{size:14}),c.jsxs("span",{children:[x.length," pinned message",x.length!==1?"s":""]})]}),c.jsx(x0,{size:16,className:`${j.pinnedBarChevron} ${ms?j.expanded:""}`})]}),c.jsx(rn,{children:ms&&c.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:j.pinnedBarContent,children:W?c.jsx("div",{className:j.pinnedLoading,children:c.jsx(Lt,{size:16,className:j.spinner})}):x.map(G=>c.jsxs("div",{className:j.pinnedItem,children:[c.jsxs("div",{className:j.pinnedItemInfo,children:[c.jsx("span",{className:j.pinnedItemSender,children:G.senderUsername}),c.jsx("span",{className:j.pinnedItemPreview,children:G.content?ov(G.content,50):G.fileUrl?"Attachment":"Empty"})]}),c.jsx("button",{className:j.pinnedItemJump,onClick:()=>pa(G.messageId),type:"button",children:"Jump"})]},G.messageId))})})]})})(),c.jsxs("div",{className:j.messagesContainer,ref:zn,children:[v?c.jsxs("div",{className:j.loadingMessages,children:[c.jsx(Lt,{size:24,className:j.spinner}),c.jsx("span",{children:"Loading messages..."})]}):y.length===0?c.jsxs("div",{className:j.noMessages,children:[c.jsx(ru,{size:24,strokeWidth:1.5}),c.jsx("span",{children:"No messages yet. Start the conversation!"})]}):y.map((x,G)=>c.jsxs("div",{id:`msg-${x.messageId}`,className:`${j.message} ${x.isCurrentUser?j.own:""}`,children:[!x.isCurrentUser&&c.jsx("div",{className:j.messageAvatar,onClick:()=>{x.senderId&&(ai(x.senderId),un(!0))},style:{cursor:"pointer"},title:`View ${x.senderUsername}'s profile`,children:x.senderAvatarUrl?c.jsx("img",{src:We(x.senderAvatarUrl),alt:x.senderUsername}):Yn(x.senderUsername)}),c.jsxs("div",{className:j.messageBubble,onContextMenu:ae=>Il(ae,x),onClick:ae=>{if("ontouchstart"in window&&ae.detail===1){const pe=ae.target;if(pe.closest("button")||pe.closest("a")||pe.closest(`.${j.replyPreview}`))return;ae.preventDefault(),Vt({messageId:x.messageId,x:ae.clientX,y:ae.clientY})}},children:[!x.isCurrentUser&&p.type!=="dm"&&c.jsx("span",{className:j.messageSender,onClick:ae=>{ae.stopPropagation(),x.senderId&&(ai(x.senderId),un(!0))},style:{cursor:"pointer"},title:`View ${x.senderUsername}'s profile`,children:x.senderUsername}),x.replyId&&(()=>{const ae=y.find(pe=>pe.messageId===x.replyId);return c.jsxs("div",{className:j.replyPreview,onClick:()=>ae&&pa(x.replyId),children:[c.jsx(Kf,{size:12}),c.jsx("span",{className:j.replyAuthor,children:ae?.senderUsername||"Unknown"}),c.jsxs("span",{className:j.replyContent,children:[ae?.content?.substring(0,40)||(ae?.fileUrl?" File":"Deleted"),ae?.content&&ae.content.length>40?"...":""]})]})})(),x.fileUrl&&c.jsx("div",{className:j.messageAttachment,children:/\.(jpg|jpeg|png|gif|webp)$/i.test(x.fileUrl)?c.jsx("img",{src:We(x.fileUrl),alt:"Attachment",className:j.attachmentImage}):c.jsxs("a",{href:We(x.fileUrl),target:"_blank",rel:"noopener noreferrer",className:j.attachmentLink,children:[c.jsx(S0,{size:14}),c.jsx("span",{children:"View Attachment"})]})}),x.content&&c.jsx("p",{className:j.messageText,children:x.content}),x.messageReactions&&x.messageReactions.length>0&&(()=>{const ae=x.messageReactions.reduce((pe,Ge)=>{const Ue=Ge.reactionType||Ge.type||"Like";return pe[Ue]||(pe[Ue]={count:0,users:[]}),pe[Ue].count++,pe[Ue].users.push(Ge.userName||Ge.userId||"User"),pe},{});return c.jsx("div",{className:j.messageReactions,children:Object.entries(ae).map(([pe,Ge])=>c.jsxs("button",{className:j.reactionBadge,onClick:()=>si(x.messageId,er[pe]||""),title:Ge.users.join(", "),children:[er[pe]||"",Ge.count>1&&c.jsx("span",{children:Ge.count})]},pe))})})(),c.jsxs("div",{className:j.messageFooter,children:[c.jsxs("span",{className:j.messageTime,children:[HM(x.sentAt),x.editedAt&&c.jsx("span",{className:j.editedLabel,children:" (edited)"})]}),"isSeen"in x&&c.jsx("span",{className:`${j.seenIndicator} ${x.isSeen?j.seen:j.delivered}`,children:x.isSeen?"":""})]}),lt?.messageId===x.messageId&&(()=>{const ae=G>=y.length-3,pe=180,Ge=220;return c.jsxs("div",{ref:ma,className:j.contextMenu,style:{position:"fixed",top:ae?Math.max(10,lt.y-Ge):Math.min(lt.y,window.innerHeight-Ge-10),left:Math.max(10,lt.x-pe)},children:[c.jsx("div",{className:j.contextReactions,children:Ou.map(Ue=>c.jsx("button",{className:j.contextReactionBtn,onClick:()=>si(x.messageId,Ue),children:Ue},Ue))}),c.jsx("div",{className:j.contextDivider}),c.jsxs("button",{className:j.contextMenuItem,onClick:()=>Zi(x),children:[c.jsx(Kf,{size:14})," Reply"]}),c.jsxs("button",{className:j.contextMenuItem,onClick:()=>Ls(x),children:[c.jsx(Nh,{size:14})," ",x.isPinned?"Unpin":"Pin"]}),x.isCurrentUser&&c.jsxs("button",{className:j.contextMenuItem,onClick:()=>Pl(x),children:[c.jsx(_0,{size:14})," Edit"]}),x.isCurrentUser&&c.jsxs("button",{className:`${j.contextMenuItem} ${j.danger}`,onClick:()=>en(x.messageId),children:[c.jsx(Cu,{size:14})," Delete"]})]})})()]})]},x.messageId)),c.jsx("div",{ref:ps})]}),Zr&&c.jsx("button",{className:j.scrollToBottomBtn,onClick:Ji,type:"button","aria-label":"Scroll to bottom",children:c.jsx(x0,{size:18})}),c.jsx("div",{className:j.messageInputContainer,children:Z?c.jsx("div",{className:j.inputDisabledNotice,children:c.jsx("span",{children:O?"You have blocked this user. Unblock to send messages.":"You cannot message this user."})}):!Re&&p.type!=="dm"?c.jsx("div",{className:j.inputDisabledNotice,children:c.jsx("span",{children:"You don't have permission to send messages in this chat."})}):c.jsxs(c.Fragment,{children:[Nn&&c.jsxs("div",{className:j.replyBar,children:[c.jsxs("div",{className:j.replyBarContent,children:[c.jsx("div",{className:j.replyBarIcon,children:c.jsx(Kf,{size:14})}),c.jsxs("div",{className:j.replyBarInfo,children:[c.jsxs("span",{className:j.replyBarLabel,children:["Replying to ",Nn.senderUsername]}),c.jsxs("span",{className:j.replyBarText,children:[Nn.content?.substring(0,50)||" Attachment",Nn.content&&Nn.content.length>50?"...":""]})]})]}),c.jsx("button",{className:j.replyBarClose,onClick:()=>ls(null),type:"button",children:c.jsx(Ot,{size:14})})]}),ct&&c.jsxs("div",{className:j.editBar,children:[c.jsxs("div",{className:j.editBarContent,children:[c.jsx("div",{className:j.editBarIcon,children:c.jsx(_0,{size:14})}),c.jsxs("div",{className:j.editBarInfo,children:[c.jsx("span",{className:j.editBarLabel,children:"Editing message"}),c.jsxs("span",{className:j.editBarText,children:[ct.content?.substring(0,50)||"",ct.content&&ct.content.length>50?"...":""]})]})]}),c.jsx("button",{className:j.editBarClose,onClick:()=>{Rn(null),An("")},type:"button",children:c.jsx(Ot,{size:14})})]}),Rt&&c.jsxs("div",{className:j.filePreview,children:[c.jsx("span",{className:j.fileName,children:Rt.name}),c.jsx("button",{className:j.removeFile,onClick:()=>{aa(null),gs.current&&(gs.current.value="")},children:c.jsx(Ot,{size:14})})]}),c.jsxs("div",{className:j.messageInputRow,children:[c.jsx("input",{type:"file",ref:gs,className:j.fileInput,onChange:x=>{x.preventDefault(),x.stopPropagation();const G=x.target.files?.[0]||null;console.log("[DashboardLayout] File selected:",G?.name,G?.size),aa(G)}}),c.jsx("button",{className:j.attachBtn,onClick:()=>gs.current?.click(),type:"button",children:c.jsx(S0,{size:18,strokeWidth:2})}),c.jsx("input",{type:"text",className:j.messageInput,placeholder:"Type a message...",value:En,onChange:x=>An(x.target.value),onKeyPress:yo,disabled:Qn}),c.jsx("button",{className:j.sendBtn,onClick:x=>Vl(x),disabled:!En.trim()&&!Rt||Qn,type:"button",children:Qn?c.jsx(Lt,{size:18,className:j.spinner}):c.jsx(E_,{size:18,strokeWidth:2})})]})]})})]}):c.jsxs("div",{className:j.emptyState,children:[c.jsx("div",{className:j.emptyStateIcon,children:c.jsx(ru,{size:32,strokeWidth:1.5})}),c.jsx("h2",{className:j.emptyStateTitle,children:"Select a conversation"}),c.jsx("p",{className:j.emptyStateText,children:"Choose a chat from the sidebar to start messaging"})]}),!ln&&p&&c.jsx("button",{className:j.togglePanelBtn,onClick:()=>Kn(!0),"aria-label":"Open panel",type:"button",children:c.jsx(A_,{size:16,strokeWidth:2})})]}),c.jsxs("aside",{className:`${j.rightPanel} ${ln?"":j.collapsed}`,children:[c.jsxs("div",{className:j.rightPanelHeader,children:[c.jsx("span",{className:j.rightPanelTitle,children:"Details"}),c.jsx("button",{className:j.closePanel,onClick:()=>Kn(!1),"aria-label":"Close panel",type:"button",children:c.jsx(Ot,{size:16,strokeWidth:2})})]}),c.jsx("div",{className:j.rightPanelContent,children:p?c.jsxs("div",{className:`${j.panelDetails} ${j.clickable}`,onClick:()=>{if(console.log("[DashboardLayout] Panel details clicked",{chatType:p.type,members:p.members,currentUserId:s?.id}),p.type==="dm"){const x=Fe();console.log("[DashboardLayout] DM profile click, otherUserId:",x),x?(un(!0),ai(x)):console.warn("[DashboardLayout] Could not find other user in DM")}else(p.type==="group"||p.type==="channel")&&(As(!0),ys(p.id))},children:[c.jsx("div",{className:j.panelAvatar,children:p.avatar?c.jsx("img",{src:We(p.avatar),alt:p.name}):p.type==="group"?c.jsx(Ut,{size:32,strokeWidth:1.5}):p.type==="channel"?c.jsx(Cs,{size:32,strokeWidth:1.5}):c.jsx("span",{children:Yn(p.name)})}),c.jsx("h3",{className:j.panelName,children:p.name}),c.jsx("p",{className:j.panelType,children:p.type==="dm"?"Direct Message":p.type==="group"?"Group Chat":"Channel"}),p.description&&c.jsx("p",{className:j.panelDescription,children:p.description}),p.type!=="dm"&&c.jsxs("div",{className:j.panelMemberCount,children:[c.jsx(Ut,{size:16}),c.jsxs("span",{children:[p.members?.length||p.participantsCount||0," members"]})]}),c.jsx("p",{className:j.panelClickHint,children:p.type==="dm"?"Click to view profile":"Click to view details"})]}):c.jsxs("div",{className:j.panelPlaceholder,children:[c.jsx(Ut,{size:28,strokeWidth:1.5}),c.jsx("p",{children:"Select a conversation to view details"})]})})]})]}),c.jsx(lN,{isOpen:$t,onClose:()=>Ii(!1),onCreateGroup:()=>{Ln(),cs(!0)},onCreateChannel:()=>{Ln(),Es(!0)},onEditProfile:vo,onShowNotifications:()=>ye(!0),onShowAdminPanel:()=>Oe(!0),onShowBlockedUsers:()=>Rl(!0),isDarkMode:f,onToggleDarkMode:r,onLogout:n,fancyAnimations:l,onToggleFancyAnimations:d}),Xa&&c.jsx(ck,{isOpen:Vi,onClose:()=>{un(!1),us(null)},userId:Xa,onSendMessage:x=>{$u(x)},onBlockUser:x=>{Vu(x)},onUnblockUser:x=>{Fl(x)},fancyAnimations:l}),p&&p.type!=="dm"&&c.jsx(vk,{isOpen:zu,onClose:()=>As(!1),chat:p,currentUserId:s?.id||"",onEditGroup:Ku,onDeleteGroup:Xu,onLeaveGroup:ql,onKickMember:bo,onViewUserProfile:x=>{As(!1),ai(x),un(!0)},onBanMember:async x=>{await qu(x)},onUnbanMember:async x=>{await Gl(x)},onUpdatePrivacy:async x=>{await Wu(x)},fancyAnimations:l}),c.jsx(rn,{children:ca&&p&&c.jsx(X.div,{className:j.modalBackdrop,style:{zIndex:1100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Qa(!1),children:c.jsxs(X.div,{className:j.subModal,style:{maxWidth:"400px",width:"90%"},initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:j.subModalHeader,children:[c.jsxs("h3",{children:["Edit ",p.type==="channel"?"Channel":"Group"]}),c.jsx("button",{onClick:()=>Qa(!1),type:"button",disabled:vt,children:c.jsx(Ot,{size:18})})]}),c.jsxs("div",{className:j.subModalContent,style:{padding:"20px",position:"relative"},children:[vt&&c.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.4)",borderRadius:"0 0 12px 12px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,backdropFilter:"blur(2px)"},children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",color:"var(--dash-text)"},children:[c.jsx(Lt,{size:32,className:j.spinner,style:{color:"var(--dash-primary)"}}),c.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Saving changes..."})]})}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"24px",opacity:vt?.5:1,pointerEvents:vt?"none":"auto"},children:[c.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"var(--dash-surface-elevated)",border:"2px solid var(--dash-border-light)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:vt?"not-allowed":"pointer",position:"relative"},onClick:()=>!vt&&document.getElementById("editGroupAvatarInput")?.click(),children:[Gt?c.jsx("img",{src:Gt,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):p.type==="channel"?c.jsx(Cs,{size:40,strokeWidth:1.5,style:{color:"var(--dash-text-muted)"}}):c.jsx(Ut,{size:40,strokeWidth:1.5,style:{color:"var(--dash-text-muted)"}}),c.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",padding:"4px",textAlign:"center",fontSize:"11px",color:"var(--dash-text)"},children:"Change"})]}),c.jsx("input",{type:"file",id:"editGroupAvatarInput",accept:"image/*",style:{display:"none"},onChange:Qu}),c.jsx("span",{style:{fontSize:"12px",color:"var(--dash-text-muted)",marginTop:"8px"},children:"Click to change avatar"})]}),c.jsxs("div",{style:{marginBottom:"16px",opacity:vt?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"6px"},children:"Name"}),c.jsx("input",{type:"text",value:fs,onChange:x=>oo(x.target.value),placeholder:`${p.type==="channel"?"Channel":"Group"} name`,disabled:vt,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none",cursor:vt?"not-allowed":"text"}})]}),c.jsxs("div",{style:{marginBottom:"24px",opacity:vt?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"6px"},children:"Description"}),c.jsx("textarea",{value:lo,onChange:x=>Za(x.target.value),placeholder:"Add a description...",rows:3,disabled:vt,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none",resize:"none",cursor:vt?"not-allowed":"text"}})]}),c.jsxs("div",{style:{display:"flex",gap:"12px",opacity:vt?.5:1},children:[c.jsx("button",{onClick:()=>Qa(!1),disabled:vt,style:{flex:1,padding:"10px 16px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",fontWeight:500,cursor:vt?"not-allowed":"pointer"},children:"Cancel"}),c.jsx("button",{onClick:Zu,disabled:vt||!fs.trim(),style:{flex:1,padding:"10px 16px",background:"var(--dash-primary)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"14px",fontWeight:500,cursor:vt||!fs.trim()?"not-allowed":"pointer",opacity:vt||!fs.trim()?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:vt?c.jsxs(c.Fragment,{children:[c.jsx(Lt,{size:16,className:j.spinner}),"Saving..."]}):"Save Changes"})]})]})]})})}),c.jsx(rn,{children:ds&&c.jsx(X.div,{className:j.modalBackdrop,style:{zIndex:1100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>bt(!1),children:c.jsxs(X.div,{className:j.subModal,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:j.subModalHeader,children:[c.jsx("h3",{children:"Add Member"}),c.jsx("button",{onClick:()=>bt(!1),type:"button",children:c.jsx(Ot,{size:18})})]}),c.jsxs("div",{className:j.subModalSearch,children:[c.jsx(Pr,{size:14}),c.jsx("input",{type:"text",placeholder:"Search users to add...",value:Ft,onChange:x=>Fu(x.target.value),autoFocus:!0})]}),c.jsxs("div",{className:j.subModalContent,children:[zl&&c.jsxs("div",{className:j.subModalLoading,children:[c.jsx(Lt,{size:20,className:j.spinner}),c.jsx("span",{children:"Searching..."})]}),!zl&&Ft&&Gi.length===0&&c.jsx("div",{className:j.subModalEmpty,children:"No users found"}),Gi.map(x=>c.jsxs("div",{className:j.subModalItem,children:[c.jsx("div",{className:j.subModalItemAvatar,children:x.avatar?c.jsx("img",{src:We(x.avatar),alt:x.username}):c.jsx("span",{children:Yn(x.username)})}),c.jsx("div",{className:j.subModalItemInfo,children:c.jsx("span",{className:j.subModalItemName,children:x.username})}),c.jsx("button",{className:j.subModalItemBtn,onClick:()=>Gu(x.id),type:"button",children:"Add"})]},x.id))]})]})})}),c.jsx(rn,{children:Ka&&c.jsx(X.div,{className:j.modalBackdrop,style:{zIndex:1100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>qi(!1),children:c.jsxs(X.div,{className:j.subModal,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:j.subModalHeader,children:[c.jsxs("h3",{children:[c.jsx(Va,{size:18}),"Banned Users"]}),c.jsx("button",{onClick:()=>qi(!1),type:"button",children:c.jsx(Ot,{size:18})})]}),c.jsxs("div",{className:j.subModalContent,children:[la&&c.jsxs("div",{className:j.subModalLoading,children:[c.jsx(Lt,{size:20,className:j.spinner}),c.jsx("span",{children:"Loading..."})]}),!la&&Ns.length===0&&c.jsx("div",{className:j.subModalEmpty,children:"No banned users"}),Ns.map(x=>c.jsxs("div",{className:j.subModalItem,children:[c.jsx("div",{className:j.subModalItemAvatar,children:x.avatarUrl?c.jsx("img",{src:We(x.avatarUrl),alt:x.username}):c.jsx("span",{children:Yn(x.username)})}),c.jsxs("div",{className:j.subModalItemInfo,children:[c.jsx("span",{className:j.subModalItemName,children:x.username}),c.jsxs("span",{className:j.subModalItemMeta,children:["Banned ",new Date(x.bannedAt).toLocaleDateString()]})]}),c.jsx("button",{className:`${j.subModalItemBtn} ${j.unban}`,onClick:()=>Gl(x.userId,x.username),type:"button",children:"Unban"})]},x.userId))]})]})})}),p&&ro&&c.jsx(D1,{isOpen:jt,onClose:()=>{Ul(!1),Ds(null)},chatId:p.id,member:ro,onPermissionsChanged:async()=>{p&&await ys(p.id)}}),c.jsx(rn,{children:Pi&&c.jsx(X.div,{className:j.modalBackdrop,style:{zIndex:1100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{Me||(cs(!1),Ln())},children:c.jsxs(X.div,{className:j.subModal,style:{maxWidth:"420px",width:"90%"},initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:j.subModalHeader,children:[c.jsx("h3",{children:"Create Group"}),c.jsx("button",{onClick:()=>{Me||(cs(!1),Ln())},type:"button",disabled:Me,children:c.jsx(Ot,{size:18})})]}),c.jsxs("div",{className:j.subModalContent,style:{padding:"20px",position:"relative"},children:[Me&&c.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.4)",borderRadius:"0 0 12px 12px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,backdropFilter:"blur(2px)"},children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",color:"var(--dash-text)"},children:[c.jsx(Lt,{size:32,className:j.spinner,style:{color:"var(--dash-primary)"}}),c.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Creating group..."})]})}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px",opacity:Me?.5:1},children:[c.jsxs("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"var(--dash-surface-elevated)",border:"2px solid var(--dash-border-light)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:Me?"not-allowed":"pointer",position:"relative"},onClick:()=>!Me&&document.getElementById("createGroupAvatarInput")?.click(),children:[fa?c.jsx("img",{src:fa,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):c.jsx(Ut,{size:32,strokeWidth:1.5,style:{color:"var(--dash-text-muted)"}}),c.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",padding:"3px",textAlign:"center",fontSize:"10px",color:"var(--dash-text)"},children:"Add Photo"})]}),c.jsx("input",{type:"file",id:"createGroupAvatarInput",accept:"image/*",style:{display:"none"},onChange:Yl})]}),c.jsxs("div",{style:{marginBottom:"14px",opacity:Me?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"4px"},children:"Group Name *"}),c.jsx("input",{type:"text",value:Zt,onChange:x=>ua(x.target.value),placeholder:"Enter group name",disabled:Me,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none"}})]}),c.jsxs("div",{style:{marginBottom:"14px",opacity:Me?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"4px"},children:"Description"}),c.jsx("textarea",{value:Xi,onChange:x=>Jt(x.target.value),placeholder:"Add a description (optional)",rows:2,disabled:Me,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none",resize:"none"}})]}),c.jsxs("div",{style:{marginBottom:"20px",opacity:Me?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"8px"},children:"Privacy"}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{type:"button",onClick:()=>ei("public"),disabled:Me,style:{flex:1,padding:"10px",background:xt==="public"?"var(--dash-primary)":"var(--dash-surface)",border:`1px solid ${xt==="public"?"var(--dash-primary)":"var(--dash-border)"}`,borderRadius:"8px",color:xt==="public"?"#fff":"var(--dash-text)",fontSize:"13px",fontWeight:500,cursor:"pointer"},children:"Public"}),c.jsx("button",{type:"button",onClick:()=>ei("private"),disabled:Me,style:{flex:1,padding:"10px",background:xt==="private"?"var(--dash-primary)":"var(--dash-surface)",border:`1px solid ${xt==="private"?"var(--dash-primary)":"var(--dash-border)"}`,borderRadius:"8px",color:xt==="private"?"#fff":"var(--dash-text)",fontSize:"13px",fontWeight:500,cursor:"pointer"},children:"Private"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:()=>{cs(!1),Ln()},disabled:Me,style:{flex:1,padding:"10px 16px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Cancel"}),c.jsx("button",{onClick:Ju,disabled:Me||!Zt.trim(),style:{flex:1,padding:"10px 16px",background:"var(--dash-primary)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"14px",fontWeight:500,cursor:Me||!Zt.trim()?"not-allowed":"pointer",opacity:Me||!Zt.trim()?.6:1},children:"Create Group"})]})]})]})})}),c.jsx(rn,{children:ia&&c.jsx(X.div,{className:j.modalBackdrop,style:{zIndex:1100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{Me||(Es(!1),Ln())},children:c.jsxs(X.div,{className:j.subModal,style:{maxWidth:"420px",width:"90%"},initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:j.subModalHeader,children:[c.jsx("h3",{children:"Create Channel"}),c.jsx("button",{onClick:()=>{Me||(Es(!1),Ln())},type:"button",disabled:Me,children:c.jsx(Ot,{size:18})})]}),c.jsxs("div",{className:j.subModalContent,style:{padding:"20px",position:"relative"},children:[Me&&c.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.4)",borderRadius:"0 0 12px 12px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,backdropFilter:"blur(2px)"},children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",color:"var(--dash-text)"},children:[c.jsx(Lt,{size:32,className:j.spinner,style:{color:"var(--dash-primary)"}}),c.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Creating channel..."})]})}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px",opacity:Me?.5:1},children:[c.jsxs("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"var(--dash-surface-elevated)",border:"2px solid var(--dash-border-light)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:Me?"not-allowed":"pointer",position:"relative"},onClick:()=>!Me&&document.getElementById("createChannelAvatarInput")?.click(),children:[fa?c.jsx("img",{src:fa,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):c.jsx(Cs,{size:32,strokeWidth:1.5,style:{color:"var(--dash-text-muted)"}}),c.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",padding:"3px",textAlign:"center",fontSize:"10px",color:"var(--dash-text)"},children:"Add Photo"})]}),c.jsx("input",{type:"file",id:"createChannelAvatarInput",accept:"image/*",style:{display:"none"},onChange:Yl})]}),c.jsxs("div",{style:{marginBottom:"14px",opacity:Me?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"4px"},children:"Channel Name *"}),c.jsx("input",{type:"text",value:Zt,onChange:x=>ua(x.target.value),placeholder:"Enter channel name",disabled:Me,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none"}})]}),c.jsxs("div",{style:{marginBottom:"14px",opacity:Me?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"4px"},children:"Description"}),c.jsx("textarea",{value:Xi,onChange:x=>Jt(x.target.value),placeholder:"Add a description (optional)",rows:2,disabled:Me,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none",resize:"none"}})]}),c.jsxs("div",{style:{marginBottom:"20px",opacity:Me?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"8px"},children:"Privacy"}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{type:"button",onClick:()=>ei("public"),disabled:Me,style:{flex:1,padding:"10px",background:xt==="public"?"var(--dash-primary)":"var(--dash-surface)",border:`1px solid ${xt==="public"?"var(--dash-primary)":"var(--dash-border)"}`,borderRadius:"8px",color:xt==="public"?"#fff":"var(--dash-text)",fontSize:"13px",fontWeight:500,cursor:"pointer"},children:"Public"}),c.jsx("button",{type:"button",onClick:()=>ei("private"),disabled:Me,style:{flex:1,padding:"10px",background:xt==="private"?"var(--dash-primary)":"var(--dash-surface)",border:`1px solid ${xt==="private"?"var(--dash-primary)":"var(--dash-border)"}`,borderRadius:"8px",color:xt==="private"?"#fff":"var(--dash-text)",fontSize:"13px",fontWeight:500,cursor:"pointer"},children:"Private"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:()=>{Es(!1),Ln()},disabled:Me,style:{flex:1,padding:"10px 16px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Cancel"}),c.jsx("button",{onClick:ed,disabled:Me||!Zt.trim(),style:{flex:1,padding:"10px 16px",background:"var(--dash-primary)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"14px",fontWeight:500,cursor:Me||!Zt.trim()?"not-allowed":"pointer",opacity:Me||!Zt.trim()?.6:1},children:"Create Channel"})]})]})]})})}),c.jsx(rn,{children:Hi&&c.jsx(X.div,{className:j.modalBackdrop,style:{zIndex:1100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{Dt||cn(!1)},children:c.jsxs(X.div,{className:j.subModal,style:{maxWidth:"420px",width:"90%"},initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:j.subModalHeader,children:[c.jsx("h3",{children:"Edit Profile"}),c.jsx("button",{onClick:()=>{Dt||cn(!1)},type:"button",disabled:Dt,children:c.jsx(Ot,{size:18})})]}),c.jsxs("div",{className:j.subModalContent,style:{padding:"20px",position:"relative"},children:[Dt&&c.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.4)",borderRadius:"0 0 12px 12px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,backdropFilter:"blur(2px)"},children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",color:"var(--dash-text)"},children:[c.jsx(Lt,{size:32,className:j.spinner,style:{color:"var(--dash-primary)"}}),c.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Saving profile..."})]})}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px",opacity:Dt?.5:1},children:[c.jsxs("div",{style:{width:"90px",height:"90px",borderRadius:"50%",background:"var(--dash-surface-elevated)",border:"2px solid var(--dash-border-light)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:Dt?"not-allowed":"pointer",position:"relative"},onClick:()=>!Dt&&document.getElementById("editProfileAvatarInput")?.click(),children:[Bn?c.jsx("img",{src:Bn,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):c.jsx(pu,{size:36,strokeWidth:1.5,style:{color:"var(--dash-text-muted)"}}),c.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",padding:"3px",textAlign:"center",fontSize:"10px",color:"var(--dash-text)"},children:"Change Photo"})]}),c.jsx("input",{type:"file",id:"editProfileAvatarInput",accept:"image/*",style:{display:"none"},onChange:ii})]}),c.jsxs("div",{style:{marginBottom:"14px",opacity:Dt?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"4px"},children:"Username *"}),c.jsx("input",{type:"text",value:zs,onChange:x=>fo(x.target.value),placeholder:"Enter username",disabled:Dt,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none"}})]}),c.jsxs("div",{style:{marginBottom:"20px",opacity:Dt?.5:1},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--dash-text-secondary)",marginBottom:"4px"},children:"Bio"}),c.jsx("textarea",{value:Wi,onChange:x=>Ll(x.target.value),placeholder:"Tell us about yourself (optional)",rows:3,disabled:Dt,style:{width:"100%",padding:"10px 12px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",outline:"none",resize:"none"}})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:()=>cn(!1),disabled:Dt,style:{flex:1,padding:"10px 16px",background:"var(--dash-surface)",border:"1px solid var(--dash-border)",borderRadius:"8px",color:"var(--dash-text)",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Cancel"}),c.jsx("button",{onClick:td,disabled:Dt||!zs.trim(),style:{flex:1,padding:"10px 16px",background:"var(--dash-primary)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"14px",fontWeight:500,cursor:Dt||!zs.trim()?"not-allowed":"pointer",opacity:Dt||!zs.trim()?.6:1},children:"Save Changes"})]})]})]})})}),c.jsx(rn,{children:K&&c.jsx(X.div,{className:j.modalBackdrop,style:{zIndex:1100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ye(!1),children:c.jsxs(X.div,{className:j.subModal,style:{maxWidth:"400px",width:"90%"},initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:j.subModalHeader,children:[c.jsx("h3",{children:"Notifications"}),c.jsx("button",{onClick:()=>ye(!1),type:"button",children:c.jsx(Ot,{size:18})})]}),c.jsxs("div",{className:j.subModalContent,style:{padding:"24px",textAlign:"center"},children:[c.jsx(lm,{size:48,style:{color:"var(--dash-primary)",marginBottom:"16px"}}),c.jsx("p",{style:{color:"var(--dash-text-secondary)",fontSize:"14px"},children:"No new notifications"})]})]})})}),c.jsx(eN,{isOpen:Ve,onClose:()=>Oe(!1),isDarkMode:f}),c.jsx(Zk,{isOpen:ut,onClose:()=>Rl(!1),isDarkMode:f})]})},iu={getNotifications:async()=>{try{console.log("[NotificationService] Fetching notifications from GET /notifications");const s=await ce.get("/notifications");console.log("[NotificationService] Raw API Response:",{status:s.status,statusText:s.statusText,data:s.data});let n=[];s.data?.success&&s.data?.data?(n=s.data.data,console.log("[NotificationService] Got notifications from response.data.data:",n.length,"items")):s.data&&Array.isArray(s.data)?(n=s.data,console.log("[NotificationService] Response is direct array:",n.length,"items")):(console.log("[NotificationService] Unexpected response format:",s.data),n=[]);const a=Array.isArray(n)?n.map(r=>({id:r.notificationId||r.id,chatId:r.chatId,messageId:r.messageId,chatName:r.chatName||"",chatAvatar:r.chatAvatar||"",senderName:r.senderName||"",content:r.content||"",fileUrl:r.fileUrl,sentTime:r.sentTime||new Date().toISOString(),seen:r.seen!==void 0?r.seen:!1})):[];return console.log("[NotificationService] Returning",a.length,"normalized notifications"),a}catch(s){return console.error("[NotificationService] Failed to fetch notifications:",s.message),console.error("[NotificationService] Error details:",{status:s.response?.status,statusText:s.response?.statusText,data:s.response?.data,url:s.config?.url}),[]}},markAsSeen:async s=>{try{console.log("[NotificationService] Marking notification as seen:",s);const n=await ce.put(`/notifications/seen?notificationId=${s}`);return console.log("[NotificationService] Mark as seen response:",n.data),n.data?.data||n.data}catch(n){throw console.error("[NotificationService] Failed to mark notification as seen:",n),console.error("[NotificationService] Error details:",{status:n.response?.status,statusText:n.response?.statusText,data:n.response?.data}),n}},markMultipleAsSeen:async s=>{try{if(!Array.isArray(s)||s.length===0)return console.warn("[NotificationService] No notification IDs provided"),{success:!0};console.log("[NotificationService] Marking multiple notifications as seen:",s),console.log("[NotificationService] Notification IDs (type, count):",typeof s[0],s.length);const n={notificationIds:s};console.log("[NotificationService] Request body:",JSON.stringify(n));const a=await ce.put("/notifications/seen/batch",n);return console.log("[NotificationService] Mark multiple response:",{status:a.status,statusText:a.statusText,data:a.data}),a.data?.success||a.status===200?(console.log("[NotificationService] Successfully marked",s.length,"notifications as seen"),a.data||{success:!0}):(console.warn("[NotificationService] Response indicates potential issue:",a.data),a.data||{success:!0})}catch(n){throw console.error("[NotificationService] Failed to mark multiple notifications as seen:",n),console.error("[NotificationService] Full error details:",{message:n.message,status:n.response?.status,statusText:n.response?.statusText,responseData:n.response?.data,requestData:n.config?.data,headers:n.config?.headers}),n}},markAllAsSeen:async()=>{try{const s=await ce.put("/notifications/seen/all");return s.data?.data||s.data}catch(s){throw console.warn("[NotificationService] PUT /notifications/seen/all may not be implemented:",s),s}}},lD=_l(s=>({notifications:[],isLoading:!1,error:null,loadNotifications:async()=>{s({isLoading:!0,error:null});try{const n=await iu.getNotifications();s({notifications:n,isLoading:!1})}catch(n){const a=n.response?.data?.message||"Failed to load notifications";s({error:a,isLoading:!1})}},markAsSeen:async n=>{s({error:null});try{await iu.markAsSeen(n),s(a=>({notifications:a.notifications.map(r=>r.id===n?{...r,seen:!0}:r)}))}catch(a){const r=a.response?.data?.message||"Failed to mark notification as seen";s({error:r})}},markMultipleAsSeen:async n=>{s({error:null});try{await iu.markMultipleAsSeen(n),s(a=>({notifications:a.notifications.map(r=>n.includes(r.id)?{...r,seen:!0}:r)}))}catch(a){const r=a.response?.data?.message||"Failed to mark notifications as seen";s({error:r})}},markAllAsSeen:async()=>{s({error:null});try{await iu.markAllAsSeen(),s(n=>({notifications:n.notifications.map(a=>({...a,seen:!0}))}))}catch(n){const a=n.response?.data?.message||"Failed to mark all notifications as seen";s({error:a})}},clearError:()=>s({error:null}),handleNewNotification:n=>{console.log("[NotificationStore] New notification:",n),s(a=>{const r={id:n.messageId,messageId:n.messageId,chatId:n.chatId,chatName:n.chatName,chatAvatar:n.chatAvatar,senderName:n.senderName,content:n.content,sentTime:n.sentTime,seen:!1,fileUrl:n.fileUrl};return a.notifications.some(d=>d.chatId===r.chatId&&d.sentTime===r.sentTime)?a:{notifications:[r,...a.notifications]}})}})),cD="_container_nzeaj_52",uD="_toast_nzeaj_64",dD="_slideIn_nzeaj_1",fD="_glowPulse_nzeaj_1",hD="_exit_nzeaj_84",mD="_slideOut_nzeaj_1",pD="_success_nzeaj_89",gD="_error_nzeaj_97",yD="_warning_nzeaj_105",bD="_info_nzeaj_113",vD="_iconWrapper_nzeaj_120",xD="_iconBounce_nzeaj_1",SD="_message_nzeaj_134",_D="_closeBtn_nzeaj_143",wD="_progressBar_nzeaj_168",CD="_progressShrink_nzeaj_1",ji={container:cD,toast:uD,slideIn:dD,glowPulse:fD,exit:hD,slideOut:mD,success:pD,error:gD,warning:yD,info:bD,iconWrapper:vD,iconBounce:xD,message:SD,closeBtn:_D,progressBar:wD,progressShrink:CD},jD=({toast:s,onClose:n})=>{const[a,r]=w.useState(!1);w.useEffect(()=>{const f=s.duration||4e3,m=setTimeout(()=>{r(!0)},f-300),p=setTimeout(()=>{n(s.id)},f);return()=>{clearTimeout(m),clearTimeout(p)}},[s.id,s.duration,n]);const l=()=>{r(!0),setTimeout(()=>n(s.id),300)},d=()=>{switch(s.type){case"success":return c.jsx(Sv,{size:22});case"error":return c.jsx(k_,{size:22});case"warning":return c.jsx(Fa,{size:22});case"info":return c.jsx(cm,{size:22})}};return c.jsxs("div",{className:`${ji.toast} ${ji[s.type]} ${a?ji.exit:""}`,children:[c.jsx("div",{className:ji.iconWrapper,children:d()}),c.jsx("span",{className:ji.message,children:s.message}),c.jsx("button",{onClick:l,"aria-label":"Close",style:{background:"rgba(255, 255, 255, 0.15)",border:"none",borderRadius:"6px",color:"#ffffff",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"8px",fontSize:"16px",fontWeight:"bold",lineHeight:1},children:""}),c.jsx("div",{className:ji.progressBar,style:{animationDuration:`${s.duration||4e3}ms`}})]})},TD=({toasts:s,onClose:n})=>c.jsx("div",{className:ji.container,children:s.map(a=>c.jsx(jD,{toast:a,onClose:n},a.id))});class MD{toasts=[];listeners=[];subscribe(n){return this.listeners.push(n),()=>{this.listeners=this.listeners.filter(a=>a!==n)}}notify(){this.listeners.forEach(n=>n([...this.toasts]))}show(n,a,r){const l=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,d={id:l,type:n,message:a,duration:r};return this.toasts.push(d),this.notify(),l}success(n,a){return this.show("success",n,a)}error(n,a){return this.show("error",n,a||5e3)}warning(n,a){return this.show("warning",n,a)}info(n,a){return this.show("info",n,a)}remove(n){this.toasts=this.toasts.filter(a=>a.id!==n),this.notify()}getToasts(){return[...this.toasts]}}const vv=new MD;function ED(){const{isAuthenticated:s}=Ml();return console.log("[AppRoutes] Rendering with isAuthenticated:",s),c.jsxs(d_,{children:[c.jsx(Nr,{path:"/",element:s?c.jsx(Br,{to:"/dashboard",replace:!0}):c.jsx(rM,{})}),c.jsx(Nr,{path:"/login",element:s?c.jsx(Br,{to:"/dashboard",replace:!0}):c.jsx(IM,{})}),c.jsx(Nr,{path:"/register",element:s?c.jsx(Br,{to:"/dashboard",replace:!0}):c.jsx(qM,{})}),c.jsx(Nr,{path:"/forgot-password",element:s?c.jsx(Br,{to:"/dashboard",replace:!0}):c.jsx(QM,{})}),c.jsx(Nr,{path:"/dashboard",element:c.jsx(wC,{children:c.jsx(oD,{})})}),c.jsx(Nr,{path:"*",element:c.jsx(Br,{to:"/",replace:!0})})]})}function AD(){const{isAuthenticated:s}=Ml(),[n,a]=w.useState([]);w.useEffect(()=>vv.subscribe(a),[]);const r=l=>{vv.remove(l)};w.useEffect(()=>{(async()=>{console.log("[App] Initializing auth from localStorage..."),await st.getState().initializeAuth(),console.log("[App] Auth initialization complete")})()},[]),w.useEffect(()=>{if(!s){console.log("[App] Not authenticated, skipping SignalR initialization");return}console.log("[App] Setting up SignalR event handlers...");const l=Tn.getState(),d=lD.getState();return ta.setEventHandlers({onUserOnline:m=>{l.handleUserOnline(m)},onUserOffline:m=>{l.handleUserOffline({...m,lastSeen:m.lastSeen||new Date().toISOString()})},onReceiveMessage:m=>{l.handleReceiveMessage(m)},onMessageEdited:m=>{l.handleMessageEdited(m)},onMessageDeleted:m=>{l.handleMessageDeleted(m)},onReactionAdded:m=>{l.handleReactionAdded(m)},onReactionRemoved:m=>{l.handleReactionRemoved(m)},onUserTyping:m=>{l.handleUserTyping(m)},onUserStoppedTyping:m=>{l.handleUserStoppedTyping(m)},onNewNotification:m=>{d.handleNewNotification(m)},onMessagePinned:m=>{l.handleMessagePinned(m)},onMessageUnpinned:m=>{l.handleMessageUnpinned(m)},onAddedToChat:m=>{l.handleAddedToChat(m)},onNewConversation:m=>{l.handleNewConversation(m)},onConversationCreated:m=>{l.handleConversationCreated(m)},onPermissionGranted:m=>{l.handlePermissionGranted(m)},onPermissionRevoked:m=>{l.handlePermissionRevoked(m)},onAllPermissionsRevoked:m=>{l.handleAllPermissionsRevoked(m)},onUserBlockedYou:m=>{l.handleUserBlockedYou(m)},onYouBlockedUser:m=>{l.handleYouBlockedUser(m)},onUserUnblockedYou:m=>{l.handleUserUnblockedYou(m)},onYouUnblockedUser:m=>{l.handleYouUnblockedUser(m)},onChatDeleted:m=>{l.handleChatDeleted(m)},onRemovedFromChat:m=>{l.handleRemovedFromChat(m)},onMessagesMarkedSeen:m=>{l.handleMessagesMarkedSeen(m)},onError:m=>{console.error("[App] SignalR Error:",m)}}),(async()=>{try{console.log("[App] Starting SignalR connection..."),await ta.start(),console.log("[App] SignalR connected successfully");const m=Tn.getState();m.chats.length===0&&(console.log("[App] Loading chats before fetching presence states..."),await m.loadChats());const p=new Set;m.chats.forEach(b=>{b.members&&b.members.forEach(v=>{const _=v.userId||v.id||v.user?.id;_&&p.add(_)})});const y=Array.from(p);if(y.length>0){console.log("[App] Fetching presence states for",y.length,"users:",y);try{const b=await ta.getPresenceStates(y);console.log("[App] Received presence states:",b),console.log("[App] Presence states type check:",typeof b,Object.keys(b).length,"keys"),m.setInitialPresenceStates(b),console.log("[App] Presence states initialized successfully"),console.log("[App] OnlineUsers map after init:",m.onlineUsers)}catch(b){console.error("[App] Failed to fetch initial presence states:",b)}}else console.log("[App] No user IDs available from chat list - presence will be fetched when chats are opened")}catch(m){console.error("[App] Failed to start SignalR:",m)}})(),()=>{console.log("[App] Stopping SignalR connection..."),ta.stop()}},[s]);try{return c.jsxs(c.Fragment,{children:[c.jsx(u_,{children:c.jsx(ED,{})}),c.jsx(TD,{toasts:n,onClose:r}),c.jsx(tk,{})]})}catch(l){return console.error("App Error:",l),c.jsxs("div",{style:{padding:"20px",color:"red"},children:[c.jsx("h1",{children:"Error Loading Application"}),c.jsx("p",{children:"Check browser console for details"}),c.jsx("pre",{children:String(l)})]})}}const B1=document.getElementById("root");if(!B1)throw new Error("Root element not found");console.log("React app starting...");L_.createRoot(B1).render(c.jsx(w.StrictMode,{children:c.jsx(AD,{})}));console.log("React app rendered");export{ce as a};
