const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/permission.service-CWz96ix8.js","assets/vendor-DW-3xwEg.js","assets/ui-BGxkcZ3b.js","assets/reaction.service-z32XTB3l.js"])))=>i.map(i=>d[i]);
import{a as L_,b as I_,R as ya,N as Is,u as op,r as w,L as cc,g as Jx,B as P_,c as V_,d as Bs}from"./vendor-DW-3xwEg.js";import{C as pi,E as cr,a as ur,A as Ws,b as eb,c as Sf,I as H_,d as F_,e as q_,T as G_,f as $_,U as Y_,S as Ks,L as uc,M as X_,g as _f,h as tb,i as dr,B as $s,P as wf,j as W_,k as K_,l as rp,m as nb,K as Q_,n as Z_,o as J_,p as ab,q as fr,X as ib,r as ew,s as tw,t as nw,u as aw,v as iw,R as sw,w as ow,x as rw,y as lw,z as cw,D as uw}from"./ui-BGxkcZ3b.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=i(l);fetch(l.href,d)}})();var Fd={exports:{}},Qo={};var Fy;function dw(){if(Fy)return Qo;Fy=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(o,l,d){var f=null;if(d!==void 0&&(f=""+d),l.key!==void 0&&(f=""+l.key),"key"in l){d={};for(var h in l)h!=="key"&&(d[h]=l[h])}else d=l;return l=d.ref,{$$typeof:t,type:o,key:f,ref:l!==void 0?l:null,props:d}}return Qo.Fragment=n,Qo.jsx=i,Qo.jsxs=i,Qo}var qy;function fw(){return qy||(qy=1,Fd.exports=dw()),Fd.exports}var c=fw(),qd={exports:{}},Zo={},Gd={exports:{}},$d={};var Gy;function pw(){return Gy||(Gy=1,(function(t){function n(U,ee){var ie=U.length;U.push(ee);e:for(;0<ie;){var ye=ie-1>>>1,ke=U[ye];if(0<l(ke,ee))U[ye]=ee,U[ie]=ke,ie=ye;else break e}}function i(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var ee=U[0],ie=U.pop();if(ie!==ee){U[0]=ie;e:for(var ye=0,ke=U.length,pe=ke>>>1;ye<pe;){var Re=2*(ye+1)-1,Se=U[Re],J=Re+1,ue=U[J];if(0>l(Se,ie))J<ke&&0>l(ue,Se)?(U[ye]=ue,U[J]=ie,ye=J):(U[ye]=Se,U[Re]=ie,ye=Re);else if(J<ke&&0>l(ue,ie))U[ye]=ue,U[J]=ie,ye=J;else break e}}return ee}function l(U,ee){var ie=U.sortIndex-ee.sortIndex;return ie!==0?ie:U.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();t.unstable_now=function(){return f.now()-h}}var m=[],y=[],g=1,x=null,S=3,C=!1,_=!1,k=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var ee=i(y);ee!==null;){if(ee.callback===null)o(y);else if(ee.startTime<=U)o(y),ee.sortIndex=ee.expirationTime,n(m,ee);else break;ee=i(y)}}function P(U){if(k=!1,O(U),!_)if(i(m)!==null)_=!0,Q||(Q=!0,qe());else{var ee=i(y);ee!==null&&Oe(P,ee.startTime-U)}}var Q=!1,ne=-1,W=5,ce=-1;function se(){return j?!0:!(t.unstable_now()-ce<W)}function Ee(){if(j=!1,Q){var U=t.unstable_now();ce=U;var ee=!0;try{e:{_=!1,k&&(k=!1,I(ne),ne=-1),C=!0;var ie=S;try{t:{for(O(U),x=i(m);x!==null&&!(x.expirationTime>U&&se());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,S=x.priorityLevel;var ke=ye(x.expirationTime<=U);if(U=t.unstable_now(),typeof ke=="function"){x.callback=ke,O(U),ee=!0;break t}x===i(m)&&o(m),O(U)}else o(m);x=i(m)}if(x!==null)ee=!0;else{var pe=i(y);pe!==null&&Oe(P,pe.startTime-U),ee=!1}}break e}finally{x=null,S=ie,C=!1}ee=void 0}}finally{ee?qe():Q=!1}}}var qe;if(typeof M=="function")qe=function(){M(Ee)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,je=de.port2;de.port1.onmessage=Ee,qe=function(){je.postMessage(null)}}else qe=function(){N(Ee,0)};function Oe(U,ee){ne=N(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(U){switch(S){case 1:case 2:case 3:var ee=3;break;default:ee=S}var ie=S;S=ee;try{return U()}finally{S=ie}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=S;S=U;try{return ee()}finally{S=ie}},t.unstable_scheduleCallback=function(U,ee,ie){var ye=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ye+ie:ye):ie=ye,U){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ie+ke,U={id:g++,callback:ee,priorityLevel:U,startTime:ie,expirationTime:ke,sortIndex:-1},ie>ye?(U.sortIndex=ie,n(y,U),i(m)===null&&U===i(y)&&(k?(I(ne),ne=-1):k=!0,Oe(P,ie-ye))):(U.sortIndex=ke,n(m,U),_||C||(_=!0,Q||(Q=!0,qe()))),U},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(U){var ee=S;return function(){var ie=S;S=ee;try{return U.apply(this,arguments)}finally{S=ie}}}})($d)),$d}var $y;function hw(){return $y||($y=1,Gd.exports=pw()),Gd.exports}var Yy;function mw(){if(Yy)return Zo;Yy=1;var t=hw(),n=L_(),i=I_();function o(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function f(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function h(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(o(188))}function y(e){var a=e.alternate;if(!a){if(a=d(e),a===null)throw Error(o(188));return a!==e?null:e}for(var s=e,r=a;;){var u=s.return;if(u===null)break;var p=u.alternate;if(p===null){if(r=u.return,r!==null){s=r;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===s)return m(u),e;if(p===r)return m(u),a;p=p.sibling}throw Error(o(188))}if(s.return!==r.return)s=u,r=p;else{for(var v=!1,b=u.child;b;){if(b===s){v=!0,s=u,r=p;break}if(b===r){v=!0,r=u,s=p;break}b=b.sibling}if(!v){for(b=p.child;b;){if(b===s){v=!0,s=p,r=u;break}if(b===r){v=!0,r=p,s=u;break}b=b.sibling}if(!v)throw Error(o(189))}}if(s.alternate!==r)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:a}function g(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=g(e),a!==null)return a;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case P:return"Suspense";case Q:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case M:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case O:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return a=e.displayName||null,a!==null?a:je(e.type)||"Memo";case W:a=e._payload,e=e._init;try{return je(e(a))}catch{}}return null}var Oe=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ye=[],ke=-1;function pe(e){return{current:e}}function Re(e){0>ke||(e.current=ye[ke],ye[ke]=null,ke--)}function Se(e,a){ke++,ye[ke]=e.current,e.current=a}var J=pe(null),ue=pe(null),oe=pe(null),Qt=pe(null);function Nt(e,a){switch(Se(oe,a),Se(ue,e),Se(J,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=fy(a),e=py(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(J),Se(J,e)}function yn(){Re(J),Re(ue),Re(oe)}function We(e){e.memoizedState!==null&&Se(Qt,e);var a=J.current,s=py(a,e.type);a!==s&&(Se(ue,e),Se(J,s))}function qt(e){ue.current===e&&(Re(J),Re(ue)),Qt.current===e&&(Re(Qt),Yo._currentValue=ie)}var wt,Gt;function Et(e){if(wt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);wt=a&&a[1]||"",Gt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wt+e+Gt}var dn=!1;function on(e,a){if(!e||dn)return"";dn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(a){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var L=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){L=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){L=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),v=p[0],b=p[1];if(v&&b){var T=v.split(`
`),B=b.split(`
`);for(u=r=0;r<T.length&&!T[r].includes("DetermineComponentFrameRoot");)r++;for(;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;if(r===T.length||u===B.length)for(r=T.length-1,u=B.length-1;1<=r&&0<=u&&T[r]!==B[u];)u--;for(;1<=r&&0<=u;r--,u--)if(T[r]!==B[u]){if(r!==1||u!==1)do if(r--,u--,0>u||T[r]!==B[u]){var G=`
`+T[r].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=r&&0<=u);break}}}finally{dn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Et(s):""}function vn(e,a){switch(e.tag){case 26:case 27:case 5:return Et(e.type);case 16:return Et("Lazy");case 13:return e.child!==a&&a!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return on(e.type,!1);case 11:return on(e.type.render,!1);case 1:return on(e.type,!0);case 31:return Et("Activity");default:return""}}function Zt(e){try{var a="",s=null;do a+=vn(e,s),s=e,e=e.return;while(e);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var rn=Object.prototype.hasOwnProperty,ft=t.unstable_scheduleCallback,ta=t.unstable_cancelCallback,ca=t.unstable_shouldYield,$=t.unstable_requestPaint,A=t.unstable_now,Z=t.unstable_getCurrentPriorityLevel,he=t.unstable_ImmediatePriority,Te=t.unstable_UserBlockingPriority,q=t.unstable_NormalPriority,Je=t.unstable_LowPriority,ct=t.unstable_IdlePriority,pt=t.log,$t=t.unstable_setDisableYieldValue,Yt=null,kt=null;function xn(e){if(typeof pt=="function"&&$t(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Yt,e)}catch{}}var Vt=Math.clz32?Math.clz32:Zi,yi=Math.log,vi=Math.LN2;function Zi(e){return e>>>=0,e===0?32:31-(yi(e)/vi|0)|0}var te=256,ae=262144,ve=4194304;function xe(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function me(e,a,s){var r=e.pendingLanes;if(r===0)return 0;var u=0,p=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~p,r!==0?u=xe(r):(v&=b,v!==0?u=xe(v):s||(s=b&~e,s!==0&&(u=xe(s))))):(b=r&~p,b!==0?u=xe(b):v!==0?u=xe(v):s||(s=r&~e,s!==0&&(u=xe(s)))),u===0?0:a!==0&&a!==u&&(a&p)===0&&(p=u&-u,s=a&-a,p>=s||p===32&&(s&4194048)!==0)?a:u}function be(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Pe(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function Xe(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function Ne(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function st(e,a,s,r,u,p){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,T=e.expirationTimes,B=e.hiddenUpdates;for(s=v&~s;0<s;){var G=31-Vt(s),K=1<<G;b[G]=0,T[G]=-1;var L=B[G];if(L!==null)for(B[G]=null,G=0;G<L.length;G++){var H=L[G];H!==null&&(H.lane&=-536870913)}s&=~K}r!==0&&Pn(e,r,0),p!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=p&~(v&~a))}function Pn(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var r=31-Vt(a);e.entangledLanes|=a,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function fn(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var r=31-Vt(s),u=1<<r;u&a|e[r]&a&&(e[r]|=a),s&=~u}}function Ut(e,a){var s=a&-a;return s=(s&42)!==0?1:ua(s),(s&(e.suspendedLanes|a))!==0?0:s}function ua(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qp(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Oy(e.type))}function Zp(e,a){var s=ee.p;try{return ee.p=e,a()}finally{ee.p=s}}var Va=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Va,bn="__reactProps$"+Va,Ji="__reactContainer$"+Va,Uc="__reactEvents$"+Va,AS="__reactListeners$"+Va,ES="__reactHandles$"+Va,Jp="__reactResources$"+Va,ro="__reactMarker$"+Va;function zc(e){delete e[Jt],delete e[bn],delete e[Uc],delete e[AS],delete e[ES]}function es(e){var a=e[Jt];if(a)return a;for(var s=e.parentNode;s;){if(a=s[Ji]||s[Jt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=by(e);e!==null;){if(s=e[Jt])return s;e=by(e)}return a}e=s,s=e.parentNode}return null}function ts(e){if(e=e[Jt]||e[Ji]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function lo(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(o(33))}function ns(e){var a=e[Jp];return a||(a=e[Jp]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Xt(e){e[ro]=!0}var eh=new Set,th={};function xi(e,a){as(e,a),as(e+"Capture",a)}function as(e,a){for(th[e]=a,e=0;e<a.length;e++)eh.add(a[e])}var kS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nh={},ah={};function MS(e){return rn.call(ah,e)?!0:rn.call(nh,e)?!1:kS.test(e)?ah[e]=!0:(nh[e]=!0,!1)}function Rr(e,a,s){if(MS(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var r=a.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function Dr(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function ba(e,a,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+r)}}function Vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ih(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function RS(e,a,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,p=r.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return u.call(this)},set:function(v){s=""+v,p.call(this,v)}}),Object.defineProperty(e,a,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Oc(e){if(!e._valueTracker){var a=ih(e)?"checked":"value";e._valueTracker=RS(e,a,""+e[a])}}function sh(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),r="";return e&&(r=ih(e)?e.checked?"true":"false":e.value),e=r,e!==s?(a.setValue(e),!0):!1}function Nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var DS=/[\n"\\]/g;function Hn(e){return e.replace(DS,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bc(e,a,s,r,u,p,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),a!=null?v==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Vn(a)):e.value!==""+Vn(a)&&(e.value=""+Vn(a)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),a!=null?Lc(e,v,Vn(a)):s!=null?Lc(e,v,Vn(s)):r!=null&&e.removeAttribute("value"),u==null&&p!=null&&(e.defaultChecked=!!p),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Vn(b):e.removeAttribute("name")}function oh(e,a,s,r,u,p,v,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),a!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Oc(e);return}s=s!=null?""+Vn(s):"",a=a!=null?""+Vn(a):s,b||a===e.value||(e.value=a),e.defaultValue=a}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Oc(e)}function Lc(e,a,s){a==="number"&&Nr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function is(e,a,s,r){if(e=e.options,a){a={};for(var u=0;u<s.length;u++)a["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=a.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Vn(s),a=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}a!==null||e[u].disabled||(a=e[u])}a!==null&&(a.selected=!0)}}function rh(e,a,s){if(a!=null&&(a=""+Vn(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+Vn(s):""}function lh(e,a,s,r){if(a==null){if(r!=null){if(s!=null)throw Error(o(92));if(Oe(r)){if(1<r.length)throw Error(o(93));r=r[0]}s=r}s==null&&(s=""),a=s}s=Vn(a),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),Oc(e)}function ss(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var NS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ch(e,a,s){var r=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":r?e.setProperty(a,s):typeof s!="number"||s===0||NS.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function uh(e,a,s){if(a!=null&&typeof a!="object")throw Error(o(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||a!=null&&a.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in a)r=a[u],a.hasOwnProperty(u)&&s[u]!==r&&ch(e,u,r)}else for(var p in a)a.hasOwnProperty(p)&&ch(e,p,a[p])}function Ic(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var US=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(e){return zS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var Pc=null;function Vc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,rs=null;function dh(e){var a=ts(e);if(a&&(e=a.stateNode)){var s=e[bn]||null;e:switch(e=a.stateNode,a.type){case"input":if(Bc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Hn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var r=s[a];if(r!==e&&r.form===e.form){var u=r[bn]||null;if(!u)throw Error(o(90));Bc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(a=0;a<s.length;a++)r=s[a],r.form===e.form&&sh(r)}break e;case"textarea":rh(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&is(e,!!s.multiple,a,!1)}}}var Hc=!1;function fh(e,a,s){if(Hc)return e(a,s);Hc=!0;try{var r=e(a);return r}finally{if(Hc=!1,(os!==null||rs!==null)&&(Sl(),os&&(a=os,e=rs,rs=os=null,dh(a),e)))for(a=0;a<e.length;a++)dh(e[a])}}function co(e,a){var s=e.stateNode;if(s===null)return null;var r=s[bn]||null;if(r===null)return null;s=r[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,a,typeof s));return s}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=!1;if(_a)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Fc=!1}var Ha=null,qc=null,zr=null;function ph(){if(zr)return zr;var e,a=qc,s=a.length,r,u="value"in Ha?Ha.value:Ha.textContent,p=u.length;for(e=0;e<s&&a[e]===u[e];e++);var v=s-e;for(r=1;r<=v&&a[s-r]===u[p-r];r++);return zr=u.slice(e,1<r?1-r:void 0)}function Or(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Br(){return!0}function hh(){return!1}function Sn(e){function a(s,r,u,p,v){this._reactName=s,this._targetInst=u,this.type=r,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Br:hh,this.isPropagationStopped=hh,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),a}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=Sn(bi),fo=x({},bi,{view:0,detail:0}),OS=Sn(fo),Gc,$c,po,Ir=x({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==po&&(po&&e.type==="mousemove"?(Gc=e.screenX-po.screenX,$c=e.screenY-po.screenY):$c=Gc=0,po=e),Gc)},movementY:function(e){return"movementY"in e?e.movementY:$c}}),mh=Sn(Ir),BS=x({},Ir,{dataTransfer:0}),LS=Sn(BS),IS=x({},fo,{relatedTarget:0}),Yc=Sn(IS),PS=x({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=Sn(PS),HS=x({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FS=Sn(HS),qS=x({},bi,{data:0}),gh=Sn(qS),GS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XS(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=YS[e])?!!a[e]:!1}function Xc(){return XS}var WS=x({},fo,{key:function(e){if(e.key){var a=GS[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$S[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KS=Sn(WS),QS=x({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=Sn(QS),ZS=x({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),JS=Sn(ZS),e1=x({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=Sn(e1),n1=x({},Ir,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=Sn(n1),i1=x({},bi,{newState:0,oldState:0}),s1=Sn(i1),o1=[9,13,27,32],Wc=_a&&"CompositionEvent"in window,ho=null;_a&&"documentMode"in document&&(ho=document.documentMode);var r1=_a&&"TextEvent"in window&&!ho,vh=_a&&(!Wc||ho&&8<ho&&11>=ho),xh=" ",bh=!1;function Sh(e,a){switch(e){case"keyup":return o1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function l1(e,a){switch(e){case"compositionend":return _h(a);case"keypress":return a.which!==32?null:(bh=!0,xh);case"textInput":return e=a.data,e===xh&&bh?null:e;default:return null}}function c1(e,a){if(ls)return e==="compositionend"||!Wc&&Sh(e,a)?(e=ph(),zr=qc=Ha=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return vh&&a.locale!=="ko"?null:a.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!u1[e.type]:a==="textarea"}function Ch(e,a,s,r){os?rs?rs.push(r):rs=[r]:os=r,a=El(a,"onChange"),0<a.length&&(s=new Lr("onChange","change",null,s,r),e.push({event:s,listeners:a}))}var mo=null,go=null;function d1(e){oy(e,0)}function Pr(e){var a=lo(e);if(sh(a))return e}function Th(e,a){if(e==="change")return a}var jh=!1;if(_a){var Kc;if(_a){var Qc="oninput"in document;if(!Qc){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),Qc=typeof Ah.oninput=="function"}Kc=Qc}else Kc=!1;jh=Kc&&(!document.documentMode||9<document.documentMode)}function Eh(){mo&&(mo.detachEvent("onpropertychange",kh),go=mo=null)}function kh(e){if(e.propertyName==="value"&&Pr(go)){var a=[];Ch(a,go,e,Vc(e)),fh(d1,a)}}function f1(e,a,s){e==="focusin"?(Eh(),mo=a,go=s,mo.attachEvent("onpropertychange",kh)):e==="focusout"&&Eh()}function p1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pr(go)}function h1(e,a){if(e==="click")return Pr(a)}function m1(e,a){if(e==="input"||e==="change")return Pr(a)}function g1(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Mn=typeof Object.is=="function"?Object.is:g1;function yo(e,a){if(Mn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),r=Object.keys(a);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var u=s[r];if(!rn.call(a,u)||!Mn(e[u],a[u]))return!1}return!0}function Mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rh(e,a){var s=Mh(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=a&&r>=a)return{node:s,offset:a-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Mh(s)}}function Dh(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Dh(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Nh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Nr(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=Nr(e.document)}return a}function Zc(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var y1=_a&&"documentMode"in document&&11>=document.documentMode,cs=null,Jc=null,vo=null,eu=!1;function Uh(e,a,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;eu||cs==null||cs!==Nr(r)||(r=cs,"selectionStart"in r&&Zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vo&&yo(vo,r)||(vo=r,r=El(Jc,"onSelect"),0<r.length&&(a=new Lr("onSelect","select",null,a,s),e.push({event:a,listeners:r}),a.target=cs)))}function Si(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var us={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},tu={},zh={};_a&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function _i(e){if(tu[e])return tu[e];if(!us[e])return e;var a=us[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in zh)return tu[e]=a[s];return e}var Oh=_i("animationend"),Bh=_i("animationiteration"),Lh=_i("animationstart"),v1=_i("transitionrun"),x1=_i("transitionstart"),b1=_i("transitioncancel"),Ih=_i("transitionend"),Ph=new Map,nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nu.push("scrollEnd");function na(e,a){Ph.set(e,a),xi(a,[e])}var Vr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],ds=0,au=0;function Hr(){for(var e=ds,a=au=ds=0;a<e;){var s=Fn[a];Fn[a++]=null;var r=Fn[a];Fn[a++]=null;var u=Fn[a];Fn[a++]=null;var p=Fn[a];if(Fn[a++]=null,r!==null&&u!==null){var v=r.pending;v===null?u.next=u:(u.next=v.next,v.next=u),r.pending=u}p!==0&&Vh(s,u,p)}}function Fr(e,a,s,r){Fn[ds++]=e,Fn[ds++]=a,Fn[ds++]=s,Fn[ds++]=r,au|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function iu(e,a,s,r){return Fr(e,a,s,r),qr(e)}function wi(e,a){return Fr(e,null,null,a),qr(e)}function Vh(e,a,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var u=!1,p=e.return;p!==null;)p.childLanes|=s,r=p.alternate,r!==null&&(r.childLanes|=s),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(u=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,u&&a!==null&&(u=31-Vt(s),e=p.hiddenUpdates,r=e[u],r===null?e[u]=[a]:r.push(a),a.lane=s|536870912),p):null}function qr(e){if(50<Po)throw Po=0,pd=null,Error(o(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var fs={};function S1(e,a,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,a,s,r){return new S1(e,a,s,r)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,a){var s=e.alternate;return s===null?(s=Rn(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Hh(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Gr(e,a,s,r,u,p){var v=0;if(r=e,typeof e=="function")su(e)&&(v=1);else if(typeof e=="string")v=j_(e,s,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=Rn(31,s,a,u),e.elementType=ce,e.lanes=p,e;case k:return Ci(s.children,u,p,a);case j:v=8,u|=24;break;case N:return e=Rn(12,s,a,u|2),e.elementType=N,e.lanes=p,e;case P:return e=Rn(13,s,a,u),e.elementType=P,e.lanes=p,e;case Q:return e=Rn(19,s,a,u),e.elementType=Q,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:v=10;break e;case I:v=9;break e;case O:v=11;break e;case ne:v=14;break e;case W:v=16,r=null;break e}v=29,s=Error(o(130,e===null?"null":typeof e,"")),r=null}return a=Rn(v,s,a,u),a.elementType=e,a.type=r,a.lanes=p,a}function Ci(e,a,s,r){return e=Rn(7,e,r,a),e.lanes=s,e}function ou(e,a,s){return e=Rn(6,e,null,a),e.lanes=s,e}function Fh(e){var a=Rn(18,null,null,0);return a.stateNode=e,a}function ru(e,a,s){return a=Rn(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var qh=new WeakMap;function qn(e,a){if(typeof e=="object"&&e!==null){var s=qh.get(e);return s!==void 0?s:(a={value:e,source:a,stack:Zt(a)},qh.set(e,a),a)}return{value:e,source:a,stack:Zt(a)}}var ps=[],hs=0,$r=null,xo=0,Gn=[],$n=0,Fa=null,da=1,fa="";function Ca(e,a){ps[hs++]=xo,ps[hs++]=$r,$r=e,xo=a}function Gh(e,a,s){Gn[$n++]=da,Gn[$n++]=fa,Gn[$n++]=Fa,Fa=e;var r=da;e=fa;var u=32-Vt(r)-1;r&=~(1<<u),s+=1;var p=32-Vt(a)+u;if(30<p){var v=u-u%5;p=(r&(1<<v)-1).toString(32),r>>=v,u-=v,da=1<<32-Vt(a)+u|s<<u|r,fa=p+e}else da=1<<p|s<<u|r,fa=e}function lu(e){e.return!==null&&(Ca(e,1),Gh(e,1,0))}function cu(e){for(;e===$r;)$r=ps[--hs],ps[hs]=null,xo=ps[--hs],ps[hs]=null;for(;e===Fa;)Fa=Gn[--$n],Gn[$n]=null,fa=Gn[--$n],Gn[$n]=null,da=Gn[--$n],Gn[$n]=null}function $h(e,a){Gn[$n++]=da,Gn[$n++]=fa,Gn[$n++]=Fa,da=a.id,fa=a.overflow,Fa=e}var en=null,ht=null,Ye=!1,qa=null,Yn=!1,uu=Error(o(519));function Ga(e){var a=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bo(qn(a,e)),uu}function Yh(e){var a=e.stateNode,s=e.type,r=e.memoizedProps;switch(a[Jt]=e,a[bn]=r,s){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(s=0;s<Ho.length;s++)Fe(Ho[s],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),oh(a,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),lh(a,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||r.suppressHydrationWarning===!0||uy(a.textContent,s)?(r.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),r.onScroll!=null&&Fe("scroll",a),r.onScrollEnd!=null&&Fe("scrollend",a),r.onClick!=null&&(a.onclick=Sa),a=!0):a=!1,a||Ga(e,!0)}function Xh(e){for(en=e.return;en;)switch(en.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:en=en.return}}function ms(e){if(e!==en)return!1;if(!Ye)return Xh(e),Ye=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ed(e.type,e.memoizedProps)),s=!s),s&&ht&&Ga(e),Xh(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ht=xy(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ht=xy(e)}else a===27?(a=ht,si(e.type)?(e=Nd,Nd=null,ht=e):ht=a):ht=en?Wn(e.stateNode.nextSibling):null;return!0}function Ti(){ht=en=null,Ye=!1}function du(){var e=qa;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),qa=null),e}function bo(e){qa===null?qa=[e]:qa.push(e)}var fu=pe(null),ji=null,Ta=null;function $a(e,a,s){Se(fu,a._currentValue),a._currentValue=s}function ja(e){e._currentValue=fu.current,Re(fu)}function pu(e,a,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,r!==null&&(r.childLanes|=a)):r!==null&&(r.childLanes&a)!==a&&(r.childLanes|=a),e===s)break;e=e.return}}function hu(e,a,s,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var p=u.dependencies;if(p!==null){var v=u.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=u;for(var T=0;T<a.length;T++)if(b.context===a[T]){p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),pu(p.return,s,e),r||(v=null);break e}p=b.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(o(341));v.lanes|=s,p=v.alternate,p!==null&&(p.lanes|=s),pu(v,s,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function gs(e,a,s,r){e=null;for(var u=a,p=!1;u!==null;){if(!p){if((u.flags&524288)!==0)p=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var b=u.type;Mn(u.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(u===Qt.current){if(v=u.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Yo):e=[Yo])}u=u.return}e!==null&&hu(a,e,s,r),a.flags|=262144}function Yr(e){for(e=e.firstContext;e!==null;){if(!Mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){ji=e,Ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return Wh(ji,e)}function Xr(e,a){return ji===null&&Ai(e),Wh(e,a)}function Wh(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ta===null){if(e===null)throw Error(o(308));Ta=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Ta=Ta.next=a;return s}var _1=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},w1=t.unstable_scheduleCallback,C1=t.unstable_NormalPriority,zt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mu(){return{controller:new _1,data:new Map,refCount:0}}function So(e){e.refCount--,e.refCount===0&&w1(C1,function(){e.controller.abort()})}var _o=null,gu=0,ys=0,vs=null;function T1(e,a){if(_o===null){var s=_o=[];gu=0,ys=xd(),vs={status:"pending",value:void 0,then:function(r){s.push(r)}}}return gu++,a.then(Kh,Kh),a}function Kh(){if(--gu===0&&_o!==null){vs!==null&&(vs.status="fulfilled");var e=_o;_o=null,ys=0,vs=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function j1(e,a){var s=[],r={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){r.status="fulfilled",r.value=a;for(var u=0;u<s.length;u++)(0,s[u])(a)},function(u){for(r.status="rejected",r.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),r}var Qh=U.S;U.S=function(e,a){Ug=A(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T1(e,a),Qh!==null&&Qh(e,a)};var Ei=pe(null);function yu(){var e=Ei.current;return e!==null?e:ut.pooledCache}function Wr(e,a){a===null?Se(Ei,Ei.current):Se(Ei,a.pool)}function Zh(){var e=yu();return e===null?null:{parent:zt._currentValue,pool:e}}var xs=Error(o(460)),vu=Error(o(474)),Kr=Error(o(542)),Qr={then:function(){}};function Jh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function em(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(Sa,Sa),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nm(e),e;default:if(typeof a.status=="string")a.then(Sa,Sa);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=a,e.status="pending",e.then(function(r){if(a.status==="pending"){var u=a;u.status="fulfilled",u.value=r}},function(r){if(a.status==="pending"){var u=a;u.status="rejected",u.reason=r}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nm(e),e}throw Mi=a,xs}}function ki(e){try{var a=e._init;return a(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mi=s,xs):s}}var Mi=null;function tm(){if(Mi===null)throw Error(o(459));var e=Mi;return Mi=null,e}function nm(e){if(e===xs||e===Kr)throw Error(o(483))}var bs=null,wo=0;function Zr(e){var a=wo;return wo+=1,bs===null&&(bs=[]),em(bs,e,a)}function Co(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Jr(e,a){throw a.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(a),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function am(e){function a(D,E){if(e){var z=D.deletions;z===null?(D.deletions=[E],D.flags|=16):z.push(E)}}function s(D,E){if(!e)return null;for(;E!==null;)a(D,E),E=E.sibling;return null}function r(D){for(var E=new Map;D!==null;)D.key!==null?E.set(D.key,D):E.set(D.index,D),D=D.sibling;return E}function u(D,E){return D=wa(D,E),D.index=0,D.sibling=null,D}function p(D,E,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<E?(D.flags|=67108866,E):z):(D.flags|=67108866,E)):(D.flags|=1048576,E)}function v(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,E,z,Y){return E===null||E.tag!==6?(E=ou(z,D.mode,Y),E.return=D,E):(E=u(E,z),E.return=D,E)}function T(D,E,z,Y){var _e=z.type;return _e===k?G(D,E,z.props.children,Y,z.key):E!==null&&(E.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===W&&ki(_e)===E.type)?(E=u(E,z.props),Co(E,z),E.return=D,E):(E=Gr(z.type,z.key,z.props,null,D.mode,Y),Co(E,z),E.return=D,E)}function B(D,E,z,Y){return E===null||E.tag!==4||E.stateNode.containerInfo!==z.containerInfo||E.stateNode.implementation!==z.implementation?(E=ru(z,D.mode,Y),E.return=D,E):(E=u(E,z.children||[]),E.return=D,E)}function G(D,E,z,Y,_e){return E===null||E.tag!==7?(E=Ci(z,D.mode,Y,_e),E.return=D,E):(E=u(E,z),E.return=D,E)}function K(D,E,z){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=ou(""+E,D.mode,z),E.return=D,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case C:return z=Gr(E.type,E.key,E.props,null,D.mode,z),Co(z,E),z.return=D,z;case _:return E=ru(E,D.mode,z),E.return=D,E;case W:return E=ki(E),K(D,E,z)}if(Oe(E)||qe(E))return E=Ci(E,D.mode,z,null),E.return=D,E;if(typeof E.then=="function")return K(D,Zr(E),z);if(E.$$typeof===M)return K(D,Xr(D,E),z);Jr(D,E)}return null}function L(D,E,z,Y){var _e=E!==null?E.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:b(D,E,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===_e?T(D,E,z,Y):null;case _:return z.key===_e?B(D,E,z,Y):null;case W:return z=ki(z),L(D,E,z,Y)}if(Oe(z)||qe(z))return _e!==null?null:G(D,E,z,Y,null);if(typeof z.then=="function")return L(D,E,Zr(z),Y);if(z.$$typeof===M)return L(D,E,Xr(D,z),Y);Jr(D,z)}return null}function H(D,E,z,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return D=D.get(z)||null,b(E,D,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return D=D.get(Y.key===null?z:Y.key)||null,T(E,D,Y,_e);case _:return D=D.get(Y.key===null?z:Y.key)||null,B(E,D,Y,_e);case W:return Y=ki(Y),H(D,E,z,Y,_e)}if(Oe(Y)||qe(Y))return D=D.get(z)||null,G(E,D,Y,_e,null);if(typeof Y.then=="function")return H(D,E,z,Zr(Y),_e);if(Y.$$typeof===M)return H(D,E,z,Xr(E,Y),_e);Jr(E,Y)}return null}function fe(D,E,z,Y){for(var _e=null,Ke=null,ge=E,Ie=E=0,$e=null;ge!==null&&Ie<z.length;Ie++){ge.index>Ie?($e=ge,ge=null):$e=ge.sibling;var Qe=L(D,ge,z[Ie],Y);if(Qe===null){ge===null&&(ge=$e);break}e&&ge&&Qe.alternate===null&&a(D,ge),E=p(Qe,E,Ie),Ke===null?_e=Qe:Ke.sibling=Qe,Ke=Qe,ge=$e}if(Ie===z.length)return s(D,ge),Ye&&Ca(D,Ie),_e;if(ge===null){for(;Ie<z.length;Ie++)ge=K(D,z[Ie],Y),ge!==null&&(E=p(ge,E,Ie),Ke===null?_e=ge:Ke.sibling=ge,Ke=ge);return Ye&&Ca(D,Ie),_e}for(ge=r(ge);Ie<z.length;Ie++)$e=H(ge,D,Ie,z[Ie],Y),$e!==null&&(e&&$e.alternate!==null&&ge.delete($e.key===null?Ie:$e.key),E=p($e,E,Ie),Ke===null?_e=$e:Ke.sibling=$e,Ke=$e);return e&&ge.forEach(function(ui){return a(D,ui)}),Ye&&Ca(D,Ie),_e}function Ae(D,E,z,Y){if(z==null)throw Error(o(151));for(var _e=null,Ke=null,ge=E,Ie=E=0,$e=null,Qe=z.next();ge!==null&&!Qe.done;Ie++,Qe=z.next()){ge.index>Ie?($e=ge,ge=null):$e=ge.sibling;var ui=L(D,ge,Qe.value,Y);if(ui===null){ge===null&&(ge=$e);break}e&&ge&&ui.alternate===null&&a(D,ge),E=p(ui,E,Ie),Ke===null?_e=ui:Ke.sibling=ui,Ke=ui,ge=$e}if(Qe.done)return s(D,ge),Ye&&Ca(D,Ie),_e;if(ge===null){for(;!Qe.done;Ie++,Qe=z.next())Qe=K(D,Qe.value,Y),Qe!==null&&(E=p(Qe,E,Ie),Ke===null?_e=Qe:Ke.sibling=Qe,Ke=Qe);return Ye&&Ca(D,Ie),_e}for(ge=r(ge);!Qe.done;Ie++,Qe=z.next())Qe=H(ge,D,Ie,Qe.value,Y),Qe!==null&&(e&&Qe.alternate!==null&&ge.delete(Qe.key===null?Ie:Qe.key),E=p(Qe,E,Ie),Ke===null?_e=Qe:Ke.sibling=Qe,Ke=Qe);return e&&ge.forEach(function(B_){return a(D,B_)}),Ye&&Ca(D,Ie),_e}function lt(D,E,z,Y){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:e:{for(var _e=z.key;E!==null;){if(E.key===_e){if(_e=z.type,_e===k){if(E.tag===7){s(D,E.sibling),Y=u(E,z.props.children),Y.return=D,D=Y;break e}}else if(E.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===W&&ki(_e)===E.type){s(D,E.sibling),Y=u(E,z.props),Co(Y,z),Y.return=D,D=Y;break e}s(D,E);break}else a(D,E);E=E.sibling}z.type===k?(Y=Ci(z.props.children,D.mode,Y,z.key),Y.return=D,D=Y):(Y=Gr(z.type,z.key,z.props,null,D.mode,Y),Co(Y,z),Y.return=D,D=Y)}return v(D);case _:e:{for(_e=z.key;E!==null;){if(E.key===_e)if(E.tag===4&&E.stateNode.containerInfo===z.containerInfo&&E.stateNode.implementation===z.implementation){s(D,E.sibling),Y=u(E,z.children||[]),Y.return=D,D=Y;break e}else{s(D,E);break}else a(D,E);E=E.sibling}Y=ru(z,D.mode,Y),Y.return=D,D=Y}return v(D);case W:return z=ki(z),lt(D,E,z,Y)}if(Oe(z))return fe(D,E,z,Y);if(qe(z)){if(_e=qe(z),typeof _e!="function")throw Error(o(150));return z=_e.call(z),Ae(D,E,z,Y)}if(typeof z.then=="function")return lt(D,E,Zr(z),Y);if(z.$$typeof===M)return lt(D,E,Xr(D,z),Y);Jr(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,E!==null&&E.tag===6?(s(D,E.sibling),Y=u(E,z),Y.return=D,D=Y):(s(D,E),Y=ou(z,D.mode,Y),Y.return=D,D=Y),v(D)):s(D,E)}return function(D,E,z,Y){try{wo=0;var _e=lt(D,E,z,Y);return bs=null,_e}catch(ge){if(ge===xs||ge===Kr)throw ge;var Ke=Rn(29,ge,null,D.mode);return Ke.lanes=Y,Ke.return=D,Ke}finally{}}}var Ri=am(!0),im=am(!1),Ya=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bu(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,a,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(et&2)!==0){var u=r.pending;return u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a,a=qr(e),Vh(e,null,s),a}return Fr(e,r,a,s),qr(e)}function To(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var r=a.lanes;r&=e.pendingLanes,s|=r,a.lanes=s,fn(e,s)}}function Su(e,a){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var u=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?u=p=v:p=p.next=v,s=s.next}while(s!==null);p===null?u=p=a:p=p.next=a}else u=p=a;s={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var _u=!1;function jo(){if(_u){var e=vs;if(e!==null)throw e}}function Ao(e,a,s,r){_u=!1;var u=e.updateQueue;Ya=!1;var p=u.firstBaseUpdate,v=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var T=b,B=T.next;T.next=null,v===null?p=B:v.next=B,v=T;var G=e.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==v&&(b===null?G.firstBaseUpdate=B:b.next=B,G.lastBaseUpdate=T))}if(p!==null){var K=u.baseState;v=0,G=B=T=null,b=p;do{var L=b.lane&-536870913,H=L!==b.lane;if(H?(Ge&L)===L:(r&L)===L){L!==0&&L===ys&&(_u=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=e,Ae=b;L=a;var lt=s;switch(Ae.tag){case 1:if(fe=Ae.payload,typeof fe=="function"){K=fe.call(lt,K,L);break e}K=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ae.payload,L=typeof fe=="function"?fe.call(lt,K,L):fe,L==null)break e;K=x({},K,L);break e;case 2:Ya=!0}}L=b.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=u.callbacks,H===null?u.callbacks=[L]:H.push(L))}else H={lane:L,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(B=G=H,T=K):G=G.next=H,v|=L;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;H=b,b=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);G===null&&(T=K),u.baseState=T,u.firstBaseUpdate=B,u.lastBaseUpdate=G,p===null&&(u.shared.lanes=0),ei|=v,e.lanes=v,e.memoizedState=K}}function sm(e,a){if(typeof e!="function")throw Error(o(191,e));e.call(a)}function om(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)sm(s[e],a)}var Ss=pe(null),el=pe(0);function rm(e,a){e=za,Se(el,e),Se(Ss,a),za=e|a.baseLanes}function wu(){Se(el,za),Se(Ss,Ss.current)}function Cu(){za=el.current,Re(Ss),Re(el)}var Dn=pe(null),Xn=null;function Ka(e){var a=e.alternate;Se(Mt,Mt.current&1),Se(Dn,e),Xn===null&&(a===null||Ss.current!==null||a.memoizedState!==null)&&(Xn=e)}function Tu(e){Se(Mt,Mt.current),Se(Dn,e),Xn===null&&(Xn=e)}function lm(e){e.tag===22?(Se(Mt,Mt.current),Se(Dn,e),Xn===null&&(Xn=e)):Qa()}function Qa(){Se(Mt,Mt.current),Se(Dn,Dn.current)}function Nn(e){Re(Dn),Xn===e&&(Xn=null),Re(Mt)}var Mt=pe(0);function tl(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Rd(s)||Dd(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Aa=0,Be=null,ot=null,Ot=null,nl=!1,_s=!1,Di=!1,al=0,Eo=0,ws=null,A1=0;function Ct(){throw Error(o(321))}function ju(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Mn(e[s],a[s]))return!1;return!0}function Au(e,a,s,r,u,p){return Aa=p,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,U.H=e===null||e.memoizedState===null?Gm:Hu,Di=!1,p=s(r,u),Di=!1,_s&&(p=um(a,s,r,u)),cm(e),p}function cm(e){U.H=Ro;var a=ot!==null&&ot.next!==null;if(Aa=0,Ot=ot=Be=null,nl=!1,Eo=0,ws=null,a)throw Error(o(300));e===null||Bt||(e=e.dependencies,e!==null&&Yr(e)&&(Bt=!0))}function um(e,a,s,r){Be=e;var u=0;do{if(_s&&(ws=null),Eo=0,_s=!1,25<=u)throw Error(o(301));if(u+=1,Ot=ot=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=$m,p=a(s,r)}while(_s);return p}function E1(){var e=U.H,a=e.useState()[0];return a=typeof a.then=="function"?ko(a):a,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(Be.flags|=1024),a}function Eu(){var e=al!==0;return al=0,e}function ku(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Mu(e){if(nl){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}nl=!1}Aa=0,Ot=ot=Be=null,_s=!1,Eo=al=0,ws=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Be.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Rt(){if(ot===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var a=Ot===null?Be.memoizedState:Ot.next;if(a!==null)Ot=a,ot=e;else{if(e===null)throw Be.alternate===null?Error(o(467)):Error(o(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?Be.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var a=Eo;return Eo+=1,ws===null&&(ws=[]),e=em(ws,e,a),a=Be,(Ot===null?a.memoizedState:Ot.next)===null&&(a=a.alternate,U.H=a===null||a.memoizedState===null?Gm:Hu),e}function sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===M)return tn(e)}throw Error(o(438,String(e)))}function Ru(e){var a=null,s=Be.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var r=Be.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(a={data:r.data.map(function(u){return u.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=il(),Be.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),r=0;r<e;r++)s[r]=se;return a.index++,s}function Ea(e,a){return typeof a=="function"?a(e):a}function ol(e){var a=Rt();return Du(a,ot,e)}function Du(e,a,s){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=s;var u=e.baseQueue,p=r.pending;if(p!==null){if(u!==null){var v=u.next;u.next=p.next,p.next=v}a.baseQueue=u=p,r.pending=null}if(p=e.baseState,u===null)e.memoizedState=p;else{a=u.next;var b=v=null,T=null,B=a,G=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(Ge&K)===K:(Aa&K)===K){var L=B.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===ys&&(G=!0);else if((Aa&L)===L){B=B.next,L===ys&&(G=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},T===null?(b=T=K,v=p):T=T.next=K,Be.lanes|=L,ei|=L;K=B.action,Di&&s(p,K),p=B.hasEagerState?B.eagerState:s(p,K)}else L={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},T===null?(b=T=L,v=p):T=T.next=L,Be.lanes|=K,ei|=K;B=B.next}while(B!==null&&B!==a);if(T===null?v=p:T.next=b,!Mn(p,e.memoizedState)&&(Bt=!0,G&&(s=vs,s!==null)))throw s;e.memoizedState=p,e.baseState=v,e.baseQueue=T,r.lastRenderedState=p}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Nu(e){var a=Rt(),s=a.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var r=s.dispatch,u=s.pending,p=a.memoizedState;if(u!==null){s.pending=null;var v=u=u.next;do p=e(p,v.action),v=v.next;while(v!==u);Mn(p,a.memoizedState)||(Bt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),s.lastRenderedState=p}return[p,r]}function dm(e,a,s){var r=Be,u=Rt(),p=Ye;if(p){if(s===void 0)throw Error(o(407));s=s()}else s=a();var v=!Mn((ot||u).memoizedState,s);if(v&&(u.memoizedState=s,Bt=!0),u=u.queue,Ou(hm.bind(null,r,u,e),[e]),u.getSnapshot!==a||v||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,Cs(9,{destroy:void 0},pm.bind(null,r,u,s,a),null),ut===null)throw Error(o(349));p||(Aa&127)!==0||fm(r,a,s)}return s}function fm(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Be.updateQueue,a===null?(a=il(),Be.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function pm(e,a,s,r){a.value=s,a.getSnapshot=r,mm(a)&&gm(e)}function hm(e,a,s){return s(function(){mm(a)&&gm(e)})}function mm(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Mn(e,s)}catch{return!0}}function gm(e){var a=wi(e,2);a!==null&&jn(a,e,2)}function Uu(e){var a=pn();if(typeof e=="function"){var s=e;if(e=s(),Di){xn(!0);try{s()}finally{xn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},a}function ym(e,a,s,r){return e.baseState=s,Du(e,ot,typeof r=="function"?r:Ea)}function k1(e,a,s,r,u){if(cl(e))throw Error(o(485));if(e=a.action,e!==null){var p={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};U.T!==null?s(!0):p.isTransition=!1,r(p),s=a.pending,s===null?(p.next=a.pending=p,vm(a,p)):(p.next=s.next,a.pending=s.next=p)}}function vm(e,a){var s=a.action,r=a.payload,u=e.state;if(a.isTransition){var p=U.T,v={};U.T=v;try{var b=s(u,r),T=U.S;T!==null&&T(v,b),xm(e,a,b)}catch(B){zu(e,a,B)}finally{p!==null&&v.types!==null&&(p.types=v.types),U.T=p}}else try{p=s(u,r),xm(e,a,p)}catch(B){zu(e,a,B)}}function xm(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){bm(e,a,r)},function(r){return zu(e,a,r)}):bm(e,a,s)}function bm(e,a,s){a.status="fulfilled",a.value=s,Sm(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,vm(e,s)))}function zu(e,a,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do a.status="rejected",a.reason=s,Sm(a),a=a.next;while(a!==r)}e.action=null}function Sm(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function _m(e,a){return a}function wm(e,a){if(Ye){var s=ut.formState;if(s!==null){e:{var r=Be;if(Ye){if(ht){t:{for(var u=ht,p=Yn;u.nodeType!==8;){if(!p){u=null;break t}if(u=Wn(u.nextSibling),u===null){u=null;break t}}p=u.data,u=p==="F!"||p==="F"?u:null}if(u){ht=Wn(u.nextSibling),r=u.data==="F!";break e}}Ga(r)}r=!1}r&&(a=s[0])}}return s=pn(),s.memoizedState=s.baseState=a,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:a},s.queue=r,s=Hm.bind(null,Be,r),r.dispatch=s,r=Uu(!1),p=Vu.bind(null,Be,!1,r.queue),r=pn(),u={state:a,dispatch:null,action:e,pending:null},r.queue=u,s=k1.bind(null,Be,u,p,s),u.dispatch=s,r.memoizedState=e,[a,s,!1]}function Cm(e){var a=Rt();return Tm(a,ot,e)}function Tm(e,a,s){if(a=Du(e,a,_m)[0],e=ol(Ea)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var r=ko(a)}catch(v){throw v===xs?Kr:v}else r=a;a=Rt();var u=a.queue,p=u.dispatch;return s!==a.memoizedState&&(Be.flags|=2048,Cs(9,{destroy:void 0},M1.bind(null,u,s),null)),[r,p,e]}function M1(e,a){e.action=a}function jm(e){var a=Rt(),s=ot;if(s!==null)return Tm(a,s,e);Rt(),a=a.memoizedState,s=Rt();var r=s.queue.dispatch;return s.memoizedState=e,[a,r,!1]}function Cs(e,a,s,r){return e={tag:e,create:s,deps:r,inst:a,next:null},a=Be.updateQueue,a===null&&(a=il(),Be.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,a.lastEffect=e),e}function Am(){return Rt().memoizedState}function rl(e,a,s,r){var u=pn();Be.flags|=e,u.memoizedState=Cs(1|a,{destroy:void 0},s,r===void 0?null:r)}function ll(e,a,s,r){var u=Rt();r=r===void 0?null:r;var p=u.memoizedState.inst;ot!==null&&r!==null&&ju(r,ot.memoizedState.deps)?u.memoizedState=Cs(a,p,s,r):(Be.flags|=e,u.memoizedState=Cs(1|a,p,s,r))}function Em(e,a){rl(8390656,8,e,a)}function Ou(e,a){ll(2048,8,e,a)}function R1(e){Be.flags|=4;var a=Be.updateQueue;if(a===null)a=il(),Be.updateQueue=a,a.events=[e];else{var s=a.events;s===null?a.events=[e]:s.push(e)}}function km(e){var a=Rt().memoizedState;return R1({ref:a,nextImpl:e}),function(){if((et&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}function Mm(e,a){return ll(4,2,e,a)}function Rm(e,a){return ll(4,4,e,a)}function Dm(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Nm(e,a,s){s=s!=null?s.concat([e]):null,ll(4,4,Dm.bind(null,a,e),s)}function Bu(){}function Um(e,a){var s=Rt();a=a===void 0?null:a;var r=s.memoizedState;return a!==null&&ju(a,r[1])?r[0]:(s.memoizedState=[e,a],e)}function zm(e,a){var s=Rt();a=a===void 0?null:a;var r=s.memoizedState;if(a!==null&&ju(a,r[1]))return r[0];if(r=e(),Di){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[r,a],r}function Lu(e,a,s){return s===void 0||(Aa&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=a:(e.memoizedState=s,e=Og(),Be.lanes|=e,ei|=e,s)}function Om(e,a,s,r){return Mn(s,a)?s:Ss.current!==null?(e=Lu(e,s,r),Mn(e,a)||(Bt=!0),e):(Aa&42)===0||(Aa&1073741824)!==0&&(Ge&261930)===0?(Bt=!0,e.memoizedState=s):(e=Og(),Be.lanes|=e,ei|=e,a)}function Bm(e,a,s,r,u){var p=ee.p;ee.p=p!==0&&8>p?p:8;var v=U.T,b={};U.T=b,Vu(e,!1,a,s);try{var T=u(),B=U.S;if(B!==null&&B(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var G=j1(T,r);Mo(e,a,G,On(e))}else Mo(e,a,r,On(e))}catch(K){Mo(e,a,{then:function(){},status:"rejected",reason:K},On())}finally{ee.p=p,v!==null&&b.types!==null&&(v.types=b.types),U.T=v}}function D1(){}function Iu(e,a,s,r){if(e.tag!==5)throw Error(o(476));var u=Lm(e).queue;Bm(e,u,a,ie,s===null?D1:function(){return Im(e),s(r)})}function Lm(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ie},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Im(e){var a=Lm(e);a.next===null&&(a=e.alternate.memoizedState),Mo(e,a.next.queue,{},On())}function Pu(){return tn(Yo)}function Pm(){return Rt().memoizedState}function Vm(){return Rt().memoizedState}function N1(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=On();e=Xa(s);var r=Wa(a,e,s);r!==null&&(jn(r,a,s),To(r,a,s)),a={cache:mu()},e.payload=a;return}a=a.return}}function U1(e,a,s){var r=On();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},cl(e)?Fm(a,s):(s=iu(e,a,s,r),s!==null&&(jn(s,e,r),qm(s,a,r)))}function Hm(e,a,s){var r=On();Mo(e,a,s,r)}function Mo(e,a,s,r){var u={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(cl(e))Fm(a,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,b=p(v,s);if(u.hasEagerState=!0,u.eagerState=b,Mn(b,v))return Fr(e,a,u,0),ut===null&&Hr(),!1}catch{}finally{}if(s=iu(e,a,u,r),s!==null)return jn(s,e,r),qm(s,a,r),!0}return!1}function Vu(e,a,s,r){if(r={lane:2,revertLane:xd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},cl(e)){if(a)throw Error(o(479))}else a=iu(e,s,r,2),a!==null&&jn(a,e,2)}function cl(e){var a=e.alternate;return e===Be||a!==null&&a===Be}function Fm(e,a){_s=nl=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function qm(e,a,s){if((s&4194048)!==0){var r=a.lanes;r&=e.pendingLanes,s|=r,a.lanes=s,fn(e,s)}}var Ro={readContext:tn,use:sl,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Ro.useEffectEvent=Ct;var Gm={readContext:tn,use:sl,useCallback:function(e,a){return pn().memoizedState=[e,a===void 0?null:a],e},useContext:tn,useEffect:Em,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,rl(4194308,4,Dm.bind(null,a,e),s)},useLayoutEffect:function(e,a){return rl(4194308,4,e,a)},useInsertionEffect:function(e,a){rl(4,2,e,a)},useMemo:function(e,a){var s=pn();a=a===void 0?null:a;var r=e();if(Di){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[r,a],r},useReducer:function(e,a,s){var r=pn();if(s!==void 0){var u=s(a);if(Di){xn(!0);try{s(a)}finally{xn(!1)}}}else u=a;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=U1.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var a=pn();return e={current:e},a.memoizedState=e},useState:function(e){e=Uu(e);var a=e.queue,s=Hm.bind(null,Be,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:Bu,useDeferredValue:function(e,a){var s=pn();return Lu(s,e,a)},useTransition:function(){var e=Uu(!1);return e=Bm.bind(null,Be,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var r=Be,u=pn();if(Ye){if(s===void 0)throw Error(o(407));s=s()}else{if(s=a(),ut===null)throw Error(o(349));(Ge&127)!==0||fm(r,a,s)}u.memoizedState=s;var p={value:s,getSnapshot:a};return u.queue=p,Em(hm.bind(null,r,p,e),[e]),r.flags|=2048,Cs(9,{destroy:void 0},pm.bind(null,r,p,s,a),null),s},useId:function(){var e=pn(),a=ut.identifierPrefix;if(Ye){var s=fa,r=da;s=(r&~(1<<32-Vt(r)-1)).toString(32)+s,a="_"+a+"R_"+s,s=al++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=A1++,a="_"+a+"r_"+s.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Pu,useFormState:wm,useActionState:wm,useOptimistic:function(e){var a=pn();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Vu.bind(null,Be,!0,s),s.dispatch=a,[e,a]},useMemoCache:Ru,useCacheRefresh:function(){return pn().memoizedState=N1.bind(null,Be)},useEffectEvent:function(e){var a=pn(),s={impl:e};return a.memoizedState=s,function(){if((et&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Hu={readContext:tn,use:sl,useCallback:Um,useContext:tn,useEffect:Ou,useImperativeHandle:Nm,useInsertionEffect:Mm,useLayoutEffect:Rm,useMemo:zm,useReducer:ol,useRef:Am,useState:function(){return ol(Ea)},useDebugValue:Bu,useDeferredValue:function(e,a){var s=Rt();return Om(s,ot.memoizedState,e,a)},useTransition:function(){var e=ol(Ea)[0],a=Rt().memoizedState;return[typeof e=="boolean"?e:ko(e),a]},useSyncExternalStore:dm,useId:Pm,useHostTransitionStatus:Pu,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,a){var s=Rt();return ym(s,ot,e,a)},useMemoCache:Ru,useCacheRefresh:Vm};Hu.useEffectEvent=km;var $m={readContext:tn,use:sl,useCallback:Um,useContext:tn,useEffect:Ou,useImperativeHandle:Nm,useInsertionEffect:Mm,useLayoutEffect:Rm,useMemo:zm,useReducer:Nu,useRef:Am,useState:function(){return Nu(Ea)},useDebugValue:Bu,useDeferredValue:function(e,a){var s=Rt();return ot===null?Lu(s,e,a):Om(s,ot.memoizedState,e,a)},useTransition:function(){var e=Nu(Ea)[0],a=Rt().memoizedState;return[typeof e=="boolean"?e:ko(e),a]},useSyncExternalStore:dm,useId:Pm,useHostTransitionStatus:Pu,useFormState:jm,useActionState:jm,useOptimistic:function(e,a){var s=Rt();return ot!==null?ym(s,ot,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Vm};$m.useEffectEvent=km;function Fu(e,a,s,r){a=e.memoizedState,s=s(r,a),s=s==null?a:x({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var qu={enqueueSetState:function(e,a,s){e=e._reactInternals;var r=On(),u=Xa(r);u.payload=a,s!=null&&(u.callback=s),a=Wa(e,u,r),a!==null&&(jn(a,e,r),To(a,e,r))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var r=On(),u=Xa(r);u.tag=1,u.payload=a,s!=null&&(u.callback=s),a=Wa(e,u,r),a!==null&&(jn(a,e,r),To(a,e,r))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=On(),r=Xa(s);r.tag=2,a!=null&&(r.callback=a),a=Wa(e,r,s),a!==null&&(jn(a,e,s),To(a,e,s))}};function Ym(e,a,s,r,u,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,p,v):a.prototype&&a.prototype.isPureReactComponent?!yo(s,r)||!yo(u,p):!0}function Xm(e,a,s,r){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,r),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,r),a.state!==e&&qu.enqueueReplaceState(a,a.state,null)}function Ni(e,a){var s=a;if("ref"in a){s={};for(var r in a)r!=="ref"&&(s[r]=a[r])}if(e=e.defaultProps){s===a&&(s=x({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function Wm(e){Vr(e)}function Km(e){console.error(e)}function Qm(e){Vr(e)}function ul(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(r){setTimeout(function(){throw r})}}function Zm(e,a,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Gu(e,a,s){return s=Xa(s),s.tag=3,s.payload={element:null},s.callback=function(){ul(e,a)},s}function Jm(e){return e=Xa(e),e.tag=3,e}function eg(e,a,s,r){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var p=r.value;e.payload=function(){return u(p)},e.callback=function(){Zm(a,s,r)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Zm(a,s,r),typeof u!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function z1(e,a,s,r,u){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(a=s.alternate,a!==null&&gs(a,s,u,!0),s=Dn.current,s!==null){switch(s.tag){case 31:case 13:return Xn===null?_l():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=u,r===Qr?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([r]):a.add(r),gd(e,r,u)),!1;case 22:return s.flags|=65536,r===Qr?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([r]):s.add(r)),gd(e,r,u)),!1}throw Error(o(435,s.tag))}return gd(e,r,u),_l(),!1}if(Ye)return a=Dn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=u,r!==uu&&(e=Error(o(422),{cause:r}),bo(qn(e,s)))):(r!==uu&&(a=Error(o(423),{cause:r}),bo(qn(a,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=qn(r,s),u=Gu(e.stateNode,r,u),Su(e,u),Tt!==4&&(Tt=2)),!1;var p=Error(o(520),{cause:r});if(p=qn(p,s),Io===null?Io=[p]:Io.push(p),Tt!==4&&(Tt=2),a===null)return!0;r=qn(r,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Gu(s.stateNode,r,e),Su(s,e),!1;case 1:if(a=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ti===null||!ti.has(p))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Jm(u),eg(u,e,s,r),Su(s,u),!1}s=s.return}while(s!==null);return!1}var $u=Error(o(461)),Bt=!1;function nn(e,a,s,r){a.child=e===null?im(a,null,s,r):Ri(a,e.child,s,r)}function tg(e,a,s,r,u){s=s.render;var p=a.ref;if("ref"in r){var v={};for(var b in r)b!=="ref"&&(v[b]=r[b])}else v=r;return Ai(a),r=Au(e,a,s,v,p,u),b=Eu(),e!==null&&!Bt?(ku(e,a,u),ka(e,a,u)):(Ye&&b&&lu(a),a.flags|=1,nn(e,a,r,u),a.child)}function ng(e,a,s,r,u){if(e===null){var p=s.type;return typeof p=="function"&&!su(p)&&p.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=p,ag(e,a,p,r,u)):(e=Gr(s.type,null,r,a,a.mode,u),e.ref=a.ref,e.return=a,a.child=e)}if(p=e.child,!ed(e,u)){var v=p.memoizedProps;if(s=s.compare,s=s!==null?s:yo,s(v,r)&&e.ref===a.ref)return ka(e,a,u)}return a.flags|=1,e=wa(p,r),e.ref=a.ref,e.return=a,a.child=e}function ag(e,a,s,r,u){if(e!==null){var p=e.memoizedProps;if(yo(p,r)&&e.ref===a.ref)if(Bt=!1,a.pendingProps=r=p,ed(e,u))(e.flags&131072)!==0&&(Bt=!0);else return a.lanes=e.lanes,ka(e,a,u)}return Yu(e,a,s,r,u)}function ig(e,a,s,r){var u=r.children,p=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,e!==null){for(r=a.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~p}else r=0,a.child=null;return sg(e,a,p,s,r)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wr(a,p!==null?p.cachePool:null),p!==null?rm(a,p):wu(),lm(a);else return r=a.lanes=536870912,sg(e,a,p!==null?p.baseLanes|s:s,s,r)}else p!==null?(Wr(a,p.cachePool),rm(a,p),Qa(),a.memoizedState=null):(e!==null&&Wr(a,null),wu(),Qa());return nn(e,a,u,s),a.child}function Do(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function sg(e,a,s,r,u){var p=yu();return p=p===null?null:{parent:zt._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},e!==null&&Wr(a,null),wu(),lm(a),e!==null&&gs(e,a,r,!0),a.childLanes=u,null}function dl(e,a){return a=pl({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function og(e,a,s){return Ri(a,e.child,null,s),e=dl(a,a.pendingProps),e.flags|=2,Nn(a),a.memoizedState=null,e}function O1(e,a,s){var r=a.pendingProps,u=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Ye){if(r.mode==="hidden")return e=dl(a,r),a.lanes=536870912,Do(null,e);if(Tu(a),(e=ht)?(e=vy(e,Yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Fa!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},s=Fh(e),s.return=a,a.child=s,en=a,ht=null)):e=null,e===null)throw Ga(a);return a.lanes=536870912,null}return dl(a,r)}var p=e.memoizedState;if(p!==null){var v=p.dehydrated;if(Tu(a),u)if(a.flags&256)a.flags&=-257,a=og(e,a,s);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(o(558));else if(Bt||gs(e,a,s,!1),u=(s&e.childLanes)!==0,Bt||u){if(r=ut,r!==null&&(v=Ut(r,s),v!==0&&v!==p.retryLane))throw p.retryLane=v,wi(e,v),jn(r,e,v),$u;_l(),a=og(e,a,s)}else e=p.treeContext,ht=Wn(v.nextSibling),en=a,Ye=!0,qa=null,Yn=!1,e!==null&&$h(a,e),a=dl(a,r),a.flags|=4096;return a}return e=wa(e.child,{mode:r.mode,children:r.children}),e.ref=a.ref,a.child=e,e.return=a,e}function fl(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function Yu(e,a,s,r,u){return Ai(a),s=Au(e,a,s,r,void 0,u),r=Eu(),e!==null&&!Bt?(ku(e,a,u),ka(e,a,u)):(Ye&&r&&lu(a),a.flags|=1,nn(e,a,s,u),a.child)}function rg(e,a,s,r,u,p){return Ai(a),a.updateQueue=null,s=um(a,r,s,u),cm(e),r=Eu(),e!==null&&!Bt?(ku(e,a,p),ka(e,a,p)):(Ye&&r&&lu(a),a.flags|=1,nn(e,a,s,p),a.child)}function lg(e,a,s,r,u){if(Ai(a),a.stateNode===null){var p=fs,v=s.contextType;typeof v=="object"&&v!==null&&(p=tn(v)),p=new s(r,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=qu,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=r,p.state=a.memoizedState,p.refs={},xu(a),v=s.contextType,p.context=typeof v=="object"&&v!==null?tn(v):fs,p.state=a.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Fu(a,s,v,r),p.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&qu.enqueueReplaceState(p,p.state,null),Ao(a,r,p,u),jo(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),r=!0}else if(e===null){p=a.stateNode;var b=a.memoizedProps,T=Ni(s,b);p.props=T;var B=p.context,G=s.contextType;v=fs,typeof G=="object"&&G!==null&&(v=tn(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||B!==v)&&Xm(a,p,r,v),Ya=!1;var L=a.memoizedState;p.state=L,Ao(a,r,p,u),jo(),B=a.memoizedState,b||L!==B||Ya?(typeof K=="function"&&(Fu(a,s,K,r),B=a.memoizedState),(T=Ya||Ym(a,s,T,r,L,B,v))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=r,a.memoizedState=B),p.props=r,p.state=B,p.context=v,r=T):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),r=!1)}else{p=a.stateNode,bu(e,a),v=a.memoizedProps,G=Ni(s,v),p.props=G,K=a.pendingProps,L=p.context,B=s.contextType,T=fs,typeof B=="object"&&B!==null&&(T=tn(B)),b=s.getDerivedStateFromProps,(B=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==K||L!==T)&&Xm(a,p,r,T),Ya=!1,L=a.memoizedState,p.state=L,Ao(a,r,p,u),jo();var H=a.memoizedState;v!==K||L!==H||Ya||e!==null&&e.dependencies!==null&&Yr(e.dependencies)?(typeof b=="function"&&(Fu(a,s,b,r),H=a.memoizedState),(G=Ya||Ym(a,s,G,r,L,H,T)||e!==null&&e.dependencies!==null&&Yr(e.dependencies))?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,H,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,H,T)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=1024),a.memoizedProps=r,a.memoizedState=H),p.props=r,p.state=H,p.context=T,r=G):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=1024),r=!1)}return p=r,fl(e,a),r=(a.flags&128)!==0,p||r?(p=a.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,e!==null&&r?(a.child=Ri(a,e.child,null,u),a.child=Ri(a,null,s,u)):nn(e,a,s,u),a.memoizedState=p.state,e=a.child):e=ka(e,a,u),e}function cg(e,a,s,r){return Ti(),a.flags|=256,nn(e,a,s,r),a.child}var Xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(e){return{baseLanes:e,cachePool:Zh()}}function Ku(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=zn),e}function ug(e,a,s){var r=a.pendingProps,u=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(Mt.current&2)!==0),v&&(u=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,e===null){if(Ye){if(u?Ka(a):Qa(),(e=ht)?(e=vy(e,Yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Fa!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},s=Fh(e),s.return=a,a.child=s,en=a,ht=null)):e=null,e===null)throw Ga(a);return Dd(e)?a.lanes=32:a.lanes=536870912,null}var b=r.children;return r=r.fallback,u?(Qa(),u=a.mode,b=pl({mode:"hidden",children:b},u),r=Ci(r,u,s,null),b.return=a,r.return=a,b.sibling=r,a.child=b,r=a.child,r.memoizedState=Wu(s),r.childLanes=Ku(e,v,s),a.memoizedState=Xu,Do(null,r)):(Ka(a),Qu(a,b))}var T=e.memoizedState;if(T!==null&&(b=T.dehydrated,b!==null)){if(p)a.flags&256?(Ka(a),a.flags&=-257,a=Zu(e,a,s)):a.memoizedState!==null?(Qa(),a.child=e.child,a.flags|=128,a=null):(Qa(),b=r.fallback,u=a.mode,r=pl({mode:"visible",children:r.children},u),b=Ci(b,u,s,null),b.flags|=2,r.return=a,b.return=a,r.sibling=b,a.child=r,Ri(a,e.child,null,s),r=a.child,r.memoizedState=Wu(s),r.childLanes=Ku(e,v,s),a.memoizedState=Xu,a=Do(null,r));else if(Ka(a),Dd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var B=v.dgst;v=B,r=Error(o(419)),r.stack="",r.digest=v,bo({value:r,source:null,stack:null}),a=Zu(e,a,s)}else if(Bt||gs(e,a,s,!1),v=(s&e.childLanes)!==0,Bt||v){if(v=ut,v!==null&&(r=Ut(v,s),r!==0&&r!==T.retryLane))throw T.retryLane=r,wi(e,r),jn(v,e,r),$u;Rd(b)||_l(),a=Zu(e,a,s)}else Rd(b)?(a.flags|=192,a.child=e.child,a=null):(e=T.treeContext,ht=Wn(b.nextSibling),en=a,Ye=!0,qa=null,Yn=!1,e!==null&&$h(a,e),a=Qu(a,r.children),a.flags|=4096);return a}return u?(Qa(),b=r.fallback,u=a.mode,T=e.child,B=T.sibling,r=wa(T,{mode:"hidden",children:r.children}),r.subtreeFlags=T.subtreeFlags&65011712,B!==null?b=wa(B,b):(b=Ci(b,u,s,null),b.flags|=2),b.return=a,r.return=a,r.sibling=b,a.child=r,Do(null,r),r=a.child,b=e.child.memoizedState,b===null?b=Wu(s):(u=b.cachePool,u!==null?(T=zt._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Zh(),b={baseLanes:b.baseLanes|s,cachePool:u}),r.memoizedState=b,r.childLanes=Ku(e,v,s),a.memoizedState=Xu,Do(e.child,r)):(Ka(a),s=e.child,e=s.sibling,s=wa(s,{mode:"visible",children:r.children}),s.return=a,s.sibling=null,e!==null&&(v=a.deletions,v===null?(a.deletions=[e],a.flags|=16):v.push(e)),a.child=s,a.memoizedState=null,s)}function Qu(e,a){return a=pl({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function pl(e,a){return e=Rn(22,e,null,a),e.lanes=0,e}function Zu(e,a,s){return Ri(a,e.child,null,s),e=Qu(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function dg(e,a,s){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a),pu(e.return,a,s)}function Ju(e,a,s,r,u,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:u,treeForkCount:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=s,v.tailMode=u,v.treeForkCount=p)}function fg(e,a,s){var r=a.pendingProps,u=r.revealOrder,p=r.tail;r=r.children;var v=Mt.current,b=(v&2)!==0;if(b?(v=v&1|2,a.flags|=128):v&=1,Se(Mt,v),nn(e,a,r,s),r=Ye?xo:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dg(e,s,a);else if(e.tag===19)dg(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=a.child,u=null;s!==null;)e=s.alternate,e!==null&&tl(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=a.child,a.child=null):(u=s.sibling,s.sibling=null),Ju(a,!1,u,s,p,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=a.child,a.child=null;u!==null;){if(e=u.alternate,e!==null&&tl(e)===null){a.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}Ju(a,!0,s,null,p,r);break;case"together":Ju(a,!1,null,null,void 0,r);break;default:a.memoizedState=null}return a.child}function ka(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),ei|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(gs(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(o(153));if(a.child!==null){for(e=a.child,s=wa(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=wa(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function ed(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Yr(e)))}function B1(e,a,s){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),$a(a,zt,e.memoizedState.cache),Ti();break;case 27:case 5:We(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:$a(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Tu(a),null;break;case 13:var r=a.memoizedState;if(r!==null)return r.dehydrated!==null?(Ka(a),a.flags|=128,null):(s&a.child.childLanes)!==0?ug(e,a,s):(Ka(a),e=ka(e,a,s),e!==null?e.sibling:null);Ka(a);break;case 19:var u=(e.flags&128)!==0;if(r=(s&a.childLanes)!==0,r||(gs(e,a,s,!1),r=(s&a.childLanes)!==0),u){if(r)return fg(e,a,s);a.flags|=128}if(u=a.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Se(Mt,Mt.current),r)break;return null;case 22:return a.lanes=0,ig(e,a,s,a.pendingProps);case 24:$a(a,zt,e.memoizedState.cache)}return ka(e,a,s)}function pg(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)Bt=!0;else{if(!ed(e,s)&&(a.flags&128)===0)return Bt=!1,B1(e,a,s);Bt=(e.flags&131072)!==0}else Bt=!1,Ye&&(a.flags&1048576)!==0&&Gh(a,xo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var r=a.pendingProps;if(e=ki(a.elementType),a.type=e,typeof e=="function")su(e)?(r=Ni(e,r),a.tag=1,a=lg(null,a,e,r,s)):(a.tag=0,a=Yu(null,a,e,r,s));else{if(e!=null){var u=e.$$typeof;if(u===O){a.tag=11,a=tg(null,a,e,r,s);break e}else if(u===ne){a.tag=14,a=ng(null,a,e,r,s);break e}}throw a=je(e)||e,Error(o(306,a,""))}}return a;case 0:return Yu(e,a,a.type,a.pendingProps,s);case 1:return r=a.type,u=Ni(r,a.pendingProps),lg(e,a,r,u,s);case 3:e:{if(Nt(a,a.stateNode.containerInfo),e===null)throw Error(o(387));r=a.pendingProps;var p=a.memoizedState;u=p.element,bu(e,a),Ao(a,r,null,s);var v=a.memoizedState;if(r=v.cache,$a(a,zt,r),r!==p.cache&&hu(a,[zt],s,!0),jo(),r=v.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=cg(e,a,r,s);break e}else if(r!==u){u=qn(Error(o(424)),a),bo(u),a=cg(e,a,r,s);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ht=Wn(e.firstChild),en=a,Ye=!0,qa=null,Yn=!0,s=im(a,null,r,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ti(),r===u){a=ka(e,a,s);break e}nn(e,a,r,s)}a=a.child}return a;case 26:return fl(e,a),e===null?(s=Cy(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ye||(s=a.type,e=a.pendingProps,r=kl(oe.current).createElement(s),r[Jt]=a,r[bn]=e,an(r,s,e),Xt(r),a.stateNode=r):a.memoizedState=Cy(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return We(a),e===null&&Ye&&(r=a.stateNode=Sy(a.type,a.pendingProps,oe.current),en=a,Yn=!0,u=ht,si(a.type)?(Nd=u,ht=Wn(r.firstChild)):ht=u),nn(e,a,a.pendingProps.children,s),fl(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Ye&&((u=r=ht)&&(r=p_(r,a.type,a.pendingProps,Yn),r!==null?(a.stateNode=r,en=a,ht=Wn(r.firstChild),Yn=!1,u=!0):u=!1),u||Ga(a)),We(a),u=a.type,p=a.pendingProps,v=e!==null?e.memoizedProps:null,r=p.children,Ed(u,p)?r=null:v!==null&&Ed(u,v)&&(a.flags|=32),a.memoizedState!==null&&(u=Au(e,a,E1,null,null,s),Yo._currentValue=u),fl(e,a),nn(e,a,r,s),a.child;case 6:return e===null&&Ye&&((e=s=ht)&&(s=h_(s,a.pendingProps,Yn),s!==null?(a.stateNode=s,en=a,ht=null,e=!0):e=!1),e||Ga(a)),null;case 13:return ug(e,a,s);case 4:return Nt(a,a.stateNode.containerInfo),r=a.pendingProps,e===null?a.child=Ri(a,null,r,s):nn(e,a,r,s),a.child;case 11:return tg(e,a,a.type,a.pendingProps,s);case 7:return nn(e,a,a.pendingProps,s),a.child;case 8:return nn(e,a,a.pendingProps.children,s),a.child;case 12:return nn(e,a,a.pendingProps.children,s),a.child;case 10:return r=a.pendingProps,$a(a,a.type,r.value),nn(e,a,r.children,s),a.child;case 9:return u=a.type._context,r=a.pendingProps.children,Ai(a),u=tn(u),r=r(u),a.flags|=1,nn(e,a,r,s),a.child;case 14:return ng(e,a,a.type,a.pendingProps,s);case 15:return ag(e,a,a.type,a.pendingProps,s);case 19:return fg(e,a,s);case 31:return O1(e,a,s);case 22:return ig(e,a,s,a.pendingProps);case 24:return Ai(a),r=tn(zt),e===null?(u=yu(),u===null&&(u=ut,p=mu(),u.pooledCache=p,p.refCount++,p!==null&&(u.pooledCacheLanes|=s),u=p),a.memoizedState={parent:r,cache:u},xu(a),$a(a,zt,u)):((e.lanes&s)!==0&&(bu(e,a),Ao(a,null,null,s),jo()),u=e.memoizedState,p=a.memoizedState,u.parent!==r?(u={parent:r,cache:r},a.memoizedState=u,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=u),$a(a,zt,r)):(r=p.cache,$a(a,zt,r),r!==u.cache&&hu(a,[zt],s,!0))),nn(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Ma(e){e.flags|=4}function td(e,a,s,r,u){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Pg())e.flags|=8192;else throw Mi=Qr,vu}else e.flags&=-16777217}function hg(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ky(a))if(Pg())e.flags|=8192;else throw Mi=Qr,vu}function hl(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?re():536870912,e.lanes|=a,Es|=a)}function No(e,a){if(!Ye)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(a)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=s,a}function L1(e,a,s){var r=a.pendingProps;switch(cu(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(a),null;case 1:return mt(a),null;case 3:return s=a.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),ja(zt),yn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ms(a)?Ma(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,du())),mt(a),null;case 26:var u=a.type,p=a.memoizedState;return e===null?(Ma(a),p!==null?(mt(a),hg(a,p)):(mt(a),td(a,u,null,r,s))):p?p!==e.memoizedState?(Ma(a),mt(a),hg(a,p)):(mt(a),a.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ma(a),mt(a),td(a,u,e,r,s)),null;case 27:if(qt(a),s=oe.current,u=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==r&&Ma(a);else{if(!r){if(a.stateNode===null)throw Error(o(166));return mt(a),null}e=J.current,ms(a)?Yh(a):(e=Sy(u,r,s),a.stateNode=e,Ma(a))}return mt(a),null;case 5:if(qt(a),u=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==r&&Ma(a);else{if(!r){if(a.stateNode===null)throw Error(o(166));return mt(a),null}if(p=J.current,ms(a))Yh(a);else{var v=kl(oe.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?v.createElement("select",{is:r.is}):v.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?v.createElement(u,{is:r.is}):v.createElement(u)}}p[Jt]=a,p[bn]=r;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=p;e:switch(an(p,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ma(a)}}return mt(a),td(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,s),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==r&&Ma(a);else{if(typeof r!="string"&&a.stateNode===null)throw Error(o(166));if(e=oe.current,ms(a)){if(e=a.stateNode,s=a.memoizedProps,r=null,u=en,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[Jt]=a,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||uy(e.nodeValue,s)),e||Ga(a,!0)}else e=kl(e).createTextNode(r),e[Jt]=a,a.stateNode=e}return mt(a),null;case 31:if(s=a.memoizedState,e===null||e.memoizedState!==null){if(r=ms(a),s!==null){if(e===null){if(!r)throw Error(o(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Jt]=a}else Ti(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mt(a),e=!1}else s=du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(o(558))}return mt(a),null;case 13:if(r=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ms(a),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=a.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[Jt]=a}else Ti(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mt(a),u=!1}else u=du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=s,a):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=a.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==u&&(r.flags|=2048)),s!==e&&s&&(a.child.flags|=8192),hl(a,a.updateQueue),mt(a),null);case 4:return yn(),e===null&&wd(a.stateNode.containerInfo),mt(a),null;case 10:return ja(a.type),mt(a),null;case 19:if(Re(Mt),r=a.memoizedState,r===null)return mt(a),null;if(u=(a.flags&128)!==0,p=r.rendering,p===null)if(u)No(r,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(p=tl(e),p!==null){for(a.flags|=128,No(r,!1),e=p.updateQueue,a.updateQueue=e,hl(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)Hh(s,e),s=s.sibling;return Se(Mt,Mt.current&1|2),Ye&&Ca(a,r.treeForkCount),a.child}e=e.sibling}r.tail!==null&&A()>xl&&(a.flags|=128,u=!0,No(r,!1),a.lanes=4194304)}else{if(!u)if(e=tl(p),e!==null){if(a.flags|=128,u=!0,e=e.updateQueue,a.updateQueue=e,hl(a,e),No(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!Ye)return mt(a),null}else 2*A()-r.renderingStartTime>xl&&s!==536870912&&(a.flags|=128,u=!0,No(r,!1),a.lanes=4194304);r.isBackwards?(p.sibling=a.child,a.child=p):(e=r.last,e!==null?e.sibling=p:a.child=p,r.last=p)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=A(),e.sibling=null,s=Mt.current,Se(Mt,u?s&1|2:s&1),Ye&&Ca(a,r.treeForkCount),e):(mt(a),null);case 22:case 23:return Nn(a),Cu(),r=a.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(a.flags|=8192):r&&(a.flags|=8192),r?(s&536870912)!==0&&(a.flags&128)===0&&(mt(a),a.subtreeFlags&6&&(a.flags|=8192)):mt(a),s=a.updateQueue,s!==null&&hl(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048),e!==null&&Re(Ei),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ja(zt),mt(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function I1(e,a){switch(cu(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return ja(zt),yn(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return qt(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(o(340));Ti()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Nn(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Ti()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return Re(Mt),null;case 4:return yn(),null;case 10:return ja(a.type),null;case 22:case 23:return Nn(a),Cu(),e!==null&&Re(Ei),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return ja(zt),null;case 25:return null;default:return null}}function mg(e,a){switch(cu(a),a.tag){case 3:ja(zt),yn();break;case 26:case 27:case 5:qt(a);break;case 4:yn();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:Re(Mt);break;case 10:ja(a.type);break;case 22:case 23:Nn(a),Cu(),e!==null&&Re(Ei);break;case 24:ja(zt)}}function Uo(e,a){try{var s=a.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){r=void 0;var p=s.create,v=s.inst;r=p(),v.destroy=r}s=s.next}while(s!==u)}}catch(b){nt(a,a.return,b)}}function Za(e,a,s){try{var r=a.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&e)===e){var v=r.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,u=a;var T=s,B=b;try{B()}catch(G){nt(u,T,G)}}}r=r.next}while(r!==p)}}catch(G){nt(a,a.return,G)}}function gg(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{om(a,s)}catch(r){nt(e,e.return,r)}}}function yg(e,a,s){s.props=Ni(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){nt(e,a,r)}}function zo(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(u){nt(e,a,u)}}function pa(e,a){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(u){nt(e,a,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){nt(e,a,u)}else s.current=null}function vg(e){var a=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(u){nt(e,e.return,u)}}function nd(e,a,s){try{var r=e.stateNode;r_(r,e.type,s,a),r[bn]=a}catch(u){nt(e,e.return,u)}}function xg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function id(e,a,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Sa));else if(r!==4&&(r===27&&si(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(id(e,a,s),e=e.sibling;e!==null;)id(e,a,s),e=e.sibling}function ml(e,a,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(r!==4&&(r===27&&si(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ml(e,a,s),e=e.sibling;e!==null;)ml(e,a,s),e=e.sibling}function bg(e){var a=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,u=a.attributes;u.length;)a.removeAttributeNode(u[0]);an(a,r,s),a[Jt]=e,a[bn]=s}catch(p){nt(e,e.return,p)}}var Ra=!1,Lt=!1,sd=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function P1(e,a){if(e=e.containerInfo,jd=Ol,e=Nh(e),Zc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var u=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var v=0,b=-1,T=-1,B=0,G=0,K=e,L=null;t:for(;;){for(var H;K!==s||u!==0&&K.nodeType!==3||(b=v+u),K!==p||r!==0&&K.nodeType!==3||(T=v+r),K.nodeType===3&&(v+=K.nodeValue.length),(H=K.firstChild)!==null;)L=K,K=H;for(;;){if(K===e)break t;if(L===s&&++B===u&&(b=v),L===p&&++G===r&&(T=v),(H=K.nextSibling)!==null)break;K=L,L=K.parentNode}K=H}s=b===-1||T===-1?null:{start:b,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ad={focusedElem:e,selectionRange:s},Ol=!1,Wt=a;Wt!==null;)if(a=Wt,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,Wt=e;else for(;Wt!==null;){switch(a=Wt,p=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,s=a,u=p.memoizedProps,p=p.memoizedState,r=s.stateNode;try{var fe=Ni(s.type,u);e=r.getSnapshotBeforeUpdate(fe,p),r.__reactInternalSnapshotBeforeUpdate=e}catch(Ae){nt(s,s.return,Ae)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=a.sibling,e!==null){e.return=a.return,Wt=e;break}Wt=a.return}}function _g(e,a,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Na(e,s),r&4&&Uo(5,s);break;case 1:if(Na(e,s),r&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(v){nt(s,s.return,v)}else{var u=Ni(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(u,a,e.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(s,s.return,v)}}r&64&&gg(s),r&512&&zo(s,s.return);break;case 3:if(Na(e,s),r&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{om(e,a)}catch(v){nt(s,s.return,v)}}break;case 27:a===null&&r&4&&bg(s);case 26:case 5:Na(e,s),a===null&&r&4&&vg(s),r&512&&zo(s,s.return);break;case 12:Na(e,s);break;case 31:Na(e,s),r&4&&Tg(e,s);break;case 13:Na(e,s),r&4&&jg(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=W1.bind(null,s),m_(e,s))));break;case 22:if(r=s.memoizedState!==null||Ra,!r){a=a!==null&&a.memoizedState!==null||Lt,u=Ra;var p=Lt;Ra=r,(Lt=a)&&!p?Ua(e,s,(s.subtreeFlags&8772)!==0):Na(e,s),Ra=u,Lt=p}break;case 30:break;default:Na(e,s)}}function wg(e){var a=e.alternate;a!==null&&(e.alternate=null,wg(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&zc(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,_n=!1;function Da(e,a,s){for(s=s.child;s!==null;)Cg(e,a,s),s=s.sibling}function Cg(e,a,s){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Yt,s)}catch{}switch(s.tag){case 26:Lt||pa(s,a),Da(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Lt||pa(s,a);var r=yt,u=_n;si(s.type)&&(yt=s.stateNode,_n=!1),Da(e,a,s),qo(s.stateNode),yt=r,_n=u;break;case 5:Lt||pa(s,a);case 6:if(r=yt,u=_n,yt=null,Da(e,a,s),yt=r,_n=u,yt!==null)if(_n)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(s.stateNode)}catch(p){nt(s,a,p)}else try{yt.removeChild(s.stateNode)}catch(p){nt(s,a,p)}break;case 18:yt!==null&&(_n?(e=yt,gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Os(e)):gy(yt,s.stateNode));break;case 4:r=yt,u=_n,yt=s.stateNode.containerInfo,_n=!0,Da(e,a,s),yt=r,_n=u;break;case 0:case 11:case 14:case 15:Za(2,s,a),Lt||Za(4,s,a),Da(e,a,s);break;case 1:Lt||(pa(s,a),r=s.stateNode,typeof r.componentWillUnmount=="function"&&yg(s,a,r)),Da(e,a,s);break;case 21:Da(e,a,s);break;case 22:Lt=(r=Lt)||s.memoizedState!==null,Da(e,a,s),Lt=r;break;default:Da(e,a,s)}}function Tg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Os(e)}catch(s){nt(a,a.return,s)}}}function jg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Os(e)}catch(s){nt(a,a.return,s)}}function V1(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Sg),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Sg),a;default:throw Error(o(435,e.tag))}}function gl(e,a){var s=V1(e);a.forEach(function(r){if(!s.has(r)){s.add(r);var u=K1.bind(null,e,r);r.then(u,u)}})}function wn(e,a){var s=a.deletions;if(s!==null)for(var r=0;r<s.length;r++){var u=s[r],p=e,v=a,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(si(b.type)){yt=b.stateNode,_n=!1;break e}break;case 5:yt=b.stateNode,_n=!1;break e;case 3:case 4:yt=b.stateNode.containerInfo,_n=!0;break e}b=b.return}if(yt===null)throw Error(o(160));Cg(p,v,u),yt=null,_n=!1,p=u.alternate,p!==null&&(p.return=null),u.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ag(a,e),a=a.sibling}var aa=null;function Ag(e,a){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wn(a,e),Cn(e),r&4&&(Za(3,e,e.return),Uo(3,e),Za(5,e,e.return));break;case 1:wn(a,e),Cn(e),r&512&&(Lt||s===null||pa(s,s.return)),r&64&&Ra&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var u=aa;if(wn(a,e),Cn(e),r&512&&(Lt||s===null||pa(s,s.return)),r&4){var p=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":p=u.getElementsByTagName("title")[0],(!p||p[ro]||p[Jt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=u.createElement(r),u.head.insertBefore(p,u.querySelector("head > title"))),an(p,r,s),p[Jt]=e,Xt(p),r=p;break e;case"link":var v=Ay("link","href",u).get(r+(s.href||""));if(v){for(var b=0;b<v.length;b++)if(p=v[b],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(b,1);break t}}p=u.createElement(r),an(p,r,s),u.head.appendChild(p);break;case"meta":if(v=Ay("meta","content",u).get(r+(s.content||""))){for(b=0;b<v.length;b++)if(p=v[b],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(b,1);break t}}p=u.createElement(r),an(p,r,s),u.head.appendChild(p);break;default:throw Error(o(468,r))}p[Jt]=e,Xt(p),r=p}e.stateNode=r}else Ey(u,e.type,e.stateNode);else e.stateNode=jy(u,r,e.memoizedProps);else p!==r?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,r===null?Ey(u,e.type,e.stateNode):jy(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&nd(e,e.memoizedProps,s.memoizedProps)}break;case 27:wn(a,e),Cn(e),r&512&&(Lt||s===null||pa(s,s.return)),s!==null&&r&4&&nd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(wn(a,e),Cn(e),r&512&&(Lt||s===null||pa(s,s.return)),e.flags&32){u=e.stateNode;try{ss(u,"")}catch(fe){nt(e,e.return,fe)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,nd(e,u,s!==null?s.memoizedProps:u)),r&1024&&(sd=!0);break;case 6:if(wn(a,e),Cn(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(fe){nt(e,e.return,fe)}}break;case 3:if(Dl=null,u=aa,aa=Ml(a.containerInfo),wn(a,e),aa=u,Cn(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Os(a.containerInfo)}catch(fe){nt(e,e.return,fe)}sd&&(sd=!1,Eg(e));break;case 4:r=aa,aa=Ml(e.stateNode.containerInfo),wn(a,e),Cn(e),aa=r;break;case 12:wn(a,e),Cn(e);break;case 31:wn(a,e),Cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 13:wn(a,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vl=A()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 22:u=e.memoizedState!==null;var T=s!==null&&s.memoizedState!==null,B=Ra,G=Lt;if(Ra=B||u,Lt=G||T,wn(a,e),Lt=G,Ra=B,Cn(e),r&8192)e:for(a=e.stateNode,a._visibility=u?a._visibility&-2:a._visibility|1,u&&(s===null||T||Ra||Lt||Ui(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){T=s=a;try{if(p=T.stateNode,u)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=T.stateNode;var K=T.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null;b.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(fe){nt(T,T.return,fe)}}}else if(a.tag===6){if(s===null){T=a;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(fe){nt(T,T.return,fe)}}}else if(a.tag===18){if(s===null){T=a;try{var H=T.stateNode;u?yy(H,!0):yy(T.stateNode,!1)}catch(fe){nt(T,T.return,fe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,gl(e,s))));break;case 19:wn(a,e),Cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 30:break;case 21:break;default:wn(a,e),Cn(e)}}function Cn(e){var a=e.flags;if(a&2){try{for(var s,r=e.return;r!==null;){if(xg(r)){s=r;break}r=r.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var u=s.stateNode,p=ad(e);ml(e,p,u);break;case 5:var v=s.stateNode;s.flags&32&&(ss(v,""),s.flags&=-33);var b=ad(e);ml(e,b,v);break;case 3:case 4:var T=s.stateNode.containerInfo,B=ad(e);id(e,B,T);break;default:throw Error(o(161))}}catch(G){nt(e,e.return,G)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Eg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Eg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Na(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)_g(e,a.alternate,a),a=a.sibling}function Ui(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Za(4,a,a.return),Ui(a);break;case 1:pa(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&yg(a,a.return,s),Ui(a);break;case 27:qo(a.stateNode);case 26:case 5:pa(a,a.return),Ui(a);break;case 22:a.memoizedState===null&&Ui(a);break;case 30:Ui(a);break;default:Ui(a)}e=e.sibling}}function Ua(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var r=a.alternate,u=e,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ua(u,p,s),Uo(4,p);break;case 1:if(Ua(u,p,s),r=p,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(B){nt(r,r.return,B)}if(r=p,u=r.updateQueue,u!==null){var b=r.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)sm(T[u],b)}catch(B){nt(r,r.return,B)}}s&&v&64&&gg(p),zo(p,p.return);break;case 27:bg(p);case 26:case 5:Ua(u,p,s),s&&r===null&&v&4&&vg(p),zo(p,p.return);break;case 12:Ua(u,p,s);break;case 31:Ua(u,p,s),s&&v&4&&Tg(u,p);break;case 13:Ua(u,p,s),s&&v&4&&jg(u,p);break;case 22:p.memoizedState===null&&Ua(u,p,s),zo(p,p.return);break;case 30:break;default:Ua(u,p,s)}a=a.sibling}}function od(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&So(s))}function rd(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&So(e))}function ia(e,a,s,r){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)kg(e,a,s,r),a=a.sibling}function kg(e,a,s,r){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ia(e,a,s,r),u&2048&&Uo(9,a);break;case 1:ia(e,a,s,r);break;case 3:ia(e,a,s,r),u&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&So(e)));break;case 12:if(u&2048){ia(e,a,s,r),e=a.stateNode;try{var p=a.memoizedProps,v=p.id,b=p.onPostCommit;typeof b=="function"&&b(v,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){nt(a,a.return,T)}}else ia(e,a,s,r);break;case 31:ia(e,a,s,r);break;case 13:ia(e,a,s,r);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?ia(e,a,s,r):Oo(e,a):p._visibility&2?ia(e,a,s,r):(p._visibility|=2,Ts(e,a,s,r,(a.subtreeFlags&10256)!==0||!1)),u&2048&&od(v,a);break;case 24:ia(e,a,s,r),u&2048&&rd(a.alternate,a);break;default:ia(e,a,s,r)}}function Ts(e,a,s,r,u){for(u=u&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=e,v=a,b=s,T=r,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ts(p,v,b,T,u),Uo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Ts(p,v,b,T,u):Oo(p,v):(G._visibility|=2,Ts(p,v,b,T,u)),u&&B&2048&&od(v.alternate,v);break;case 24:Ts(p,v,b,T,u),u&&B&2048&&rd(v.alternate,v);break;default:Ts(p,v,b,T,u)}a=a.sibling}}function Oo(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,r=a,u=r.flags;switch(r.tag){case 22:Oo(s,r),u&2048&&od(r.alternate,r);break;case 24:Oo(s,r),u&2048&&rd(r.alternate,r);break;default:Oo(s,r)}a=a.sibling}}var Bo=8192;function js(e,a,s){if(e.subtreeFlags&Bo)for(e=e.child;e!==null;)Mg(e,a,s),e=e.sibling}function Mg(e,a,s){switch(e.tag){case 26:js(e,a,s),e.flags&Bo&&e.memoizedState!==null&&A_(s,aa,e.memoizedState,e.memoizedProps);break;case 5:js(e,a,s);break;case 3:case 4:var r=aa;aa=Ml(e.stateNode.containerInfo),js(e,a,s),aa=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Bo,Bo=16777216,js(e,a,s),Bo=r):js(e,a,s));break;default:js(e,a,s)}}function Rg(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Lo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var r=a[s];Wt=r,Ng(r,e)}Rg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dg(e),e=e.sibling}function Dg(e){switch(e.tag){case 0:case 11:case 15:Lo(e),e.flags&2048&&Za(9,e,e.return);break;case 3:Lo(e);break;case 12:Lo(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,yl(e)):Lo(e);break;default:Lo(e)}}function yl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var r=a[s];Wt=r,Ng(r,e)}Rg(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Za(8,a,a.return),yl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,yl(a));break;default:yl(a)}e=e.sibling}}function Ng(e,a){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:Za(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:So(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,Wt=r;else e:for(s=e;Wt!==null;){r=Wt;var u=r.sibling,p=r.return;if(wg(r),r===s){Wt=null;break e}if(u!==null){u.return=p,Wt=u;break e}Wt=p}}}var H1={getCacheForType:function(e){var a=tn(zt),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s},cacheSignal:function(){return tn(zt).controller.signal}},F1=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,He=null,Ge=0,tt=0,Un=null,Ja=!1,As=!1,ld=!1,za=0,Tt=0,ei=0,zi=0,cd=0,zn=0,Es=0,Io=null,Tn=null,ud=!1,vl=0,Ug=0,xl=1/0,bl=null,ti=null,Ht=0,ni=null,ks=null,Oa=0,dd=0,fd=null,zg=null,Po=0,pd=null;function On(){return(et&2)!==0&&Ge!==0?Ge&-Ge:U.T!==null?xd():Qp()}function Og(){if(zn===0)if((Ge&536870912)===0||Ye){var e=ae;ae<<=1,(ae&3932160)===0&&(ae=262144),zn=e}else zn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),zn}function jn(e,a,s){(e===ut&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),ai(e,Ge,zn,!1)),Ne(e,s),((et&2)===0||e!==ut)&&(e===ut&&((et&2)===0&&(zi|=s),Tt===4&&ai(e,Ge,zn,!1)),ha(e))}function Bg(e,a,s){if((et&6)!==0)throw Error(o(327));var r=!s&&(a&127)===0&&(a&e.expiredLanes)===0||be(e,a),u=r?$1(e,a):md(e,a,!0),p=r;do{if(u===0){As&&!r&&ai(e,a,0,!1);break}else{if(s=e.current.alternate,p&&!q1(s)){u=md(e,a,!1),p=!1;continue}if(u===2){if(p=a,e.errorRecoveryDisabledLanes&p)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var b=e;u=Io;var T=b.current.memoizedState.isDehydrated;if(T&&(Ms(b,v).flags|=256),v=md(b,v,!1),v!==2){if(ld&&!T){b.errorRecoveryDisabledLanes|=p,zi|=p,u=4;break e}p=Tn,Tn=u,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}u=v}if(p=!1,u!==2)continue}}if(u===1){Ms(e,0),ai(e,a,0,!0);break}e:{switch(r=e,p=u,p){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:ai(r,a,zn,!Ja);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(u=vl+300-A(),10<u)){if(ai(r,a,zn,!Ja),me(r,0,!0)!==0)break e;Oa=a,r.timeoutHandle=hy(Lg.bind(null,r,s,Tn,bl,ud,a,zn,zi,Es,Ja,p,"Throttled",-0,0),u);break e}Lg(r,s,Tn,bl,ud,a,zn,zi,Es,Ja,p,null,-0,0)}}break}while(!0);ha(e)}function Lg(e,a,s,r,u,p,v,b,T,B,G,K,L,H){if(e.timeoutHandle=-1,K=a.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},Mg(a,p,K);var fe=(p&62914560)===p?vl-A():(p&4194048)===p?Ug-A():0;if(fe=E_(K,fe),fe!==null){Oa=p,e.cancelPendingCommit=fe($g.bind(null,e,a,p,s,r,u,v,b,T,G,K,null,L,H)),ai(e,p,v,!B);return}}$g(e,a,p,s,r,u,v,b,T)}function q1(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var u=s[r],p=u.getSnapshot;u=u.value;try{if(!Mn(p(),u))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ai(e,a,s,r){a&=~cd,a&=~zi,e.suspendedLanes|=a,e.pingedLanes&=~a,r&&(e.warmLanes|=a),r=e.expirationTimes;for(var u=a;0<u;){var p=31-Vt(u),v=1<<p;r[p]=-1,u&=~v}s!==0&&Pn(e,s,a)}function Sl(){return(et&6)===0?(Vo(0),!1):!0}function hd(){if(He!==null){if(tt===0)var e=He.return;else e=He,Ta=ji=null,Mu(e),bs=null,wo=0,e=He;for(;e!==null;)mg(e.alternate,e),e=e.return;He=null}}function Ms(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,u_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Oa=0,hd(),ut=e,He=s=wa(e.current,null),Ge=a,tt=0,Un=null,Ja=!1,As=be(e,a),ld=!1,Es=zn=cd=zi=ei=Tt=0,Tn=Io=null,ud=!1,(a&8)!==0&&(a|=a&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=a;0<r;){var u=31-Vt(r),p=1<<u;a|=e[u],r&=~p}return za=a,Hr(),s}function Ig(e,a){Be=null,U.H=Ro,a===xs||a===Kr?(a=tm(),tt=3):a===vu?(a=tm(),tt=4):tt=a===$u?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Un=a,He===null&&(Tt=1,ul(e,qn(a,e.current)))}function Pg(){var e=Dn.current;return e===null?!0:(Ge&4194048)===Ge?Xn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Xn:!1}function Vg(){var e=U.H;return U.H=Ro,e===null?Ro:e}function Hg(){var e=U.A;return U.A=H1,e}function _l(){Tt=4,Ja||(Ge&4194048)!==Ge&&Dn.current!==null||(As=!0),(ei&134217727)===0&&(zi&134217727)===0||ut===null||ai(ut,Ge,zn,!1)}function md(e,a,s){var r=et;et|=2;var u=Vg(),p=Hg();(ut!==e||Ge!==a)&&(bl=null,Ms(e,a)),a=!1;var v=Tt;e:do try{if(tt!==0&&He!==null){var b=He,T=Un;switch(tt){case 8:hd(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(a=!0);var B=tt;if(tt=0,Un=null,Rs(e,b,T,B),s&&As){v=0;break e}break;default:B=tt,tt=0,Un=null,Rs(e,b,T,B)}}G1(),v=Tt;break}catch(G){Ig(e,G)}while(!0);return a&&e.shellSuspendCounter++,Ta=ji=null,et=r,U.H=u,U.A=p,He===null&&(ut=null,Ge=0,Hr()),v}function G1(){for(;He!==null;)Fg(He)}function $1(e,a){var s=et;et|=2;var r=Vg(),u=Hg();ut!==e||Ge!==a?(bl=null,xl=A()+500,Ms(e,a)):As=be(e,a);e:do try{if(tt!==0&&He!==null){a=He;var p=Un;t:switch(tt){case 1:tt=0,Un=null,Rs(e,a,p,1);break;case 2:case 9:if(Jh(p)){tt=0,Un=null,qg(a);break}a=function(){tt!==2&&tt!==9||ut!==e||(tt=7),ha(e)},p.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Jh(p)?(tt=0,Un=null,qg(a)):(tt=0,Un=null,Rs(e,a,p,7));break;case 5:var v=null;switch(He.tag){case 26:v=He.memoizedState;case 5:case 27:var b=He;if(v?ky(v):b.stateNode.complete){tt=0,Un=null;var T=b.sibling;if(T!==null)He=T;else{var B=b.return;B!==null?(He=B,wl(B)):He=null}break t}}tt=0,Un=null,Rs(e,a,p,5);break;case 6:tt=0,Un=null,Rs(e,a,p,6);break;case 8:hd(),Tt=6;break e;default:throw Error(o(462))}}Y1();break}catch(G){Ig(e,G)}while(!0);return Ta=ji=null,U.H=r,U.A=u,et=s,He!==null?0:(ut=null,Ge=0,Hr(),Tt)}function Y1(){for(;He!==null&&!ca();)Fg(He)}function Fg(e){var a=pg(e.alternate,e,za);e.memoizedProps=e.pendingProps,a===null?wl(e):He=a}function qg(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=rg(s,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=rg(s,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:Mu(a);default:mg(s,a),a=He=Hh(a,za),a=pg(s,a,za)}e.memoizedProps=e.pendingProps,a===null?wl(e):He=a}function Rs(e,a,s,r){Ta=ji=null,Mu(a),bs=null,wo=0;var u=a.return;try{if(z1(e,u,a,s,Ge)){Tt=1,ul(e,qn(s,e.current)),He=null;return}}catch(p){if(u!==null)throw He=u,p;Tt=1,ul(e,qn(s,e.current)),He=null;return}a.flags&32768?(Ye||r===1?e=!0:As||(Ge&536870912)!==0?e=!1:(Ja=e=!0,(r===2||r===9||r===3||r===6)&&(r=Dn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Gg(a,e)):wl(a)}function wl(e){var a=e;do{if((a.flags&32768)!==0){Gg(a,Ja);return}e=a.return;var s=L1(a.alternate,a,za);if(s!==null){He=s;return}if(a=a.sibling,a!==null){He=a;return}He=a=e}while(a!==null);Tt===0&&(Tt=5)}function Gg(e,a){do{var s=I1(e.alternate,e);if(s!==null){s.flags&=32767,He=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){He=e;return}He=e=s}while(e!==null);Tt=6,He=null}function $g(e,a,s,r,u,p,v,b,T){e.cancelPendingCommit=null;do Cl();while(Ht!==0);if((et&6)!==0)throw Error(o(327));if(a!==null){if(a===e.current)throw Error(o(177));if(p=a.lanes|a.childLanes,p|=au,st(e,s,p,v,b,T),e===ut&&(He=ut=null,Ge=0),ks=a,ni=e,Oa=s,dd=p,fd=u,zg=r,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Q1(q,function(){return Qg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,u=ee.p,ee.p=2,v=et,et|=4;try{P1(e,a,s)}finally{et=v,ee.p=u,U.T=r}}Ht=1,Yg(),Xg(),Wg()}}function Yg(){if(Ht===1){Ht=0;var e=ni,a=ks,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var r=ee.p;ee.p=2;var u=et;et|=4;try{Ag(a,e);var p=Ad,v=Nh(e.containerInfo),b=p.focusedElem,T=p.selectionRange;if(v!==b&&b&&b.ownerDocument&&Dh(b.ownerDocument.documentElement,b)){if(T!==null&&Zc(b)){var B=T.start,G=T.end;if(G===void 0&&(G=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(G,b.value.length);else{var K=b.ownerDocument||document,L=K&&K.defaultView||window;if(L.getSelection){var H=L.getSelection(),fe=b.textContent.length,Ae=Math.min(T.start,fe),lt=T.end===void 0?Ae:Math.min(T.end,fe);!H.extend&&Ae>lt&&(v=lt,lt=Ae,Ae=v);var D=Rh(b,Ae),E=Rh(b,lt);if(D&&E&&(H.rangeCount!==1||H.anchorNode!==D.node||H.anchorOffset!==D.offset||H.focusNode!==E.node||H.focusOffset!==E.offset)){var z=K.createRange();z.setStart(D.node,D.offset),H.removeAllRanges(),Ae>lt?(H.addRange(z),H.extend(E.node,E.offset)):(z.setEnd(E.node,E.offset),H.addRange(z))}}}}for(K=[],H=b;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<K.length;b++){var Y=K[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ol=!!jd,Ad=jd=null}finally{et=u,ee.p=r,U.T=s}}e.current=a,Ht=2}}function Xg(){if(Ht===2){Ht=0;var e=ni,a=ks,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var r=ee.p;ee.p=2;var u=et;et|=4;try{_g(e,a.alternate,a)}finally{et=u,ee.p=r,U.T=s}}Ht=3}}function Wg(){if(Ht===4||Ht===3){Ht=0,$();var e=ni,a=ks,s=Oa,r=zg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ht=5:(Ht=0,ks=ni=null,Kg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ti=null),Nc(s),a=a.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Yt,a,void 0,(a.current.flags&128)===128)}catch{}if(r!==null){a=U.T,u=ee.p,ee.p=2,U.T=null;try{for(var p=e.onRecoverableError,v=0;v<r.length;v++){var b=r[v];p(b.value,{componentStack:b.stack})}}finally{U.T=a,ee.p=u}}(Oa&3)!==0&&Cl(),ha(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===pd?Po++:(Po=0,pd=e):Po=0,Vo(0)}}function Kg(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,So(a)))}function Cl(){return Yg(),Xg(),Wg(),Qg()}function Qg(){if(Ht!==5)return!1;var e=ni,a=dd;dd=0;var s=Nc(Oa),r=U.T,u=ee.p;try{ee.p=32>s?32:s,U.T=null,s=fd,fd=null;var p=ni,v=Oa;if(Ht=0,ks=ni=null,Oa=0,(et&6)!==0)throw Error(o(331));var b=et;if(et|=4,Dg(p.current),kg(p,p.current,v,s),et=b,Vo(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Yt,p)}catch{}return!0}finally{ee.p=u,U.T=r,Kg(e,a)}}function Zg(e,a,s){a=qn(s,a),a=Gu(e.stateNode,a,2),e=Wa(e,a,2),e!==null&&(Ne(e,2),ha(e))}function nt(e,a,s){if(e.tag===3)Zg(e,e,s);else for(;a!==null;){if(a.tag===3){Zg(a,e,s);break}else if(a.tag===1){var r=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){e=qn(s,e),s=Jm(2),r=Wa(a,s,2),r!==null&&(eg(s,r,a,e),Ne(r,2),ha(r));break}}a=a.return}}function gd(e,a,s){var r=e.pingCache;if(r===null){r=e.pingCache=new F1;var u=new Set;r.set(a,u)}else u=r.get(a),u===void 0&&(u=new Set,r.set(a,u));u.has(s)||(ld=!0,u.add(s),e=X1.bind(null,e,a,s),a.then(e,e))}function X1(e,a,s){var r=e.pingCache;r!==null&&r.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ut===e&&(Ge&s)===s&&(Tt===4||Tt===3&&(Ge&62914560)===Ge&&300>A()-vl?(et&2)===0&&Ms(e,0):cd|=s,Es===Ge&&(Es=0)),ha(e)}function Jg(e,a){a===0&&(a=re()),e=wi(e,a),e!==null&&(Ne(e,a),ha(e))}function W1(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Jg(e,s)}function K1(e,a){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(a),Jg(e,s)}function Q1(e,a){return ft(e,a)}var Tl=null,Ds=null,yd=!1,jl=!1,vd=!1,ii=0;function ha(e){e!==Ds&&e.next===null&&(Ds===null?Tl=Ds=e:Ds=Ds.next=e),jl=!0,yd||(yd=!0,J1())}function Vo(e,a){if(!vd&&jl){vd=!0;do for(var s=!1,r=Tl;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var p=0;else{var v=r.suspendedLanes,b=r.pingedLanes;p=(1<<31-Vt(42|e)+1)-1,p&=u&~(v&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,ay(r,p))}else p=Ge,p=me(r,r===ut?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||be(r,p)||(s=!0,ay(r,p));r=r.next}while(s);vd=!1}}function Z1(){ey()}function ey(){jl=yd=!1;var e=0;ii!==0&&c_()&&(e=ii);for(var a=A(),s=null,r=Tl;r!==null;){var u=r.next,p=ty(r,a);p===0?(r.next=null,s===null?Tl=u:s.next=u,u===null&&(Ds=s)):(s=r,(e!==0||(p&3)!==0)&&(jl=!0)),r=u}Ht!==0&&Ht!==5||Vo(e),ii!==0&&(ii=0)}function ty(e,a){for(var s=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var v=31-Vt(p),b=1<<v,T=u[v];T===-1?((b&s)===0||(b&r)!==0)&&(u[v]=Pe(b,a)):T<=a&&(e.expiredLanes|=b),p&=~b}if(a=ut,s=Ge,s=me(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===a&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ta(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||be(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(r!==null&&ta(r),Nc(s)){case 2:case 8:s=Te;break;case 32:s=q;break;case 268435456:s=ct;break;default:s=q}return r=ny.bind(null,e),s=ft(s,r),e.callbackPriority=a,e.callbackNode=s,a}return r!==null&&r!==null&&ta(r),e.callbackPriority=2,e.callbackNode=null,2}function ny(e,a){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Cl()&&e.callbackNode!==s)return null;var r=Ge;return r=me(e,e===ut?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Bg(e,r,a),ty(e,A()),e.callbackNode!=null&&e.callbackNode===s?ny.bind(null,e):null)}function ay(e,a){if(Cl())return null;Bg(e,a,!0)}function J1(){d_(function(){(et&6)!==0?ft(he,Z1):ey()})}function xd(){if(ii===0){var e=ys;e===0&&(e=te,te<<=1,(te&261888)===0&&(te=256)),ii=e}return ii}function iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ur(""+e)}function sy(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function e_(e,a,s,r,u){if(a==="submit"&&s&&s.stateNode===u){var p=iy((u[bn]||null).action),v=r.submitter;v&&(a=(a=v[bn]||null)?iy(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var b=new Lr("action","action",null,r,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ii!==0){var T=v?sy(u,v):new FormData(u);Iu(s,{pending:!0,data:T,method:u.method,action:p},null,T)}}else typeof p=="function"&&(b.preventDefault(),T=v?sy(u,v):new FormData(u),Iu(s,{pending:!0,data:T,method:u.method,action:p},p,T))},currentTarget:u}]})}}for(var bd=0;bd<nu.length;bd++){var Sd=nu[bd],t_=Sd.toLowerCase(),n_=Sd[0].toUpperCase()+Sd.slice(1);na(t_,"on"+n_)}na(Oh,"onAnimationEnd"),na(Bh,"onAnimationIteration"),na(Lh,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(v1,"onTransitionRun"),na(x1,"onTransitionStart"),na(b1,"onTransitionCancel"),na(Ih,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function oy(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],u=r.event;r=r.listeners;e:{var p=void 0;if(a)for(var v=r.length-1;0<=v;v--){var b=r[v],T=b.instance,B=b.currentTarget;if(b=b.listener,T!==p&&u.isPropagationStopped())break e;p=b,u.currentTarget=B;try{p(u)}catch(G){Vr(G)}u.currentTarget=null,p=T}else for(v=0;v<r.length;v++){if(b=r[v],T=b.instance,B=b.currentTarget,b=b.listener,T!==p&&u.isPropagationStopped())break e;p=b,u.currentTarget=B;try{p(u)}catch(G){Vr(G)}u.currentTarget=null,p=T}}}}function Fe(e,a){var s=a[Uc];s===void 0&&(s=a[Uc]=new Set);var r=e+"__bubble";s.has(r)||(ry(a,e,2,!1),s.add(r))}function _d(e,a,s){var r=0;a&&(r|=4),ry(s,e,r,a)}var Al="_reactListening"+Math.random().toString(36).slice(2);function wd(e){if(!e[Al]){e[Al]=!0,eh.forEach(function(s){s!=="selectionchange"&&(a_.has(s)||_d(s,!1,e),_d(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Al]||(a[Al]=!0,_d("selectionchange",!1,a))}}function ry(e,a,s,r){switch(Oy(a)){case 2:var u=R_;break;case 8:u=D_;break;default:u=Ld}s=u.bind(null,a,s,e),u=void 0,!Fc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(a,s,{capture:!0,passive:u}):e.addEventListener(a,s,!0):u!==void 0?e.addEventListener(a,s,{passive:u}):e.addEventListener(a,s,!1)}function Cd(e,a,s,r,u){var p=r;if((a&1)===0&&(a&2)===0&&r!==null)e:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var b=r.stateNode.containerInfo;if(b===u)break;if(v===4)for(v=r.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;b!==null;){if(v=es(b),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){r=p=v;continue e}b=b.parentNode}}r=r.return}fh(function(){var B=p,G=Vc(s),K=[];e:{var L=Ph.get(e);if(L!==void 0){var H=Lr,fe=e;switch(e){case"keypress":if(Or(s)===0)break e;case"keydown":case"keyup":H=KS;break;case"focusin":fe="focus",H=Yc;break;case"focusout":fe="blur",H=Yc;break;case"beforeblur":case"afterblur":H=Yc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=JS;break;case Oh:case Bh:case Lh:H=VS;break;case Ih:H=t1;break;case"scroll":case"scrollend":H=OS;break;case"wheel":H=a1;break;case"copy":case"cut":case"paste":H=FS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=yh;break;case"toggle":case"beforetoggle":H=s1}var Ae=(a&4)!==0,lt=!Ae&&(e==="scroll"||e==="scrollend"),D=Ae?L!==null?L+"Capture":null:L;Ae=[];for(var E=B,z;E!==null;){var Y=E;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||D===null||(Y=co(E,D),Y!=null&&Ae.push(Fo(E,Y,z))),lt)break;E=E.return}0<Ae.length&&(L=new H(L,fe,null,s,G),K.push({event:L,listeners:Ae}))}}if((a&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&s!==Pc&&(fe=s.relatedTarget||s.fromElement)&&(es(fe)||fe[Ji]))break e;if((H||L)&&(L=G.window===G?G:(L=G.ownerDocument)?L.defaultView||L.parentWindow:window,H?(fe=s.relatedTarget||s.toElement,H=B,fe=fe?es(fe):null,fe!==null&&(lt=d(fe),Ae=fe.tag,fe!==lt||Ae!==5&&Ae!==27&&Ae!==6)&&(fe=null)):(H=null,fe=B),H!==fe)){if(Ae=mh,Y="onMouseLeave",D="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=yh,Y="onPointerLeave",D="onPointerEnter",E="pointer"),lt=H==null?L:lo(H),z=fe==null?L:lo(fe),L=new Ae(Y,E+"leave",H,s,G),L.target=lt,L.relatedTarget=z,Y=null,es(G)===B&&(Ae=new Ae(D,E+"enter",fe,s,G),Ae.target=z,Ae.relatedTarget=lt,Y=Ae),lt=Y,H&&fe)t:{for(Ae=i_,D=H,E=fe,z=0,Y=D;Y;Y=Ae(Y))z++;Y=0;for(var _e=E;_e;_e=Ae(_e))Y++;for(;0<z-Y;)D=Ae(D),z--;for(;0<Y-z;)E=Ae(E),Y--;for(;z--;){if(D===E||E!==null&&D===E.alternate){Ae=D;break t}D=Ae(D),E=Ae(E)}Ae=null}else Ae=null;H!==null&&ly(K,L,H,Ae,!1),fe!==null&&lt!==null&&ly(K,lt,fe,Ae,!0)}}e:{if(L=B?lo(B):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Ke=Th;else if(wh(L))if(jh)Ke=m1;else{Ke=p1;var ge=f1}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?B&&Ic(B.elementType)&&(Ke=Th):Ke=h1;if(Ke&&(Ke=Ke(e,B))){Ch(K,Ke,s,G);break e}ge&&ge(e,L,B),e==="focusout"&&B&&L.type==="number"&&B.memoizedProps.value!=null&&Lc(L,"number",L.value)}switch(ge=B?lo(B):window,e){case"focusin":(wh(ge)||ge.contentEditable==="true")&&(cs=ge,Jc=B,vo=null);break;case"focusout":vo=Jc=cs=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Uh(K,s,G);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":Uh(K,s,G)}var Ie;if(Wc)e:{switch(e){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ls?Sh(e,s)&&($e="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&($e="onCompositionStart");$e&&(vh&&s.locale!=="ko"&&(ls||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ls&&(Ie=ph()):(Ha=G,qc="value"in Ha?Ha.value:Ha.textContent,ls=!0)),ge=El(B,$e),0<ge.length&&($e=new gh($e,e,null,s,G),K.push({event:$e,listeners:ge}),Ie?$e.data=Ie:(Ie=_h(s),Ie!==null&&($e.data=Ie)))),(Ie=r1?l1(e,s):c1(e,s))&&($e=El(B,"onBeforeInput"),0<$e.length&&(ge=new gh("onBeforeInput","beforeinput",null,s,G),K.push({event:ge,listeners:$e}),ge.data=Ie)),e_(K,e,B,s,G)}oy(K,a)})}function Fo(e,a,s){return{instance:e,listener:a,currentTarget:s}}function El(e,a){for(var s=a+"Capture",r=[];e!==null;){var u=e,p=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||p===null||(u=co(e,s),u!=null&&r.unshift(Fo(e,u,p)),u=co(e,a),u!=null&&r.push(Fo(e,u,p))),e.tag===3)return r;e=e.return}return[]}function i_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ly(e,a,s,r,u){for(var p=a._reactName,v=[];s!==null&&s!==r;){var b=s,T=b.alternate,B=b.stateNode;if(b=b.tag,T!==null&&T===r)break;b!==5&&b!==26&&b!==27||B===null||(T=B,u?(B=co(s,p),B!=null&&v.unshift(Fo(s,B,T))):u||(B=co(s,p),B!=null&&v.push(Fo(s,B,T)))),s=s.return}v.length!==0&&e.push({event:a,listeners:v})}var s_=/\r\n?/g,o_=/\u0000|\uFFFD/g;function cy(e){return(typeof e=="string"?e:""+e).replace(s_,`
`).replace(o_,"")}function uy(e,a){return a=cy(a),cy(e)===a}function rt(e,a,s,r,u,p){switch(s){case"children":typeof r=="string"?a==="body"||a==="textarea"&&r===""||ss(e,r):(typeof r=="number"||typeof r=="bigint")&&a!=="body"&&ss(e,""+r);break;case"className":Dr(e,"class",r);break;case"tabIndex":Dr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Dr(e,s,r);break;case"style":uh(e,r,p);break;case"data":if(a!=="object"){Dr(e,"data",r);break}case"src":case"href":if(r===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=Ur(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(a!=="input"&&rt(e,a,"name",u.name,u,null),rt(e,a,"formEncType",u.formEncType,u,null),rt(e,a,"formMethod",u.formMethod,u,null),rt(e,a,"formTarget",u.formTarget,u,null)):(rt(e,a,"encType",u.encType,u,null),rt(e,a,"method",u.method,u,null),rt(e,a,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=Ur(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Sa);break;case"onScroll":r!=null&&Fe("scroll",e);break;case"onScrollEnd":r!=null&&Fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=Ur(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":Fe("beforetoggle",e),Fe("toggle",e),Rr(e,"popover",r);break;case"xlinkActuate":ba(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ba(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ba(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ba(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ba(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ba(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ba(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ba(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ba(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Rr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=US.get(s)||s,Rr(e,s,r))}}function Td(e,a,s,r,u,p){switch(s){case"style":uh(e,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof r=="string"?ss(e,r):(typeof r=="number"||typeof r=="bigint")&&ss(e,""+r);break;case"onScroll":r!=null&&Fe("scroll",e);break;case"onScrollEnd":r!=null&&Fe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!th.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),a=s.slice(2,u?s.length-7:void 0),p=e[bn]||null,p=p!=null?p[s]:null,typeof p=="function"&&e.removeEventListener(a,p,u),typeof r=="function")){typeof p!="function"&&p!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,r,u);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):Rr(e,s,r)}}}function an(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",e),Fe("load",e);var r=!1,u=!1,p;for(p in s)if(s.hasOwnProperty(p)){var v=s[p];if(v!=null)switch(p){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:rt(e,a,p,v,s,null)}}u&&rt(e,a,"srcSet",s.srcSet,s,null),r&&rt(e,a,"src",s.src,s,null);return;case"input":Fe("invalid",e);var b=p=v=u=null,T=null,B=null;for(r in s)if(s.hasOwnProperty(r)){var G=s[r];if(G!=null)switch(r){case"name":u=G;break;case"type":v=G;break;case"checked":T=G;break;case"defaultChecked":B=G;break;case"value":p=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,a));break;default:rt(e,a,r,G,s,null)}}oh(e,p,b,T,B,v,u,!1);return;case"select":Fe("invalid",e),r=v=p=null;for(u in s)if(s.hasOwnProperty(u)&&(b=s[u],b!=null))switch(u){case"value":p=b;break;case"defaultValue":v=b;break;case"multiple":r=b;default:rt(e,a,u,b,s,null)}a=p,s=v,e.multiple=!!r,a!=null?is(e,!!r,a,!1):s!=null&&is(e,!!r,s,!0);return;case"textarea":Fe("invalid",e),p=u=r=null;for(v in s)if(s.hasOwnProperty(v)&&(b=s[v],b!=null))switch(v){case"value":r=b;break;case"defaultValue":u=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:rt(e,a,v,b,s,null)}lh(e,r,u,p);return;case"option":for(T in s)if(s.hasOwnProperty(T)&&(r=s[T],r!=null))switch(T){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:rt(e,a,T,r,s,null)}return;case"dialog":Fe("beforetoggle",e),Fe("toggle",e),Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":Fe("load",e);break;case"video":case"audio":for(r=0;r<Ho.length;r++)Fe(Ho[r],e);break;case"image":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"embed":case"source":case"link":Fe("error",e),Fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(r=s[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:rt(e,a,B,r,s,null)}return;default:if(Ic(a)){for(G in s)s.hasOwnProperty(G)&&(r=s[G],r!==void 0&&Td(e,a,G,r,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(r=s[b],r!=null&&rt(e,a,b,r,s,null))}function r_(e,a,s,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,p=null,v=null,b=null,T=null,B=null,G=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":T=K;default:r.hasOwnProperty(H)||rt(e,a,H,null,r,K)}}for(var L in r){var H=r[L];if(K=s[L],r.hasOwnProperty(L)&&(H!=null||K!=null))switch(L){case"type":p=H;break;case"name":u=H;break;case"checked":B=H;break;case"defaultChecked":G=H;break;case"value":v=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,a));break;default:H!==K&&rt(e,a,L,H,r,K)}}Bc(e,v,b,T,B,G,p,u);return;case"select":H=v=b=L=null;for(p in s)if(T=s[p],s.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":H=T;default:r.hasOwnProperty(p)||rt(e,a,p,null,r,T)}for(u in r)if(p=r[u],T=s[u],r.hasOwnProperty(u)&&(p!=null||T!=null))switch(u){case"value":L=p;break;case"defaultValue":b=p;break;case"multiple":v=p;default:p!==T&&rt(e,a,u,p,r,T)}a=b,s=v,r=H,L!=null?is(e,!!s,L,!1):!!r!=!!s&&(a!=null?is(e,!!s,a,!0):is(e,!!s,s?[]:"",!1));return;case"textarea":H=L=null;for(b in s)if(u=s[b],s.hasOwnProperty(b)&&u!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(e,a,b,null,r,u)}for(v in r)if(u=r[v],p=s[v],r.hasOwnProperty(v)&&(u!=null||p!=null))switch(v){case"value":L=u;break;case"defaultValue":H=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==p&&rt(e,a,v,u,r,p)}rh(e,L,H);return;case"option":for(var fe in s)if(L=s[fe],s.hasOwnProperty(fe)&&L!=null&&!r.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:rt(e,a,fe,null,r,L)}for(T in r)if(L=r[T],H=s[T],r.hasOwnProperty(T)&&L!==H&&(L!=null||H!=null))switch(T){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:rt(e,a,T,L,r,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)L=s[Ae],s.hasOwnProperty(Ae)&&L!=null&&!r.hasOwnProperty(Ae)&&rt(e,a,Ae,null,r,L);for(B in r)if(L=r[B],H=s[B],r.hasOwnProperty(B)&&L!==H&&(L!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,a));break;default:rt(e,a,B,L,r,H)}return;default:if(Ic(a)){for(var lt in s)L=s[lt],s.hasOwnProperty(lt)&&L!==void 0&&!r.hasOwnProperty(lt)&&Td(e,a,lt,void 0,r,L);for(G in r)L=r[G],H=s[G],!r.hasOwnProperty(G)||L===H||L===void 0&&H===void 0||Td(e,a,G,L,r,H);return}}for(var D in s)L=s[D],s.hasOwnProperty(D)&&L!=null&&!r.hasOwnProperty(D)&&rt(e,a,D,null,r,L);for(K in r)L=r[K],H=s[K],!r.hasOwnProperty(K)||L===H||L==null&&H==null||rt(e,a,K,L,r,H)}function dy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var u=s[r],p=u.transferSize,v=u.initiatorType,b=u.duration;if(p&&b&&dy(v)){for(v=0,b=u.responseEnd,r+=1;r<s.length;r++){var T=s[r],B=T.startTime;if(B>b)break;var G=T.transferSize,K=T.initiatorType;G&&dy(K)&&(T=T.responseEnd,v+=G*(T<b?1:(b-B)/(T-B)))}if(--r,a+=8*(p+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jd=null,Ad=null;function kl(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Ed(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var kd=null;function c_(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,u_=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,d_=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(e){return my.resolve(null).then(e).catch(f_)}:hy;function f_(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function gy(e,a){var s=a,r=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(u),Os(a);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")qo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,qo(s);for(var p=s.firstChild;p;){var v=p.nextSibling,b=p.nodeName;p[ro]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=v}}else s==="body"&&qo(e.ownerDocument.body);s=u}while(s);Os(a)}function yy(e,a){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function Md(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Md(s),zc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function p_(e,a,s,r){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ro])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var p=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function h_(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Wn(e.nextSibling),e===null))return null;return e}function vy(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function m_(e,a){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||s.readyState!=="loading")a();else{var r=function(){a(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Wn(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Nd=null;function xy(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(a===0)return Wn(e.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}e=e.nextSibling}return null}function by(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return e;a--}else s!=="/$"&&s!=="/&"||a++}e=e.previousSibling}return null}function Sy(e,a,s){switch(a=kl(s),e){case"html":if(e=a.documentElement,!e)throw Error(o(452));return e;case"head":if(e=a.head,!e)throw Error(o(453));return e;case"body":if(e=a.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function qo(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);zc(e)}var Kn=new Map,_y=new Set;function Ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ba=ee.d;ee.d={f:g_,r:y_,D:v_,C:x_,L:b_,m:S_,X:w_,S:__,M:C_};function g_(){var e=Ba.f(),a=Sl();return e||a}function y_(e){var a=ts(e);a!==null&&a.tag===5&&a.type==="form"?Im(a):Ba.r(e)}var Ns=typeof document>"u"?null:document;function wy(e,a,s){var r=Ns;if(r&&typeof a=="string"&&a){var u=Hn(a);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),_y.has(u)||(_y.add(u),e={rel:e,crossOrigin:s,href:a},r.querySelector(u)===null&&(a=r.createElement("link"),an(a,"link",e),Xt(a),r.head.appendChild(a)))}}function v_(e){Ba.D(e),wy("dns-prefetch",e,null)}function x_(e,a){Ba.C(e,a),wy("preconnect",e,a)}function b_(e,a,s){Ba.L(e,a,s);var r=Ns;if(r&&e&&a){var u='link[rel="preload"][as="'+Hn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Hn(s.imageSizes)+'"]')):u+='[href="'+Hn(e)+'"]';var p=u;switch(a){case"style":p=Us(e);break;case"script":p=zs(e)}Kn.has(p)||(e=x({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),Kn.set(p,e),r.querySelector(u)!==null||a==="style"&&r.querySelector(Go(p))||a==="script"&&r.querySelector($o(p))||(a=r.createElement("link"),an(a,"link",e),Xt(a),r.head.appendChild(a)))}}function S_(e,a){Ba.m(e,a);var s=Ns;if(s&&e){var r=a&&typeof a.as=="string"?a.as:"script",u='link[rel="modulepreload"][as="'+Hn(r)+'"][href="'+Hn(e)+'"]',p=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=zs(e)}if(!Kn.has(p)&&(e=x({rel:"modulepreload",href:e},a),Kn.set(p,e),s.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($o(p)))return}r=s.createElement("link"),an(r,"link",e),Xt(r),s.head.appendChild(r)}}}function __(e,a,s){Ba.S(e,a,s);var r=Ns;if(r&&e){var u=ns(r).hoistableStyles,p=Us(e);a=a||"default";var v=u.get(p);if(!v){var b={loading:0,preload:null};if(v=r.querySelector(Go(p)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":a},s),(s=Kn.get(p))&&Ud(e,s);var T=v=r.createElement("link");Xt(T),an(T,"link",e),T._p=new Promise(function(B,G){T.onload=B,T.onerror=G}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Rl(v,a,r)}v={type:"stylesheet",instance:v,count:1,state:b},u.set(p,v)}}}function w_(e,a){Ba.X(e,a);var s=Ns;if(s&&e){var r=ns(s).hoistableScripts,u=zs(e),p=r.get(u);p||(p=s.querySelector($o(u)),p||(e=x({src:e,async:!0},a),(a=Kn.get(u))&&zd(e,a),p=s.createElement("script"),Xt(p),an(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(u,p))}}function C_(e,a){Ba.M(e,a);var s=Ns;if(s&&e){var r=ns(s).hoistableScripts,u=zs(e),p=r.get(u);p||(p=s.querySelector($o(u)),p||(e=x({src:e,async:!0,type:"module"},a),(a=Kn.get(u))&&zd(e,a),p=s.createElement("script"),Xt(p),an(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(u,p))}}function Cy(e,a,s,r){var u=(u=oe.current)?Ml(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Us(s.href),s=ns(u).hoistableStyles,r=s.get(a),r||(r={type:"style",instance:null,count:0,state:null},s.set(a,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Us(s.href);var p=ns(u).hoistableStyles,v=p.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,v),(p=u.querySelector(Go(e)))&&!p._p&&(v.instance=p,v.state.loading=5),Kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kn.set(e,s),p||T_(u,e,s,v.state))),a&&r===null)throw Error(o(528,""));return v}if(a&&r!==null)throw Error(o(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=zs(s),s=ns(u).hoistableScripts,r=s.get(a),r||(r={type:"script",instance:null,count:0,state:null},s.set(a,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Us(e){return'href="'+Hn(e)+'"'}function Go(e){return'link[rel="stylesheet"]['+e+"]"}function Ty(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function T_(e,a,s,r){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?r.loading=1:(a=e.createElement("link"),r.preload=a,a.addEventListener("load",function(){return r.loading|=1}),a.addEventListener("error",function(){return r.loading|=2}),an(a,"link",s),Xt(a),e.head.appendChild(a))}function zs(e){return'[src="'+Hn(e)+'"]'}function $o(e){return"script[async]"+e}function jy(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var r=e.querySelector('style[data-href~="'+Hn(s.href)+'"]');if(r)return a.instance=r,Xt(r),r;var u=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Xt(r),an(r,"style",u),Rl(r,s.precedence,e),a.instance=r;case"stylesheet":u=Us(s.href);var p=e.querySelector(Go(u));if(p)return a.state.loading|=4,a.instance=p,Xt(p),p;r=Ty(s),(u=Kn.get(u))&&Ud(r,u),p=(e.ownerDocument||e).createElement("link"),Xt(p);var v=p;return v._p=new Promise(function(b,T){v.onload=b,v.onerror=T}),an(p,"link",r),a.state.loading|=4,Rl(p,s.precedence,e),a.instance=p;case"script":return p=zs(s.src),(u=e.querySelector($o(p)))?(a.instance=u,Xt(u),u):(r=s,(u=Kn.get(p))&&(r=x({},s),zd(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xt(u),an(u,"link",r),e.head.appendChild(u),a.instance=u);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(r=a.instance,a.state.loading|=4,Rl(r,s.precedence,e));return a.instance}function Rl(e,a,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,p=u,v=0;v<r.length;v++){var b=r[v];if(b.dataset.precedence===a)p=b;else if(p!==u)break}p?p.parentNode.insertBefore(e,p.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function Ud(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function zd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Dl=null;function Ay(e,a,s){if(Dl===null){var r=new Map,u=Dl=new Map;u.set(s,r)}else u=Dl,r=u.get(s),r||(r=new Map,u.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var p=s[u];if(!(p[ro]||p[Jt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=e+v;var b=r.get(v);b?b.push(p):r.set(v,[p])}}return r}function Ey(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function j_(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function A_(e,a,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Us(r.href),p=a.querySelector(Go(u));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=Nl.bind(e),a.then(e,e)),s.state.loading|=4,s.instance=p,Xt(p);return}p=a.ownerDocument||a,r=Ty(r),(u=Kn.get(u))&&Ud(r,u),p=p.createElement("link"),Xt(p);var v=p;v._p=new Promise(function(b,T){v.onload=b,v.onerror=T}),an(p,"link",r),s.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Nl.bind(e),a.addEventListener("load",s),a.addEventListener("error",s))}}var Od=0;function E_(e,a){return e.stylesheets&&e.count===0&&zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+a);0<e.imgBytes&&Od===0&&(Od=62500*l_());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Od?50:800)+a);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function Nl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ul=null;function zl(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ul=new Map,a.forEach(k_,e),Ul=null,Nl.call(e))}function k_(e,a){if(!(a.state.loading&4)){var s=Ul.get(e);if(s)var r=s.get(null);else{s=new Map,Ul.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<u.length;p++){var v=u[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),r=v)}r&&s.set(null,r)}u=a.instance,v=u.getAttribute("data-precedence"),p=s.get(v)||r,p===r&&s.set(null,u),s.set(v,u),this.count++,r=Nl.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),p?p.parentNode.insertBefore(u,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),a.state.loading|=4}}var Yo={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function M_(e,a,s,r,u,p,v,b,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function My(e,a,s,r,u,p,v,b,T,B,G,K){return e=new M_(e,a,s,v,T,B,G,K,b),a=1,p===!0&&(a|=24),p=Rn(3,null,null,a),e.current=p,p.stateNode=e,a=mu(),a.refCount++,e.pooledCache=a,a.refCount++,p.memoizedState={element:r,isDehydrated:s,cache:a},xu(p),e}function Ry(e){return e?(e=fs,e):fs}function Dy(e,a,s,r,u,p){u=Ry(u),r.context===null?r.context=u:r.pendingContext=u,r=Xa(a),r.payload={element:s},p=p===void 0?null:p,p!==null&&(r.callback=p),s=Wa(e,r,a),s!==null&&(jn(s,e,a),To(s,e,a))}function Ny(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function Bd(e,a){Ny(e,a),(e=e.alternate)&&Ny(e,a)}function Uy(e){if(e.tag===13||e.tag===31){var a=wi(e,67108864);a!==null&&jn(a,e,67108864),Bd(e,67108864)}}function zy(e){if(e.tag===13||e.tag===31){var a=On();a=ua(a);var s=wi(e,a);s!==null&&jn(s,e,a),Bd(e,a)}}var Ol=!0;function R_(e,a,s,r){var u=U.T;U.T=null;var p=ee.p;try{ee.p=2,Ld(e,a,s,r)}finally{ee.p=p,U.T=u}}function D_(e,a,s,r){var u=U.T;U.T=null;var p=ee.p;try{ee.p=8,Ld(e,a,s,r)}finally{ee.p=p,U.T=u}}function Ld(e,a,s,r){if(Ol){var u=Id(r);if(u===null)Cd(e,a,r,Bl,s),By(e,r);else if(U_(u,e,a,s,r))r.stopPropagation();else if(By(e,r),a&4&&-1<N_.indexOf(e)){for(;u!==null;){var p=ts(u);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=xe(p.pendingLanes);if(v!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var T=1<<31-Vt(v);b.entanglements[1]|=T,v&=~T}ha(p),(et&6)===0&&(xl=A()+500,Vo(0))}}break;case 31:case 13:b=wi(p,2),b!==null&&jn(b,p,2),Sl(),Bd(p,2)}if(p=Id(r),p===null&&Cd(e,a,r,Bl,s),p===u)break;u=p}u!==null&&r.stopPropagation()}else Cd(e,a,r,null,s)}}function Id(e){return e=Vc(e),Pd(e)}var Bl=null;function Pd(e){if(Bl=null,e=es(e),e!==null){var a=d(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=f(a),e!==null)return e;e=null}else if(s===31){if(e=h(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Bl=e,null}function Oy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z()){case he:return 2;case Te:return 8;case q:case Je:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Vd=!1,oi=null,ri=null,li=null,Xo=new Map,Wo=new Map,ci=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(e,a){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Xo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(a.pointerId)}}function Ko(e,a,s,r,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:a,domEventName:s,eventSystemFlags:r,nativeEvent:p,targetContainers:[u]},a!==null&&(a=ts(a),a!==null&&Uy(a)),e):(e.eventSystemFlags|=r,a=e.targetContainers,u!==null&&a.indexOf(u)===-1&&a.push(u),e)}function U_(e,a,s,r,u){switch(a){case"focusin":return oi=Ko(oi,e,a,s,r,u),!0;case"dragenter":return ri=Ko(ri,e,a,s,r,u),!0;case"mouseover":return li=Ko(li,e,a,s,r,u),!0;case"pointerover":var p=u.pointerId;return Xo.set(p,Ko(Xo.get(p)||null,e,a,s,r,u)),!0;case"gotpointercapture":return p=u.pointerId,Wo.set(p,Ko(Wo.get(p)||null,e,a,s,r,u)),!0}return!1}function Ly(e){var a=es(e.target);if(a!==null){var s=d(a);if(s!==null){if(a=s.tag,a===13){if(a=f(s),a!==null){e.blockedOn=a,Zp(e.priority,function(){zy(s)});return}}else if(a===31){if(a=h(s),a!==null){e.blockedOn=a,Zp(e.priority,function(){zy(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=Id(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Pc=r,s.target.dispatchEvent(r),Pc=null}else return a=ts(s),a!==null&&Uy(a),e.blockedOn=s,!1;a.shift()}return!0}function Iy(e,a,s){Ll(e)&&s.delete(a)}function z_(){Vd=!1,oi!==null&&Ll(oi)&&(oi=null),ri!==null&&Ll(ri)&&(ri=null),li!==null&&Ll(li)&&(li=null),Xo.forEach(Iy),Wo.forEach(Iy)}function Il(e,a){e.blockedOn===a&&(e.blockedOn=null,Vd||(Vd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z_)))}var Pl=null;function Py(e){Pl!==e&&(Pl=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var a=0;a<e.length;a+=3){var s=e[a],r=e[a+1],u=e[a+2];if(typeof r!="function"){if(Pd(r||s)===null)continue;break}var p=ts(s);p!==null&&(e.splice(a,3),a-=3,Iu(p,{pending:!0,data:u,method:s.method,action:r},r,u))}}))}function Os(e){function a(T){return Il(T,e)}oi!==null&&Il(oi,e),ri!==null&&Il(ri,e),li!==null&&Il(li,e),Xo.forEach(a),Wo.forEach(a);for(var s=0;s<ci.length;s++){var r=ci[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ci.length&&(s=ci[0],s.blockedOn===null);)Ly(s),s.blockedOn===null&&ci.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var u=s[r],p=s[r+1],v=u[bn]||null;if(typeof p=="function")v||Py(s);else if(v){var b=null;if(p&&p.hasAttribute("formAction")){if(u=p,v=p[bn]||null)b=v.formAction;else if(Pd(u)!==null)continue}else b=v.action;typeof b=="function"?s[r+1]=b:(s.splice(r,3),r-=3),Py(s)}}}function Vy(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function a(){u!==null&&(u(),u=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),u!==null&&(u(),u=null)}}}function Hd(e){this._internalRoot=e}Vl.prototype.render=Hd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(o(409));var s=a.current,r=On();Dy(s,r,e,a,null,null)},Vl.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Dy(e.current,2,null,e,null,null),Sl(),a[Ji]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var a=Qp();e={blockedOn:null,target:e,priority:a};for(var s=0;s<ci.length&&a!==0&&a<ci[s].priority;s++);ci.splice(s,0,e),s===0&&Ly(e)}};var Hy=n.version;if(Hy!=="19.2.0")throw Error(o(527,Hy,"19.2.0"));ee.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(a),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var O_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Yt=Hl.inject(O_),kt=Hl}catch{}}return Zo.createRoot=function(e,a){if(!l(e))throw Error(o(299));var s=!1,r="",u=Wm,p=Km,v=Qm;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=My(e,1,!1,null,null,s,r,null,u,p,v,Vy),e[Ji]=a.current,wd(e),new Hd(a)},Zo.hydrateRoot=function(e,a,s){if(!l(e))throw Error(o(299));var r=!1,u="",p=Wm,v=Km,b=Qm,T=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(T=s.formState)),a=My(e,1,!0,a,s??null,r,u,T,p,v,b,Vy),a.context=Ry(null),s=a.current,r=On(),r=ua(r),u=Xa(r),u.callback=null,Wa(s,u,r),s=r,a.current.lanes=s,Ne(a,s),ha(a),e[Ji]=a.current,wd(e),new Vl(a)},Zo.version="19.2.0",Zo}var Xy;function gw(){if(Xy)return qd.exports;Xy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),qd.exports=mw(),qd.exports}var yw=gw();const vw="modulepreload",xw=function(t){return"/"+t},Wy={},it=function(n,i,o){let l=Promise.resolve();if(i&&i.length>0){let m=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");l=m(i.map(y=>{if(y=xw(y),y in Wy)return;Wy[y]=!0;const g=y.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":vw,g||(S.as="script"),S.crossOrigin="",S.href=y,h&&S.setAttribute("nonce",h),document.head.appendChild(S),g)return new Promise((C,_)=>{S.addEventListener("load",C),S.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&d(h.reason);return n().catch(d)})},Ky=t=>{let n;const i=new Set,o=(y,g)=>{const x=typeof y=="function"?y(n):y;if(!Object.is(x,n)){const S=n;n=g??(typeof x!="object"||x===null)?x:Object.assign({},n,x),i.forEach(C=>C(n,S))}},l=()=>n,h={setState:o,getState:l,getInitialState:()=>m,subscribe:y=>(i.add(y),()=>i.delete(y))},m=n=t(o,l,h);return h},bw=(t=>t?Ky(t):Ky),Sw=t=>t;function _w(t,n=Sw){const i=ya.useSyncExternalStore(t.subscribe,ya.useCallback(()=>n(t.getState()),[t,n]),ya.useCallback(()=>n(t.getInitialState()),[t,n]));return ya.useDebugValue(i),i}const Qy=t=>{const n=bw(t),i=o=>_w(n,o);return Object.assign(i,n),i},_c=(t=>t?Qy(t):Qy);function sb(t,n){return function(){return t.apply(n,arguments)}}const{toString:ww}=Object.prototype,{getPrototypeOf:lp}=Object,{iterator:wc,toStringTag:ob}=Symbol,Cc=(t=>n=>{const i=ww.call(n);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),la=t=>(t=t.toLowerCase(),n=>Cc(n)===t),Tc=t=>n=>typeof n===t,{isArray:no}=Array,Qs=Tc("undefined");function Sr(t){return t!==null&&!Qs(t)&&t.constructor!==null&&!Qs(t.constructor)&&En(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rb=la("ArrayBuffer");function Cw(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&rb(t.buffer),n}const Tw=Tc("string"),En=Tc("function"),lb=Tc("number"),_r=t=>t!==null&&typeof t=="object",jw=t=>t===!0||t===!1,Zl=t=>{if(Cc(t)!=="object")return!1;const n=lp(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(ob in t)&&!(wc in t)},Aw=t=>{if(!_r(t)||Sr(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ew=la("Date"),kw=la("File"),Mw=la("Blob"),Rw=la("FileList"),Dw=t=>_r(t)&&En(t.pipe),Nw=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||En(t.append)&&((n=Cc(t))==="formdata"||n==="object"&&En(t.toString)&&t.toString()==="[object FormData]"))},Uw=la("URLSearchParams"),[zw,Ow,Bw,Lw]=["ReadableStream","Request","Response","Headers"].map(la),Iw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wr(t,n,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let o,l;if(typeof t!="object"&&(t=[t]),no(t))for(o=0,l=t.length;o<l;o++)n.call(null,t[o],o,t);else{if(Sr(t))return;const d=i?Object.getOwnPropertyNames(t):Object.keys(t),f=d.length;let h;for(o=0;o<f;o++)h=d[o],n.call(null,t[h],h,t)}}function cb(t,n){if(Sr(t))return null;n=n.toLowerCase();const i=Object.keys(t);let o=i.length,l;for(;o-- >0;)if(l=i[o],n===l.toLowerCase())return l;return null}const Pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ub=t=>!Qs(t)&&t!==Pi;function Cf(){const{caseless:t,skipUndefined:n}=ub(this)&&this||{},i={},o=(l,d)=>{const f=t&&cb(i,d)||d;Zl(i[f])&&Zl(l)?i[f]=Cf(i[f],l):Zl(l)?i[f]=Cf({},l):no(l)?i[f]=l.slice():(!n||!Qs(l))&&(i[f]=l)};for(let l=0,d=arguments.length;l<d;l++)arguments[l]&&wr(arguments[l],o);return i}const Pw=(t,n,i,{allOwnKeys:o}={})=>(wr(n,(l,d)=>{i&&En(l)?t[d]=sb(l,i):t[d]=l},{allOwnKeys:o}),t),Vw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hw=(t,n,i,o)=>{t.prototype=Object.create(n.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),i&&Object.assign(t.prototype,i)},Fw=(t,n,i,o)=>{let l,d,f;const h={};if(n=n||{},t==null)return n;do{for(l=Object.getOwnPropertyNames(t),d=l.length;d-- >0;)f=l[d],(!o||o(f,t,n))&&!h[f]&&(n[f]=t[f],h[f]=!0);t=i!==!1&&lp(t)}while(t&&(!i||i(t,n))&&t!==Object.prototype);return n},qw=(t,n,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=n.length;const o=t.indexOf(n,i);return o!==-1&&o===i},Gw=t=>{if(!t)return null;if(no(t))return t;let n=t.length;if(!lb(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=t[n];return i},$w=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&lp(Uint8Array)),Yw=(t,n)=>{const o=(t&&t[wc]).call(t);let l;for(;(l=o.next())&&!l.done;){const d=l.value;n.call(t,d[0],d[1])}},Xw=(t,n)=>{let i;const o=[];for(;(i=t.exec(n))!==null;)o.push(i);return o},Ww=la("HTMLFormElement"),Kw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,l){return o.toUpperCase()+l}),Zy=(({hasOwnProperty:t})=>(n,i)=>t.call(n,i))(Object.prototype),Qw=la("RegExp"),db=(t,n)=>{const i=Object.getOwnPropertyDescriptors(t),o={};wr(i,(l,d)=>{let f;(f=n(l,d,t))!==!1&&(o[d]=f||l)}),Object.defineProperties(t,o)},Zw=t=>{db(t,(n,i)=>{if(En(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=t[i];if(En(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Jw=(t,n)=>{const i={},o=l=>{l.forEach(d=>{i[d]=!0})};return no(t)?o(t):o(String(t).split(n)),i},eC=()=>{},tC=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function nC(t){return!!(t&&En(t.append)&&t[ob]==="FormData"&&t[wc])}const aC=t=>{const n=new Array(10),i=(o,l)=>{if(_r(o)){if(n.indexOf(o)>=0)return;if(Sr(o))return o;if(!("toJSON"in o)){n[l]=o;const d=no(o)?[]:{};return wr(o,(f,h)=>{const m=i(f,l+1);!Qs(m)&&(d[h]=m)}),n[l]=void 0,d}}return o};return i(t,0)},iC=la("AsyncFunction"),sC=t=>t&&(_r(t)||En(t))&&En(t.then)&&En(t.catch),fb=((t,n)=>t?setImmediate:n?((i,o)=>(Pi.addEventListener("message",({source:l,data:d})=>{l===Pi&&d===i&&o.length&&o.shift()()},!1),l=>{o.push(l),Pi.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",En(Pi.postMessage)),oC=typeof queueMicrotask<"u"?queueMicrotask.bind(Pi):typeof process<"u"&&process.nextTick||fb,rC=t=>t!=null&&En(t[wc]),V={isArray:no,isArrayBuffer:rb,isBuffer:Sr,isFormData:Nw,isArrayBufferView:Cw,isString:Tw,isNumber:lb,isBoolean:jw,isObject:_r,isPlainObject:Zl,isEmptyObject:Aw,isReadableStream:zw,isRequest:Ow,isResponse:Bw,isHeaders:Lw,isUndefined:Qs,isDate:Ew,isFile:kw,isBlob:Mw,isRegExp:Qw,isFunction:En,isStream:Dw,isURLSearchParams:Uw,isTypedArray:$w,isFileList:Rw,forEach:wr,merge:Cf,extend:Pw,trim:Iw,stripBOM:Vw,inherits:Hw,toFlatObject:Fw,kindOf:Cc,kindOfTest:la,endsWith:qw,toArray:Gw,forEachEntry:Yw,matchAll:Xw,isHTMLForm:Ww,hasOwnProperty:Zy,hasOwnProp:Zy,reduceDescriptors:db,freezeMethods:Zw,toObjectSet:Jw,toCamelCase:Kw,noop:eC,toFiniteNumber:tC,findKey:cb,global:Pi,isContextDefined:ub,isSpecCompliantForm:nC,toJSONObject:aC,isAsyncFn:iC,isThenable:sC,setImmediate:fb,asap:oC,isIterable:rC};function Le(t,n,i,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}V.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const pb=Le.prototype,hb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hb[t]={value:t}});Object.defineProperties(Le,hb);Object.defineProperty(pb,"isAxiosError",{value:!0});Le.from=(t,n,i,o,l,d)=>{const f=Object.create(pb);V.toFlatObject(t,f,function(g){return g!==Error.prototype},y=>y!=="isAxiosError");const h=t&&t.message?t.message:"Error",m=n==null&&t?t.code:n;return Le.call(f,h,m,i,o,l),t&&f.cause==null&&Object.defineProperty(f,"cause",{value:t,configurable:!0}),f.name=t&&t.name||"Error",d&&Object.assign(f,d),f};const lC=null;function Tf(t){return V.isPlainObject(t)||V.isArray(t)}function mb(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Jy(t,n,i){return t?t.concat(n).map(function(l,d){return l=mb(l),!i&&d?"["+l+"]":l}).join(i?".":""):n}function cC(t){return V.isArray(t)&&!t.some(Tf)}const uC=V.toFlatObject(V,{},null,function(n){return/^is[A-Z]/.test(n)});function jc(t,n,i){if(!V.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,i=V.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,j){return!V.isUndefined(j[k])});const o=i.metaTokens,l=i.visitor||g,d=i.dots,f=i.indexes,m=(i.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(n);if(!V.isFunction(l))throw new TypeError("visitor must be a function");function y(_){if(_===null)return"";if(V.isDate(_))return _.toISOString();if(V.isBoolean(_))return _.toString();if(!m&&V.isBlob(_))throw new Le("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(_)||V.isTypedArray(_)?m&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function g(_,k,j){let N=_;if(_&&!j&&typeof _=="object"){if(V.endsWith(k,"{}"))k=o?k:k.slice(0,-2),_=JSON.stringify(_);else if(V.isArray(_)&&cC(_)||(V.isFileList(_)||V.endsWith(k,"[]"))&&(N=V.toArray(_)))return k=mb(k),N.forEach(function(M,O){!(V.isUndefined(M)||M===null)&&n.append(f===!0?Jy([k],O,d):f===null?k:k+"[]",y(M))}),!1}return Tf(_)?!0:(n.append(Jy(j,k,d),y(_)),!1)}const x=[],S=Object.assign(uC,{defaultVisitor:g,convertValue:y,isVisitable:Tf});function C(_,k){if(!V.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));x.push(_),V.forEach(_,function(N,I){(!(V.isUndefined(N)||N===null)&&l.call(n,N,V.isString(I)?I.trim():I,k,S))===!0&&C(N,k?k.concat(I):[I])}),x.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return C(t),n}function ev(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function cp(t,n){this._pairs=[],t&&jc(t,this,n)}const gb=cp.prototype;gb.append=function(n,i){this._pairs.push([n,i])};gb.toString=function(n){const i=n?function(o){return n.call(this,o,ev)}:ev;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function dC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yb(t,n,i){if(!n)return t;const o=i&&i.encode||dC;V.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let d;if(l?d=l(n,i):d=V.isURLSearchParams(n)?n.toString():new cp(n,i).toString(o),d){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class tv{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){V.forEach(this.handlers,function(o){o!==null&&n(o)})}}const vb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fC=typeof URLSearchParams<"u"?URLSearchParams:cp,pC=typeof FormData<"u"?FormData:null,hC=typeof Blob<"u"?Blob:null,mC={isBrowser:!0,classes:{URLSearchParams:fC,FormData:pC,Blob:hC},protocols:["http","https","file","blob","url","data"]},up=typeof window<"u"&&typeof document<"u",jf=typeof navigator=="object"&&navigator||void 0,gC=up&&(!jf||["ReactNative","NativeScript","NS"].indexOf(jf.product)<0),yC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vC=up&&window.location.href||"http://localhost",xC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:up,hasStandardBrowserEnv:gC,hasStandardBrowserWebWorkerEnv:yC,navigator:jf,origin:vC},Symbol.toStringTag,{value:"Module"})),cn={...xC,...mC};function bC(t,n){return jc(t,new cn.classes.URLSearchParams,{visitor:function(i,o,l,d){return cn.isNode&&V.isBuffer(i)?(this.append(o,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function SC(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function _C(t){const n={},i=Object.keys(t);let o;const l=i.length;let d;for(o=0;o<l;o++)d=i[o],n[d]=t[d];return n}function xb(t){function n(i,o,l,d){let f=i[d++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),m=d>=i.length;return f=!f&&V.isArray(l)?l.length:f,m?(V.hasOwnProp(l,f)?l[f]=[l[f],o]:l[f]=o,!h):((!l[f]||!V.isObject(l[f]))&&(l[f]=[]),n(i,o,l[f],d)&&V.isArray(l[f])&&(l[f]=_C(l[f])),!h)}if(V.isFormData(t)&&V.isFunction(t.entries)){const i={};return V.forEachEntry(t,(o,l)=>{n(SC(o),l,i,0)}),i}return null}function wC(t,n,i){if(V.isString(t))try{return(n||JSON.parse)(t),V.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(t)}const Cr={transitional:vb,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",l=o.indexOf("application/json")>-1,d=V.isObject(n);if(d&&V.isHTMLForm(n)&&(n=new FormData(n)),V.isFormData(n))return l?JSON.stringify(xb(n)):n;if(V.isArrayBuffer(n)||V.isBuffer(n)||V.isStream(n)||V.isFile(n)||V.isBlob(n)||V.isReadableStream(n))return n;if(V.isArrayBufferView(n))return n.buffer;if(V.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return bC(n,this.formSerializer).toString();if((h=V.isFileList(n))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return jc(h?{"files[]":n}:n,m&&new m,this.formSerializer)}}return d||l?(i.setContentType("application/json",!1),wC(n)):n}],transformResponse:[function(n){const i=this.transitional||Cr.transitional,o=i&&i.forcedJSONParsing,l=this.responseType==="json";if(V.isResponse(n)||V.isReadableStream(n))return n;if(n&&V.isString(n)&&(o&&!this.responseType||l)){const f=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(n,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?Le.from(h,Le.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Cr.headers[t]={}});const CC=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TC=t=>{const n={};let i,o,l;return t&&t.split(`
`).forEach(function(f){l=f.indexOf(":"),i=f.substring(0,l).trim().toLowerCase(),o=f.substring(l+1).trim(),!(!i||n[i]&&CC[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},nv=Symbol("internals");function Jo(t){return t&&String(t).trim().toLowerCase()}function Jl(t){return t===!1||t==null?t:V.isArray(t)?t.map(Jl):String(t)}function jC(t){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(t);)n[o[1]]=o[2];return n}const AC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yd(t,n,i,o,l){if(V.isFunction(o))return o.call(this,n,i);if(l&&(n=i),!!V.isString(n)){if(V.isString(o))return n.indexOf(o)!==-1;if(V.isRegExp(o))return o.test(n)}}function EC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function kC(t,n){const i=V.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+i,{value:function(l,d,f){return this[o].call(this,n,l,d,f)},configurable:!0})})}let kn=class{constructor(n){n&&this.set(n)}set(n,i,o){const l=this;function d(h,m,y){const g=Jo(m);if(!g)throw new Error("header name must be a non-empty string");const x=V.findKey(l,g);(!x||l[x]===void 0||y===!0||y===void 0&&l[x]!==!1)&&(l[x||m]=Jl(h))}const f=(h,m)=>V.forEach(h,(y,g)=>d(y,g,m));if(V.isPlainObject(n)||n instanceof this.constructor)f(n,i);else if(V.isString(n)&&(n=n.trim())&&!AC(n))f(TC(n),i);else if(V.isObject(n)&&V.isIterable(n)){let h={},m,y;for(const g of n){if(!V.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[y=g[0]]=(m=h[y])?V.isArray(m)?[...m,g[1]]:[m,g[1]]:g[1]}f(h,i)}else n!=null&&d(i,n,o);return this}get(n,i){if(n=Jo(n),n){const o=V.findKey(this,n);if(o){const l=this[o];if(!i)return l;if(i===!0)return jC(l);if(V.isFunction(i))return i.call(this,l,o);if(V.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=Jo(n),n){const o=V.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||Yd(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let l=!1;function d(f){if(f=Jo(f),f){const h=V.findKey(o,f);h&&(!i||Yd(o,o[h],h,i))&&(delete o[h],l=!0)}}return V.isArray(n)?n.forEach(d):d(n),l}clear(n){const i=Object.keys(this);let o=i.length,l=!1;for(;o--;){const d=i[o];(!n||Yd(this,this[d],d,n,!0))&&(delete this[d],l=!0)}return l}normalize(n){const i=this,o={};return V.forEach(this,(l,d)=>{const f=V.findKey(o,d);if(f){i[f]=Jl(l),delete i[d];return}const h=n?EC(d):String(d).trim();h!==d&&delete i[d],i[h]=Jl(l),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return V.forEach(this,(o,l)=>{o!=null&&o!==!1&&(i[l]=n&&V.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(l=>o.set(l)),o}static accessor(n){const o=(this[nv]=this[nv]={accessors:{}}).accessors,l=this.prototype;function d(f){const h=Jo(f);o[h]||(kC(l,f),o[h]=!0)}return V.isArray(n)?n.forEach(d):d(n),this}};kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(kn.prototype,({value:t},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(o){this[i]=o}}});V.freezeMethods(kn);function Xd(t,n){const i=this||Cr,o=n||i,l=kn.from(o.headers);let d=o.data;return V.forEach(t,function(h){d=h.call(i,d,l.normalize(),n?n.status:void 0)}),l.normalize(),d}function bb(t){return!!(t&&t.__CANCEL__)}function ao(t,n,i){Le.call(this,t??"canceled",Le.ERR_CANCELED,n,i),this.name="CanceledError"}V.inherits(ao,Le,{__CANCEL__:!0});function Sb(t,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?t(i):n(new Le("Request failed with status code "+i.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function MC(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function RC(t,n){t=t||10;const i=new Array(t),o=new Array(t);let l=0,d=0,f;return n=n!==void 0?n:1e3,function(m){const y=Date.now(),g=o[d];f||(f=y),i[l]=m,o[l]=y;let x=d,S=0;for(;x!==l;)S+=i[x++],x=x%t;if(l=(l+1)%t,l===d&&(d=(d+1)%t),y-f<n)return;const C=g&&y-g;return C?Math.round(S*1e3/C):void 0}}function DC(t,n){let i=0,o=1e3/n,l,d;const f=(y,g=Date.now())=>{i=g,l=null,d&&(clearTimeout(d),d=null),t(...y)};return[(...y)=>{const g=Date.now(),x=g-i;x>=o?f(y,g):(l=y,d||(d=setTimeout(()=>{d=null,f(l)},o-x)))},()=>l&&f(l)]}const dc=(t,n,i=3)=>{let o=0;const l=RC(50,250);return DC(d=>{const f=d.loaded,h=d.lengthComputable?d.total:void 0,m=f-o,y=l(m),g=f<=h;o=f;const x={loaded:f,total:h,progress:h?f/h:void 0,bytes:m,rate:y||void 0,estimated:y&&h&&g?(h-f)/y:void 0,event:d,lengthComputable:h!=null,[n?"download":"upload"]:!0};t(x)},i)},av=(t,n)=>{const i=t!=null;return[o=>n[0]({lengthComputable:i,total:t,loaded:o}),n[1]]},iv=t=>(...n)=>V.asap(()=>t(...n)),NC=cn.hasStandardBrowserEnv?((t,n)=>i=>(i=new URL(i,cn.origin),t.protocol===i.protocol&&t.host===i.host&&(n||t.port===i.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,UC=cn.hasStandardBrowserEnv?{write(t,n,i,o,l,d,f){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(n)}`];V.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),V.isString(o)&&h.push(`path=${o}`),V.isString(l)&&h.push(`domain=${l}`),d===!0&&h.push("secure"),V.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function zC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function OC(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function _b(t,n,i){let o=!zC(n);return t&&(o||i==!1)?OC(t,n):n}const sv=t=>t instanceof kn?{...t}:t;function Xi(t,n){n=n||{};const i={};function o(y,g,x,S){return V.isPlainObject(y)&&V.isPlainObject(g)?V.merge.call({caseless:S},y,g):V.isPlainObject(g)?V.merge({},g):V.isArray(g)?g.slice():g}function l(y,g,x,S){if(V.isUndefined(g)){if(!V.isUndefined(y))return o(void 0,y,x,S)}else return o(y,g,x,S)}function d(y,g){if(!V.isUndefined(g))return o(void 0,g)}function f(y,g){if(V.isUndefined(g)){if(!V.isUndefined(y))return o(void 0,y)}else return o(void 0,g)}function h(y,g,x){if(x in n)return o(y,g);if(x in t)return o(void 0,y)}const m={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(y,g,x)=>l(sv(y),sv(g),x,!0)};return V.forEach(Object.keys({...t,...n}),function(g){const x=m[g]||l,S=x(t[g],n[g],g);V.isUndefined(S)&&x!==h||(i[g]=S)}),i}const wb=t=>{const n=Xi({},t);let{data:i,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:d,headers:f,auth:h}=n;if(n.headers=f=kn.from(f),n.url=yb(_b(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),V.isFormData(i)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(V.isFunction(i.getHeaders)){const m=i.getHeaders(),y=["content-type","content-length"];Object.entries(m).forEach(([g,x])=>{y.includes(g.toLowerCase())&&f.set(g,x)})}}if(cn.hasStandardBrowserEnv&&(o&&V.isFunction(o)&&(o=o(n)),o||o!==!1&&NC(n.url))){const m=l&&d&&UC.read(d);m&&f.set(l,m)}return n},BC=typeof XMLHttpRequest<"u",LC=BC&&function(t){return new Promise(function(i,o){const l=wb(t);let d=l.data;const f=kn.from(l.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:y}=l,g,x,S,C,_;function k(){C&&C(),_&&_(),l.cancelToken&&l.cancelToken.unsubscribe(g),l.signal&&l.signal.removeEventListener("abort",g)}let j=new XMLHttpRequest;j.open(l.method.toUpperCase(),l.url,!0),j.timeout=l.timeout;function N(){if(!j)return;const M=kn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),P={data:!h||h==="text"||h==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:M,config:t,request:j};Sb(function(ne){i(ne),k()},function(ne){o(ne),k()},P),j=null}"onloadend"in j?j.onloadend=N:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(N)},j.onabort=function(){j&&(o(new Le("Request aborted",Le.ECONNABORTED,t,j)),j=null)},j.onerror=function(O){const P=O&&O.message?O.message:"Network Error",Q=new Le(P,Le.ERR_NETWORK,t,j);Q.event=O||null,o(Q),j=null},j.ontimeout=function(){let O=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const P=l.transitional||vb;l.timeoutErrorMessage&&(O=l.timeoutErrorMessage),o(new Le(O,P.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,j)),j=null},d===void 0&&f.setContentType(null),"setRequestHeader"in j&&V.forEach(f.toJSON(),function(O,P){j.setRequestHeader(P,O)}),V.isUndefined(l.withCredentials)||(j.withCredentials=!!l.withCredentials),h&&h!=="json"&&(j.responseType=l.responseType),y&&([S,_]=dc(y,!0),j.addEventListener("progress",S)),m&&j.upload&&([x,C]=dc(m),j.upload.addEventListener("progress",x),j.upload.addEventListener("loadend",C)),(l.cancelToken||l.signal)&&(g=M=>{j&&(o(!M||M.type?new ao(null,t,j):M),j.abort(),j=null)},l.cancelToken&&l.cancelToken.subscribe(g),l.signal&&(l.signal.aborted?g():l.signal.addEventListener("abort",g)));const I=MC(l.url);if(I&&cn.protocols.indexOf(I)===-1){o(new Le("Unsupported protocol "+I+":",Le.ERR_BAD_REQUEST,t));return}j.send(d||null)})},IC=(t,n)=>{const{length:i}=t=t?t.filter(Boolean):[];if(n||i){let o=new AbortController,l;const d=function(y){if(!l){l=!0,h();const g=y instanceof Error?y:this.reason;o.abort(g instanceof Le?g:new ao(g instanceof Error?g.message:g))}};let f=n&&setTimeout(()=>{f=null,d(new Le(`timeout ${n} of ms exceeded`,Le.ETIMEDOUT))},n);const h=()=>{t&&(f&&clearTimeout(f),f=null,t.forEach(y=>{y.unsubscribe?y.unsubscribe(d):y.removeEventListener("abort",d)}),t=null)};t.forEach(y=>y.addEventListener("abort",d));const{signal:m}=o;return m.unsubscribe=()=>V.asap(h),m}},PC=function*(t,n){let i=t.byteLength;if(i<n){yield t;return}let o=0,l;for(;o<i;)l=o+n,yield t.slice(o,l),o=l},VC=async function*(t,n){for await(const i of HC(t))yield*PC(i,n)},HC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},ov=(t,n,i,o)=>{const l=VC(t,n);let d=0,f,h=m=>{f||(f=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:y,value:g}=await l.next();if(y){h(),m.close();return}let x=g.byteLength;if(i){let S=d+=x;i(S)}m.enqueue(new Uint8Array(g))}catch(y){throw h(y),y}},cancel(m){return h(m),l.return()}},{highWaterMark:2})},rv=64*1024,{isFunction:Fl}=V,FC=(({Request:t,Response:n})=>({Request:t,Response:n}))(V.global),{ReadableStream:lv,TextEncoder:cv}=V.global,uv=(t,...n)=>{try{return!!t(...n)}catch{return!1}},qC=t=>{t=V.merge.call({skipUndefined:!0},FC,t);const{fetch:n,Request:i,Response:o}=t,l=n?Fl(n):typeof fetch=="function",d=Fl(i),f=Fl(o);if(!l)return!1;const h=l&&Fl(lv),m=l&&(typeof cv=="function"?(_=>k=>_.encode(k))(new cv):async _=>new Uint8Array(await new i(_).arrayBuffer())),y=d&&h&&uv(()=>{let _=!1;const k=new i(cn.origin,{body:new lv,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!k}),g=f&&h&&uv(()=>V.isReadableStream(new o("").body)),x={stream:g&&(_=>_.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(k,j)=>{let N=k&&k[_];if(N)return N.call(k);throw new Le(`Response type '${_}' is not supported`,Le.ERR_NOT_SUPPORT,j)})});const S=async _=>{if(_==null)return 0;if(V.isBlob(_))return _.size;if(V.isSpecCompliantForm(_))return(await new i(cn.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(V.isArrayBufferView(_)||V.isArrayBuffer(_))return _.byteLength;if(V.isURLSearchParams(_)&&(_=_+""),V.isString(_))return(await m(_)).byteLength},C=async(_,k)=>{const j=V.toFiniteNumber(_.getContentLength());return j??S(k)};return async _=>{let{url:k,method:j,data:N,signal:I,cancelToken:M,timeout:O,onDownloadProgress:P,onUploadProgress:Q,responseType:ne,headers:W,withCredentials:ce="same-origin",fetchOptions:se}=wb(_),Ee=n||fetch;ne=ne?(ne+"").toLowerCase():"text";let qe=IC([I,M&&M.toAbortSignal()],O),de=null;const je=qe&&qe.unsubscribe&&(()=>{qe.unsubscribe()});let Oe;try{if(Q&&y&&j!=="get"&&j!=="head"&&(Oe=await C(W,N))!==0){let pe=new i(k,{method:"POST",body:N,duplex:"half"}),Re;if(V.isFormData(N)&&(Re=pe.headers.get("content-type"))&&W.setContentType(Re),pe.body){const[Se,J]=av(Oe,dc(iv(Q)));N=ov(pe.body,rv,Se,J)}}V.isString(ce)||(ce=ce?"include":"omit");const U=d&&"credentials"in i.prototype,ee={...se,signal:qe,method:j.toUpperCase(),headers:W.normalize().toJSON(),body:N,duplex:"half",credentials:U?ce:void 0};de=d&&new i(k,ee);let ie=await(d?Ee(de,se):Ee(k,ee));const ye=g&&(ne==="stream"||ne==="response");if(g&&(P||ye&&je)){const pe={};["status","statusText","headers"].forEach(ue=>{pe[ue]=ie[ue]});const Re=V.toFiniteNumber(ie.headers.get("content-length")),[Se,J]=P&&av(Re,dc(iv(P),!0))||[];ie=new o(ov(ie.body,rv,Se,()=>{J&&J(),je&&je()}),pe)}ne=ne||"text";let ke=await x[V.findKey(x,ne)||"text"](ie,_);return!ye&&je&&je(),await new Promise((pe,Re)=>{Sb(pe,Re,{data:ke,headers:kn.from(ie.headers),status:ie.status,statusText:ie.statusText,config:_,request:de})})}catch(U){throw je&&je(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,_,de),{cause:U.cause||U}):Le.from(U,U&&U.code,_,de)}}},GC=new Map,Cb=t=>{let n=t&&t.env||{};const{fetch:i,Request:o,Response:l}=n,d=[o,l,i];let f=d.length,h=f,m,y,g=GC;for(;h--;)m=d[h],y=g.get(m),y===void 0&&g.set(m,y=h?new Map:qC(n)),g=y;return y};Cb();const dp={http:lC,xhr:LC,fetch:{get:Cb}};V.forEach(dp,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const dv=t=>`- ${t}`,$C=t=>V.isFunction(t)||t===null||t===!1;function YC(t,n){t=V.isArray(t)?t:[t];const{length:i}=t;let o,l;const d={};for(let f=0;f<i;f++){o=t[f];let h;if(l=o,!$C(o)&&(l=dp[(h=String(o)).toLowerCase()],l===void 0))throw new Le(`Unknown adapter '${h}'`);if(l&&(V.isFunction(l)||(l=l.get(n))))break;d[h||"#"+f]=l}if(!l){const f=Object.entries(d).map(([m,y])=>`adapter ${m} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=i?f.length>1?`since :
`+f.map(dv).join(`
`):" "+dv(f[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return l}const Tb={getAdapter:YC,adapters:dp};function Wd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ao(null,t)}function fv(t){return Wd(t),t.headers=kn.from(t.headers),t.data=Xd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Tb.getAdapter(t.adapter||Cr.adapter,t)(t).then(function(o){return Wd(t),o.data=Xd.call(t,t.transformResponse,o),o.headers=kn.from(o.headers),o},function(o){return bb(o)||(Wd(t),o&&o.response&&(o.response.data=Xd.call(t,t.transformResponse,o.response),o.response.headers=kn.from(o.response.headers))),Promise.reject(o)})}const jb="1.13.2",Ac={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Ac[t]=function(o){return typeof o===t||"a"+(n<1?"n ":" ")+t}});const pv={};Ac.transitional=function(n,i,o){function l(d,f){return"[Axios v"+jb+"] Transitional option '"+d+"'"+f+(o?". "+o:"")}return(d,f,h)=>{if(n===!1)throw new Le(l(f," has been removed"+(i?" in "+i:"")),Le.ERR_DEPRECATED);return i&&!pv[f]&&(pv[f]=!0,console.warn(l(f," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(d,f,h):!0}};Ac.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function XC(t,n,i){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let l=o.length;for(;l-- >0;){const d=o[l],f=n[d];if(f){const h=t[d],m=h===void 0||f(h,d,t);if(m!==!0)throw new Le("option "+d+" must be "+m,Le.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Le("Unknown option "+d,Le.ERR_BAD_OPTION)}}const ec={assertOptions:XC,validators:Ac},ma=ec.validators;let Fi=class{constructor(n){this.defaults=n||{},this.interceptors={request:new tv,response:new tv}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const d=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=Xi(this.defaults,i);const{transitional:o,paramsSerializer:l,headers:d}=i;o!==void 0&&ec.assertOptions(o,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1),l!=null&&(V.isFunction(l)?i.paramsSerializer={serialize:l}:ec.assertOptions(l,{encode:ma.function,serialize:ma.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),ec.assertOptions(i,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=d&&V.merge(d.common,d[i.method]);d&&V.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),i.headers=kn.concat(f,d);const h=[];let m=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(i)===!1||(m=m&&k.synchronous,h.unshift(k.fulfilled,k.rejected))});const y=[];this.interceptors.response.forEach(function(k){y.push(k.fulfilled,k.rejected)});let g,x=0,S;if(!m){const _=[fv.bind(this),void 0];for(_.unshift(...h),_.push(...y),S=_.length,g=Promise.resolve(i);x<S;)g=g.then(_[x++],_[x++]);return g}S=h.length;let C=i;for(;x<S;){const _=h[x++],k=h[x++];try{C=_(C)}catch(j){k.call(this,j);break}}try{g=fv.call(this,C)}catch(_){return Promise.reject(_)}for(x=0,S=y.length;x<S;)g=g.then(y[x++],y[x++]);return g}getUri(n){n=Xi(this.defaults,n);const i=_b(n.baseURL,n.url,n.allowAbsoluteUrls);return yb(i,n.params,n.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(n){Fi.prototype[n]=function(i,o){return this.request(Xi(o||{},{method:n,url:i,data:(o||{}).data}))}});V.forEach(["post","put","patch"],function(n){function i(o){return function(d,f,h){return this.request(Xi(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}Fi.prototype[n]=i(),Fi.prototype[n+"Form"]=i(!0)});let WC=class Ab{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const o=this;this.promise.then(l=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](l);o._listeners=null}),this.promise.then=l=>{let d;const f=new Promise(h=>{o.subscribe(h),d=h}).then(l);return f.cancel=function(){o.unsubscribe(d)},f},n(function(d,f,h){o.reason||(o.reason=new ao(d,f,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new Ab(function(l){n=l}),cancel:n}}};function KC(t){return function(i){return t.apply(null,i)}}function QC(t){return V.isObject(t)&&t.isAxiosError===!0}const Af={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Af).forEach(([t,n])=>{Af[n]=t});function Eb(t){const n=new Fi(t),i=sb(Fi.prototype.request,n);return V.extend(i,Fi.prototype,n,{allOwnKeys:!0}),V.extend(i,n,null,{allOwnKeys:!0}),i.create=function(l){return Eb(Xi(t,l))},i}const Dt=Eb(Cr);Dt.Axios=Fi;Dt.CanceledError=ao;Dt.CancelToken=WC;Dt.isCancel=bb;Dt.VERSION=jb;Dt.toFormData=jc;Dt.AxiosError=Le;Dt.Cancel=Dt.CanceledError;Dt.all=function(n){return Promise.all(n)};Dt.spread=KC;Dt.isAxiosError=QC;Dt.mergeConfig=Xi;Dt.AxiosHeaders=kn;Dt.formToJSON=t=>xb(V.isHTMLForm(t)?new FormData(t):t);Dt.getAdapter=Tb.getAdapter;Dt.HttpStatusCode=Af;Dt.default=Dt;const{Axios:vU,AxiosError:xU,CanceledError:bU,isCancel:SU,CancelToken:_U,VERSION:wU,all:CU,Cancel:TU,isAxiosError:jU,spread:AU,toFormData:EU,AxiosHeaders:kU,HttpStatusCode:MU,formToJSON:RU,getAdapter:DU,mergeConfig:NU}=Dt,ZC="https://your-domain.com/api",we=Dt.create({baseURL:ZC,headers:{"Content-Type":"application/json"},withCredentials:!0});we.interceptors.request.use(t=>{const n=localStorage.getItem("token");return n&&(console.log("[API] Adding token to request:",t.url,"Token:",n.substring(0,20)+"..."),t.headers.Authorization=`Bearer ${n}`),t});we.interceptors.response.use(t=>t,t=>(t.response?.status===401?(console.warn("[API] 401 Unauthorized - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"):t.response?.status===400&&console.error("[API] 400 Bad Request:",t.response?.data),Promise.reject(t)));const fi={login:async t=>{const n=await we.post("/auth/login",t);return n.data?.data||n.data},register:async t=>{const n=await we.post("/auth/register",t);return n.data?.data||n.data},sendOTP:async t=>(await we.post(`/otp/send-to-email?email=${encodeURIComponent(t)}`)).data,updatePassword:async(t,n)=>(await we.put("/auth/update-password",{oldPassword:t,newPassword:n})).data,resetPasswordByEmail:async(t,n,i)=>(await we.put("/auth/reset-password-by-email",{email:t,password:n,otp:i})).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")}};function De(t,n="An error occurred"){if(t.response?.data?.error?.message)return t.response.data.error.message;if(t.response?.data?.message)return t.response.data.message;if(t.response?.data?.validationErrors){const i=t.response.data.validationErrors,o=Object.values(i)[0];if(Array.isArray(o)&&o.length>0)return o[0]}return t.message?t.message:n}function Tr(t){return t.response?.data?.error?.code?t.response.data.error.code:null}function Ef(t){return Tr(t)==="Chat.Ban.UserBanned"}function ir(t){switch(Tr(t)){case"Chat.Ban.UserBanned":return"You are banned from this chat and cannot perform this action.";case"Chat.Ban.AlreadyBanned":return"This user is already banned from this chat.";case"Chat.Ban.CannotBanSelf":return"You cannot ban yourself.";case"Chat.Ban.CannotBanOwner":return"You cannot ban the owner of this chat.";default:return De(t,"An error occurred")}}function JC(t){const n=Tr(t);return n==="UserBan.UserBanned"||n==="UserBan.CannotMessageBannedUser"}function eT(t){return Tr(t)==="UserBan.UserBanned"}function tT(t){switch(Tr(t)){case"UserBan.UserBanned":return"This user has blocked you. You cannot send them messages.";case"UserBan.CannotMessageBannedUser":return"You have blocked this user. Unblock them to send messages.";case"UserBan.AlreadyBanned":return"You have already blocked this user.";case"UserBan.CannotBanSelf":return"You cannot block yourself.";case"UserBan.NotFound":return"Block record not found.";default:return De(t,"An error occurred")}}const nT=()=>{try{return localStorage.getItem("token")}catch{return null}},aT=()=>{try{const t=localStorage.getItem("user");return t?JSON.parse(t):null}catch{return null}},gt=_c(t=>({user:null,token:null,isLoading:!1,error:null,initialized:!1,initializeAuth:()=>{const n=aT(),i=nT();console.log("[authStore] Initializing auth:",{hasUser:!!n,hasToken:!!i,user:n}),t({user:n,token:i,initialized:!0})},login:async n=>{t({isLoading:!0,error:null});try{console.log("[authStore] Logging in...");const i=await fi.login(n);if(console.log("[authStore] Token received:",i?i.substring(0,20)+"...":"No token"),!i)throw new Error("No token received from login");localStorage.setItem("token",i),console.log("[authStore] Fetching user profile from /users/me...");const{userService:o}=await it(async()=>{const{userService:d}=await Promise.resolve().then(()=>Ln);return{userService:d}},void 0),l=await o.getCurrentUser();!l.email&&n.credential.includes("@")&&(l.email=n.credential),console.log("[authStore] User profile fetched:",l),localStorage.setItem("user",JSON.stringify(l)),console.log("[authStore] Updating state with user and token..."),t({user:l,token:i,isLoading:!1}),console.log("[authStore] Login complete, state updated")}catch(i){const o=De(i,"Login failed");throw console.error("[authStore] Login error:",o,i),t({error:o,isLoading:!1}),i}},register:async(n,i,o,l)=>{t({isLoading:!0,error:null});try{console.log("[authStore] Registering user...");const d=await fi.register({email:n,username:i,password:o,otpCode:l});if(console.log("[authStore] Token received:",d?d.substring(0,20)+"...":"No token"),!d)throw new Error("No token received from registration");localStorage.setItem("token",d),console.log("[authStore] Fetching user profile from /users/me...");const{userService:f}=await it(async()=>{const{userService:m}=await Promise.resolve().then(()=>Ln);return{userService:m}},void 0),h=await f.getCurrentUser();h.email||(h.email=n),console.log("[authStore] User profile fetched:",h),localStorage.setItem("user",JSON.stringify(h)),console.log("[authStore] Updating state with user and token..."),t({user:h,token:d,isLoading:!1}),console.log("[authStore] Registration complete, state updated")}catch(d){const f=De(d,"Registration failed");throw console.error("[authStore] Registration error:",f,d),t({error:f,isLoading:!1}),d}},logout:()=>{fi.logout(),t({user:null,token:null})},setUser:n=>{localStorage.setItem("user",JSON.stringify(n)),t({user:n})},clearError:()=>t({error:null})})),jr=()=>{const t=gt(x=>x.user),n=gt(x=>x.token),i=gt(x=>x.isLoading),o=gt(x=>x.initialized),l=gt(x=>x.error),d=gt(x=>x.login),f=gt(x=>x.register),h=gt(x=>x.logout),m=gt(x=>x.setUser),y=gt(x=>x.clearError),g=gt(x=>x.initializeAuth);return{user:t,token:n,isLoading:i,initialized:o,error:l,login:d,register:f,logout:h,setUser:m,clearError:y,initializeAuth:g,isAuthenticated:!!n&&!!t}},iT=({children:t})=>{const{isAuthenticated:n,isLoading:i,initialized:o}=jr();return console.log("[ProtectedRoute] Current state:",{isAuthenticated:n,isLoading:i,initialized:o}),i?c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"var(--background)",color:"var(--text)"},children:c.jsx("div",{children:"Loading..."})}):n?c.jsx(c.Fragment,{children:t}):(console.warn("[ProtectedRoute] Not authenticated, redirecting to login"),c.jsx(Is,{to:"/login",replace:!0}))},sT="_authContainer_1b18h_27",oT="_orb_1b18h_53",rT="_orb1_1b18h_69",lT="_orb2_1b18h_85",cT="_orb3_1b18h_101",uT="_authCard_1b18h_121",dT="_header_1b18h_153",fT="_iconWrapper_1b18h_163",pT="_title_1b18h_195",hT="_subtitle_1b18h_209",mT="_errorAlert_1b18h_223",gT="_successAlert_1b18h_273",yT="_form_1b18h_323",vT="_inputGroup_1b18h_331",xT="_label_1b18h_339",bT="_inputWrapper_1b18h_355",ST="_input_1b18h_331",_T="_inputPassword_1b18h_413",wT="_togglePassword_1b18h_421",CT="_forgotLink_1b18h_461",TT="_submitBtn_1b18h_499",jT="_footer_1b18h_587",AT="_backBtn_1b18h_637",ET="_verifiedBadge_1b18h_679",kT="_otpInput_1b18h_727",MT="_resendSection_1b18h_745",RT="_resendBtn_1b18h_769",DT="_spinner_1b18h_813",F={authContainer:sT,orb:oT,orb1:rT,orb2:lT,orb3:cT,authCard:uT,header:dT,iconWrapper:fT,title:pT,subtitle:hT,errorAlert:mT,successAlert:gT,form:yT,inputGroup:vT,label:xT,inputWrapper:bT,input:ST,inputPassword:_T,togglePassword:wT,forgotLink:CT,submitBtn:TT,footer:jT,backBtn:AT,verifiedBadge:ET,otpInput:kT,resendSection:MT,resendBtn:RT,spinner:DT},NT=()=>{const t=op(),{login:n,isLoading:i,error:o,clearError:l}=jr(),[d,f]=w.useState(""),[h,m]=w.useState(""),[y,g]=w.useState(!1),x=async S=>{S.preventDefault(),l();try{console.log("[LoginForm] Starting login..."),await n({credential:d,password:h});const C=gt.getState();console.log("[LoginForm] Login successful. Auth state:",{hasToken:!!C.token,hasUser:!!C.user,isLoading:C.isLoading}),C.token&&C.user?(console.log("[LoginForm] Auth state verified, navigating to dashboard..."),t("/dashboard")):console.error("[LoginForm] Login completed but auth state not set!")}catch(C){console.error("[LoginForm] Login error:",C)}};return c.jsxs("div",{className:F.authContainer,children:[c.jsx("div",{className:`${F.orb} ${F.orb1}`}),c.jsx("div",{className:`${F.orb} ${F.orb2}`}),c.jsx("div",{className:`${F.orb} ${F.orb3}`}),c.jsxs("div",{className:F.authCard,children:[c.jsxs("div",{className:F.header,children:[c.jsx("div",{className:F.iconWrapper,children:c.jsx("span",{children:""})}),c.jsx("h1",{className:F.title,children:"Sign In"}),c.jsx("p",{className:F.subtitle,children:"Welcome back to Simpchat"})]}),o&&c.jsxs("div",{className:F.errorAlert,children:[c.jsx(pi,{size:20}),c.jsx("p",{children:o})]}),c.jsxs("form",{onSubmit:x,className:F.form,children:[c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"credential",className:F.label,children:"Email or Username"}),c.jsx("input",{id:"credential",type:"text",value:d,onChange:S=>f(S.target.value),placeholder:"john@example.com",required:!0,disabled:i,className:F.input})]}),c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"password",className:F.label,children:"Password"}),c.jsxs("div",{className:F.inputWrapper,children:[c.jsx("input",{id:"password",type:y?"text":"password",value:h,onChange:S=>m(S.target.value),placeholder:"",required:!0,disabled:i,className:`${F.input} ${F.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>g(!y),disabled:i,className:F.togglePassword,children:y?c.jsx(cr,{size:20}):c.jsx(ur,{size:20})})]})]}),c.jsx("div",{className:F.forgotLink,children:c.jsx(cc,{to:"/forgot-password",children:"Forgot password?"})}),c.jsx("button",{type:"submit",disabled:i||!d||!h,className:F.submitBtn,children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:F.spinner}),"Signing in..."]}):c.jsxs(c.Fragment,{children:["Sign In",c.jsx(Ws,{size:20})]})})]}),c.jsxs("div",{className:F.footer,children:[c.jsx("p",{children:"Don't have an account?"}),c.jsx(cc,{to:"/register",children:"Create Account "})]})]})]})},UT=()=>c.jsx("div",{style:{minHeight:"100vh",background:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px"},children:c.jsx(NT,{})}),kb=t=>{const n=typeof t=="string"?new Date(t):t,o=new Date().getTime()-n.getTime(),l=Math.floor(o/6e4),d=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"just now":l<60?`${l}m ago`:d<24?`${d}h ago`:f<7?`${f}d ago`:n.toLocaleDateString()},Wi=t=>{if(!t||t==="undefined"||t==="null")return"?";const n=String(t).trim();if(!n||n.length===0)return"?";const i=n.split(/\s+/).filter(o=>o.length>0);return i.length===0?"?":i.length===1?i[0][0]?.toUpperCase()||"?":i.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},Mb=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),hn=t=>{if(t)return t.replace("simpchat.filestorage:9000","localhost:9000").replace("localhost:9000","localhost:9000")},kf=t=>{if(!t)return"Unknown";const n=new Date(t),o=new Date().getTime()-n.getTime(),l=Math.floor(o/6e4),d=Math.floor(o/36e5),f=Math.floor(o/864e5);if(l<1)return"just now";if(l===1)return"1 minute ago";if(l<60)return`${l} minutes ago`;if(d===1)return"1 hour ago";if(d<24)return`${d} hours ago`;if(f===1)return`Yesterday at ${n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;if(f<7){const h=n.toLocaleDateString([],{weekday:"long"}),m=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${h} at ${m}`}return n.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})},zT=()=>{const t=op(),{register:n,isLoading:i}=jr(),[o,l]=w.useState("email"),[d,f]=w.useState(""),[h,m]=w.useState(""),[y,g]=w.useState(""),[x,S]=w.useState(""),[C,_]=w.useState(""),[k,j]=w.useState(!1),[N,I]=w.useState(!1),[M,O]=w.useState(""),[P,Q]=w.useState(!1),ne=async se=>{if(se.preventDefault(),O(""),!Mb(d)){O("Please enter a valid email address");return}Q(!0);try{await fi.sendOTP(d),l("complete")}catch(Ee){O(De(Ee,"Failed to send verification code"))}finally{Q(!1)}},W=async se=>{if(se.preventDefault(),O(""),!h.trim()){O("Username is required");return}if(h.length<3){O("Username must be at least 3 characters");return}if(y.length<5){O("Password must be at least 5 characters");return}if(y!==x){O("Passwords do not match");return}if(!C.trim()){O("Verification code is required");return}try{console.log("[RegisterForm] Registering user..."),await n(d,h,y,C);const Ee=gt.getState();console.log("[RegisterForm] Registration successful. Auth state:",{hasToken:!!Ee.token,hasUser:!!Ee.user,isLoading:Ee.isLoading}),Ee.token&&Ee.user?(console.log("[RegisterForm] Auth state verified, navigating to dashboard..."),t("/dashboard")):console.error("[RegisterForm] Registration completed but auth state not set!")}catch(Ee){O(De(Ee,"Registration failed"))}},ce=async()=>{O(""),Q(!0);try{await fi.sendOTP(d)}catch(se){O(De(se,"Failed to resend code"))}finally{Q(!1)}};return o==="email"?c.jsxs("div",{className:F.authContainer,children:[c.jsx("div",{className:`${F.orb} ${F.orb1}`}),c.jsx("div",{className:`${F.orb} ${F.orb2}`}),c.jsx("div",{className:`${F.orb} ${F.orb3}`}),c.jsxs("div",{className:F.authCard,children:[c.jsxs("div",{className:F.header,children:[c.jsx("div",{className:F.iconWrapper,children:c.jsx("span",{children:""})}),c.jsx("h1",{className:F.title,children:"Create Account"}),c.jsx("p",{className:F.subtitle,children:"Join Simpchat today"})]}),M&&c.jsxs("div",{className:F.errorAlert,children:[c.jsx(pi,{size:20}),c.jsx("p",{children:M})]}),c.jsxs("form",{onSubmit:ne,className:F.form,children:[c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"email",className:F.label,children:"Email Address"}),c.jsx("input",{id:"email",type:"email",value:d,onChange:se=>f(se.target.value),placeholder:"you@example.com",required:!0,disabled:P,className:F.input})]}),c.jsx("button",{type:"submit",disabled:P||!d,className:F.submitBtn,children:P?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:F.spinner}),"Sending..."]}):c.jsxs(c.Fragment,{children:["Continue",c.jsx(Ws,{size:20})]})})]}),c.jsxs("div",{className:F.footer,children:[c.jsx("p",{children:"Already have an account?"}),c.jsx(cc,{to:"/login",children:"Sign In "})]})]})]}):c.jsxs("div",{className:F.authContainer,children:[c.jsx("div",{className:`${F.orb} ${F.orb1}`}),c.jsx("div",{className:`${F.orb} ${F.orb2}`}),c.jsx("div",{className:`${F.orb} ${F.orb3}`}),c.jsxs("div",{className:F.authCard,children:[c.jsxs("div",{className:F.header,style:{textAlign:"left"},children:[c.jsxs("button",{onClick:()=>l("email"),className:F.backBtn,children:[c.jsx(eb,{size:16}),"Back"]}),c.jsx("h1",{className:F.title,style:{textAlign:"left"},children:"Complete Profile"}),c.jsxs("div",{className:F.verifiedBadge,children:[c.jsx(Sf,{size:16}),c.jsxs("p",{children:["Email verified: ",d]})]})]}),M&&c.jsxs("div",{className:F.errorAlert,children:[c.jsx(pi,{size:20}),c.jsx("p",{children:M})]}),c.jsxs("form",{onSubmit:W,className:F.form,children:[c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"username",className:F.label,children:"Username"}),c.jsx("input",{id:"username",type:"text",value:h,onChange:se=>m(se.target.value),placeholder:"johndoe",required:!0,disabled:i,className:F.input})]}),c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"password",className:F.label,children:"Password"}),c.jsxs("div",{className:F.inputWrapper,children:[c.jsx("input",{id:"password",type:k?"text":"password",value:y,onChange:se=>g(se.target.value),placeholder:"",required:!0,disabled:i,className:`${F.input} ${F.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>j(!k),disabled:i,className:F.togglePassword,children:k?c.jsx(cr,{size:20}):c.jsx(ur,{size:20})})]})]}),c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"confirm-password",className:F.label,children:"Confirm Password"}),c.jsxs("div",{className:F.inputWrapper,children:[c.jsx("input",{id:"confirm-password",type:N?"text":"password",value:x,onChange:se=>S(se.target.value),placeholder:"",required:!0,disabled:i,className:`${F.input} ${F.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>I(!N),disabled:i,className:F.togglePassword,children:N?c.jsx(cr,{size:20}):c.jsx(ur,{size:20})})]})]}),c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"otp-code",className:F.label,children:"Verification Code"}),c.jsx("input",{id:"otp-code",type:"text",value:C,onChange:se=>_(se.target.value),placeholder:"000000",required:!0,disabled:i,className:`${F.input} ${F.otpInput}`})]}),c.jsx("button",{type:"submit",disabled:i||!h||!y||!x||!C,className:F.submitBtn,children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:F.spinner}),"Creating..."]}):c.jsxs(c.Fragment,{children:["Create Account",c.jsx(Ws,{size:20})]})})]}),c.jsxs("div",{className:F.resendSection,children:[c.jsx("p",{children:"Didn't get the code?"}),c.jsx("button",{onClick:ce,disabled:P,className:F.resendBtn,children:P?"Resending...":"Resend Code"})]})]})]})},OT=()=>c.jsx("div",{style:{minHeight:"100vh",background:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px"},children:c.jsx(zT,{})}),BT=()=>{const t=op(),[n,i]=w.useState("email"),[o,l]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[y,g]=w.useState(""),[x,S]=w.useState(!1),[C,_]=w.useState(!1),[k,j]=w.useState(""),[N,I]=w.useState(""),[M,O]=w.useState(!1),P=async W=>{if(W.preventDefault(),j(""),!Mb(o)){j("Please enter a valid email address");return}O(!0);try{await fi.sendOTP(o),i("reset")}catch(ce){j(De(ce,"Failed to send verification code"))}finally{O(!1)}},Q=async W=>{if(W.preventDefault(),j(""),I(""),d.length<5){j("Password must be at least 5 characters");return}if(d!==h){j("Passwords do not match");return}if(!y.trim()){j("Verification code is required");return}O(!0);try{await fi.resetPasswordByEmail(o,d,y),I("Password reset successfully! Redirecting to login..."),setTimeout(()=>{t("/login")},2e3)}catch(ce){j(De(ce,"Failed to reset password"))}finally{O(!1)}},ne=async()=>{j(""),O(!0);try{await fi.sendOTP(o)}catch(W){j(De(W,"Failed to resend code"))}finally{O(!1)}};return n==="email"?c.jsxs("div",{className:F.authContainer,children:[c.jsx("div",{className:`${F.orb} ${F.orb1}`}),c.jsx("div",{className:`${F.orb} ${F.orb2}`}),c.jsx("div",{className:`${F.orb} ${F.orb3}`}),c.jsxs("div",{className:F.authCard,children:[c.jsxs("div",{className:F.header,children:[c.jsx("div",{className:F.iconWrapper,children:c.jsx("span",{children:""})}),c.jsx("h1",{className:F.title,children:"Forgot Password"}),c.jsx("p",{className:F.subtitle,children:"Enter your email to reset your password"})]}),k&&c.jsxs("div",{className:F.errorAlert,children:[c.jsx(pi,{size:20}),c.jsx("p",{children:k})]}),c.jsxs("form",{onSubmit:P,className:F.form,children:[c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"email",className:F.label,children:"Email Address"}),c.jsx("input",{id:"email",type:"email",value:o,onChange:W=>l(W.target.value),placeholder:"you@example.com",required:!0,disabled:M,className:F.input})]}),c.jsx("button",{type:"submit",disabled:M||!o,className:F.submitBtn,children:M?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:F.spinner}),"Sending..."]}):c.jsxs(c.Fragment,{children:["Send Reset Code",c.jsx(Ws,{size:20})]})})]}),c.jsxs("div",{className:F.footer,children:[c.jsx("p",{children:"Remember your password?"}),c.jsx(cc,{to:"/login",children:"Back to Sign In "})]})]})]}):c.jsxs("div",{className:F.authContainer,children:[c.jsx("div",{className:`${F.orb} ${F.orb1}`}),c.jsx("div",{className:`${F.orb} ${F.orb2}`}),c.jsx("div",{className:`${F.orb} ${F.orb3}`}),c.jsxs("div",{className:F.authCard,children:[c.jsxs("div",{className:F.header,style:{textAlign:"left"},children:[c.jsxs("button",{onClick:()=>i("email"),className:F.backBtn,children:[c.jsx(eb,{size:16}),"Back"]}),c.jsx("h1",{className:F.title,style:{textAlign:"left"},children:"Reset Password"}),c.jsxs("div",{className:F.verifiedBadge,children:[c.jsx(Sf,{size:16}),c.jsxs("p",{children:["Code sent to: ",o]})]})]}),N&&c.jsxs("div",{className:F.successAlert,children:[c.jsx(Sf,{size:20}),c.jsx("p",{children:N})]}),k&&c.jsxs("div",{className:F.errorAlert,children:[c.jsx(pi,{size:20}),c.jsx("p",{children:k})]}),c.jsxs("form",{onSubmit:Q,className:F.form,children:[c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"password",className:F.label,children:"New Password"}),c.jsxs("div",{className:F.inputWrapper,children:[c.jsx("input",{id:"password",type:x?"text":"password",value:d,onChange:W=>f(W.target.value),placeholder:"",required:!0,disabled:M||!!N,className:`${F.input} ${F.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>S(!x),disabled:M||!!N,className:F.togglePassword,children:x?c.jsx(cr,{size:20}):c.jsx(ur,{size:20})})]})]}),c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"confirm-password",className:F.label,children:"Confirm New Password"}),c.jsxs("div",{className:F.inputWrapper,children:[c.jsx("input",{id:"confirm-password",type:C?"text":"password",value:h,onChange:W=>m(W.target.value),placeholder:"",required:!0,disabled:M||!!N,className:`${F.input} ${F.inputPassword}`}),c.jsx("button",{type:"button",onClick:()=>_(!C),disabled:M||!!N,className:F.togglePassword,children:C?c.jsx(cr,{size:20}):c.jsx(ur,{size:20})})]})]}),c.jsxs("div",{className:F.inputGroup,children:[c.jsx("label",{htmlFor:"otp-code",className:F.label,children:"Verification Code"}),c.jsx("input",{id:"otp-code",type:"text",value:y,onChange:W=>g(W.target.value),placeholder:"000000",required:!0,disabled:M||!!N,className:`${F.input} ${F.otpInput}`})]}),c.jsx("button",{type:"submit",disabled:M||!d||!h||!y||!!N,className:F.submitBtn,children:M?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:F.spinner}),"Resetting..."]}):c.jsxs(c.Fragment,{children:["Reset Password",c.jsx(Ws,{size:20})]})})]}),!N&&c.jsxs("div",{className:F.resendSection,children:[c.jsx("p",{children:"Didn't get the code?"}),c.jsx("button",{onClick:ne,disabled:M,className:F.resendBtn,children:M?"Resending...":"Resend Code"})]})]})]})},LT=()=>c.jsx("div",{style:{minHeight:"100vh",background:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px"},children:c.jsx(BT,{})}),IT=t=>{if(!t)return"channel";const n=String(t).toLowerCase().trim();return n==="conversation"||n==="dm"||n==="directmessage"?"dm":n==="group"?"group":(n==="channel"||console.warn("[Normalizer] Unknown chat type:",t,"defaulting to channel"),"channel")},tr=t=>{if(!t)return{};console.log("[Normalizer] Raw chat data:",{id:t.id,name:t.name,participantsCount:t.participantsCount,ParticipantsCount:t.ParticipantsCount,membersLength:t.members?.length});let n;t.privacy!==null&&t.privacy!==void 0&&(typeof t.privacy=="number"?n=t.privacy===0?"public":"private":typeof t.privacy=="string"&&(n=t.privacy.toLowerCase()));const i={id:t.id,name:t.name||"Unknown",type:IT(t.type),avatar:hn(t.avatarUrl||t.AvatarUrl||t.avatar||t.profileImage),description:t.description||"",privacy:n,members:(t.members||[]).map(o=>{const l=o.user?{...o.user,id:o.user.id||o.user.userId||o.userId,avatar:hn(o.user.avatarUrl||o.user.AvatarUrl||o.user.avatar||o.user.profileImage)}:{id:o.userId||o.id,username:o.username||"Unknown",email:"",avatar:hn(o.avatarUrl||o.AvatarUrl||o.avatar),onlineStatus:"offline",lastSeen:new Date().toISOString()};return{id:o.id||o.userId||o.user?.id,userId:o.userId||o.id||o.user?.id,user:l,joinedAt:o.joinedAt,role:o.role||"member"}}),lastMessage:t.lastMessage?{id:t.lastMessage.id,content:t.lastMessage.content,createdAt:t.lastMessage.createdAt||t.lastMessage.sentAt||new Date().toISOString(),senderId:t.lastMessage.senderId,senderUsername:t.lastMessage.senderUsername,fileUrl:hn(t.lastMessage.fileUrl),replyId:t.lastMessage.replyId}:void 0,unreadCount:t.unreadCount!==void 0?t.unreadCount:t.notificationsCount||0,createdAt:t.created||t.createdAt||new Date().toISOString(),updatedAt:t.userLastMessage||t.updatedAt||t.createdAt||new Date().toISOString(),messages:t.messages?t.messages.map(o=>({...o,fileUrl:hn(o.fileUrl),senderAvatarUrl:hn(o.senderAvatarUrl)})):void 0,participantsCount:t.participantsCount??t.ParticipantsCount,participantsOnline:t.participantsOnline??t.ParticipantsOnline,notificationsCount:t.notificationsCount??t.NotificationsCount,isOnline:t.isOnline??t.IsOnline??!1,createdById:t.createdById??t.CreatedById??t.ownerId??t.OwnerId};return console.log("[Normalizer] Normalized chat result:",{id:i.id,name:i.name,participantsCount:i.participantsCount,createdById:i.createdById,membersCount:i.members?.length}),i},Mf=t=>{if(!t)return{};console.log("[Normalizer] Normalizing user:",t),console.log("[Normalizer] User description fields:",{description:t.description,Description:t.Description,bio:t.bio});const n=t.userId||t.id||t.entityId||t.EntityId;let i="offline";return typeof t.onlineStatus=="string"?i=t.onlineStatus.toLowerCase()||"offline":typeof t.isOnline=="boolean"&&(i=t.isOnline?"online":"offline"),{id:n,username:t.username||t.displayName||t.name||"Unknown",email:t.email||"",avatar:hn(t.avatarUrl||t.AvatarUrl||t.avatar||t.profileImage),bio:t.description||t.Description||t.bio||"",onlineStatus:i,lastSeen:t.lastSeen||new Date().toISOString(),addMePolicy:t.addMePolicy||"everyone"}},PT=t=>Array.isArray(t)?t.map(n=>tr(n)):(console.warn("[Normalizer] Expected array of chats, got:",typeof t),[]),hv=t=>Array.isArray(t)?t.map(n=>Mf(n)):(console.warn("[Normalizer] Expected array of users, got:",typeof t),[]),Ve={getAllChats:async()=>{const t=await we.get("/chats/me");console.log("[ChatService] Raw API response:",t.data);const n=t.data?.data||t.data;console.log("[ChatService] Extracted rawChats:",n),console.log("[ChatService] First chat participantsCount:",n?.[0]?.participantsCount);const i=PT(n);return console.log("[ChatService] After normalization, first chat participantsCount:",i?.[0]?.participantsCount),i},getChat:async t=>{const n=await we.get(`/chats/${t}`),i=n.data?.data||n.data;return tr(i)},getChatProfile:async t=>{const n=await we.get(`/chats/${t}/profile`),i=n.data?.data||n.data;return console.log("[ChatService] getChatProfile raw response:",{chatId:t,rawChat:i,hasMembers:!!i?.members,membersLength:i?.members?.length,hasParticipants:!!i?.participants,participantsLength:i?.participants?.length,createdById:i?.createdById,ownerId:i?.ownerId,CreatedById:i?.CreatedById,OwnerId:i?.OwnerId}),tr(i)},createGroup:async t=>{const n=await we.post("/groups",t,{headers:{"Content-Type":"multipart/form-data"}}),i=n.data?.data||n.data;return tr(i)},createChannel:async t=>{const n=await we.post("/channels",t,{headers:{"Content-Type":"multipart/form-data"}}),i=n.data?.data||n.data;return tr(i)},updateChat:async(t,n,i)=>{const o=n==="group"?"/groups":"/channels",l=await we.put(o,i,{headers:{"Content-Type":"multipart/form-data"},params:{chatId:t}});return l.data?.data||l.data},deleteChat:async(t,n)=>{const i=n==="group"?"/groups":"/channels",o=await we.delete(i,{params:{chatId:t}});return o.data?.data||o.data},deleteConversation:async t=>{const n=await we.delete("/conversations",{params:{conversationId:t}});return n.data?.data||n.data},joinChat:async(t,n)=>{const i=n==="group"?"/groups/join":"/channels/join",o=n==="group"?"groupId":"channelId",l=await we.post(i,null,{params:{[o]:t}});return l.data?.data||l.data},leaveChat:async(t,n)=>{const i=n==="group"?"/groups/leave":"/channels/leave",o=await we.post(i,null,{params:{chatId:t}});return o.data?.data||o.data},searchChats:async t=>{const n=await we.post("/chats/search",{pageNumber:1,pageSize:10,searchTerm:t});console.log("[ChatService] searchChats full response:",n);const i=n.data?.data;if(!Array.isArray(i))return console.warn("[ChatService] Search returned non-array data:",i),[];const o=i.map(l=>{const d=l.type||l.chatType,f=String(d).toLowerCase().trim();let h="channel";return f==="conversation"||f==="dm"||f==="directmessage"?h="dm":f==="group"?h="group":f==="channel"&&(h="channel"),{id:l.id||l.entityId,name:l.name||l.displayName||"Unknown",type:h,avatar:hn(l.avatarUrl||l.avatar||l.profileImage),description:l.description||"",memberCount:l.memberCount||l.participantsCount||0}});return console.log("[ChatService] Normalized search results:",o),o},banUser:async(t,n)=>{const i=await we.post(`/chats/ban/${n}`,null,{params:{chatId:t}});return i.data?.data||i.data},unbanUser:async(t,n)=>{const i=await we.post(`/chats/unban/${n}`,null,{params:{chatId:t}});return i.data?.data||i.data},getBannedUsers:async t=>{const n=await we.get(`/chats/${t}/banned-users`);return n.data?.data||n.data||[]},addMemberToGroup:async(t,n)=>{const i=await we.post("/groups/add-member",null,{params:{chatId:t,addingUserId:n}});return i.data?.data||i.data},addMemberToChannel:async(t,n)=>{const i=await we.post("/channels/add-member",null,{params:{chatId:t,addingUserId:n}});return i.data?.data||i.data},removeMemberFromGroup:async(t,n)=>{const i=await we.post("/groups/remove-member",null,{params:{chatId:t,removingUserId:n}});return i.data?.data||i.data},removeMemberFromChannel:async(t,n)=>{const i=await we.post("/channels/remove-member",null,{params:{chatId:t,removingUserId:n}});return i.data?.data||i.data},updateChatPrivacy:async(t,n)=>{const i=n==="public"?0:1,o=await we.put("/chats/privacy-type",null,{params:{chatId:t,privacyType:i}});return o.data?.data||o.data},addUserPermission:async(t,n,i)=>{const o=await we.post("/chats/add-user-permission",null,{params:{chatId:t,addingUserId:n,permissionName:i}});return o.data?.data||o.data},createOrGetDM:async(t,n)=>{try{if(console.log("[ChatService] createOrGetDM called with:",{recipientId:t,recipientIdType:typeof t,initialMessage:n,isRecipientIdValid:t&&t!=="undefined"}),!t||t==="undefined")throw new Error(`Invalid recipientId: ${t}`);const i=await Ve.getAllChats();console.log("[ChatService] Fetched chats, looking for existing DM with recipient:",t);let o;for(const l of i)if(console.log("[ChatService] Checking chat:",{chatId:l.id,type:l.type,memberCount:l.members?.length||0}),l.type==="dm")if(l.members&&l.members.length>0){if(l.members.some(f=>{const h=f.userId===t||f.id===t||f.user?.id===t;return h&&console.log("[ChatService] Found matching member:",f),h})){o=l;break}}else{console.log("[ChatService] Members array empty for DM, fetching full details for chat:",l.id);try{const d=await Ve.getChat(l.id);if(console.log("[ChatService] Full chat details:",{id:d.id,memberCount:d.members?.length||0,members:d.members?.map(f=>({userId:f.userId,id:f.id}))}),d.members&&d.members.length>0&&d.members.some(h=>{const m=h.userId===t||h.id===t||h.user?.id===t;return m&&console.log("[ChatService] Found matching member in full chat:",h),m})){o=d;break}}catch(d){console.error("[ChatService] Error fetching full chat details:",d)}}if(console.log("[ChatService] DM chat found:",o?.id||"NOT FOUND"),o&&n){console.log("[ChatService] Sending to existing DM with chatId:",o.id);const l=new FormData;return l.append("chatId",o.id),l.append("content",n),console.log("[ChatService] FormData entries:",{chatId:o.id,content:n}),await we.post("/messages/",l,{headers:{"Content-Type":"multipart/form-data"}}),console.log("[ChatService] Message sent to existing DM:",o.id),o}if(!o&&n){console.log("[ChatService] Creating new DM conversation with user:",t);const l=new FormData;l.append("receiverId",t),l.append("content",n),console.log("[ChatService] FormData entries for new DM:",{receiverId:t,content:n});const d=await we.post("/messages/",l,{headers:{"Content-Type":"multipart/form-data"}});console.log("[ChatService] Message sent to new DM, conversation auto-created. Response:",d);const h=(await Ve.getAllChats()).find(m=>m.type==="dm"&&m.members?.some(y=>y.id===t||y.userId===t));return console.log("[ChatService] Newly created DM:",h?.id||"NOT FOUND"),h}return console.log("[ChatService] No action taken (no message to send)"),o}catch(i){throw console.error("[ChatService] Error in createOrGetDM:",i),i}}},VT=Object.freeze(Object.defineProperty({__proto__:null,chatService:Ve},Symbol.toStringTag,{value:"Module"})),Rb={"":"Like","":"Love","":"Laugh","":"Sad","":"Angry"},HT={Like:"",Love:"",Laugh:"",Sad:"",Angry:""},FT=[{emoji:"",type:"Like",label:"Like"},{emoji:"",type:"Love",label:"Love"},{emoji:"",type:"Laugh",label:"Laugh"},{emoji:"",type:"Sad",label:"Sad"},{emoji:"",type:"Angry",label:"Angry"}],La={sendMessage:async t=>{try{console.log("[MessageService] sendMessage called"),console.log("[MessageService] FormData entries:");for(const[i,o]of t.entries())o instanceof File?console.log(`  ${i}: File(${o.name}, ${o.size} bytes, ${o.type})`):console.log(`  ${i}: ${o}`);const n=await we.post("/messages",t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("[MessageService] Response:",n.data),n.data?.data||n.data}catch(n){throw console.error("[MessageService] Error sending message:",n),n}},editMessage:async(t,n)=>{const i=new FormData;i.append("Content",n);const o=await we.put(`/messages/${t}`,i,{headers:{"Content-Type":"multipart/form-data"}});return o.data?.data||o.data},deleteMessage:async t=>{const n=await we.delete(`/messages/${t}`);return n.data?.data||n.data},toggleReaction:async(t,n)=>{const i=await we.post(`/messages/${t}/reactions/${n}`);return i.data?.data??i.data},toggleReactionByEmoji:async(t,n)=>{const i=Rb[n];if(!i)throw new Error(`Unknown emoji: ${n}`);return La.toggleReaction(t,i)},getReactions:async t=>{const n=await we.get(`/messages/${t}/reactions`);return n.data?.data||n.data||[]},pinMessage:async t=>{const n=await we.post(`/messages/${t}/pin`);return n.data?.data||n.data},unpinMessage:async t=>{const n=await we.post(`/messages/${t}/unpin`);return n.data?.data||n.data},getPinnedMessages:async t=>{const n=await we.get(`/messages/pinned/${t}`);return n.data?.data||n.data}},tc=Object.freeze(Object.defineProperty({__proto__:null,AVAILABLE_REACTIONS:FT,EMOJI_TO_REACTION_TYPE:Rb,REACTION_TYPE_TO_EMOJI:HT,messageService:La},Symbol.toStringTag,{value:"Module"})),Ue=_c((t,n)=>({chats:[],currentChat:null,messages:[],pinnedMessages:new Map,chatPermissions:new Map,isLoadingChats:!1,isLoadingMessages:!1,isLoadingPinned:!1,permissionsLoading:!1,error:null,typingUsers:new Map,onlineUsers:new Map,userLastSeen:new Map,blockedByUsers:new Set,usersYouBlocked:new Set,loadChats:async()=>{t({isLoadingChats:!0,error:null});try{const i=await Ve.getAllChats();console.log("[ChatStore] Chats from API (already normalized):",i),console.log("[ChatStore] Sample chat participantsCount:",i[0]?.participantsCount,i[0]?.name),t({chats:i,isLoadingChats:!1})}catch(i){const o=De(i,"Failed to load chats");console.error("[ChatStore] Error loading chats:",i),t({error:o,isLoadingChats:!1})}},setCurrentChat:i=>{console.log("[ChatStore] setCurrentChat called with:",{chatId:i?.id,chatName:i?.name,participantsCount:i?.participantsCount,membersLength:i?.members?.length}),t({currentChat:i})},setMessages:i=>{t({messages:i})},loadMessages:async(i,o=1)=>{t({isLoadingMessages:!0,error:null});try{const{chatService:l}=await it(async()=>{const{chatService:f}=await Promise.resolve().then(()=>VT);return{chatService:f}},void 0),d=await l.getChat(i);t({messages:d.messages||[],isLoadingMessages:!1})}catch(l){const d=De(l,"Failed to load messages");t({error:d,isLoadingMessages:!1})}},sendMessage:async(i,o,l,d)=>{t({error:null});try{if(d){const f=new FormData;i&&f.append("chatId",i),o&&f.append("receiverId",o),l&&f.append("content",l),f.append("file",d);const h=await La.sendMessage(f);t(m=>({messages:[...m.messages,h]}))}else await(await it(()=>Promise.resolve().then(()=>Jf),void 0).then(h=>h.signalRService)).sendMessage(i,l,o||void 0,null)}catch(f){const h=De(f,"Failed to send message");t({error:h})}},editMessage:async(i,o)=>{t({error:null});try{const l=await La.editMessage(i,o);t(d=>({messages:d.messages.map(f=>f.messageId===i?l:f)}))}catch(l){const d=De(l,"Failed to edit message");t({error:d})}},deleteMessage:async i=>{t({error:null});try{await La.deleteMessage(i),t(o=>({messages:o.messages.filter(l=>l.messageId!==i)}))}catch(o){const l=De(o,"Failed to delete message");t({error:l})}},toggleReaction:async(i,o)=>{t({error:null});try{return await La.toggleReactionByEmoji(i,o)}catch(l){const d=De(l,"Failed to toggle reaction");return t({error:d}),!1}},clearError:()=>t({error:null}),loadPinnedMessages:async i=>{t({isLoadingPinned:!0});try{const o=await La.getPinnedMessages(i);t(l=>{const d=new Map(l.pinnedMessages);return d.set(i,o||[]),{pinnedMessages:d,isLoadingPinned:!1}})}catch(o){console.error("[ChatStore] Error loading pinned messages:",o),t({isLoadingPinned:!1})}},pinMessage:async i=>{try{await La.pinMessage(i)}catch(o){const l=De(o,"Failed to pin message");throw t({error:l}),o}},unpinMessage:async i=>{try{await La.unpinMessage(i)}catch(o){const l=De(o,"Failed to unpin message");throw t({error:l}),o}},getPinnedMessages:i=>n().pinnedMessages.get(i)||[],loadPermissions:async i=>{const{user:o}=gt.getState();if(console.log("[loadPermissions] Called with:",{chatId:i,userId:o?.id,username:o?.username}),!o||!i){console.log("[loadPermissions] Early return - no user or chatId");return}t({permissionsLoading:!0});try{const{permissionService:l}=await it(async()=>{const{permissionService:m}=await import("./permission.service-CWz96ix8.js");return{permissionService:m}},__vite__mapDeps([0,1,2]));console.log("[loadPermissions] Calling API: GET /permissions/",i,"/user/",o.id);const d=await l.getUserPermissions(i,o.id);console.log("[loadPermissions] API response:",d);const f=d?.permissions||d||[],h=Array.isArray(f)?f.map(m=>m.permissionName||m.name||m):[];console.log("[ChatStore] Loaded permissions for chat",i,":",h),t(m=>({chatPermissions:new Map(m.chatPermissions).set(i,h),permissionsLoading:!1}))}catch(l){console.error("[ChatStore] Failed to load permissions:",l),t(d=>({chatPermissions:new Map(d.chatPermissions).set(i,[]),permissionsLoading:!1}))}},hasPermission:(i,o)=>{const{currentChat:l,chatPermissions:d}=n(),{user:f}=gt.getState();if(console.log("[hasPermission] Checking permission:",{chatId:i,permission:o,currentChatId:l?.id,currentChatType:l?.type,userId:f?.id,createdById:l?.createdById,membersCount:l?.members?.length}),l?.type==="dm")return["SendMessage","PinMessages"].includes(o)?(console.log("[hasPermission] DM chat - allowing:",o),!0):!1;if(l&&f&&l.createdById===f.id)return console.log("[hasPermission] User is chat creator - granting all permissions"),!0;if(l&&f&&l.members){const y=l.members.find(x=>x.userId===f.id);console.log("[hasPermission] Current member:",{found:!!y,memberId:y?.userId,role:y?.role});const g=y?.role?.toLowerCase();if(g==="admin"||g==="owner")return console.log("[hasPermission] User has admin/owner role - granting all permissions"),!0}const h=d.get(i)||[],m=h.includes(o);return console.log("[hasPermission] Checking cached permissions:",{cachedPermissions:h,hasPermission:m}),m},clearPermissions:i=>{t(i?o=>{const l=new Map(o.chatPermissions);return l.delete(i),{chatPermissions:l}}:{chatPermissions:new Map})},grantPermission:(i,o)=>{console.log("[ChatStore] Granting permission:",{chatId:i,permissionName:o}),t(l=>{const d=new Map(l.chatPermissions),f=d.get(i)||[];return f.includes(o)||d.set(i,[...f,o]),{chatPermissions:d}})},revokePermission:(i,o)=>{console.log("[ChatStore] Revoking permission:",{chatId:i,permissionName:o}),t(l=>{const d=new Map(l.chatPermissions),f=d.get(i)||[];return d.set(i,f.filter(h=>h!==o)),{chatPermissions:d}})},isUserOnline:i=>n().onlineUsers.get(i)||!1,getUserLastSeen:i=>n().userLastSeen.get(i),getOnlineMembersCount:i=>{const o=n().chats.find(f=>f.id===i);if(!o||!o.members)return 0;let l=0;const d=n().onlineUsers;for(const f of o.members)d.get(f.userId)&&l++;return l},setInitialPresenceStates:i=>{console.log("[ChatStore] Setting initial presence states for",Object.keys(i).length,"users"),console.log("[ChatStore] Raw presence states:",i);const o=new Map,l=new Map;Object.entries(i).forEach(([d,f])=>{console.log(`[ChatStore] Processing user ${d}, state:`,f,"type:",typeof f),typeof f=="boolean"?(o.set(d,f),console.log(`[ChatStore] Set user ${d} to ${f?"online":"offline"}`)):(o.set(d,f.isOnline),f.lastSeen&&l.set(d,f.lastSeen),console.log(`[ChatStore] Set user ${d} to ${f.isOnline?"online":"offline"}, lastSeen: ${f.lastSeen||"none"}`))}),t({onlineUsers:o,userLastSeen:l}),console.log("[ChatStore] Presence states initialized:",{online:Array.from(o.entries()).filter(([d,f])=>f).length,total:o.size,onlineUserIds:Array.from(o.entries()).filter(([d,f])=>f).map(([d])=>d)})},handleReceiveMessage:i=>{console.log("[ChatStore] Received message:",i);const o=n();if(o.currentChat&&i.chatId===o.currentChat.id&&!o.messages.some(d=>d.messageId===i.messageId)){const d={messageId:i.messageId,chatId:i.chatId,senderId:i.senderId,senderUsername:i.senderUsername||"Unknown",senderAvatarUrl:i.senderAvatarUrl,content:i.content,fileUrl:i.fileUrl,replyId:i.replyId,sentAt:i.sentAt,isSeen:!1,isNotificated:!1,notificationId:"",messageReactions:[],isCurrentUser:!1};t({messages:[...o.messages,d]}),console.log("[ChatStore] Added new message to state")}n().loadChats()},handleMessageEdited:i=>{console.log("[ChatStore] Message edited:",i),t(o=>({messages:o.messages.map(l=>l.messageId===i.messageId?{...l,content:i.content}:l)}))},handleMessageDeleted:i=>{console.log("[ChatStore] Message deleted:",i),t(o=>({messages:o.messages.filter(l=>l.messageId!==i.messageId)}))},handleReactionAdded:i=>{console.log("[ChatStore] Reaction added event received:",i);const o=n();console.log("[ChatStore] Current messages count:",o.messages.length),console.log("[ChatStore] Looking for messageId:",i.messageId);const l=o.messages.find(d=>d.messageId===i.messageId);console.log("[ChatStore] Found message:",l?"YES":"NO"),l&&(t(d=>({messages:d.messages.map(f=>f.messageId===i.messageId?{...f,messageReactions:[...f.messageReactions||[],{reactionType:i.reactionType,userId:i.userId,userName:""}]}:f)})),console.log("[ChatStore] Reaction added to message"))},handleReactionRemoved:i=>{console.log("[ChatStore] Reaction removed:",i),t(o=>({messages:o.messages.map(l=>l.messageId===i.messageId?{...l,messageReactions:(l.messageReactions||[]).filter(d=>!(d.userId===i.userId&&d.reactionType===i.reactionType))}:l)}))},handleUserOnline:i=>{console.log("[ChatStore] User online:",i),t(o=>{const l=new Map(o.onlineUsers);l.set(i.userId,!0);const d=new Map(o.userLastSeen);return d.delete(i.userId),{onlineUsers:l,userLastSeen:d,chats:o.chats.map(f=>f.members?.some(m=>m.userId===i.userId)?{...f,isOnline:f.type==="dm"?!0:f.isOnline,members:f.members?.map(m=>m.userId===i.userId?{...m,user:{...m.user,onlineStatus:"online",lastSeen:""}}:m)}:f)}})},handleUserOffline:i=>{console.log("[ChatStore] User offline:",i),t(o=>{const l=new Map(o.onlineUsers);l.set(i.userId,!1);const d=new Map(o.userLastSeen);return i.lastSeen&&d.set(i.userId,i.lastSeen),{onlineUsers:l,userLastSeen:d,chats:o.chats.map(f=>f.members?.some(m=>m.userId===i.userId)?{...f,isOnline:f.type==="dm"?!1:f.isOnline,members:f.members?.map(m=>m.userId===i.userId?{...m,user:{...m.user,onlineStatus:"offline",lastSeen:i.lastSeen}}:m)}:f)}})},handleUserTyping:i=>{console.log("[ChatStore] User typing:",i),t(o=>{const l=new Map(o.typingUsers);return l.set(`${i.chatId}-${i.userId}`,{userId:i.userId,timestamp:Date.now()}),{typingUsers:l}}),setTimeout(()=>{t(o=>{const l=new Map(o.typingUsers);return l.delete(`${i.chatId}-${i.userId}`),{typingUsers:l}})},3e3)},handleUserStoppedTyping:i=>{console.log("[ChatStore] User stopped typing:",i),t(o=>{const l=new Map(o.typingUsers);return l.delete(`${i.chatId}-${i.userId}`),{typingUsers:l}})},handleMessagePinned:i=>{console.log("[ChatStore] Message pinned:",i),t(o=>({messages:o.messages.map(l=>l.messageId===i.messageId?{...l,isPinned:!0,pinnedAt:i.pinnedAt,pinnedById:i.pinnedById,pinnedByUsername:i.pinnedByUsername}:l)})),n().loadPinnedMessages(i.chatId)},handleMessageUnpinned:i=>{console.log("[ChatStore] Message unpinned:",i),t(o=>({messages:o.messages.map(l=>l.messageId===i.messageId?{...l,isPinned:!1,pinnedAt:void 0,pinnedById:void 0,pinnedByUsername:void 0}:l)})),t(o=>{const l=new Map(o.pinnedMessages),d=l.get(i.chatId)||[];return l.set(i.chatId,d.filter(f=>f.messageId!==i.messageId)),{pinnedMessages:l}})},handleAddedToChat:i=>{console.log("[ChatStore] Added to chat:",i),n().loadChats()},handleNewConversation:i=>{console.log("[ChatStore] New conversation:",i),n().loadChats()},handleConversationCreated:async i=>{console.log("[ChatStore] Conversation created (sender notification):",i);const l=n().currentChat;if(l&&l.id.startsWith("temp_dm_")&&l.id.includes(i.receiverId)){console.log("[ChatStore] Switching from temp chat to real conversation:",i.conversationId),await n().loadChats();const f=n().chats.find(h=>h.id===i.conversationId);if(f){console.log("[ChatStore] Found new conversation, switching to it:",f.id),t({currentChat:f});try{await(await it(()=>Promise.resolve().then(()=>Jf),void 0).then(m=>m.signalRService)).joinChat(f.id)}catch(h){console.error("[ChatStore] Failed to join new chat:",h)}}}else n().loadChats()},handlePermissionGranted:i=>{console.log("[ChatStore] Permission granted:",i);const{user:o}=gt.getState();o&&i.userId===o.id&&t(l=>{const d=new Map(l.chatPermissions),f=d.get(i.chatId)||[];return f.includes(i.permissionName)||d.set(i.chatId,[...f,i.permissionName]),{chatPermissions:d}})},handlePermissionRevoked:i=>{console.log("[ChatStore] Permission revoked:",i);const{user:o}=gt.getState();o&&i.userId===o.id&&t(l=>{const d=new Map(l.chatPermissions),f=d.get(i.chatId)||[];return d.set(i.chatId,f.filter(h=>h!==i.permissionName)),{chatPermissions:d}})},handleAllPermissionsRevoked:i=>{console.log("[ChatStore] All permissions revoked:",i);const{user:o}=gt.getState();o&&i.userId===o.id&&t(l=>{const d=new Map(l.chatPermissions);return d.set(i.chatId,[]),{chatPermissions:d}})},handleUserBlockedYou:i=>{console.log("[ChatStore] User blocked you:",i),t(o=>{const l=new Set(o.blockedByUsers);return l.add(i.blockerId),{blockedByUsers:l}})},handleYouBlockedUser:i=>{console.log("[ChatStore] You blocked user:",i),i.blockedUserId&&t(o=>{const l=new Set(o.usersYouBlocked);return l.add(i.blockedUserId),{usersYouBlocked:l}})},handleUserUnblockedYou:i=>{console.log("[ChatStore] User unblocked you:",i),t(o=>{const l=new Set(o.blockedByUsers);return l.delete(i.unblockerId),{blockedByUsers:l}})},handleYouUnblockedUser:i=>{console.log("[ChatStore] You unblocked user:",i),i.unblockedUserId&&t(o=>{const l=new Set(o.usersYouBlocked);return l.delete(i.unblockedUserId),{usersYouBlocked:l}})},handleChatDeleted:i=>{console.log("[ChatStore] Chat deleted:",i);const o=n();t({chats:o.chats.filter(l=>l.id!==i.chatId),currentChat:o.currentChat?.id===i.chatId?null:o.currentChat,messages:o.currentChat?.id===i.chatId?[]:o.messages}),t(l=>{const d=new Map(l.chatPermissions);return d.delete(i.chatId),{chatPermissions:d}})},handleRemovedFromChat:i=>{console.log("[ChatStore] Removed from chat:",i);const o=n();t({chats:o.chats.filter(l=>l.id!==i.chatId),currentChat:o.currentChat?.id===i.chatId?null:o.currentChat,messages:o.currentChat?.id===i.chatId?[]:o.messages}),t(l=>{const d=new Map(l.chatPermissions);return d.delete(i.chatId),{chatPermissions:d}})},isBlockedBy:i=>n().blockedByUsers.has(i),hasBlocked:i=>n().usersYouBlocked.has(i),addBlockedUser:i=>{console.log("[ChatStore] Adding blocked user:",i),t(o=>{const l=new Set(o.usersYouBlocked);return l.add(i),{usersYouBlocked:l}})},removeBlockedUser:i=>{console.log("[ChatStore] Removing blocked user:",i),t(o=>{const l=new Set(o.usersYouBlocked);return l.delete(i),{usersYouBlocked:l}})}})),qT=()=>{const t=localStorage.getItem("simpchat-theme");return t==="dark"||t==="light"?t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},Kd=t=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("simpchat-theme",t)},GT=_c(t=>{const n=qT();return Kd(n),{theme:n,toggleTheme:()=>{t(i=>{const o=i.theme==="light"?"dark":"light";return Kd(o),{theme:o}})},setTheme:i=>{Kd(i),t({theme:i})}}}),$T="_dashboard_1003y_106",YT="_gradientFlow_1003y_1",XT="_darkMode_1003y_137",WT="_leftPanel_1003y_151",KT="_panelGlow_1003y_1",QT="_panelHeader_1003y_172",ZT="_title_1003y_203",JT="_menuButton_1003y_226",ej="_searchBar_1003y_261",tj="_searchInput_1003y_266",nj="_searchResults_1003y_296",aj="_slideDown_1003y_1",ij="_searchResultItem_1003y_330",sj="_searchResultAvatar_1003y_356",oj="_searchResultInfo_1003y_372",rj="_searchResultName_1003y_377",lj="_searchResultType_1003y_390",cj="_searchResultTypeIcon_1003y_400",uj="_searchLoading_1003y_407",dj="_searchNoResults_1003y_408",fj="_chatList_1003y_421",pj="_emptyState_1003y_455",hj="_loading_1003y_456",mj="_chatItem_1003y_469",gj="_active_1003y_483",yj="_chatAvatar_1003y_511",vj="_avatarFallback_1003y_537",xj="_onlineIndicator_1003y_548",bj="_chatInfo_1003y_564",Sj="_chatHeader_1003y_571",_j="_chatNameWithType_1003y_578",wj="_headerRight_1003y_586",Cj="_chatName_1003y_578",Tj="_chatTypeIcon_1003y_606",jj="_iconDm_1003y_623",Aj="_iconGroup_1003y_634",Ej="_iconChannel_1003y_645",kj="_timestamp_1003y_655",Mj="_chatPreview_1003y_666",Rj="_unreadBadge_1003y_679",Dj="_unreadPulse_1003y_1",Nj="_chatHeader2_1003y_703",Uj="_headerInfo_1003y_720",zj="_headerTitle_1003y_727",Oj="_chatTitle_1003y_733",Bj="_headerChatType_1003y_750",Lj="_headerActions_1003y_760",Ij="_headerButton_1003y_766",Pj="_messagesContainer_1003y_804",Vj="_noMessages_1003y_838",Hj="_welcomeScreen_1003y_850",Fj="_welcomeIcon_1003y_865",qj="_welcomeText_1003y_871",Gj="_welcomeSubtext_1003y_882",$j="_inputArea_1003y_892",Yj="_inputWrapper_1003y_906",Xj="_messageInput_1003y_912",Wj="_sendButton_1003y_952",Kj="_modalOverlay_1003y_999",Qj="_modalFadeIn_1003y_1",Zj="_modal_1003y_999",Jj="_modalSlideUp_1003y_1",eA="_modalHeader_1003y_1031",tA="_closeButton_1003y_1054",nA="_modalBody_1003y_1084",aA="_modalFooter_1003y_1121",iA="_formGroup_1003y_1133",sA="_formInput_1003y_1149",oA="_primaryButton_1003y_1179",rA="_secondaryButton_1003y_1205",lA="_profileContent_1003y_1235",cA="_profileInfo_1003y_1241",uA="_avatarSection_1003y_1247",dA="_largeAvatar_1003y_1253",fA="_profileField_1003y_1274",pA="_loadingState_1003y_1305",hA="_menuDropdown_1003y_1312",mA="_menuItem_1003y_1344",gA="_menuDivider_1003y_1385",yA="_mainContent_1003y_1396",vA="_chatHeaderBar_1003y_1419",xA="_headerLeft_1003y_1434",bA="_headerAvatar_1003y_1441",SA="_headerStatus_1003y_1493",_A="_online_1003y_548",wA="_messageGroup_1003y_1513",CA="_ownMessage_1003y_1521",TA="_messageBubble_1003y_1525",jA="_otherMessage_1003y_1531",AA="_senderAvatar_1003y_1546",EA="_senderName_1003y_1584",kA="_messageContent_1003y_1592",MA="_messageTime_1003y_1599",RA="_attachment_1003y_1607",DA="_reactionsContainer_1003y_1626",NA="_reaction_1003y_1626",UA="_inputField_1003y_1663",zA="_emojiButton_1003y_1700",OA="_attachButton_1003y_1701",BA="_rightPanel_1003y_1731",LA="_chatInfoPanel_1003y_1772",IA="_chatInfoHeader_1003y_1779",PA="_chatInfoAvatar_1003y_1789",VA="_chatInfoName_1003y_1810",HA="_chatInfoType_1003y_1821",FA="_editChatButton_1003y_1831",qA="_infoContent_1003y_1850",GA="_infoSection_1003y_1856",$A="_infoLabel_1003y_1860",YA="_memberList_1003y_1873",XA="_memberItem_1003y_1879",WA="_memberAvatar_1003y_1895",KA="_memberInfo_1003y_1916",QA="_memberName_1003y_1921",ZA="_memberRole_1003y_1934",JA="_memberStatus_1003y_1944",e2="_emptyScreen_1003y_1954",t2="_emptyIcon_1003y_1964",n2="_emptyActions_1003y_1991",a2="_actionButton_1003y_1997",i2="_userSection_1003y_2020",s2="_userAvatar_1003y_2040",o2="_userInfo_1003y_2061",r2="_username_1003y_2066",l2="_userStatus_1003y_2080",c2="_logoutButton_1003y_2090",u2="_hidden_1003y_2122",d2="_truncate_1003y_2126",f2="_mobileMenuButton_1003y_2133",p2="_mobileOverlay_1003y_2138",h2="_mobileOpen_1003y_2190",m2="_borderGlow_1003y_1",g2="_chatItemHoverGlow_1003y_1",y2="_buttonPulse_1003y_1",v2="_inputFocusGlow_1003y_1",x2="_subtleFloat_1003y_1",b2="_messageSlideIn_1003y_1",S2="_shimmer_1003y_1",R={dashboard:$T,gradientFlow:YT,darkMode:XT,leftPanel:WT,panelGlow:KT,panelHeader:QT,title:ZT,menuButton:JT,searchBar:ej,searchInput:tj,searchResults:nj,slideDown:aj,searchResultItem:ij,searchResultAvatar:sj,searchResultInfo:oj,searchResultName:rj,searchResultType:lj,searchResultTypeIcon:cj,searchLoading:uj,searchNoResults:dj,chatList:fj,emptyState:pj,loading:hj,chatItem:mj,active:gj,chatAvatar:yj,avatarFallback:vj,onlineIndicator:xj,chatInfo:bj,chatHeader:Sj,chatNameWithType:_j,headerRight:wj,chatName:Cj,chatTypeIcon:Tj,iconDm:jj,iconGroup:Aj,iconChannel:Ej,timestamp:kj,chatPreview:Mj,unreadBadge:Rj,unreadPulse:Dj,chatHeader2:Nj,headerInfo:Uj,headerTitle:zj,chatTitle:Oj,headerChatType:Bj,headerActions:Lj,headerButton:Ij,messagesContainer:Pj,noMessages:Vj,welcomeScreen:Hj,welcomeIcon:Fj,welcomeText:qj,welcomeSubtext:Gj,inputArea:$j,inputWrapper:Yj,messageInput:Xj,sendButton:Wj,modalOverlay:Kj,modalFadeIn:Qj,modal:Zj,modalSlideUp:Jj,modalHeader:eA,closeButton:tA,modalBody:nA,modalFooter:aA,formGroup:iA,formInput:sA,primaryButton:oA,secondaryButton:rA,profileContent:lA,profileInfo:cA,avatarSection:uA,largeAvatar:dA,profileField:fA,loadingState:pA,menuDropdown:hA,menuItem:mA,menuDivider:gA,mainContent:yA,chatHeaderBar:vA,headerLeft:xA,headerAvatar:bA,headerStatus:SA,online:_A,messageGroup:wA,ownMessage:CA,messageBubble:TA,otherMessage:jA,senderAvatar:AA,senderName:EA,messageContent:kA,messageTime:MA,attachment:RA,reactionsContainer:DA,reaction:NA,inputField:UA,emojiButton:zA,attachButton:OA,rightPanel:BA,chatInfoPanel:LA,chatInfoHeader:IA,chatInfoAvatar:PA,chatInfoName:VA,chatInfoType:HA,editChatButton:FA,infoContent:qA,infoSection:GA,infoLabel:$A,memberList:YA,memberItem:XA,memberAvatar:WA,memberInfo:KA,memberName:QA,memberRole:ZA,memberStatus:JA,emptyScreen:e2,emptyIcon:t2,emptyActions:n2,actionButton:a2,userSection:i2,userAvatar:s2,userInfo:o2,username:r2,userStatus:l2,logoutButton:c2,hidden:u2,truncate:d2,mobileMenuButton:f2,mobileOverlay:p2,mobileOpen:h2,borderGlow:m2,chatItemHoverGlow:g2,buttonPulse:y2,inputFocusGlow:v2,subtleFloat:x2,messageSlideIn:b2,shimmer:S2},Zn={getCurrentUser:async()=>{const t=await we.get("/users/me"),n=t.data?.data||t.data;return Mf(n)},updateProfile:async t=>(await we.put("/users/me",t,{headers:{"Content-Type":"multipart/form-data"}}),Zn.getCurrentUser()),searchUsers:async t=>{const n=await we.get(`/users/search/${encodeURIComponent(t)}`),i=n.data?.data||n.data;return hv(i)},getUserProfile:async t=>{const n=await we.get(`/users/${t}`);console.log("[UserService] getUserProfile raw response:",n.data);const i=n.data?.data||n.data;return console.log("[UserService] getUserProfile rawUser:",i),console.log("[UserService] getUserProfile description:",i?.description,i?.Description),Mf(i)},updateLastSeen:async()=>{const t=await we.put("/users/last-seen");return t.data?.data||t.data},getAllUsers:async()=>{const t=await we.get("/users"),n=t.data?.data||t.data;return hv(n)},deleteUser:async t=>{const n=await we.delete(`/users/${t}`);return n.data?.data||n.data},blockUser:async t=>{const n=await we.post(`/users/blocks/${t}`);return n.data?.data||n.data},unblockUser:async t=>{const n=await we.delete(`/users/blocks/${t}`);return n.data?.data||n.data},getBlockedUsers:async()=>{const t=await we.get("/users/blocks");return t.data?.data||t.data||[]},getBlockStatus:async t=>(await we.get(`/users/blocks/${t}/status`)).data?.isBlocked||!1,getMutualBlockStatus:async t=>{const n=await we.get(`/users/blocks/${t}/mutual-status`);return{iBlockedThem:n.data?.iBlockedThem||!1,theyBlockedMe:n.data?.theyBlockedMe||!1}}},Ln=Object.freeze(Object.defineProperty({__proto__:null,userService:Zn},Symbol.toStringTag,{value:"Module"})),_2="_container_nzeaj_52",w2="_toast_nzeaj_64",C2="_slideIn_nzeaj_1",T2="_glowPulse_nzeaj_1",j2="_exit_nzeaj_84",A2="_slideOut_nzeaj_1",E2="_success_nzeaj_89",k2="_error_nzeaj_97",M2="_warning_nzeaj_105",R2="_info_nzeaj_113",D2="_iconWrapper_nzeaj_120",N2="_iconBounce_nzeaj_1",U2="_message_nzeaj_134",z2="_closeBtn_nzeaj_143",O2="_progressBar_nzeaj_168",B2="_progressShrink_nzeaj_1",Bi={container:_2,toast:w2,slideIn:C2,glowPulse:T2,exit:j2,slideOut:A2,success:E2,error:k2,warning:M2,info:R2,iconWrapper:D2,iconBounce:N2,message:U2,closeBtn:z2,progressBar:O2,progressShrink:B2},L2=({toast:t,onClose:n})=>{const[i,o]=w.useState(!1);w.useEffect(()=>{const f=t.duration||4e3,h=setTimeout(()=>{o(!0)},f-300),m=setTimeout(()=>{n(t.id)},f);return()=>{clearTimeout(h),clearTimeout(m)}},[t.id,t.duration,n]);const l=()=>{o(!0),setTimeout(()=>n(t.id),300)},d=()=>{switch(t.type){case"success":return c.jsx(q_,{size:22});case"error":return c.jsx(F_,{size:22});case"warning":return c.jsx(pi,{size:22});case"info":return c.jsx(H_,{size:22})}};return c.jsxs("div",{className:`${Bi.toast} ${Bi[t.type]} ${i?Bi.exit:""}`,children:[c.jsx("div",{className:Bi.iconWrapper,children:d()}),c.jsx("span",{className:Bi.message,children:t.message}),c.jsx("button",{onClick:l,"aria-label":"Close",style:{background:"rgba(255, 255, 255, 0.15)",border:"none",borderRadius:"6px",color:"#ffffff",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"8px",fontSize:"16px",fontWeight:"bold",lineHeight:1},children:""}),c.jsx("div",{className:Bi.progressBar,style:{animationDuration:`${t.duration||4e3}ms`}})]})},I2=({toasts:t,onClose:n})=>c.jsx("div",{className:Bi.container,children:t.map(i=>c.jsx(L2,{toast:i,onClose:n},i.id))});class P2{toasts=[];listeners=[];subscribe(n){return this.listeners.push(n),()=>{this.listeners=this.listeners.filter(i=>i!==n)}}notify(){this.listeners.forEach(n=>n([...this.toasts]))}show(n,i,o){const l=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,d={id:l,type:n,message:i,duration:o};return this.toasts.push(d),this.notify(),l}success(n,i){return this.show("success",n,i)}error(n,i){return this.show("error",n,i||5e3)}warning(n,i){return this.show("warning",n,i)}info(n,i){return this.show("info",n,i)}remove(n){this.toasts=this.toasts.filter(i=>i.id!==n),this.notify()}getToasts(){return[...this.toasts]}}const Ps=new P2,le={success:(t,n)=>Ps.success(t,n),error:(t,n)=>Ps.error(t,n),warning:(t,n)=>Ps.warning(t,n),info:(t,n)=>Ps.info(t,n)},fp=w.createContext({});function pp(t){const n=w.useRef(null);return n.current===null&&(n.current=t()),n.current}const hp=typeof window<"u",Db=hp?w.useLayoutEffect:w.useEffect,Ec=w.createContext(null);function mp(t,n){t.indexOf(n)===-1&&t.push(n)}function gp(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const Ia=(t,n,i)=>i>n?n:i<t?t:i;let yp=()=>{};const Pa={},Nb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ub(t){return typeof t=="object"&&t!==null}const zb=t=>/^0[^.\s]+$/u.test(t);function vp(t){let n;return()=>(n===void 0&&(n=t()),n)}const ea=t=>t,V2=(t,n)=>i=>n(t(i)),Ar=(...t)=>t.reduce(V2),pr=(t,n,i)=>{const o=n-t;return o===0?1:(i-t)/o};class xp{constructor(){this.subscriptions=[]}add(n){return mp(this.subscriptions,n),()=>gp(this.subscriptions,n)}notify(n,i,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,i,o);else for(let d=0;d<l;d++){const f=this.subscriptions[d];f&&f(n,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const va=t=>t*1e3,Jn=t=>t/1e3;function Ob(t,n){return n?t*(1e3/n):0}const Bb=(t,n,i)=>(((1-3*i+3*n)*t+(3*i-6*n))*t+3*n)*t,H2=1e-7,F2=12;function q2(t,n,i,o,l){let d,f,h=0;do f=n+(i-n)/2,d=Bb(f,o,l)-t,d>0?i=f:n=f;while(Math.abs(d)>H2&&++h<F2);return f}function Er(t,n,i,o){if(t===n&&i===o)return ea;const l=d=>q2(d,0,1,t,i);return d=>d===0||d===1?d:Bb(l(d),n,o)}const Lb=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,Ib=t=>n=>1-t(1-n),Pb=Er(.33,1.53,.69,.99),bp=Ib(Pb),Vb=Lb(bp),Hb=t=>(t*=2)<1?.5*bp(t):.5*(2-Math.pow(2,-10*(t-1))),Sp=t=>1-Math.sin(Math.acos(t)),Fb=Ib(Sp),qb=Lb(Sp),G2=Er(.42,0,1,1),$2=Er(0,0,.58,1),Gb=Er(.42,0,.58,1),Y2=t=>Array.isArray(t)&&typeof t[0]!="number",$b=t=>Array.isArray(t)&&typeof t[0]=="number",X2={linear:ea,easeIn:G2,easeInOut:Gb,easeOut:$2,circIn:Sp,circInOut:qb,circOut:Fb,backIn:bp,backInOut:Vb,backOut:Pb,anticipate:Hb},W2=t=>typeof t=="string",mv=t=>{if($b(t)){yp(t.length===4);const[n,i,o,l]=t;return Er(n,i,o,l)}else if(W2(t))return X2[t];return t},ql=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function K2(t,n){let i=new Set,o=new Set,l=!1,d=!1;const f=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){f.has(g)&&(y.schedule(g),t()),g(h)}const y={schedule:(g,x=!1,S=!1)=>{const _=S&&l?i:o;return x&&f.add(g),_.has(g)||_.add(g),g},cancel:g=>{o.delete(g),f.delete(g)},process:g=>{if(h=g,l){d=!0;return}l=!0,[i,o]=[o,i],i.forEach(m),i.clear(),l=!1,d&&(d=!1,y.process(g))}};return y}const Q2=40;function Yb(t,n){let i=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},d=()=>i=!0,f=ql.reduce((M,O)=>(M[O]=K2(d),M),{}),{setup:h,read:m,resolveKeyframes:y,preUpdate:g,update:x,preRender:S,render:C,postRender:_}=f,k=()=>{const M=Pa.useManualTiming?l.timestamp:performance.now();i=!1,Pa.useManualTiming||(l.delta=o?1e3/60:Math.max(Math.min(M-l.timestamp,Q2),1)),l.timestamp=M,l.isProcessing=!0,h.process(l),m.process(l),y.process(l),g.process(l),x.process(l),S.process(l),C.process(l),_.process(l),l.isProcessing=!1,i&&n&&(o=!1,t(k))},j=()=>{i=!0,o=!0,l.isProcessing||t(k)};return{schedule:ql.reduce((M,O)=>{const P=f[O];return M[O]=(Q,ne=!1,W=!1)=>(i||j(),P.schedule(Q,ne,W)),M},{}),cancel:M=>{for(let O=0;O<ql.length;O++)f[ql[O]].cancel(M)},state:l,steps:f}}const{schedule:xt,cancel:hi,state:sn,steps:Qd}=Yb(typeof requestAnimationFrame<"u"?requestAnimationFrame:ea,!0);let nc;function Z2(){nc=void 0}const An={now:()=>(nc===void 0&&An.set(sn.isProcessing||Pa.useManualTiming?sn.timestamp:performance.now()),nc),set:t=>{nc=t,queueMicrotask(Z2)}},Xb=t=>n=>typeof n=="string"&&n.startsWith(t),Wb=Xb("--"),J2=Xb("var(--"),_p=t=>J2(t)?eE.test(t.split("/*")[0].trim()):!1,eE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,io={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hr={...io,transform:t=>Ia(0,1,t)},Gl={...io,default:1},sr=t=>Math.round(t*1e5)/1e5,wp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tE(t){return t==null}const nE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cp=(t,n)=>i=>!!(typeof i=="string"&&nE.test(i)&&i.startsWith(t)||n&&!tE(i)&&Object.prototype.hasOwnProperty.call(i,n)),Kb=(t,n,i)=>o=>{if(typeof o!="string")return o;const[l,d,f,h]=o.match(wp);return{[t]:parseFloat(l),[n]:parseFloat(d),[i]:parseFloat(f),alpha:h!==void 0?parseFloat(h):1}},aE=t=>Ia(0,255,t),Zd={...io,transform:t=>Math.round(aE(t))},Vi={test:Cp("rgb","red"),parse:Kb("red","green","blue"),transform:({red:t,green:n,blue:i,alpha:o=1})=>"rgba("+Zd.transform(t)+", "+Zd.transform(n)+", "+Zd.transform(i)+", "+sr(hr.transform(o))+")"};function iE(t){let n="",i="",o="",l="";return t.length>5?(n=t.substring(1,3),i=t.substring(3,5),o=t.substring(5,7),l=t.substring(7,9)):(n=t.substring(1,2),i=t.substring(2,3),o=t.substring(3,4),l=t.substring(4,5),n+=n,i+=i,o+=o,l+=l),{red:parseInt(n,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const Rf={test:Cp("#"),parse:iE,transform:Vi.transform},kr=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),di=kr("deg"),xa=kr("%"),Me=kr("px"),sE=kr("vh"),oE=kr("vw"),gv={...xa,parse:t=>xa.parse(t)/100,transform:t=>xa.transform(t*100)},Vs={test:Cp("hsl","hue"),parse:Kb("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:i,alpha:o=1})=>"hsla("+Math.round(t)+", "+xa.transform(sr(n))+", "+xa.transform(sr(i))+", "+sr(hr.transform(o))+")"},It={test:t=>Vi.test(t)||Rf.test(t)||Vs.test(t),parse:t=>Vi.test(t)?Vi.parse(t):Vs.test(t)?Vs.parse(t):Rf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vi.transform(t):Vs.transform(t),getAnimatableNone:t=>{const n=It.parse(t);return n.alpha=0,It.transform(n)}},rE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lE(t){return isNaN(t)&&typeof t=="string"&&(t.match(wp)?.length||0)+(t.match(rE)?.length||0)>0}const Qb="number",Zb="color",cE="var",uE="var(",yv="${}",dE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mr(t){const n=t.toString(),i=[],o={color:[],number:[],var:[]},l=[];let d=0;const h=n.replace(dE,m=>(It.test(m)?(o.color.push(d),l.push(Zb),i.push(It.parse(m))):m.startsWith(uE)?(o.var.push(d),l.push(cE),i.push(m)):(o.number.push(d),l.push(Qb),i.push(parseFloat(m))),++d,yv)).split(yv);return{values:i,split:h,indexes:o,types:l}}function Jb(t){return mr(t).values}function e0(t){const{split:n,types:i}=mr(t),o=n.length;return l=>{let d="";for(let f=0;f<o;f++)if(d+=n[f],l[f]!==void 0){const h=i[f];h===Qb?d+=sr(l[f]):h===Zb?d+=It.transform(l[f]):d+=l[f]}return d}}const fE=t=>typeof t=="number"?0:It.test(t)?It.getAnimatableNone(t):t;function pE(t){const n=Jb(t);return e0(t)(n.map(fE))}const mi={test:lE,parse:Jb,createTransformer:e0,getAnimatableNone:pE};function Jd(t,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(n-t)*6*i:i<1/2?n:i<2/3?t+(n-t)*(2/3-i)*6:t}function hE({hue:t,saturation:n,lightness:i,alpha:o}){t/=360,n/=100,i/=100;let l=0,d=0,f=0;if(!n)l=d=f=i;else{const h=i<.5?i*(1+n):i+n-i*n,m=2*i-h;l=Jd(m,h,t+1/3),d=Jd(m,h,t),f=Jd(m,h,t-1/3)}return{red:Math.round(l*255),green:Math.round(d*255),blue:Math.round(f*255),alpha:o}}function fc(t,n){return i=>i>0?n:t}const _t=(t,n,i)=>t+(n-t)*i,ef=(t,n,i)=>{const o=t*t,l=i*(n*n-o)+o;return l<0?0:Math.sqrt(l)},mE=[Rf,Vi,Vs],gE=t=>mE.find(n=>n.test(t));function vv(t){const n=gE(t);if(!n)return!1;let i=n.parse(t);return n===Vs&&(i=hE(i)),i}const xv=(t,n)=>{const i=vv(t),o=vv(n);if(!i||!o)return fc(t,n);const l={...i};return d=>(l.red=ef(i.red,o.red,d),l.green=ef(i.green,o.green,d),l.blue=ef(i.blue,o.blue,d),l.alpha=_t(i.alpha,o.alpha,d),Vi.transform(l))},Df=new Set(["none","hidden"]);function yE(t,n){return Df.has(t)?i=>i<=0?t:n:i=>i>=1?n:t}function vE(t,n){return i=>_t(t,n,i)}function Tp(t){return typeof t=="number"?vE:typeof t=="string"?_p(t)?fc:It.test(t)?xv:SE:Array.isArray(t)?t0:typeof t=="object"?It.test(t)?xv:xE:fc}function t0(t,n){const i=[...t],o=i.length,l=t.map((d,f)=>Tp(d)(d,n[f]));return d=>{for(let f=0;f<o;f++)i[f]=l[f](d);return i}}function xE(t,n){const i={...t,...n},o={};for(const l in i)t[l]!==void 0&&n[l]!==void 0&&(o[l]=Tp(t[l])(t[l],n[l]));return l=>{for(const d in o)i[d]=o[d](l);return i}}function bE(t,n){const i=[],o={color:0,var:0,number:0};for(let l=0;l<n.values.length;l++){const d=n.types[l],f=t.indexes[d][o[d]],h=t.values[f]??0;i[l]=h,o[d]++}return i}const SE=(t,n)=>{const i=mi.createTransformer(n),o=mr(t),l=mr(n);return o.indexes.var.length===l.indexes.var.length&&o.indexes.color.length===l.indexes.color.length&&o.indexes.number.length>=l.indexes.number.length?Df.has(t)&&!l.values.length||Df.has(n)&&!o.values.length?yE(t,n):Ar(t0(bE(o,l),l.values),i):fc(t,n)};function n0(t,n,i){return typeof t=="number"&&typeof n=="number"&&typeof i=="number"?_t(t,n,i):Tp(t)(t,n)}const _E=t=>{const n=({timestamp:i})=>t(i);return{start:(i=!0)=>xt.update(n,i),stop:()=>hi(n),now:()=>sn.isProcessing?sn.timestamp:An.now()}},a0=(t,n,i=10)=>{let o="";const l=Math.max(Math.round(n/i),2);for(let d=0;d<l;d++)o+=Math.round(t(d/(l-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},pc=2e4;function jp(t){let n=0;const i=50;let o=t.next(n);for(;!o.done&&n<pc;)n+=i,o=t.next(n);return n>=pc?1/0:n}function wE(t,n=100,i){const o=i({...t,keyframes:[0,n]}),l=Math.min(jp(o),pc);return{type:"keyframes",ease:d=>o.next(l*d).value/n,duration:Jn(l)}}const CE=5;function i0(t,n,i){const o=Math.max(n-CE,0);return Ob(i-t(o),n-o)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tf=.001;function TE({duration:t=At.duration,bounce:n=At.bounce,velocity:i=At.velocity,mass:o=At.mass}){let l,d,f=1-n;f=Ia(At.minDamping,At.maxDamping,f),t=Ia(At.minDuration,At.maxDuration,Jn(t)),f<1?(l=y=>{const g=y*f,x=g*t,S=g-i,C=Nf(y,f),_=Math.exp(-x);return tf-S/C*_},d=y=>{const x=y*f*t,S=x*i+i,C=Math.pow(f,2)*Math.pow(y,2)*t,_=Math.exp(-x),k=Nf(Math.pow(y,2),f);return(-l(y)+tf>0?-1:1)*((S-C)*_)/k}):(l=y=>{const g=Math.exp(-y*t),x=(y-i)*t+1;return-tf+g*x},d=y=>{const g=Math.exp(-y*t),x=(i-y)*(t*t);return g*x});const h=5/t,m=AE(l,d,h);if(t=va(t),isNaN(m))return{stiffness:At.stiffness,damping:At.damping,duration:t};{const y=Math.pow(m,2)*o;return{stiffness:y,damping:f*2*Math.sqrt(o*y),duration:t}}}const jE=12;function AE(t,n,i){let o=i;for(let l=1;l<jE;l++)o=o-t(o)/n(o);return o}function Nf(t,n){return t*Math.sqrt(1-n*n)}const EE=["duration","bounce"],kE=["stiffness","damping","mass"];function bv(t,n){return n.some(i=>t[i]!==void 0)}function ME(t){let n={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...t};if(!bv(t,kE)&&bv(t,EE))if(t.visualDuration){const i=t.visualDuration,o=2*Math.PI/(i*1.2),l=o*o,d=2*Ia(.05,1,1-(t.bounce||0))*Math.sqrt(l);n={...n,mass:At.mass,stiffness:l,damping:d}}else{const i=TE(t);n={...n,...i,mass:At.mass},n.isResolvedFromDuration=!0}return n}function hc(t=At.visualDuration,n=At.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:o,restDelta:l}=i;const d=i.keyframes[0],f=i.keyframes[i.keyframes.length-1],h={done:!1,value:d},{stiffness:m,damping:y,mass:g,duration:x,velocity:S,isResolvedFromDuration:C}=ME({...i,velocity:-Jn(i.velocity||0)}),_=S||0,k=y/(2*Math.sqrt(m*g)),j=f-d,N=Jn(Math.sqrt(m/g)),I=Math.abs(j)<5;o||(o=I?At.restSpeed.granular:At.restSpeed.default),l||(l=I?At.restDelta.granular:At.restDelta.default);let M;if(k<1){const P=Nf(N,k);M=Q=>{const ne=Math.exp(-k*N*Q);return f-ne*((_+k*N*j)/P*Math.sin(P*Q)+j*Math.cos(P*Q))}}else if(k===1)M=P=>f-Math.exp(-N*P)*(j+(_+N*j)*P);else{const P=N*Math.sqrt(k*k-1);M=Q=>{const ne=Math.exp(-k*N*Q),W=Math.min(P*Q,300);return f-ne*((_+k*N*j)*Math.sinh(W)+P*j*Math.cosh(W))/P}}const O={calculatedDuration:C&&x||null,next:P=>{const Q=M(P);if(C)h.done=P>=x;else{let ne=P===0?_:0;k<1&&(ne=P===0?va(_):i0(M,P,Q));const W=Math.abs(ne)<=o,ce=Math.abs(f-Q)<=l;h.done=W&&ce}return h.value=h.done?f:Q,h},toString:()=>{const P=Math.min(jp(O),pc),Q=a0(ne=>O.next(P*ne).value,P,30);return P+"ms "+Q},toTransition:()=>{}};return O}hc.applyToOptions=t=>{const n=wE(t,100,hc);return t.ease=n.ease,t.duration=va(n.duration),t.type="keyframes",t};function Uf({keyframes:t,velocity:n=0,power:i=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:d=500,modifyTarget:f,min:h,max:m,restDelta:y=.5,restSpeed:g}){const x=t[0],S={done:!1,value:x},C=W=>h!==void 0&&W<h||m!==void 0&&W>m,_=W=>h===void 0?m:m===void 0||Math.abs(h-W)<Math.abs(m-W)?h:m;let k=i*n;const j=x+k,N=f===void 0?j:f(j);N!==j&&(k=N-x);const I=W=>-k*Math.exp(-W/o),M=W=>N+I(W),O=W=>{const ce=I(W),se=M(W);S.done=Math.abs(ce)<=y,S.value=S.done?N:se};let P,Q;const ne=W=>{C(S.value)&&(P=W,Q=hc({keyframes:[S.value,_(S.value)],velocity:i0(M,W,S.value),damping:l,stiffness:d,restDelta:y,restSpeed:g}))};return ne(0),{calculatedDuration:null,next:W=>{let ce=!1;return!Q&&P===void 0&&(ce=!0,O(W),ne(W)),P!==void 0&&W>=P?Q.next(W-P):(!ce&&O(W),S)}}}function RE(t,n,i){const o=[],l=i||Pa.mix||n0,d=t.length-1;for(let f=0;f<d;f++){let h=l(t[f],t[f+1]);if(n){const m=Array.isArray(n)?n[f]||ea:n;h=Ar(m,h)}o.push(h)}return o}function DE(t,n,{clamp:i=!0,ease:o,mixer:l}={}){const d=t.length;if(yp(d===n.length),d===1)return()=>n[0];if(d===2&&n[0]===n[1])return()=>n[1];const f=t[0]===t[1];t[0]>t[d-1]&&(t=[...t].reverse(),n=[...n].reverse());const h=RE(n,o,l),m=h.length,y=g=>{if(f&&g<t[0])return n[0];let x=0;if(m>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const S=pr(t[x],t[x+1],g);return h[x](S)};return i?g=>y(Ia(t[0],t[d-1],g)):y}function NE(t,n){const i=t[t.length-1];for(let o=1;o<=n;o++){const l=pr(0,n,o);t.push(_t(i,1,l))}}function UE(t){const n=[0];return NE(n,t.length-1),n}function zE(t,n){return t.map(i=>i*n)}function OE(t,n){return t.map(()=>n||Gb).splice(0,t.length-1)}function or({duration:t=300,keyframes:n,times:i,ease:o="easeInOut"}){const l=Y2(o)?o.map(mv):mv(o),d={done:!1,value:n[0]},f=zE(i&&i.length===n.length?i:UE(n),t),h=DE(f,n,{ease:Array.isArray(l)?l:OE(n,l)});return{calculatedDuration:t,next:m=>(d.value=h(m),d.done=m>=t,d)}}const BE=t=>t!==null;function Ap(t,{repeat:n,repeatType:i="loop"},o,l=1){const d=t.filter(BE),h=l<0||n&&i!=="loop"&&n%2===1?0:d.length-1;return!h||o===void 0?d[h]:o}const LE={decay:Uf,inertia:Uf,tween:or,keyframes:or,spring:hc};function s0(t){typeof t.type=="string"&&(t.type=LE[t.type])}class Ep{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,i){return this.finished.then(n,i)}}const IE=t=>t/100;class kp extends Ep{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;s0(n);const{type:i=or,repeat:o=0,repeatDelay:l=0,repeatType:d,velocity:f=0}=n;let{keyframes:h}=n;const m=i||or;m!==or&&typeof h[0]!="number"&&(this.mixKeyframes=Ar(IE,n0(h[0],h[1])),h=[0,100]);const y=m({...n,keyframes:h});d==="mirror"&&(this.mirroredGenerator=m({...n,keyframes:[...h].reverse(),velocity:-f})),y.calculatedDuration===null&&(y.calculatedDuration=jp(y));const{calculatedDuration:g}=y;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(o+1)-l,this.generator=y}updateTime(n){const i=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(n,i=!1){const{generator:o,totalDuration:l,mixKeyframes:d,mirroredGenerator:f,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:y=0,keyframes:g,repeat:x,repeatType:S,repeatDelay:C,type:_,onUpdate:k,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-l/this.speed,this.startTime)),i?this.currentTime=n:this.updateTime(n);const N=this.currentTime-y*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?N<0:N>l;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let M=this.currentTime,O=o;if(x){const W=Math.min(this.currentTime,l)/h;let ce=Math.floor(W),se=W%1;!se&&W>=1&&(se=1),se===1&&ce--,ce=Math.min(ce,x+1),!!(ce%2)&&(S==="reverse"?(se=1-se,C&&(se-=C/h)):S==="mirror"&&(O=f)),M=Ia(0,1,se)*h}const P=I?{done:!1,value:g[0]}:O.next(M);d&&(P.value=d(P.value));let{done:Q}=P;!I&&m!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const ne=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return ne&&_!==Uf&&(P.value=Ap(g,this.options,j,this.speed)),k&&k(P.value),ne&&this.finish(),P}then(n,i){return this.finished.then(n,i)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Jn(n)}get time(){return Jn(this.currentTime)}set time(n){n=va(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(An.now());const i=this.playbackSpeed!==n;this.playbackSpeed=n,i&&(this.time=Jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=_E,startTime:i}=this.options;this.driver||(this.driver=n(l=>this.tick(l))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=i??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function PE(t){for(let n=1;n<t.length;n++)t[n]??(t[n]=t[n-1])}const Hi=t=>t*180/Math.PI,zf=t=>{const n=Hi(Math.atan2(t[1],t[0]));return Of(n)},VE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zf,rotateZ:zf,skewX:t=>Hi(Math.atan(t[1])),skewY:t=>Hi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Of=t=>(t=t%360,t<0&&(t+=360),t),Sv=zf,_v=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),HE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_v,scaleY:wv,scale:t=>(_v(t)+wv(t))/2,rotateX:t=>Of(Hi(Math.atan2(t[6],t[5]))),rotateY:t=>Of(Hi(Math.atan2(-t[2],t[0]))),rotateZ:Sv,rotate:Sv,skewX:t=>Hi(Math.atan(t[4])),skewY:t=>Hi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Bf(t){return t.includes("scale")?1:0}function Lf(t,n){if(!t||t==="none")return Bf(n);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,l;if(i)o=HE,l=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=VE,l=h}if(!l)return Bf(n);const d=o[n],f=l[1].split(",").map(qE);return typeof d=="function"?d(f):f[d]}const FE=(t,n)=>{const{transform:i="none"}=getComputedStyle(t);return Lf(i,n)};function qE(t){return parseFloat(t.trim())}const so=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oo=new Set(so),Cv=t=>t===io||t===Me,GE=new Set(["x","y","z"]),$E=so.filter(t=>!GE.has(t));function YE(t){const n=[];return $E.forEach(i=>{const o=t.getValue(i);o!==void 0&&(n.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),n}const qi={width:({x:t},{paddingLeft:n="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(n)-parseFloat(i),height:({y:t},{paddingTop:n="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(n)-parseFloat(i),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:(t,{transform:n})=>Lf(n,"x"),y:(t,{transform:n})=>Lf(n,"y")};qi.translateX=qi.x;qi.translateY=qi.y;const Gi=new Set;let If=!1,Pf=!1,Vf=!1;function o0(){if(Pf){const t=Array.from(Gi).filter(o=>o.needsMeasurement),n=new Set(t.map(o=>o.element)),i=new Map;n.forEach(o=>{const l=YE(o);l.length&&(i.set(o,l),o.render())}),t.forEach(o=>o.measureInitialState()),n.forEach(o=>{o.render();const l=i.get(o);l&&l.forEach(([d,f])=>{o.getValue(d)?.set(f)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Pf=!1,If=!1,Gi.forEach(t=>t.complete(Vf)),Gi.clear()}function r0(){Gi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pf=!0)})}function XE(){Vf=!0,r0(),o0(),Vf=!1}class Mp{constructor(n,i,o,l,d,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=i,this.name=o,this.motionValue=l,this.element=d,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Gi.add(this),If||(If=!0,xt.read(r0),xt.resolveKeyframes(o0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:i,element:o,motionValue:l}=this;if(n[0]===null){const d=l?.get(),f=n[n.length-1];if(d!==void 0)n[0]=d;else if(o&&i){const h=o.readValue(i,f);h!=null&&(n[0]=h)}n[0]===void 0&&(n[0]=f),l&&d===void 0&&l.set(n[0])}PE(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),Gi.delete(this)}cancel(){this.state==="scheduled"&&(Gi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WE=t=>t.startsWith("--");function KE(t,n,i){WE(n)?t.style.setProperty(n,i):t.style[n]=i}const QE=vp(()=>window.ScrollTimeline!==void 0),ZE={};function JE(t,n){const i=vp(t);return()=>ZE[n]??i()}const l0=JE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nr=([t,n,i,o])=>`cubic-bezier(${t}, ${n}, ${i}, ${o})`,Tv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nr([0,.65,.55,1]),circOut:nr([.55,0,1,.45]),backIn:nr([.31,.01,.66,-.59]),backOut:nr([.33,1.53,.69,.99])};function c0(t,n){if(t)return typeof t=="function"?l0()?a0(t,n):"ease-out":$b(t)?nr(t):Array.isArray(t)?t.map(i=>c0(i,n)||Tv.easeOut):Tv[t]}function ek(t,n,i,{delay:o=0,duration:l=300,repeat:d=0,repeatType:f="loop",ease:h="easeOut",times:m}={},y=void 0){const g={[n]:i};m&&(g.offset=m);const x=c0(h,l);Array.isArray(x)&&(g.easing=x);const S={delay:o,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:d+1,direction:f==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),t.animate(g,S)}function u0(t){return typeof t=="function"&&"applyToOptions"in t}function tk({type:t,...n}){return u0(t)&&l0()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class nk extends Ep{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:i,name:o,keyframes:l,pseudoElement:d,allowFlatten:f=!1,finalKeyframe:h,onComplete:m}=n;this.isPseudoElement=!!d,this.allowFlatten=f,this.options=n,yp(typeof n.type!="string");const y=tk(n);this.animation=ek(i,o,l,y,d),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const g=Ap(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):KE(i,o,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Jn(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Jn(n)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=va(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&QE()?(this.animation.timeline=n,ea):i(this)}}const d0={anticipate:Hb,backInOut:Vb,circInOut:qb};function ak(t){return t in d0}function ik(t){typeof t.ease=="string"&&ak(t.ease)&&(t.ease=d0[t.ease])}const jv=10;class sk extends nk{constructor(n){ik(n),s0(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:i,onUpdate:o,onComplete:l,element:d,...f}=this.options;if(!i)return;if(n!==void 0){i.set(n);return}const h=new kp({...f,autoplay:!1}),m=va(this.finishedTime??this.time);i.setWithVelocity(h.sample(m-jv).value,h.sample(m).value,jv),h.stop()}}const Av=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mi.test(t)||t==="0")&&!t.startsWith("url("));function ok(t){const n=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==n)return!0}function rk(t,n,i,o){const l=t[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const d=t[t.length-1],f=Av(l,n),h=Av(d,n);return!f||!h?!1:ok(t)||(i==="spring"||u0(i))&&o}function Hf(t){t.duration=0,t.type="keyframes"}const lk=new Set(["opacity","clipPath","filter","transform"]),ck=vp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uk(t){const{motionValue:n,name:i,repeatDelay:o,repeatType:l,damping:d,type:f}=t;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:y}=n.owner.getProps();return ck()&&i&&lk.has(i)&&(i!=="transform"||!y)&&!m&&!o&&l!=="mirror"&&d!==0&&f!=="inertia"}const dk=40;class fk extends Ep{constructor({autoplay:n=!0,delay:i=0,type:o="keyframes",repeat:l=0,repeatDelay:d=0,repeatType:f="loop",keyframes:h,name:m,motionValue:y,element:g,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const S={autoplay:n,delay:i,type:o,repeat:l,repeatDelay:d,repeatType:f,name:m,motionValue:y,element:g,...x},C=g?.KeyframeResolver||Mp;this.keyframeResolver=new C(h,(_,k,j)=>this.onKeyframesResolved(_,k,S,!j),m,y,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,i,o,l){this.keyframeResolver=void 0;const{name:d,type:f,velocity:h,delay:m,isHandoff:y,onUpdate:g}=o;this.resolvedAt=An.now(),rk(n,d,f,h)||((Pa.instantAnimations||!m)&&g?.(Ap(n,o,i)),n[0]=n[n.length-1],Hf(o),o.repeat=0);const S={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>dk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...o,keyframes:n},C=!y&&uk(S)?new sk({...S,element:S.motionValue.owner.current}):new kp(S);C.finished.then(()=>this.notifyFinished()).catch(ea),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(n,i){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),XE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hk(t){const n=pk.exec(t);if(!n)return[,];const[,i,o,l]=n;return[`--${i??o}`,l]}function f0(t,n,i=1){const[o,l]=hk(t);if(!o)return;const d=window.getComputedStyle(n).getPropertyValue(o);if(d){const f=d.trim();return Nb(f)?parseFloat(f):f}return _p(l)?f0(l,n,i+1):l}function Rp(t,n){return t?.[n]??t?.default??t}const p0=new Set(["width","height","top","left","right","bottom",...so]),mk={test:t=>t==="auto",parse:t=>t},h0=t=>n=>n.test(t),m0=[io,Me,xa,di,oE,sE,mk],Ev=t=>m0.find(h0(t));function gk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zb(t):!0}const yk=new Set(["brightness","contrast","saturate","opacity"]);function vk(t){const[n,i]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[o]=i.match(wp)||[];if(!o)return t;const l=i.replace(o,"");let d=yk.has(n)?1:0;return o!==i&&(d*=100),n+"("+d+l+")"}const xk=/\b([a-z-]*)\(.*?\)/gu,Ff={...mi,getAnimatableNone:t=>{const n=t.match(xk);return n?n.map(vk).join(" "):t}},kv={...io,transform:Math.round},bk={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Gl,scaleX:Gl,scaleY:Gl,scaleZ:Gl,skew:di,skewX:di,skewY:di,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:hr,originX:gv,originY:gv,originZ:Me},Dp={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...bk,zIndex:kv,fillOpacity:hr,strokeOpacity:hr,numOctaves:kv},Sk={...Dp,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:Ff,WebkitFilter:Ff},g0=t=>Sk[t];function y0(t,n){let i=g0(t);return i!==Ff&&(i=mi),i.getAnimatableNone?i.getAnimatableNone(n):void 0}const _k=new Set(["auto","none","0"]);function wk(t,n,i){let o=0,l;for(;o<t.length&&!l;){const d=t[o];typeof d=="string"&&!_k.has(d)&&mr(d).values.length&&(l=t[o]),o++}if(l&&i)for(const d of n)t[d]=y0(i,l)}class Ck extends Mp{constructor(n,i,o,l,d){super(n,i,o,l,d,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:i,name:o}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<n.length;m++){let y=n[m];if(typeof y=="string"&&(y=y.trim(),_p(y))){const g=f0(y,i.current);g!==void 0&&(n[m]=g),m===n.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!p0.has(o)||n.length!==2)return;const[l,d]=n,f=Ev(l),h=Ev(d);if(f!==h)if(Cv(f)&&Cv(h))for(let m=0;m<n.length;m++){const y=n[m];typeof y=="string"&&(n[m]=parseFloat(y))}else qi[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:i}=this,o=[];for(let l=0;l<n.length;l++)(n[l]===null||gk(n[l]))&&o.push(l);o.length&&wk(n,o,i)}measureInitialState(){const{element:n,unresolvedKeyframes:i,name:o}=this;if(!n||!n.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qi[o](n.measureViewportBox(),window.getComputedStyle(n.current)),i[0]=this.measuredOrigin;const l=i[i.length-1];l!==void 0&&n.getValue(o,l).jump(l,!1)}measureEndState(){const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const d=o.length-1,f=o[d];o[d]=qi[i](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{n.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function Tk(t,n,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const l=i?.[t]??o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}const v0=(t,n)=>n&&typeof t=="number"?n.transform(t):t;function x0(t){return Ub(t)&&"offsetHeight"in t}const Mv=30,jk=t=>!isNaN(parseFloat(t));class Ak{constructor(n,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const l=An.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=i.owner}setCurrent(n){this.current=n,this.updatedAt=An.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=jk(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,i){this.events[n]||(this.events[n]=new xp);const o=this.events[n].add(i);return n==="change"?()=>{o(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,i){this.passiveEffect=n,this.stopPassiveEffect=i}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,i,o){this.set(i),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-o}jump(n,i=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>Mv)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Mv);return Ob(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(n){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=n(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zs(t,n){return new Ak(t,n)}const{schedule:Np}=Yb(queueMicrotask,!1),oa={x:!1,y:!1};function b0(){return oa.x||oa.y}function Ek(t){return t==="x"||t==="y"?oa[t]?null:(oa[t]=!0,()=>{oa[t]=!1}):oa.x||oa.y?null:(oa.x=oa.y=!0,()=>{oa.x=oa.y=!1})}function S0(t,n){const i=Tk(t),o=new AbortController,l={passive:!0,...n,signal:o.signal};return[i,l,()=>o.abort()]}function Rv(t){return!(t.pointerType==="touch"||b0())}function kk(t,n,i={}){const[o,l,d]=S0(t,i),f=h=>{if(!Rv(h))return;const{target:m}=h,y=n(m,h);if(typeof y!="function"||!m)return;const g=x=>{Rv(x)&&(y(x),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,l)};return o.forEach(h=>{h.addEventListener("pointerenter",f,l)}),d}const _0=(t,n)=>n?t===n?!0:_0(t,n.parentElement):!1,Up=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Mk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rk(t){return Mk.has(t.tagName)||t.tabIndex!==-1}const ac=new WeakSet;function Dv(t){return n=>{n.key==="Enter"&&t(n)}}function nf(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const Dk=(t,n)=>{const i=t.currentTarget;if(!i)return;const o=Dv(()=>{if(ac.has(i))return;nf(i,"down");const l=Dv(()=>{nf(i,"up")}),d=()=>nf(i,"cancel");i.addEventListener("keyup",l,n),i.addEventListener("blur",d,n)});i.addEventListener("keydown",o,n),i.addEventListener("blur",()=>i.removeEventListener("keydown",o),n)};function Nv(t){return Up(t)&&!b0()}function Nk(t,n,i={}){const[o,l,d]=S0(t,i),f=h=>{const m=h.currentTarget;if(!Nv(h))return;ac.add(m);const y=n(m,h),g=(C,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",S),ac.has(m)&&ac.delete(m),Nv(C)&&typeof y=="function"&&y(C,{success:_})},x=C=>{g(C,m===window||m===document||i.useGlobalTarget||_0(m,C.target))},S=C=>{g(C,!1)};window.addEventListener("pointerup",x,l),window.addEventListener("pointercancel",S,l)};return o.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",f,l),x0(h)&&(h.addEventListener("focus",y=>Dk(y,l)),!Rk(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),d}function w0(t){return Ub(t)&&"ownerSVGElement"in t}function Uk(t){return w0(t)&&t.tagName==="svg"}const un=t=>!!(t&&t.getVelocity),zk=[...m0,It,mi],Ok=t=>zk.find(h0(t)),zp=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Uv(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function Bk(...t){return n=>{let i=!1;const o=t.map(l=>{const d=Uv(l,n);return!i&&typeof d=="function"&&(i=!0),d});if(i)return()=>{for(let l=0;l<o.length;l++){const d=o[l];typeof d=="function"?d():Uv(t[l],null)}}}}function Lk(...t){return w.useCallback(Bk(...t),t)}class Ik extends w.Component{getSnapshotBeforeUpdate(n){const i=this.props.childRef.current;if(i&&n.isPresent&&!this.props.isPresent){const o=i.offsetParent,l=x0(o)&&o.offsetWidth||0,d=this.props.sizeRef.current;d.height=i.offsetHeight||0,d.width=i.offsetWidth||0,d.top=i.offsetTop,d.left=i.offsetLeft,d.right=l-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Pk({children:t,isPresent:n,anchorX:i,root:o}){const l=w.useId(),d=w.useRef(null),f=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=w.useContext(zp),m=Lk(d,t?.ref);return w.useInsertionEffect(()=>{const{width:y,height:g,top:x,left:S,right:C}=f.current;if(n||!d.current||!y||!g)return;const _=i==="left"?`left: ${S}`:`right: ${C}`;d.current.dataset.motionPopId=l;const k=document.createElement("style");h&&(k.nonce=h);const j=o??document.head;return j.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${g}px !important;
            ${_}px !important;
            top: ${x}px !important;
          }
        `),()=>{j.contains(k)&&j.removeChild(k)}},[n]),c.jsx(Ik,{isPresent:n,childRef:d,sizeRef:f,children:w.cloneElement(t,{ref:m})})}const Vk=({children:t,initial:n,isPresent:i,onExitComplete:o,custom:l,presenceAffectsLayout:d,mode:f,anchorX:h,root:m})=>{const y=pp(Hk),g=w.useId();let x=!0,S=w.useMemo(()=>(x=!1,{id:g,initial:n,isPresent:i,custom:l,onExitComplete:C=>{y.set(C,!0);for(const _ of y.values())if(!_)return;o&&o()},register:C=>(y.set(C,!1),()=>y.delete(C))}),[i,y,o]);return d&&x&&(S={...S}),w.useMemo(()=>{y.forEach((C,_)=>y.set(_,!1))},[i]),w.useEffect(()=>{!i&&!y.size&&o&&o()},[i]),f==="popLayout"&&(t=c.jsx(Pk,{isPresent:i,anchorX:h,root:m,children:t})),c.jsx(Ec.Provider,{value:S,children:t})};function Hk(){return new Map}function C0(t=!0){const n=w.useContext(Ec);if(n===null)return[!0,null];const{isPresent:i,onExitComplete:o,register:l}=n,d=w.useId();w.useEffect(()=>{if(t)return l(d)},[t]);const f=w.useCallback(()=>t&&o&&o(d),[d,o,t]);return!i&&o?[!1,f]:[!0]}const $l=t=>t.key||"";function zv(t){const n=[];return w.Children.forEach(t,i=>{w.isValidElement(i)&&n.push(i)}),n}const Ys=({children:t,custom:n,initial:i=!0,onExitComplete:o,presenceAffectsLayout:l=!0,mode:d="sync",propagate:f=!1,anchorX:h="left",root:m})=>{const[y,g]=C0(f),x=w.useMemo(()=>zv(t),[t]),S=f&&!y?[]:x.map($l),C=w.useRef(!0),_=w.useRef(x),k=pp(()=>new Map),[j,N]=w.useState(x),[I,M]=w.useState(x);Db(()=>{C.current=!1,_.current=x;for(let Q=0;Q<I.length;Q++){const ne=$l(I[Q]);S.includes(ne)?k.delete(ne):k.get(ne)!==!0&&k.set(ne,!1)}},[I,S.length,S.join("-")]);const O=[];if(x!==j){let Q=[...x];for(let ne=0;ne<I.length;ne++){const W=I[ne],ce=$l(W);S.includes(ce)||(Q.splice(ne,0,W),O.push(W))}return d==="wait"&&O.length&&(Q=O),M(zv(Q)),N(x),null}const{forceRender:P}=w.useContext(fp);return c.jsx(c.Fragment,{children:I.map(Q=>{const ne=$l(Q),W=f&&!y?!1:x===I||S.includes(ne),ce=()=>{if(k.has(ne))k.set(ne,!0);else return;let se=!0;k.forEach(Ee=>{Ee||(se=!1)}),se&&(P?.(),M(_.current),f&&g?.(),o&&o())};return c.jsx(Vk,{isPresent:W,initial:!C.current||i?void 0:!1,custom:n,presenceAffectsLayout:l,mode:d,root:m,onExitComplete:W?void 0:ce,anchorX:h,children:Q},ne)})})},T0=w.createContext({strict:!1}),Ov={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Js={};for(const t in Ov)Js[t]={isEnabled:n=>Ov[t].some(i=>!!n[i])};function Fk(t){for(const n in t)Js[n]={...Js[n],...t[n]}}const qk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qk.has(t)}let j0=t=>!mc(t);function Gk(t){typeof t=="function"&&(j0=n=>n.startsWith("on")?!mc(n):t(n))}try{Gk(require("@emotion/is-prop-valid").default)}catch{}function $k(t,n,i){const o={};for(const l in t)l==="values"&&typeof t.values=="object"||(j0(l)||i===!0&&mc(l)||!n&&!mc(l)||t.draggable&&l.startsWith("onDrag"))&&(o[l]=t[l]);return o}const kc=w.createContext({});function Mc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gr(t){return typeof t=="string"||Array.isArray(t)}const Op=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bp=["initial",...Op];function Rc(t){return Mc(t.animate)||Bp.some(n=>gr(t[n]))}function A0(t){return!!(Rc(t)||t.variants)}function Yk(t,n){if(Rc(t)){const{initial:i,animate:o}=t;return{initial:i===!1||gr(i)?i:void 0,animate:gr(o)?o:void 0}}return t.inherit!==!1?n:{}}function Xk(t){const{initial:n,animate:i}=Yk(t,w.useContext(kc));return w.useMemo(()=>({initial:n,animate:i}),[Bv(n),Bv(i)])}function Bv(t){return Array.isArray(t)?t.join(" "):t}function Lv(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const er={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const i=Lv(t,n.target.x),o=Lv(t,n.target.y);return`${i}% ${o}%`}},Wk={correct:(t,{treeScale:n,projectionDelta:i})=>{const o=t,l=mi.parse(t);if(l.length>5)return o;const d=mi.createTransformer(t),f=typeof l[0]!="number"?1:0,h=i.x.scale*n.x,m=i.y.scale*n.y;l[0+f]/=h,l[1+f]/=m;const y=_t(h,m,.5);return typeof l[2+f]=="number"&&(l[2+f]/=y),typeof l[3+f]=="number"&&(l[3+f]/=y),d(l)}},qf={borderRadius:{...er,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:er,borderTopRightRadius:er,borderBottomLeftRadius:er,borderBottomRightRadius:er,boxShadow:Wk};function E0(t,{layout:n,layoutId:i}){return oo.has(t)||t.startsWith("origin")||(n||i!==void 0)&&(!!qf[t]||t==="opacity")}const Kk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qk=so.length;function Zk(t,n,i){let o="",l=!0;for(let d=0;d<Qk;d++){const f=so[d],h=t[f];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(f.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||i){const y=v0(h,Dp[f]);if(!m){l=!1;const g=Kk[f]||f;o+=`${g}(${y}) `}i&&(n[f]=y)}}return o=o.trim(),i?o=i(n,l?"":o):l&&(o="none"),o}function Lp(t,n,i){const{style:o,vars:l,transformOrigin:d}=t;let f=!1,h=!1;for(const m in n){const y=n[m];if(oo.has(m)){f=!0;continue}else if(Wb(m)){l[m]=y;continue}else{const g=v0(y,Dp[m]);m.startsWith("origin")?(h=!0,d[m]=g):o[m]=g}}if(n.transform||(f||i?o.transform=Zk(n,t.transform,i):o.transform&&(o.transform="none")),h){const{originX:m="50%",originY:y="50%",originZ:g=0}=d;o.transformOrigin=`${m} ${y} ${g}`}}const Ip=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k0(t,n,i){for(const o in n)!un(n[o])&&!E0(o,i)&&(t[o]=n[o])}function Jk({transformTemplate:t},n){return w.useMemo(()=>{const i=Ip();return Lp(i,n,t),Object.assign({},i.vars,i.style)},[n])}function eM(t,n){const i=t.style||{},o={};return k0(o,i,t),Object.assign(o,Jk(t,n)),o}function tM(t,n){const i={},o=eM(t,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=o,i}const nM={offset:"stroke-dashoffset",array:"stroke-dasharray"},aM={offset:"strokeDashoffset",array:"strokeDasharray"};function iM(t,n,i=1,o=0,l=!0){t.pathLength=1;const d=l?nM:aM;t[d.offset]=Me.transform(-o);const f=Me.transform(n),h=Me.transform(i);t[d.array]=`${f} ${h}`}function M0(t,{attrX:n,attrY:i,attrScale:o,pathLength:l,pathSpacing:d=1,pathOffset:f=0,...h},m,y,g){if(Lp(t,h,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:S}=t;x.transform&&(S.transform=x.transform,delete x.transform),(S.transform||x.transformOrigin)&&(S.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),S.transform&&(S.transformBox=g?.transformBox??"fill-box",delete x.transformBox),n!==void 0&&(x.x=n),i!==void 0&&(x.y=i),o!==void 0&&(x.scale=o),l!==void 0&&iM(x,l,d,f,!1)}const R0=()=>({...Ip(),attrs:{}}),D0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sM(t,n,i,o){const l=w.useMemo(()=>{const d=R0();return M0(d,n,D0(o),t.transformTemplate,t.style),{...d.attrs,style:{...d.style}}},[n]);if(t.style){const d={};k0(d,t.style,t),l.style={...d,...l.style}}return l}const oM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pp(t){return typeof t!="string"||t.includes("-")?!1:!!(oM.indexOf(t)>-1||/[A-Z]/u.test(t))}function rM(t,n,i,{latestValues:o},l,d=!1){const h=(Pp(t)?sM:tM)(n,o,l,t),m=$k(n,typeof t=="string",d),y=t!==w.Fragment?{...m,...h,ref:i}:{},{children:g}=n,x=w.useMemo(()=>un(g)?g.get():g,[g]);return w.createElement(t,{...y,children:x})}function Iv(t){const n=[{},{}];return t?.values.forEach((i,o)=>{n[0][o]=i.get(),n[1][o]=i.getVelocity()}),n}function Vp(t,n,i,o){if(typeof n=="function"){const[l,d]=Iv(o);n=n(i!==void 0?i:t.custom,l,d)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[l,d]=Iv(o);n=n(i!==void 0?i:t.custom,l,d)}return n}function ic(t){return un(t)?t.get():t}function lM({scrapeMotionValuesFromProps:t,createRenderState:n},i,o,l){return{latestValues:cM(i,o,l,t),renderState:n()}}function cM(t,n,i,o){const l={},d=o(t,{});for(const S in d)l[S]=ic(d[S]);let{initial:f,animate:h}=t;const m=Rc(t),y=A0(t);n&&y&&!m&&t.inherit!==!1&&(f===void 0&&(f=n.initial),h===void 0&&(h=n.animate));let g=i?i.initial===!1:!1;g=g||f===!1;const x=g?h:f;if(x&&typeof x!="boolean"&&!Mc(x)){const S=Array.isArray(x)?x:[x];for(let C=0;C<S.length;C++){const _=Vp(t,S[C]);if(_){const{transitionEnd:k,transition:j,...N}=_;for(const I in N){let M=N[I];if(Array.isArray(M)){const O=g?M.length-1:0;M=M[O]}M!==null&&(l[I]=M)}for(const I in k)l[I]=k[I]}}}return l}const N0=t=>(n,i)=>{const o=w.useContext(kc),l=w.useContext(Ec),d=()=>lM(t,n,o,l);return i?d():pp(d)};function Hp(t,n,i){const{style:o}=t,l={};for(const d in o)(un(o[d])||n.style&&un(n.style[d])||E0(d,t)||i?.getValue(d)?.liveStyle!==void 0)&&(l[d]=o[d]);return l}const uM=N0({scrapeMotionValuesFromProps:Hp,createRenderState:Ip});function U0(t,n,i){const o=Hp(t,n,i);for(const l in t)if(un(t[l])||un(n[l])){const d=so.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;o[d]=t[l]}return o}const dM=N0({scrapeMotionValuesFromProps:U0,createRenderState:R0}),fM=Symbol.for("motionComponentSymbol");function Hs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pM(t,n,i){return w.useCallback(o=>{o&&t.onMount&&t.onMount(o),n&&(o?n.mount(o):n.unmount()),i&&(typeof i=="function"?i(o):Hs(i)&&(i.current=o))},[n])}const Fp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hM="framerAppearId",z0="data-"+Fp(hM),O0=w.createContext({});function mM(t,n,i,o,l){const{visualElement:d}=w.useContext(kc),f=w.useContext(T0),h=w.useContext(Ec),m=w.useContext(zp).reducedMotion,y=w.useRef(null);o=o||f.renderer,!y.current&&o&&(y.current=o(t,{visualState:n,parent:d,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const g=y.current,x=w.useContext(O0);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&gM(y.current,i,l,x);const S=w.useRef(!1);w.useInsertionEffect(()=>{g&&S.current&&g.update(i,h)});const C=i[z0],_=w.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return Db(()=>{g&&(S.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),_.current&&g.animationState&&g.animationState.animateChanges())}),w.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),_.current=!1),g.enteringChildren=void 0)}),g}function gM(t,n,i,o){const{layoutId:l,layout:d,drag:f,dragConstraints:h,layoutScroll:m,layoutRoot:y,layoutCrossfade:g}=n;t.projection=new i(t.latestValues,n["data-framer-portal-id"]?void 0:B0(t.parent)),t.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!f||h&&Hs(h),visualElement:t,animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,crossfade:g,layoutScroll:m,layoutRoot:y})}function B0(t){if(t)return t.options.allowProjection!==!1?t.projection:B0(t.parent)}function af(t,{forwardMotionProps:n=!1}={},i,o){i&&Fk(i);const l=Pp(t)?dM:uM;function d(h,m){let y;const g={...w.useContext(zp),...h,layoutId:yM(h)},{isStatic:x}=g,S=Xk(h),C=l(h,x);if(!x&&hp){vM();const _=xM(g);y=_.MeasureLayout,S.visualElement=mM(t,C,g,o,_.ProjectionNode)}return c.jsxs(kc.Provider,{value:S,children:[y&&S.visualElement?c.jsx(y,{visualElement:S.visualElement,...g}):null,rM(t,h,pM(C,S.visualElement,m),C,x,n)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=w.forwardRef(d);return f[fM]=t,f}function yM({layoutId:t}){const n=w.useContext(fp).id;return n&&t!==void 0?n+"-"+t:t}function vM(t,n){w.useContext(T0).strict}function xM(t){const{drag:n,layout:i}=Js;if(!n&&!i)return{};const o={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function bM(t,n){if(typeof Proxy>"u")return af;const i=new Map,o=(d,f)=>af(d,f,t,n),l=(d,f)=>o(d,f);return new Proxy(l,{get:(d,f)=>f==="create"?o:(i.has(f)||i.set(f,af(f,void 0,t,n)),i.get(f))})}function L0({top:t,left:n,right:i,bottom:o}){return{x:{min:n,max:i},y:{min:t,max:o}}}function SM({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function _M(t,n){if(!n)return t;const i=n({x:t.left,y:t.top}),o=n({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function sf(t){return t===void 0||t===1}function Gf({scale:t,scaleX:n,scaleY:i}){return!sf(t)||!sf(n)||!sf(i)}function Li(t){return Gf(t)||I0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function I0(t){return Pv(t.x)||Pv(t.y)}function Pv(t){return t&&t!=="0%"}function gc(t,n,i){const o=t-i,l=n*o;return i+l}function Vv(t,n,i,o,l){return l!==void 0&&(t=gc(t,l,o)),gc(t,i,o)+n}function $f(t,n=0,i=1,o,l){t.min=Vv(t.min,n,i,o,l),t.max=Vv(t.max,n,i,o,l)}function P0(t,{x:n,y:i}){$f(t.x,n.translate,n.scale,n.originPoint),$f(t.y,i.translate,i.scale,i.originPoint)}const Hv=.999999999999,Fv=1.0000000000001;function wM(t,n,i,o=!1){const l=i.length;if(!l)return;n.x=n.y=1;let d,f;for(let h=0;h<l;h++){d=i[h],f=d.projectionDelta;const{visualElement:m}=d.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qs(t,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),f&&(n.x*=f.x.scale,n.y*=f.y.scale,P0(t,f)),o&&Li(d.latestValues)&&qs(t,d.latestValues))}n.x<Fv&&n.x>Hv&&(n.x=1),n.y<Fv&&n.y>Hv&&(n.y=1)}function Fs(t,n){t.min=t.min+n,t.max=t.max+n}function qv(t,n,i,o,l=.5){const d=_t(t.min,t.max,l);$f(t,n,i,d,o)}function qs(t,n){qv(t.x,n.x,n.scaleX,n.scale,n.originX),qv(t.y,n.y,n.scaleY,n.scale,n.originY)}function V0(t,n){return L0(_M(t.getBoundingClientRect(),n))}function CM(t,n,i){const o=V0(t,i),{scroll:l}=n;return l&&(Fs(o.x,l.offset.x),Fs(o.y,l.offset.y)),o}const Gv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gs=()=>({x:Gv(),y:Gv()}),$v=()=>({min:0,max:0}),Ft=()=>({x:$v(),y:$v()}),Yf={current:null},H0={current:!1};function TM(){if(H0.current=!0,!!hp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Yf.current=t.matches;t.addEventListener("change",n),n()}else Yf.current=!1}const jM=new WeakMap;function AM(t,n,i){for(const o in n){const l=n[o],d=i[o];if(un(l))t.addValue(o,l);else if(un(d))t.addValue(o,Zs(l,{owner:t}));else if(d!==l)if(t.hasValue(o)){const f=t.getValue(o);f.liveStyle===!0?f.jump(l):f.hasAnimated||f.set(l)}else{const f=t.getStaticValue(o);t.addValue(o,Zs(f!==void 0?f:l,{owner:t}))}}for(const o in i)n[o]===void 0&&t.removeValue(o);return n}const Yv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EM{scrapeMotionValuesFromProps(n,i,o){return{}}constructor({parent:n,props:i,presenceContext:o,reducedMotionConfig:l,blockInitialAnimation:d,visualState:f},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=An.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,xt.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=f;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=y,this.parent=n,this.props=i,this.presenceContext=o,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!d,this.isControllingVariants=Rc(i),this.isVariantNode=A0(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in x){const C=x[S];m[S]!==void 0&&un(C)&&C.set(m[S])}}mount(n){this.current=n,jM.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),H0.current||TM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hi(this.notifyUpdate),hi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,i){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const o=oo.has(n);o&&this.onBindTransform&&this.onBindTransform();const l=i.on("change",f=>{this.latestValues[n]=f,this.props.onUpdate&&xt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,i)),this.valueSubscriptions.set(n,()=>{l(),d&&d(),i.owner&&i.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Js){const i=Js[n];if(!i)continue;const{isEnabled:o,Feature:l}=i;if(!this.features[n]&&l&&o(this.props)&&(this.features[n]=new l(this)),this.features[n]){const d=this.features[n];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,i){this.latestValues[n]=i}update(n,i){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let o=0;o<Yv.length;o++){const l=Yv[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const d="on"+l,f=n[d];f&&(this.propEventSubscriptions[l]=this.on(l,f))}this.prevMotionValues=AM(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(n),()=>i.variantChildren.delete(n)}addValue(n,i){const o=this.values.get(n);i!==o&&(o&&this.removeValue(n),this.bindToMotionValue(n,i),this.values.set(n,i),this.latestValues[n]=i.get())}removeValue(n){this.values.delete(n);const i=this.valueSubscriptions.get(n);i&&(i(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,i){if(this.props.values&&this.props.values[n])return this.props.values[n];let o=this.values.get(n);return o===void 0&&i!==void 0&&(o=Zs(i===null?void 0:i,{owner:this}),this.addValue(n,o)),o}readValue(n,i){let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(Nb(o)||zb(o))?o=parseFloat(o):!Ok(o)&&mi.test(i)&&(o=y0(n,i)),this.setBaseTarget(n,un(o)?o.get():o)),un(o)?o.get():o}setBaseTarget(n,i){this.baseTarget[n]=i}getBaseTarget(n){const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const d=Vp(this.props,i,this.presenceContext?.custom);d&&(o=d[n])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,n);return l!==void 0&&!un(l)?l:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,i){return this.events[n]||(this.events[n]=new xp),this.events[n].add(i)}notify(n,...i){this.events[n]&&this.events[n].notify(...i)}scheduleRenderMicrotask(){Np.render(this.render)}}class F0 extends EM{constructor(){super(...arguments),this.KeyframeResolver=Ck}sortInstanceNodePosition(n,i){return n.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(n,i){return n.style?n.style[i]:void 0}removeValueFromRenderState(n,{vars:i,style:o}){delete i[n],delete o[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;un(n)&&(this.childSubscription=n.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function q0(t,{style:n,vars:i},o,l){const d=t.style;let f;for(f in n)d[f]=n[f];l?.applyProjectionStyles(d,o);for(f in i)d.setProperty(f,i[f])}function kM(t){return window.getComputedStyle(t)}class MM extends F0{constructor(){super(...arguments),this.type="html",this.renderInstance=q0}readValueFromInstance(n,i){if(oo.has(i))return this.projection?.isProjecting?Bf(i):FE(n,i);{const o=kM(n),l=(Wb(i)?o.getPropertyValue(i):o[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:i}){return V0(n,i)}build(n,i,o){Lp(n,i,o.transformTemplate)}scrapeMotionValuesFromProps(n,i,o){return Hp(n,i,o)}}const G0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RM(t,n,i,o){q0(t,n,void 0,o);for(const l in n.attrs)t.setAttribute(G0.has(l)?l:Fp(l),n.attrs[l])}class DM extends F0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(n,i){return n[i]}readValueFromInstance(n,i){if(oo.has(i)){const o=g0(i);return o&&o.default||0}return i=G0.has(i)?i:Fp(i),n.getAttribute(i)}scrapeMotionValuesFromProps(n,i,o){return U0(n,i,o)}build(n,i,o){M0(n,i,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(n,i,o,l){RM(n,i,o,l)}mount(n){this.isSVGTag=D0(n.tagName),super.mount(n)}}const NM=(t,n)=>Pp(t)?new DM(n):new MM(n,{allowProjection:t!==w.Fragment});function Xs(t,n,i){const o=t.getProps();return Vp(o,n,i!==void 0?i:o.custom,t)}const Xf=t=>Array.isArray(t);function UM(t,n,i){t.hasValue(n)?t.getValue(n).set(i):t.addValue(n,Zs(i))}function zM(t){return Xf(t)?t[t.length-1]||0:t}function OM(t,n){const i=Xs(t,n);let{transitionEnd:o={},transition:l={},...d}=i||{};d={...d,...o};for(const f in d){const h=zM(d[f]);UM(t,f,h)}}function BM(t){return!!(un(t)&&t.add)}function Wf(t,n){const i=t.getValue("willChange");if(BM(i))return i.add(n);if(!i&&Pa.WillChange){const o=new Pa.WillChange("auto");t.addValue("willChange",o),o.add(n)}}function $0(t){return t.props[z0]}const LM=t=>t!==null;function IM(t,{repeat:n,repeatType:i="loop"},o){const l=t.filter(LM),d=n&&i!=="loop"&&n%2===1?0:l.length-1;return l[d]}const PM={type:"spring",stiffness:500,damping:25,restSpeed:10},VM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HM={type:"keyframes",duration:.8},FM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qM=(t,{keyframes:n})=>n.length>2?HM:oo.has(t)?t.startsWith("scale")?VM(n[1]):PM:FM;function GM({when:t,delay:n,delayChildren:i,staggerChildren:o,staggerDirection:l,repeat:d,repeatType:f,repeatDelay:h,from:m,elapsed:y,...g}){return!!Object.keys(g).length}const qp=(t,n,i,o={},l,d)=>f=>{const h=Rp(o,t)||{},m=h.delay||o.delay||0;let{elapsed:y=0}=o;y=y-va(m);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:n.getVelocity(),...h,delay:-y,onUpdate:S=>{n.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{f(),h.onComplete&&h.onComplete()},name:t,motionValue:n,element:d?void 0:l};GM(h)||Object.assign(g,qM(t,g)),g.duration&&(g.duration=va(g.duration)),g.repeatDelay&&(g.repeatDelay=va(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Hf(g),g.delay===0&&(x=!0)),(Pa.instantAnimations||Pa.skipAnimations)&&(x=!0,Hf(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,x&&!d&&n.get()!==void 0){const S=IM(g.keyframes,h);if(S!==void 0){xt.update(()=>{g.onUpdate(S),g.onComplete()});return}}return h.isSync?new kp(g):new fk(g)};function $M({protectedKeys:t,needsAnimating:n},i){const o=t.hasOwnProperty(i)&&n[i]!==!0;return n[i]=!1,o}function Y0(t,n,{delay:i=0,transitionOverride:o,type:l}={}){let{transition:d=t.getDefaultTransition(),transitionEnd:f,...h}=n;o&&(d=o);const m=[],y=l&&t.animationState&&t.animationState.getState()[l];for(const g in h){const x=t.getValue(g,t.latestValues[g]??null),S=h[g];if(S===void 0||y&&$M(y,g))continue;const C={delay:i,...Rp(d||{},g)},_=x.get();if(_!==void 0&&!x.isAnimating&&!Array.isArray(S)&&S===_&&!C.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=$0(t);if(N){const I=window.MotionHandoffAnimation(N,g,xt);I!==null&&(C.startTime=I,k=!0)}}Wf(t,g),x.start(qp(g,x,S,t.shouldReduceMotion&&p0.has(g)?{type:!1}:C,t,k));const j=x.animation;j&&m.push(j)}return f&&Promise.all(m).then(()=>{xt.update(()=>{f&&OM(t,f)})}),m}function X0(t,n,i,o=0,l=1){const d=Array.from(t).sort((y,g)=>y.sortNodePosition(g)).indexOf(n),f=t.size,h=(f-1)*o;return typeof i=="function"?i(d,f):l===1?d*o:h-d*o}function Kf(t,n,i={}){const o=Xs(t,n,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(l=i.transitionOverride);const d=o?()=>Promise.all(Y0(t,o,i)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:x}=l;return YM(t,n,m,y,g,x,i)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,y]=h==="beforeChildren"?[d,f]:[f,d];return m().then(()=>y())}else return Promise.all([d(),f(i.delay)])}function YM(t,n,i=0,o=0,l=0,d=1,f){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",n),h.push(Kf(m,n,{...f,delay:i+(typeof o=="function"?0:o)+X0(t.variantChildren,m,o,l,d)}).then(()=>m.notify("AnimationComplete",n)));return Promise.all(h)}function XM(t,n,i={}){t.notify("AnimationStart",n);let o;if(Array.isArray(n)){const l=n.map(d=>Kf(t,d,i));o=Promise.all(l)}else if(typeof n=="string")o=Kf(t,n,i);else{const l=typeof n=="function"?Xs(t,n,i.custom):n;o=Promise.all(Y0(t,l,i))}return o.then(()=>{t.notify("AnimationComplete",n)})}function W0(t,n){if(!Array.isArray(n))return!1;const i=n.length;if(i!==t.length)return!1;for(let o=0;o<i;o++)if(n[o]!==t[o])return!1;return!0}const WM=Bp.length;function K0(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?K0(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const n={};for(let i=0;i<WM;i++){const o=Bp[i],l=t.props[o];(gr(l)||l===!1)&&(n[o]=l)}return n}const KM=[...Op].reverse(),QM=Op.length;function ZM(t){return n=>Promise.all(n.map(({animation:i,options:o})=>XM(t,i,o)))}function JM(t){let n=ZM(t),i=Xv(),o=!0;const l=m=>(y,g)=>{const x=Xs(t,g,m==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:S,transitionEnd:C,..._}=x;y={...y,..._,...C}}return y};function d(m){n=m(t)}function f(m){const{props:y}=t,g=K0(t.parent)||{},x=[],S=new Set;let C={},_=1/0;for(let j=0;j<QM;j++){const N=KM[j],I=i[N],M=y[N]!==void 0?y[N]:g[N],O=gr(M),P=N===m?I.isActive:null;P===!1&&(_=j);let Q=M===g[N]&&M!==y[N]&&O;if(Q&&o&&t.manuallyAnimateOnMount&&(Q=!1),I.protectedKeys={...C},!I.isActive&&P===null||!M&&!I.prevProp||Mc(M)||typeof M=="boolean")continue;const ne=eR(I.prevProp,M);let W=ne||N===m&&I.isActive&&!Q&&O||j>_&&O,ce=!1;const se=Array.isArray(M)?M:[M];let Ee=se.reduce(l(N),{});P===!1&&(Ee={});const{prevResolvedValues:qe={}}=I,de={...qe,...Ee},je=ee=>{W=!0,S.has(ee)&&(ce=!0,S.delete(ee)),I.needsAnimating[ee]=!0;const ie=t.getValue(ee);ie&&(ie.liveStyle=!1)};for(const ee in de){const ie=Ee[ee],ye=qe[ee];if(C.hasOwnProperty(ee))continue;let ke=!1;Xf(ie)&&Xf(ye)?ke=!W0(ie,ye):ke=ie!==ye,ke?ie!=null?je(ee):S.add(ee):ie!==void 0&&S.has(ee)?je(ee):I.protectedKeys[ee]=!0}I.prevProp=M,I.prevResolvedValues=Ee,I.isActive&&(C={...C,...Ee}),o&&t.blockInitialAnimation&&(W=!1);const Oe=Q&&ne;W&&(!Oe||ce)&&x.push(...se.map(ee=>{const ie={type:N};if(typeof ee=="string"&&o&&!Oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ye}=t,ke=Xs(ye,ee);if(ye.enteringChildren&&ke){const{delayChildren:pe}=ke.transition||{};ie.delay=X0(ye.enteringChildren,t,pe)}}return{animation:ee,options:ie}}))}if(S.size){const j={};if(typeof y.initial!="boolean"){const N=Xs(t,Array.isArray(y.initial)?y.initial[0]:y.initial);N&&N.transition&&(j.transition=N.transition)}S.forEach(N=>{const I=t.getBaseTarget(N),M=t.getValue(N);M&&(M.liveStyle=!0),j[N]=I??null}),x.push({animation:j})}let k=!!x.length;return o&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(k=!1),o=!1,k?n(x):Promise.resolve()}function h(m,y){if(i[m].isActive===y)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(m,y)),i[m].isActive=y;const g=f(m);for(const x in i)i[x].protectedKeys={};return g}return{animateChanges:f,setActive:h,setAnimateFunction:d,getState:()=>i,reset:()=>{i=Xv()}}}function eR(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!W0(n,t):!1}function Oi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xv(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class gi{constructor(n){this.isMounted=!1,this.node=n}update(){}}class tR extends gi{constructor(n){super(n),n.animationState||(n.animationState=JM(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Mc(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:i}=this.node.prevProps||{};n!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let nR=0;class aR extends gi{constructor(){super(...arguments),this.id=nR++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===o)return;const l=this.node.animationState.setActive("exit",!n);i&&!n&&l.then(()=>{i(this.id)})}mount(){const{register:n,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const iR={animation:{Feature:tR},exit:{Feature:aR}};function yr(t,n,i,o={passive:!0}){return t.addEventListener(n,i,o),()=>t.removeEventListener(n,i)}function Mr(t){return{point:{x:t.pageX,y:t.pageY}}}const sR=t=>n=>Up(n)&&t(n,Mr(n));function rr(t,n,i,o){return yr(t,n,sR(i),o)}const Q0=1e-4,oR=1-Q0,rR=1+Q0,Z0=.01,lR=0-Z0,cR=0+Z0;function gn(t){return t.max-t.min}function uR(t,n,i){return Math.abs(t-n)<=i}function Wv(t,n,i,o=.5){t.origin=o,t.originPoint=_t(n.min,n.max,t.origin),t.scale=gn(i)/gn(n),t.translate=_t(i.min,i.max,t.origin)-t.originPoint,(t.scale>=oR&&t.scale<=rR||isNaN(t.scale))&&(t.scale=1),(t.translate>=lR&&t.translate<=cR||isNaN(t.translate))&&(t.translate=0)}function lr(t,n,i,o){Wv(t.x,n.x,i.x,o?o.originX:void 0),Wv(t.y,n.y,i.y,o?o.originY:void 0)}function Kv(t,n,i){t.min=i.min+n.min,t.max=t.min+gn(n)}function dR(t,n,i){Kv(t.x,n.x,i.x),Kv(t.y,n.y,i.y)}function Qv(t,n,i){t.min=n.min-i.min,t.max=t.min+gn(n)}function yc(t,n,i){Qv(t.x,n.x,i.x),Qv(t.y,n.y,i.y)}function Qn(t){return[t("x"),t("y")]}const J0=({current:t})=>t?t.ownerDocument.defaultView:null,Zv=(t,n)=>Math.abs(t-n);function fR(t,n){const i=Zv(t.x,n.x),o=Zv(t.y,n.y);return Math.sqrt(i**2+o**2)}class eS{constructor(n,i,{transformPagePoint:o,contextWindow:l=window,dragSnapToOrigin:d=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=rf(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,_=fR(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!_)return;const{point:k}=S,{timestamp:j}=sn;this.history.push({...k,timestamp:j});const{onStart:N,onMove:I}=this.handlers;C||(N&&N(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=of(C,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=rf(S.type==="pointercancel"?this.lastMoveEventInfo:of(C,this.transformPagePoint),this.history);this.startEvent&&_&&_(S,N),k&&k(S,N)},!Up(n))return;this.dragSnapToOrigin=d,this.handlers=i,this.transformPagePoint=o,this.distanceThreshold=f,this.contextWindow=l||window;const h=Mr(n),m=of(h,this.transformPagePoint),{point:y}=m,{timestamp:g}=sn;this.history=[{...y,timestamp:g}];const{onSessionStart:x}=i;x&&x(n,rf(m,this.history)),this.removeListeners=Ar(rr(this.contextWindow,"pointermove",this.handlePointerMove),rr(this.contextWindow,"pointerup",this.handlePointerUp),rr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),hi(this.updatePoint)}}function of(t,n){return n?{point:n(t.point)}:t}function Jv(t,n){return{x:t.x-n.x,y:t.y-n.y}}function rf({point:t},n){return{point:t,delta:Jv(t,tS(n)),offset:Jv(t,pR(n)),velocity:hR(n,.1)}}function pR(t){return t[0]}function tS(t){return t[t.length-1]}function hR(t,n){if(t.length<2)return{x:0,y:0};let i=t.length-1,o=null;const l=tS(t);for(;i>=0&&(o=t[i],!(l.timestamp-o.timestamp>va(n)));)i--;if(!o)return{x:0,y:0};const d=Jn(l.timestamp-o.timestamp);if(d===0)return{x:0,y:0};const f={x:(l.x-o.x)/d,y:(l.y-o.y)/d};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function mR(t,{min:n,max:i},o){return n!==void 0&&t<n?t=o?_t(n,t,o.min):Math.max(t,n):i!==void 0&&t>i&&(t=o?_t(i,t,o.max):Math.min(t,i)),t}function ex(t,n,i){return{min:n!==void 0?t.min+n:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function gR(t,{top:n,left:i,bottom:o,right:l}){return{x:ex(t.x,i,l),y:ex(t.y,n,o)}}function tx(t,n){let i=n.min-t.min,o=n.max-t.max;return n.max-n.min<t.max-t.min&&([i,o]=[o,i]),{min:i,max:o}}function yR(t,n){return{x:tx(t.x,n.x),y:tx(t.y,n.y)}}function vR(t,n){let i=.5;const o=gn(t),l=gn(n);return l>o?i=pr(n.min,n.max-o,t.min):o>l&&(i=pr(t.min,t.max-l,n.min)),Ia(0,1,i)}function xR(t,n){const i={};return n.min!==void 0&&(i.min=n.min-t.min),n.max!==void 0&&(i.max=n.max-t.min),i}const Qf=.35;function bR(t=Qf){return t===!1?t=0:t===!0&&(t=Qf),{x:nx(t,"left","right"),y:nx(t,"top","bottom")}}function nx(t,n,i){return{min:ax(t,n),max:ax(t,i)}}function ax(t,n){return typeof t=="number"?t:t[n]||0}const SR=new WeakMap;class _R{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:i=!1,distanceThreshold:o}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const d=x=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Mr(x).point)},f=(x,S)=>{const{drag:C,dragPropagation:_,onDragStart:k}=this.getProps();if(C&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ek(C),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(N=>{let I=this.getAxisMotionValue(N).get()||0;if(xa.test(I)){const{projection:M}=this.visualElement;if(M&&M.layout){const O=M.layout.layoutBox[N];O&&(I=gn(O)*(parseFloat(I)/100))}}this.originPoint[N]=I}),k&&xt.postRender(()=>k(x,S)),Wf(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},h=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:_,onDirectionLock:k,onDrag:j}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:N}=S;if(_&&this.currentDirection===null){this.currentDirection=wR(N),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",S.point,N),this.updateAxis("y",S.point,N),this.visualElement.render(),j&&j(x,S)},m=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S,this.stop(x,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>Qn(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new eS(n,{onSessionStart:d,onStart:f,onMove:h,onSessionEnd:m,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:o,contextWindow:J0(this.visualElement)})}stop(n,i){const o=n||this.latestPointerEvent,l=i||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!l||!o)return;const{velocity:f}=l;this.startAnimation(f);const{onDragEnd:h}=this.getProps();h&&xt.postRender(()=>h(o,l))}cancel(){this.isDragging=!1;const{projection:n,animationState:i}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(n,i,o){const{drag:l}=this.getProps();if(!o||!Yl(n,l,this.currentDirection))return;const d=this.getAxisMotionValue(n);let f=this.originPoint[n]+o[n];this.constraints&&this.constraints[n]&&(f=mR(f,this.constraints[n],this.elastic[n])),d.set(f)}resolveConstraints(){const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;n&&Hs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=gR(o.layoutBox,n):this.constraints=!1,this.elastic=bR(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Qn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=xR(o.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:i}=this.getProps();if(!n||!Hs(n))return!1;const o=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const d=CM(o,l.root,this.visualElement.getTransformPagePoint());let f=yR(l.layout.layoutBox,d);if(i){const h=i(SM(f));this.hasMutatedConstraints=!!h,h&&(f=L0(h))}return f}startAnimation(n){const{drag:i,dragMomentum:o,dragElastic:l,dragTransition:d,dragSnapToOrigin:f,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},y=Qn(g=>{if(!Yl(g,i,this.currentDirection))return;let x=m&&m[g]||{};f&&(x={min:0,max:0});const S=l?200:1e6,C=l?40:1e7,_={type:"inertia",velocity:o?n[g]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...d,...x};return this.startAxisValueAnimation(g,_)});return Promise.all(y).then(h)}startAxisValueAnimation(n,i){const o=this.getAxisMotionValue(n);return Wf(this.visualElement,n),o.start(qp(n,o,0,i,this.visualElement,!1))}stopAnimation(){Qn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Qn(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const i=`_drag${n.toUpperCase()}`,o=this.visualElement.getProps(),l=o[i];return l||this.visualElement.getValue(n,(o.initial?o.initial[n]:void 0)||0)}snapToCursor(n){Qn(i=>{const{drag:o}=this.getProps();if(!Yl(i,o,this.currentDirection))return;const{projection:l}=this.visualElement,d=this.getAxisMotionValue(i);if(l&&l.layout){const{min:f,max:h}=l.layout.layoutBox[i];d.set(n[i]-_t(f,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:o}=this.visualElement;if(!Hs(i)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Qn(f=>{const h=this.getAxisMotionValue(f);if(h&&this.constraints!==!1){const m=h.get();l[f]=vR({min:m,max:m},this.constraints[f])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Qn(f=>{if(!Yl(f,n,null))return;const h=this.getAxisMotionValue(f),{min:m,max:y}=this.constraints[f];h.set(_t(m,y,l[f]))})}addListeners(){if(!this.visualElement.current)return;SR.set(this.visualElement,this);const n=this.visualElement.current,i=rr(n,"pointerdown",m=>{const{drag:y,dragListener:g=!0}=this.getProps();y&&g&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Hs(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,d=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),xt.read(o);const f=yr(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Qn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=m[g].translate,x.set(x.get()+m[g].translate))}),this.visualElement.render())}));return()=>{f(),i(),d(),h&&h()}}getProps(){const n=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:d=!1,dragElastic:f=Qf,dragMomentum:h=!0}=n;return{...n,drag:i,dragDirectionLock:o,dragPropagation:l,dragConstraints:d,dragElastic:f,dragMomentum:h}}}function Yl(t,n,i){return(n===!0||n===t)&&(i===null||i===t)}function wR(t,n=10){let i=null;return Math.abs(t.y)>n?i="y":Math.abs(t.x)>n&&(i="x"),i}class CR extends gi{constructor(n){super(n),this.removeGroupControls=ea,this.removeListeners=ea,this.controls=new _R(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ea}unmount(){this.removeGroupControls(),this.removeListeners()}}const ix=t=>(n,i)=>{t&&xt.postRender(()=>t(n,i))};class TR extends gi{constructor(){super(...arguments),this.removePointerDownListener=ea}onPointerDown(n){this.session=new eS(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J0(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:i,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:ix(n),onStart:ix(i),onMove:o,onEnd:(d,f)=>{delete this.session,l&&xt.postRender(()=>l(d,f))}}}mount(){this.removePointerDownListener=rr(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let lf=!1;class jR extends w.Component{componentDidMount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:o,layoutId:l}=this.props,{projection:d}=n;d&&(i.group&&i.group.add(d),o&&o.register&&l&&o.register(d),lf&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),sc.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:i,visualElement:o,drag:l,isPresent:d}=this.props,{projection:f}=o;return f&&(f.isPresent=d,lf=!0,l||n.layoutDependency!==i||i===void 0||n.isPresent!==d?f.willUpdate():this.safeToRemove(),n.isPresent!==d&&(d?f.promote():f.relegate()||xt.postRender(()=>{const h=f.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),Np.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:l}=n;lf=!0,l&&(l.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function nS(t){const[n,i]=C0(),o=w.useContext(fp);return c.jsx(jR,{...t,layoutGroup:o,switchLayoutGroup:w.useContext(O0),isPresent:n,safeToRemove:i})}function AR(t,n,i){const o=un(t)?t:Zs(t);return o.start(qp("",o,n,i)),o.animation}const ER=(t,n)=>t.depth-n.depth;class kR{constructor(){this.children=[],this.isDirty=!1}add(n){mp(this.children,n),this.isDirty=!0}remove(n){gp(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(ER),this.isDirty=!1,this.children.forEach(n)}}function MR(t,n){const i=An.now(),o=({timestamp:l})=>{const d=l-i;d>=n&&(hi(o),t(d-n))};return xt.setup(o,!0),()=>hi(o)}const aS=["TopLeft","TopRight","BottomLeft","BottomRight"],RR=aS.length,sx=t=>typeof t=="string"?parseFloat(t):t,ox=t=>typeof t=="number"||Me.test(t);function DR(t,n,i,o,l,d){l?(t.opacity=_t(0,i.opacity??1,NR(o)),t.opacityExit=_t(n.opacity??1,0,UR(o))):d&&(t.opacity=_t(n.opacity??1,i.opacity??1,o));for(let f=0;f<RR;f++){const h=`border${aS[f]}Radius`;let m=rx(n,h),y=rx(i,h);if(m===void 0&&y===void 0)continue;m||(m=0),y||(y=0),m===0||y===0||ox(m)===ox(y)?(t[h]=Math.max(_t(sx(m),sx(y),o),0),(xa.test(y)||xa.test(m))&&(t[h]+="%")):t[h]=y}(n.rotate||i.rotate)&&(t.rotate=_t(n.rotate||0,i.rotate||0,o))}function rx(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const NR=iS(0,.5,Fb),UR=iS(.5,.95,ea);function iS(t,n,i){return o=>o<t?0:o>n?1:i(pr(t,n,o))}function lx(t,n){t.min=n.min,t.max=n.max}function sa(t,n){lx(t.x,n.x),lx(t.y,n.y)}function cx(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function ux(t,n,i,o,l){return t-=n,t=gc(t,1/i,o),l!==void 0&&(t=gc(t,1/l,o)),t}function zR(t,n=0,i=1,o=.5,l,d=t,f=t){if(xa.test(n)&&(n=parseFloat(n),n=_t(f.min,f.max,n/100)-f.min),typeof n!="number")return;let h=_t(d.min,d.max,o);t===d&&(h-=n),t.min=ux(t.min,n,i,h,l),t.max=ux(t.max,n,i,h,l)}function dx(t,n,[i,o,l],d,f){zR(t,n[i],n[o],n[l],n.scale,d,f)}const OR=["x","scaleX","originX"],BR=["y","scaleY","originY"];function fx(t,n,i,o){dx(t.x,n,OR,i?i.x:void 0,o?o.x:void 0),dx(t.y,n,BR,i?i.y:void 0,o?o.y:void 0)}function px(t){return t.translate===0&&t.scale===1}function sS(t){return px(t.x)&&px(t.y)}function hx(t,n){return t.min===n.min&&t.max===n.max}function LR(t,n){return hx(t.x,n.x)&&hx(t.y,n.y)}function mx(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function oS(t,n){return mx(t.x,n.x)&&mx(t.y,n.y)}function gx(t){return gn(t.x)/gn(t.y)}function yx(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class IR{constructor(){this.members=[]}add(n){mp(this.members,n),n.scheduleRender()}remove(n){if(gp(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(n){const i=this.members.findIndex(l=>n===l);if(i===0)return!1;let o;for(let l=i;l>=0;l--){const d=this.members[l];if(d.isPresent!==!1){o=d;break}}return o?(this.promote(o),!0):!1}promote(n,i){const o=this.lead;if(n!==o&&(this.prevLead=o,this.lead=n,n.show(),o)){o.instance&&o.scheduleRender(),n.scheduleRender(),n.resumeFrom=o,i&&(n.resumeFrom.preserveOpacity=!0),o.snapshot&&(n.snapshot=o.snapshot,n.snapshot.latestValues=o.animationValues||o.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:i,resumingFrom:o}=n;i.onExitComplete&&i.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PR(t,n,i){let o="";const l=t.x.translate/n.x,d=t.y.translate/n.y,f=i?.z||0;if((l||d||f)&&(o=`translate3d(${l}px, ${d}px, ${f}px) `),(n.x!==1||n.y!==1)&&(o+=`scale(${1/n.x}, ${1/n.y}) `),i){const{transformPerspective:y,rotate:g,rotateX:x,rotateY:S,skewX:C,skewY:_}=i;y&&(o=`perspective(${y}px) ${o}`),g&&(o+=`rotate(${g}deg) `),x&&(o+=`rotateX(${x}deg) `),S&&(o+=`rotateY(${S}deg) `),C&&(o+=`skewX(${C}deg) `),_&&(o+=`skewY(${_}deg) `)}const h=t.x.scale*n.x,m=t.y.scale*n.y;return(h!==1||m!==1)&&(o+=`scale(${h}, ${m})`),o||"none"}const cf=["","X","Y","Z"],VR=1e3;let HR=0;function uf(t,n,i,o){const{latestValues:l}=n;l[t]&&(i[t]=l[t],n.setStaticValue(t,0),o&&(o[t]=0))}function rS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const i=$0(n);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:l,layoutId:d}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",xt,!(l||d))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&rS(o)}function lS({attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(f={},h=n?.()){this.id=HR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GR),this.nodes.forEach(WR),this.nodes.forEach(KR),this.nodes.forEach($R)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new kR)}addEventListener(f,h){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new xp),this.eventHandlers.get(f).add(h)}notifyListeners(f,...h){const m=this.eventHandlers.get(f);m&&m.notify(...h)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=w0(f)&&!Uk(f),this.instance=f;const{layoutId:h,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let g,x=0;const S=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{x=window.innerWidth}),t(f,()=>{const C=window.innerWidth;C!==x&&(x=C,this.root.updateBlockedByResize=!0,g&&g(),g=MR(S,250),sc.hasAnimatedSinceResize&&(sc.hasAnimatedSinceResize=!1,this.nodes.forEach(bx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||y.getDefaultTransition()||tD,{onLayoutAnimationStart:k,onLayoutAnimationComplete:j}=y.getProps(),N=!this.targetLayout||!oS(this.targetLayout,C),I=!x&&S;if(this.options.layoutRoot||this.resumeFrom||I||x&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Rp(_,"layout"),onPlay:k,onComplete:j};(y.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(g,I)}else x||bx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QR),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(XR),this.nodes.forEach(FR),this.nodes.forEach(qR)):this.nodes.forEach(xx),this.clearAllSnapshots();const h=An.now();sn.delta=Ia(0,1e3/60,h-sn.timestamp),sn.timestamp=h,sn.isProcessing=!0,Qd.update.process(sn),Qd.preRender.process(sn),Qd.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Np.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YR),this.sharedNodes.forEach(ZR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(h=!1),h&&this.instance){const m=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!sS(this.projectionDelta),m=this.getTransformTemplate(),y=m?m(this.latestValues,""):void 0,g=y!==this.prevTransformTemplateValue;f&&this.instance&&(h||Li(this.latestValues)||g)&&(l(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return f&&(m=this.removeTransform(m)),nD(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Ft();const h=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aD))){const{scroll:y}=this.root;y&&(Fs(h.x,y.offset.x),Fs(h.y,y.offset.y))}return h}removeElementScroll(f){const h=Ft();if(sa(h,f),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:g,options:x}=y;y!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&sa(h,f),Fs(h.x,g.offset.x),Fs(h.y,g.offset.y))}return h}applyTransform(f,h=!1){const m=Ft();sa(m,f);for(let y=0;y<this.path.length;y++){const g=this.path[y];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&qs(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Li(g.latestValues)&&qs(m,g.latestValues)}return Li(this.latestValues)&&qs(m,this.latestValues),m}removeTransform(f){const h=Ft();sa(h,f);for(let m=0;m<this.path.length;m++){const y=this.path[m];if(!y.instance||!Li(y.latestValues))continue;Gf(y.latestValues)&&y.updateSnapshot();const g=Ft(),x=y.measurePageBox();sa(g,x),fx(h,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,g)}return Li(this.latestValues)&&fx(h,this.latestValues),h}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(f||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!this.layout||!(g||x))return;this.resolvedRelativeTargetAt=sn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sa(this.target,this.layout.layoutBox),P0(this.target,this.targetDelta)):sa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Gf(this.parent.latestValues)||I0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,h,m){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),yc(this.relativeTargetOrigin,h,m),sa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),h=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:y,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||g))return;sa(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;wM(this.layoutCorrected,this.treeScale,this.path,h),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Ft());const{target:C}=f;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cx(this.prevProjectionDelta.x,this.projectionDelta.x),cx(this.prevProjectionDelta.y,this.projectionDelta.y)),lr(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!yx(this.projectionDelta.x,this.prevProjectionDelta.x)||!yx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gs(),this.projectionDelta=Gs(),this.projectionDeltaWithTransform=Gs()}setAnimationOrigin(f,h=!1){const m=this.snapshot,y=m?m.latestValues:{},g={...this.latestValues},x=Gs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=Ft(),C=m?m.source:void 0,_=this.layout?this.layout.source:void 0,k=C!==_,j=this.getStack(),N=!j||j.members.length<=1,I=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(eD));this.animationProgress=0;let M;this.mixTargetDelta=O=>{const P=O/1e3;Sx(x.x,f.x,P),Sx(x.y,f.y,P),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yc(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JR(this.relativeTarget,this.relativeTargetOrigin,S,P),M&&LR(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Ft()),sa(M,this.relativeTarget)),k&&(this.animationValues=g,DR(g,y,this.latestValues,P,I,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{sc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zs(0)),this.currentAnimation=AR(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),f.onUpdate&&f.onUpdate(h)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:h,target:m,layout:y,latestValues:g}=f;if(!(!h||!m||!y)){if(this!==f&&this.layout&&y&&cS(this.options.animationType,this.layout.layoutBox,y.layoutBox)){m=this.target||Ft();const x=gn(this.layout.layoutBox.x);m.x.min=f.target.x.min,m.x.max=m.x.min+x;const S=gn(this.layout.layoutBox.y);m.y.min=f.target.y.min,m.y.max=m.y.min+S}sa(h,m),qs(h,g),lr(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(f,h){this.sharedNodes.has(f)||this.sharedNodes.set(f,new IR),this.sharedNodes.get(f).add(h);const y=h.options.initialPromotionConfig;h.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(h):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:h,preserveFollowOpacity:m}={}){const y=this.getStack();y&&y.promote(this,m),f&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let h=!1;const{latestValues:m}=f;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const y={};m.z&&uf("z",f,y,this.animationValues);for(let g=0;g<cf.length;g++)uf(`rotate${cf[g]}`,f,y,this.animationValues),uf(`skew${cf[g]}`,f,y,this.animationValues);f.render();for(const g in y)f.setStaticValue(g,y[g]),this.animationValues&&(this.animationValues[g]=y[g]);f.scheduleRender()}applyProjectionStyles(f,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=ic(h?.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=ic(h?.pointerEvents)||""),this.hasProjected&&!Li(this.latestValues)&&(f.transform=m?m({},""):"none",this.hasProjected=!1);return}f.visibility="";const g=y.animationValues||y.latestValues;this.applyTransformsToTarget();let x=PR(this.projectionDeltaWithTransform,this.treeScale,g);m&&(x=m(g,x)),f.transform=x;const{x:S,y:C}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,y.animationValues?f.opacity=y===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:f.opacity=y===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in qf){if(g[_]===void 0)continue;const{correct:k,applyTo:j,isCSSVariable:N}=qf[_],I=x==="none"?g[_]:k(g[_],y);if(j){const M=j.length;for(let O=0;O<M;O++)f[j[O]]=I}else N?this.options.visualElement.renderState.vars[_]=I:f[_]=I}this.options.layoutId&&(f.pointerEvents=y===this?ic(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(vx),this.root.sharedNodes.clear()}}}function FR(t){t.updateLayout()}function qR(t){const n=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:l}=t.options,d=n.source!==t.layout.source;l==="size"?Qn(g=>{const x=d?n.measuredBox[g]:n.layoutBox[g],S=gn(x);x.min=i[g].min,x.max=x.min+S}):cS(l,n.layoutBox,i)&&Qn(g=>{const x=d?n.measuredBox[g]:n.layoutBox[g],S=gn(i[g]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const f=Gs();lr(f,i,n.layoutBox);const h=Gs();d?lr(h,t.applyTransform(o,!0),n.measuredBox):lr(h,i,n.layoutBox);const m=!sS(f);let y=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:S}=g;if(x&&S){const C=Ft();yc(C,n.layoutBox,x.layoutBox);const _=Ft();yc(_,i,S.layoutBox),oS(C,_)||(y=!0),g.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=C,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:h,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function GR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $R(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YR(t){t.clearSnapshot()}function vx(t){t.clearMeasurements()}function xx(t){t.isLayoutDirty=!1}function XR(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function bx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WR(t){t.resolveTargetDelta()}function KR(t){t.calcProjection()}function QR(t){t.resetSkewAndRotation()}function ZR(t){t.removeLeadSnapshot()}function Sx(t,n,i){t.translate=_t(n.translate,0,i),t.scale=_t(n.scale,1,i),t.origin=n.origin,t.originPoint=n.originPoint}function _x(t,n,i,o){t.min=_t(n.min,i.min,o),t.max=_t(n.max,i.max,o)}function JR(t,n,i,o){_x(t.x,n.x,i.x,o),_x(t.y,n.y,i.y,o)}function eD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tD={duration:.45,ease:[.4,0,.1,1]},wx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Cx=wx("applewebkit/")&&!wx("chrome/")?Math.round:ea;function Tx(t){t.min=Cx(t.min),t.max=Cx(t.max)}function nD(t){Tx(t.x),Tx(t.y)}function cS(t,n,i){return t==="position"||t==="preserve-aspect"&&!uR(gx(n),gx(i),.2)}function aD(t){return t!==t.root&&t.scroll?.wasRoot}const iD=lS({attachResizeListener:(t,n)=>yr(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),df={current:void 0},uS=lS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!df.current){const t=new iD({});t.mount(window),t.setOptions({layoutScroll:!0}),df.current=t}return df.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sD={pan:{Feature:TR},drag:{Feature:CR,ProjectionNode:uS,MeasureLayout:nS}};function jx(t,n,i){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",i==="Start");const l="onHover"+i,d=o[l];d&&xt.postRender(()=>d(n,Mr(n)))}class oD extends gi{mount(){const{current:n}=this.node;n&&(this.unmount=kk(n,(i,o)=>(jx(this.node,o,"Start"),l=>jx(this.node,l,"End"))))}unmount(){}}class rD extends gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ar(yr(this.node.current,"focus",()=>this.onFocus()),yr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ax(t,n,i){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",i==="Start");const l="onTap"+(i==="End"?"":i),d=o[l];d&&xt.postRender(()=>d(n,Mr(n)))}class lD extends gi{mount(){const{current:n}=this.node;n&&(this.unmount=Nk(n,(i,o)=>(Ax(this.node,o,"Start"),(l,{success:d})=>Ax(this.node,l,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zf=new WeakMap,ff=new WeakMap,cD=t=>{const n=Zf.get(t.target);n&&n(t)},uD=t=>{t.forEach(cD)};function dD({root:t,...n}){const i=t||document;ff.has(i)||ff.set(i,{});const o=ff.get(i),l=JSON.stringify(n);return o[l]||(o[l]=new IntersectionObserver(uD,{root:t,...n})),o[l]}function fD(t,n,i){const o=dD(n);return Zf.set(t,i),o.observe(t),()=>{Zf.delete(t),o.unobserve(t)}}const pD={some:0,all:1};class hD extends gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:i,margin:o,amount:l="some",once:d}=n,f={root:i?i.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:pD[l]},h=m=>{const{isIntersecting:y}=m;if(this.isInView===y||(this.isInView=y,d&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),S=y?g:x;S&&S(m)};return fD(this.node.current,f,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:i}=this.node;["amount","margin","root"].some(mD(n,i))&&this.startObserver()}unmount(){}}function mD({viewport:t={}},{viewport:n={}}={}){return i=>t[i]!==n[i]}const gD={inView:{Feature:hD},tap:{Feature:lD},focus:{Feature:rD},hover:{Feature:oD}},yD={layout:{ProjectionNode:uS,MeasureLayout:nS}},vD={...iR,...gD,...sD,...yD},mn=bM(vD,NM),xD=({isOpen:t,title:n,message:i,confirmText:o="Confirm",cancelText:l="Cancel",variant:d="danger",onConfirm:f,onCancel:h})=>c.jsx(Ys,{children:t&&c.jsx(mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},onClick:h,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:c.jsxs(mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},onClick:m=>m.stopPropagation(),style:{width:"100%",maxWidth:"400px",background:"#1e293b",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)",overflow:"hidden"},children:[c.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:d==="danger"?"#ef4444":d==="warning"?"#f59e0b":"#6366f1",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(G_,{size:20,color:"white"})}),c.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:"#f1f5f9"},children:n})]}),c.jsx("button",{onClick:h,"aria-label":"Close",style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",transition:"color 0.15s ease",fontSize:"22px",fontWeight:300,lineHeight:1},onMouseEnter:m=>m.currentTarget.style.color="#f1f5f9",onMouseLeave:m=>m.currentTarget.style.color="#94a3b8",children:""})]}),c.jsx("div",{style:{padding:"20px"},children:c.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:1.6,color:"#94a3b8"},children:i})}),c.jsxs("div",{style:{padding:"12px 20px 20px",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[c.jsx("button",{onClick:h,style:{padding:"10px 20px",borderRadius:"10px",border:"1px solid rgba(255, 255, 255, 0.15)",background:"rgba(255, 255, 255, 0.05)",color:"#94a3b8",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"background 0.15s ease"},onMouseEnter:m=>m.currentTarget.style.background="rgba(255, 255, 255, 0.1)",onMouseLeave:m=>m.currentTarget.style.background="rgba(255, 255, 255, 0.05)",children:l}),c.jsx("button",{onClick:f,style:{padding:"10px 20px",borderRadius:"10px",border:"none",background:d==="danger"?"#ef4444":d==="warning"?"#f59e0b":"#6366f1",color:"white",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"background 0.15s ease"},onMouseEnter:m=>m.currentTarget.style.opacity="0.9",onMouseLeave:m=>m.currentTarget.style.opacity="1",children:o})]})]})})});let Ls=null;const oc={init:t=>{Ls=t},show:t=>new Promise(n=>{console.log("[ConfirmModal] show() called, setConfirmState exists:",!!Ls),Ls?Ls({isOpen:!0,title:t.title,message:t.message,confirmText:t.confirmText||"Confirm",cancelText:t.cancelText||"Cancel",variant:t.variant||"danger",callback:n}):(console.warn("[ConfirmModal] Store not initialized! Using native confirm."),n(window.confirm(t.message)))}),close:t=>{Ls&&Ls(n=>(n.callback&&n.callback(t),{...n,isOpen:!1,callback:null}))}},Kt=oc.show,bD=()=>{const[t,n]=ya.useState({isOpen:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"danger",callback:null});return ya.useEffect(()=>(console.log("[ConfirmModal] Initializing confirm store..."),oc.init(n),()=>{console.log("[ConfirmModal] Cleanup - resetting store")}),[]),c.jsx(xD,{isOpen:t.isOpen,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,variant:t.variant,onConfirm:()=>oc.close(!0),onCancel:()=>oc.close(!1)})},SD=t=>{if(!t||t==="undefined"||t==="null")return"?";const n=String(t).trim();if(!n||n.length===0)return"?";const i=n.split(/\s+/).filter(o=>o.length>0);return i.length===0?"?":i.length===1?i[0][0]?.toUpperCase()||"?":i.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},_D=({isOpen:t,onClose:n,isDarkMode:i=!1})=>{const[o,l]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(""),[y,g]=w.useState(null);w.useEffect(()=>{t&&x()},[t]);const x=async()=>{f(!0),g(null);try{const _=await Zn.getAllUsers();l(_)}catch(_){console.error("Failed to load users:",_),_.response?.status===403?g("Access denied. You need admin privileges to view this panel."):g("Failed to load users. Please try again.")}finally{f(!1)}},S=async(_,k)=>{if(await Kt({title:"Delete User",message:`Are you sure you want to delete user "${k}"? This action cannot be undone and all their data will be permanently deleted.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"}))try{await Zn.deleteUser(_),await x(),le.success(`User "${k}" has been deleted successfully.`)}catch(N){console.error("Failed to delete user:",N),N.response?.status===403?le.error("Access denied. You need admin privileges to delete users."):le.error("Failed to delete user. Please try again.")}},C=o.filter(_=>_.username.toLowerCase().includes(h.toLowerCase())||_.email.toLowerCase().includes(h.toLowerCase()));return t?c.jsx("div",{className:`${R.modalOverlay} ${i?R.darkMode:""}`,onClick:n,children:c.jsxs("div",{className:R.modal,onClick:_=>_.stopPropagation(),style:{maxWidth:"900px",width:"90%"},children:[c.jsxs("div",{className:R.modalHeader,children:[c.jsx("h2",{children:" Admin Panel - User Management"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),c.jsxs("div",{className:R.modalBody,style:{maxHeight:"70vh",overflowY:"auto"},children:[y&&c.jsx("div",{style:{padding:"12px",backgroundColor:"rgba(211, 47, 47, 0.1)",border:"1px solid rgba(211, 47, 47, 0.3)",borderRadius:"6px",color:"#d32f2f",marginBottom:"16px"},children:y}),c.jsx("div",{className:R.formGroup,style:{marginBottom:"16px"},children:c.jsx("input",{type:"text",placeholder:"Search users by username or email...",value:h,onChange:_=>m(_.target.value),className:R.formInput,style:{margin:0}})}),d?c.jsx("div",{className:R.loadingState,children:"Loading users..."}):C.length===0?c.jsx("div",{className:R.emptyState,children:h?"No users match your search":"No users found"}):c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[c.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"6px",fontWeight:600,fontSize:"14px",color:"var(--text)"},children:["Total Users: ",C.length]}),c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"var(--surface)",borderRadius:"8px",overflow:"hidden"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{backgroundColor:"var(--background)",borderBottom:"2px solid var(--border)"},children:[c.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"User"}),c.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Email"}),c.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Status"}),c.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Actions"})]})}),c.jsx("tbody",{children:C.map(_=>c.jsxs("tr",{style:{borderBottom:"1px solid var(--border)",transition:"background-color 0.2s"},onMouseEnter:k=>{k.currentTarget.style.backgroundColor="var(--background)"},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent"},children:[c.jsx("td",{style:{padding:"12px"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[_.avatar?c.jsx("img",{src:_.avatar,alt:_.username,style:{width:"36px",height:"36px",borderRadius:"50%",objectFit:"cover"}}):c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:"14px"},children:SD(_.username)}),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)"},children:_.username}),_.bio&&c.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.bio})]})]})}),c.jsx("td",{style:{padding:"12px",fontSize:"13px",color:"var(--text-secondary)"},children:_.email}),c.jsx("td",{style:{padding:"12px"},children:c.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:600,backgroundColor:_.onlineStatus==="online"?"rgba(16, 185, 129, 0.15)":_.onlineStatus==="away"?"rgba(245, 158, 11, 0.15)":"rgba(107, 114, 128, 0.15)",color:_.onlineStatus==="online"?"#10b981":_.onlineStatus==="away"?"#f59e0b":"#6b7280"},children:_.onlineStatus})}),c.jsx("td",{style:{padding:"12px",textAlign:"center"},children:c.jsx("button",{onClick:()=>S(_.id,_.username),style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s"},onMouseEnter:k=>{k.currentTarget.style.opacity="0.9",k.currentTarget.style.transform="scale(1.05)"},onMouseLeave:k=>{k.currentTarget.style.opacity="1",k.currentTarget.style.transform="scale(1)"},children:" Delete"})})]},_.id))})]})})]})]}),c.jsxs("div",{className:R.modalFooter,children:[c.jsx("button",{onClick:x,className:R.secondaryButton,disabled:d,children:" Refresh"}),c.jsx("button",{onClick:n,className:R.primaryButton,children:"Close"})]})]})}):null};class $i extends Error{constructor(n,i){const o=new.target.prototype;super(`${n}: Status code '${i}'`),this.statusCode=i,this.__proto__=o}}class Gp extends Error{constructor(n="A timeout occurred."){const i=new.target.prototype;super(n),this.__proto__=i}}class ra extends Error{constructor(n="An abort occurred."){const i=new.target.prototype;super(n),this.__proto__=i}}class wD extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.transport=i,this.errorType="UnsupportedTransportError",this.__proto__=o}}class CD extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.transport=i,this.errorType="DisabledTransportError",this.__proto__=o}}class TD extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.transport=i,this.errorType="FailedToStartTransportError",this.__proto__=o}}class Ex extends Error{constructor(n){const i=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=i}}class jD extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.innerErrors=i,this.__proto__=o}}class dS{constructor(n,i,o){this.statusCode=n,this.statusText=i,this.content=o}}class Dc{get(n,i){return this.send({...i,method:"GET",url:n})}post(n,i){return this.send({...i,method:"POST",url:n})}delete(n,i){return this.send({...i,method:"DELETE",url:n})}getCookieString(n){return""}}var X;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(X||(X={}));class vr{constructor(){}log(n,i){}}vr.instance=new vr;const AD="10.0.0";class Pt{static isRequired(n,i){if(n==null)throw new Error(`The '${i}' argument is required.`)}static isNotEmpty(n,i){if(!n||n.match(/^\s*$/))throw new Error(`The '${i}' argument should not be empty.`)}static isIn(n,i,o){if(!(n in i))throw new Error(`Unknown ${o} value: ${n}.`)}}class St{static get isBrowser(){return!St.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!St.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!St.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function xr(t,n){let i="";return Ki(t)?(i=`Binary data of length ${t.byteLength}`,n&&(i+=`. Content: '${ED(t)}'`)):typeof t=="string"&&(i=`String data of length ${t.length}`,n&&(i+=`. Content: '${t}'`)),i}function ED(t){const n=new Uint8Array(t);let i="";return n.forEach(o=>{const l=o<16?"0":"";i+=`0x${l}${o.toString(16)} `}),i.substring(0,i.length-1)}function Ki(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function fS(t,n,i,o,l,d){const f={},[h,m]=eo();f[h]=m,t.log(X.Trace,`(${n} transport) sending data. ${xr(l,d.logMessageContent)}.`);const y=Ki(l)?"arraybuffer":"text",g=await i.post(o,{content:l,headers:{...f,...d.headers},responseType:y,timeout:d.timeout,withCredentials:d.withCredentials});t.log(X.Trace,`(${n} transport) request complete. Response status: ${g.statusCode}.`)}function kD(t){return t===void 0?new vc(X.Information):t===null?vr.instance:t.log!==void 0?t:new vc(t)}class MD{constructor(n,i){this._subject=n,this._observer=i}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(i=>{})}}class vc{constructor(n){this._minLevel=n,this.out=console}log(n,i){if(n>=this._minLevel){const o=`[${new Date().toISOString()}] ${X[n]}: ${i}`;switch(n){case X.Critical:case X.Error:this.out.error(o);break;case X.Warning:this.out.warn(o);break;case X.Information:this.out.info(o);break;default:this.out.log(o);break}}}}function eo(){let t="X-SignalR-User-Agent";return St.isNode&&(t="User-Agent"),[t,RD(AD,DD(),UD(),ND())]}function RD(t,n,i,o){let l="Microsoft SignalR/";const d=t.split(".");return l+=`${d[0]}.${d[1]}`,l+=` (${t}; `,n&&n!==""?l+=`${n}; `:l+="Unknown OS; ",l+=`${i}`,o?l+=`; ${o}`:l+="; Unknown Runtime Version",l+=")",l}function DD(){if(St.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function ND(){if(St.isNode)return process.versions.node}function UD(){return St.isNode?"NodeJS":"Browser"}function pf(t){return t.stack?t.stack:t.message?t.message:`${t}`}function zD(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class OD extends Dc{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||St.isNode){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(i("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=i("node-fetch"):this._fetchType=fetch,this._fetchType=i("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(zD());if(typeof AbortController>"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=i("abort-controller")}else this._abortControllerType=AbortController}async send(n){if(n.abortSignal&&n.abortSignal.aborted)throw new ra;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const i=new this._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{i.abort(),o=new ra});let l=null;if(n.timeout){const m=n.timeout;l=setTimeout(()=>{i.abort(),this._logger.log(X.Warning,"Timeout from HTTP request."),o=new Gp},m)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},Ki(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let d;try{d=await this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(m){throw o||(this._logger.log(X.Warning,`Error from HTTP request. ${m}.`),m)}finally{l&&clearTimeout(l),n.abortSignal&&(n.abortSignal.onabort=null)}if(!d.ok){const m=await kx(d,"text");throw new $i(m||d.statusText,d.status)}const h=await kx(d,n.responseType);return new dS(d.status,d.statusText,h)}getCookieString(n){let i="";return St.isNode&&this._jar&&this._jar.getCookies(n,(o,l)=>i=l.join("; ")),i}}function kx(t,n){let i;switch(n){case"arraybuffer":i=t.arrayBuffer();break;case"text":i=t.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:i=t.text();break}return i}class BD extends Dc{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ra):n.method?n.url?new Promise((i,o)=>{const l=new XMLHttpRequest;l.open(n.method,n.url,!0),l.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(Ki(n.content)?l.setRequestHeader("Content-Type","application/octet-stream"):l.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const d=n.headers;d&&Object.keys(d).forEach(f=>{l.setRequestHeader(f,d[f])}),n.responseType&&(l.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{l.abort(),o(new ra)}),n.timeout&&(l.timeout=n.timeout),l.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),l.status>=200&&l.status<300?i(new dS(l.status,l.statusText,l.response||l.responseText)):o(new $i(l.response||l.responseText||l.statusText,l.status))},l.onerror=()=>{this._logger.log(X.Warning,`Error from HTTP request. ${l.status}: ${l.statusText}.`),o(new $i(l.statusText,l.status))},l.ontimeout=()=>{this._logger.log(X.Warning,"Timeout from HTTP request."),o(new Gp)},l.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class LD extends Dc{constructor(n){if(super(),typeof fetch<"u"||St.isNode)this._httpClient=new OD(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new BD(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new ra):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}class In{static write(n){return`${n}${In.RecordSeparator}`}static parse(n){if(n[n.length-1]!==In.RecordSeparator)throw new Error("Message is incomplete.");const i=n.split(In.RecordSeparator);return i.pop(),i}}In.RecordSeparatorCode=30;In.RecordSeparator=String.fromCharCode(In.RecordSeparatorCode);class ID{writeHandshakeRequest(n){return In.write(JSON.stringify(n))}parseHandshakeResponse(n){let i,o;if(Ki(n)){const h=new Uint8Array(n),m=h.indexOf(In.RecordSeparatorCode);if(m===-1)throw new Error("Message is incomplete.");const y=m+1;i=String.fromCharCode.apply(null,Array.prototype.slice.call(h.slice(0,y))),o=h.byteLength>y?h.slice(y).buffer:null}else{const h=n,m=h.indexOf(In.RecordSeparator);if(m===-1)throw new Error("Message is incomplete.");const y=m+1;i=h.substring(0,y),o=h.length>y?h.substring(y):null}const l=In.parse(i),d=JSON.parse(l[0]);if(d.type)throw new Error("Expected a handshake response from the server.");return[o,d]}}var ze;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(ze||(ze={}));class PD{constructor(){this.observers=[]}next(n){for(const i of this.observers)i.next(n)}error(n){for(const i of this.observers)i.error&&i.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new MD(this,n)}}class VD{constructor(n,i,o){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=i,this._bufferSize=o}async _send(n){const i=this._protocol.writeMessage(n);let o=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let l=()=>{},d=()=>{};Ki(i)?this._bufferedByteCount+=i.byteLength:this._bufferedByteCount+=i.length,this._bufferedByteCount>=this._bufferSize&&(o=new Promise((f,h)=>{l=f,d=h})),this._messages.push(new HD(i,this._totalMessageCount,l,d))}try{this._reconnectInProgress||await this._connection.send(i)}catch{this._disconnected()}await o}_ack(n){let i=-1;for(let o=0;o<this._messages.length;o++){const l=this._messages[o];if(l._id<=n.sequenceId)i=o,Ki(l._message)?this._bufferedByteCount-=l._message.byteLength:this._bufferedByteCount-=l._message.length,l._resolver();else if(this._bufferedByteCount<this._bufferSize)l._resolver();else break}i!==-1&&(this._messages=this._messages.slice(i+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==ze.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;const i=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,i<=this._latestReceivedSequenceId?(i===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=i,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:ze.Sequence,sequenceId:n}));const i=this._messages;for(const o of i)await this._connection.send(o._message);this._reconnectInProgress=!1}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(const i of this._messages)i._rejector(n)}_isInvocationMessage(n){switch(n.type){case ze.Invocation:case ze.StreamItem:case ze.Completion:case ze.StreamInvocation:case ze.CancelInvocation:return!0;case ze.Close:case ze.Sequence:case ze.Ping:case ze.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:ze.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class HD{constructor(n,i,o,l){this._message=n,this._id=i,this._resolver=o,this._rejector=l}}const FD=30*1e3,qD=15*1e3,GD=1e5;var at;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(at||(at={}));class $p{static create(n,i,o,l,d,f,h){return new $p(n,i,o,l,d,f,h)}constructor(n,i,o,l,d,f,h){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(X.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Pt.isRequired(n,"connection"),Pt.isRequired(i,"logger"),Pt.isRequired(o,"protocol"),this.serverTimeoutInMilliseconds=d??FD,this.keepAliveIntervalInMilliseconds=f??qD,this._statefulReconnectBufferSize=h??GD,this._logger=i,this._protocol=o,this.connection=n,this._reconnectPolicy=l,this._handshakeProtocol=new ID,this.connection.onreceive=m=>this._processIncomingData(m),this.connection.onclose=m=>this._connectionClosed(m),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=at.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ze.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==at.Disconnected&&this._connectionState!==at.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==at.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=at.Connecting,this._logger.log(X.Debug,"Starting HubConnection.");try{await this._startInternal(),St.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=at.Connected,this._connectionStarted=!0,this._logger.log(X.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=at.Disconnected,this._logger.log(X.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const n=new Promise((i,o)=>{this._handshakeResolver=i,this._handshakeRejecter=o});await this.connection.start(this._protocol.transferFormat);try{let i=this._protocol.version;this.connection.features.reconnect||(i=1);const o={protocol:this._protocol.name,version:i};if(this._logger.log(X.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(o)),this._logger.log(X.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await n,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new VD(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(i){throw this._logger.log(X.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(i),i}}async stop(){const n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await n}catch{}}_stopInternal(n){if(this._connectionState===at.Disconnected)return this._logger.log(X.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===at.Disconnecting)return this._logger.log(X.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const i=this._connectionState;return this._connectionState=at.Disconnecting,this._logger.log(X.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(X.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(i===at.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new ra("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(n,...i){const[o,l]=this._replaceStreamingParams(i),d=this._createStreamInvocation(n,i,l);let f;const h=new PD;return h.cancelCallback=()=>{const m=this._createCancelInvocation(d.invocationId);return delete this._callbacks[d.invocationId],f.then(()=>this._sendWithProtocol(m))},this._callbacks[d.invocationId]=(m,y)=>{if(y){h.error(y);return}else m&&(m.type===ze.Completion?m.error?h.error(new Error(m.error)):h.complete():h.next(m.item))},f=this._sendWithProtocol(d).catch(m=>{h.error(m),delete this._callbacks[d.invocationId]}),this._launchStreams(o,f),h}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...i){const[o,l]=this._replaceStreamingParams(i),d=this._sendWithProtocol(this._createInvocation(n,i,!0,l));return this._launchStreams(o,d),d}invoke(n,...i){const[o,l]=this._replaceStreamingParams(i),d=this._createInvocation(n,i,!1,l);return new Promise((h,m)=>{this._callbacks[d.invocationId]=(g,x)=>{if(x){m(x);return}else g&&(g.type===ze.Completion?g.error?m(new Error(g.error)):h(g.result):m(new Error(`Unexpected message type: ${g.type}`)))};const y=this._sendWithProtocol(d).catch(g=>{m(g),delete this._callbacks[d.invocationId]});this._launchStreams(o,y)})}on(n,i){!n||!i||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(i)===-1&&this._methods[n].push(i))}off(n,i){if(!n)return;n=n.toLowerCase();const o=this._methods[n];if(o)if(i){const l=o.indexOf(i);l!==-1&&(o.splice(l,1),o.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const i=this._protocol.parseMessages(n,this._logger);for(const o of i)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(o)))switch(o.type){case ze.Invocation:this._invokeClientMethod(o).catch(l=>{this._logger.log(X.Error,`Invoke client method threw error: ${pf(l)}`)});break;case ze.StreamItem:case ze.Completion:{const l=this._callbacks[o.invocationId];if(l){o.type===ze.Completion&&delete this._callbacks[o.invocationId];try{l(o)}catch(d){this._logger.log(X.Error,`Stream callback threw error: ${pf(d)}`)}}break}case ze.Ping:break;case ze.Close:{this._logger.log(X.Information,"Close message received from server.");const l=o.error?new Error("Server returned an error on close: "+o.error):void 0;o.allowReconnect===!0?this.connection.stop(l):this._stopPromise=this._stopInternal(l);break}case ze.Ack:this._messageBuffer&&this._messageBuffer._ack(o);break;case ze.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(o);break;default:this._logger.log(X.Warning,`Invalid message type: ${o.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let i,o;try{[o,i]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(l){const d="Error parsing handshake response: "+l;this._logger.log(X.Error,d);const f=new Error(d);throw this._handshakeRejecter(f),f}if(i.error){const l="Server returned handshake error: "+i.error;this._logger.log(X.Error,l);const d=new Error(l);throw this._handshakeRejecter(d),d}else this._logger.log(X.Debug,"Server handshake complete.");return this._handshakeResolver(),o}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let n=this._nextKeepAlive-new Date().getTime();if(n<0){this._connectionState===at.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(n<0&&(n=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===at.Connected&&await this._trySendPingMessage()},n))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(n){const i=n.target.toLowerCase(),o=this._methods[i];if(!o){this._logger.log(X.Warning,`No client method with the name '${i}' found.`),n.invocationId&&(this._logger.log(X.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}const l=o.slice(),d=!!n.invocationId;let f,h,m;for(const y of l)try{const g=f;f=await y.apply(this,n.arguments),d&&f&&g&&(this._logger.log(X.Error,`Multiple results provided for '${i}'. Sending error to server.`),m=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),h=void 0}catch(g){h=g,this._logger.log(X.Error,`A callback for the method '${i}' threw error '${g}'.`)}m?await this._sendWithProtocol(m):d?(h?m=this._createCompletionMessage(n.invocationId,`${h}`,null):f!==void 0?m=this._createCompletionMessage(n.invocationId,null,f):(this._logger.log(X.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),m=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(m)):f&&this._logger.log(X.Error,`Result given for '${i}' method but server is not expecting a result.`)}_connectionClosed(n){this._logger.log(X.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new ra("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===at.Disconnecting?this._completeClose(n):this._connectionState===at.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===at.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=at.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),St.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(i=>i.apply(this,[n]))}catch(i){this._logger.log(X.Error,`An onclose callback called with error '${n}' threw error '${i}'.`)}}}async _reconnect(n){const i=Date.now();let o=0,l=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),d=this._getNextRetryDelay(o,0,l);if(d===null){this._logger.log(X.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=at.Reconnecting,n?this._logger.log(X.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(X.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(f=>f.apply(this,[n]))}catch(f){this._logger.log(X.Error,`An onreconnecting callback called with error '${n}' threw error '${f}'.`)}if(this._connectionState!==at.Reconnecting){this._logger.log(X.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;d!==null;){if(this._logger.log(X.Information,`Reconnect attempt number ${o+1} will start in ${d} ms.`),await new Promise(f=>{this._reconnectDelayHandle=setTimeout(f,d)}),this._reconnectDelayHandle=void 0,this._connectionState!==at.Reconnecting){this._logger.log(X.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=at.Connected,this._logger.log(X.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(f=>f.apply(this,[this.connection.connectionId]))}catch(f){this._logger.log(X.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${f}'.`)}return}catch(f){if(this._logger.log(X.Information,`Reconnect attempt failed because of error '${f}'.`),this._connectionState!==at.Reconnecting){this._logger.log(X.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===at.Disconnecting&&this._completeClose();return}o++,l=f instanceof Error?f:new Error(f.toString()),d=this._getNextRetryDelay(o,Date.now()-i,l)}}this._logger.log(X.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${o} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(n,i,o){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:i,previousRetryCount:n,retryReason:o})}catch(l){return this._logger.log(X.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${i}) threw error '${l}'.`),null}}_cancelCallbacksWithError(n){const i=this._callbacks;this._callbacks={},Object.keys(i).forEach(o=>{const l=i[o];try{l(null,n)}catch(d){this._logger.log(X.Error,`Stream 'error' callback called with '${n}' threw error: ${pf(d)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,i,o,l){if(o)return l.length!==0?{target:n,arguments:i,streamIds:l,type:ze.Invocation}:{target:n,arguments:i,type:ze.Invocation};{const d=this._invocationId;return this._invocationId++,l.length!==0?{target:n,arguments:i,invocationId:d.toString(),streamIds:l,type:ze.Invocation}:{target:n,arguments:i,invocationId:d.toString(),type:ze.Invocation}}}_launchStreams(n,i){if(n.length!==0){i||(i=Promise.resolve());for(const o in n)n[o].subscribe({complete:()=>{i=i.then(()=>this._sendWithProtocol(this._createCompletionMessage(o)))},error:l=>{let d;l instanceof Error?d=l.message:l&&l.toString?d=l.toString():d="Unknown error",i=i.then(()=>this._sendWithProtocol(this._createCompletionMessage(o,d)))},next:l=>{i=i.then(()=>this._sendWithProtocol(this._createStreamItemMessage(o,l)))}})}}_replaceStreamingParams(n){const i=[],o=[];for(let l=0;l<n.length;l++){const d=n[l];if(this._isObservable(d)){const f=this._invocationId;this._invocationId++,i[f]=d,o.push(f.toString()),n.splice(l,1)}}return[i,o]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,i,o){const l=this._invocationId;return this._invocationId++,o.length!==0?{target:n,arguments:i,invocationId:l.toString(),streamIds:o,type:ze.StreamInvocation}:{target:n,arguments:i,invocationId:l.toString(),type:ze.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:ze.CancelInvocation}}_createStreamItemMessage(n,i){return{invocationId:n,item:i,type:ze.StreamItem}}_createCompletionMessage(n,i,o){return i?{error:i,invocationId:n,type:ze.Completion}:{invocationId:n,result:o,type:ze.Completion}}_createCloseMessage(){return{type:ze.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const $D=[0,2e3,1e4,3e4,null];class Mx{constructor(n){this._retryDelays=n!==void 0?[...n,null]:$D}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}class Yi{}Yi.Authorization="Authorization";Yi.Cookie="Cookie";class YD extends Dc{constructor(n,i){super(),this._innerClient=n,this._accessTokenFactory=i}async send(n){let i=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(i=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(n);const o=await this._innerClient.send(n);return i&&o.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(n),await this._innerClient.send(n)):o}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Yi.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Yi.Authorization]&&delete n.headers[Yi.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}var jt;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(jt||(jt={}));var ln;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(ln||(ln={}));let XD=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Rx{get pollAborted(){return this._pollAbort.aborted}constructor(n,i,o){this._httpClient=n,this._logger=i,this._pollAbort=new XD,this._options=o,this._running=!1,this.onreceive=null,this.onclose=null}async connect(n,i){if(Pt.isRequired(n,"url"),Pt.isRequired(i,"transferFormat"),Pt.isIn(i,ln,"transferFormat"),this._url=n,this._logger.log(X.Trace,"(LongPolling transport) Connecting."),i===ln.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,l]=eo(),d={[o]:l,...this._options.headers},f={abortSignal:this._pollAbort.signal,headers:d,timeout:1e5,withCredentials:this._options.withCredentials};i===ln.Binary&&(f.responseType="arraybuffer");const h=`${n}&_=${Date.now()}`;this._logger.log(X.Trace,`(LongPolling transport) polling: ${h}.`);const m=await this._httpClient.get(h,f);m.statusCode!==200?(this._logger.log(X.Error,`(LongPolling transport) Unexpected response code: ${m.statusCode}.`),this._closeError=new $i(m.statusText||"",m.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,f)}async _poll(n,i){try{for(;this._running;)try{const o=`${n}&_=${Date.now()}`;this._logger.log(X.Trace,`(LongPolling transport) polling: ${o}.`);const l=await this._httpClient.get(o,i);l.statusCode===204?(this._logger.log(X.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):l.statusCode!==200?(this._logger.log(X.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new $i(l.statusText||"",l.statusCode),this._running=!1):l.content?(this._logger.log(X.Trace,`(LongPolling transport) data received. ${xr(l.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(l.content)):this._logger.log(X.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){this._running?o instanceof Gp?this._logger.log(X.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=o,this._running=!1):this._logger.log(X.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{this._logger.log(X.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(n){return this._running?fS(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(X.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(X.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const n={},[i,o]=eo();n[i]=o;const l={headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let d;try{await this._httpClient.delete(this._url,l)}catch(f){d=f}d?d instanceof $i&&(d.statusCode===404?this._logger.log(X.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(X.Trace,`(LongPolling transport) Error sending a DELETE request: ${d}`)):this._logger.log(X.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(X.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(X.Trace,n),this.onclose(this._closeError)}}}class WD{constructor(n,i,o,l){this._httpClient=n,this._accessToken=i,this._logger=o,this._options=l,this.onreceive=null,this.onclose=null}async connect(n,i){return Pt.isRequired(n,"url"),Pt.isRequired(i,"transferFormat"),Pt.isIn(i,ln,"transferFormat"),this._logger.log(X.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((o,l)=>{let d=!1;if(i!==ln.Text){l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let f;if(St.isBrowser||St.isWebWorker)f=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{const h=this._httpClient.getCookieString(n),m={};m.Cookie=h;const[y,g]=eo();m[y]=g,f=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:{...m,...this._options.headers}})}try{f.onmessage=h=>{if(this.onreceive)try{this._logger.log(X.Trace,`(SSE transport) data received. ${xr(h.data,this._options.logMessageContent)}.`),this.onreceive(h.data)}catch(m){this._close(m);return}},f.onerror=h=>{d?this._close():l(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},f.onopen=()=>{this._logger.log(X.Information,`SSE connected to ${this._url}`),this._eventSource=f,d=!0,o()}}catch(h){l(h);return}})}async send(n){return this._eventSource?fS(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class KD{constructor(n,i,o,l,d,f){this._logger=o,this._accessTokenFactory=i,this._logMessageContent=l,this._webSocketConstructor=d,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=f}async connect(n,i){Pt.isRequired(n,"url"),Pt.isRequired(i,"transferFormat"),Pt.isIn(i,ln,"transferFormat"),this._logger.log(X.Trace,"(WebSockets transport) Connecting.");let o;return this._accessTokenFactory&&(o=await this._accessTokenFactory()),new Promise((l,d)=>{n=n.replace(/^http/,"ws");let f;const h=this._httpClient.getCookieString(n);let m=!1;if(St.isNode||St.isReactNative){const y={},[g,x]=eo();y[g]=x,o&&(y[Yi.Authorization]=`Bearer ${o}`),h&&(y[Yi.Cookie]=h),f=new this._webSocketConstructor(n,void 0,{headers:{...y,...this._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);f||(f=new this._webSocketConstructor(n)),i===ln.Binary&&(f.binaryType="arraybuffer"),f.onopen=y=>{this._logger.log(X.Information,`WebSocket connected to ${n}.`),this._webSocket=f,m=!0,l()},f.onerror=y=>{let g=null;typeof ErrorEvent<"u"&&y instanceof ErrorEvent?g=y.error:g="There was an error with the transport",this._logger.log(X.Information,`(WebSockets transport) ${g}.`)},f.onmessage=y=>{if(this._logger.log(X.Trace,`(WebSockets transport) data received. ${xr(y.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(y.data)}catch(g){this._close(g);return}},f.onclose=y=>{if(m)this._close(y);else{let g=null;typeof ErrorEvent<"u"&&y instanceof ErrorEvent?g=y.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",d(new Error(g))}}})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(X.Trace,`(WebSockets transport) sending data. ${xr(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(X.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}}const Dx=100;class QD{constructor(n,i={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Pt.isRequired(n,"url"),this._logger=kD(i.logger),this.baseUrl=this._resolveUrl(n),i=i||{},i.logMessageContent=i.logMessageContent===void 0?!1:i.logMessageContent,typeof i.withCredentials=="boolean"||i.withCredentials===void 0)i.withCredentials=i.withCredentials===void 0?!0:i.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");i.timeout=i.timeout===void 0?100*1e3:i.timeout;let o=null,l=null;if(St.isNode&&typeof require<"u"){const d=typeof __webpack_require__=="function"?__non_webpack_require__:require;o=d("ws"),l=d("eventsource")}!St.isNode&&typeof WebSocket<"u"&&!i.WebSocket?i.WebSocket=WebSocket:St.isNode&&!i.WebSocket&&o&&(i.WebSocket=o),!St.isNode&&typeof EventSource<"u"&&!i.EventSource?i.EventSource=EventSource:St.isNode&&!i.EventSource&&typeof l<"u"&&(i.EventSource=l),this._httpClient=new YD(i.httpClient||new LD(this._logger),i.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=i,this.onreceive=null,this.onclose=null}async start(n){if(n=n||ln.Binary,Pt.isIn(n,ln,"transferFormat"),this._logger.log(X.Debug,`Starting connection with transfer format '${ln[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),await this._startInternalPromise,this._connectionState==="Disconnecting"){const i="Failed to start the HttpConnection before stop() was called.";return this._logger.log(X.Error,i),await this._stopPromise,Promise.reject(new ra(i))}else if(this._connectionState!=="Connected"){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(X.Error,i),Promise.reject(new ra(i))}this._connectionStarted=!0}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Yp(this.transport)),this._sendQueue.send(n))}async stop(n){if(this._connectionState==="Disconnected")return this._logger.log(X.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(X.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(i=>{this._stopPromiseResolver=i}),await this._stopInternal(n),await this._stopPromise}async _stopInternal(n){this._stopError=n;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(i){this._logger.log(X.Error,`HttpConnection.transport.stop() threw error '${i}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(X.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(n){let i=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===jt.WebSockets)this.transport=this._constructTransport(jt.WebSockets),await this._startTransport(i,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let o=null,l=0;do{if(o=await this._getNegotiationResponse(i),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ra("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(i=o.url),o.accessToken){const d=o.accessToken;this._accessTokenFactory=()=>d,this._httpClient._accessToken=d,this._httpClient._accessTokenFactory=void 0}l++}while(o.url&&l<Dx);if(l===Dx&&o.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(i,this._options.transport,o,n)}this.transport instanceof Rx&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(X.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(o){return this._logger.log(X.Error,"Failed to start the connection: "+o),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(o)}}async _getNegotiationResponse(n){const i={},[o,l]=eo();i[o]=l;const d=this._resolveNegotiateUrl(n);this._logger.log(X.Debug,`Sending negotiation request: ${d}.`);try{const f=await this._httpClient.post(d,{content:"",headers:{...i,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(f.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${f.statusCode}'`));const h=JSON.parse(f.content);return(!h.negotiateVersion||h.negotiateVersion<1)&&(h.connectionToken=h.connectionId),h.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Ex("Client didn't negotiate Stateful Reconnect but the server did.")):h}catch(f){let h="Failed to complete negotiation with the server: "+f;return f instanceof $i&&f.statusCode===404&&(h=h+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(X.Error,h),Promise.reject(new Ex(h))}}_createConnectUrl(n,i){return i?n+(n.indexOf("?")===-1?"?":"&")+`id=${i}`:n}async _createTransport(n,i,o,l){let d=this._createConnectUrl(n,o.connectionToken);if(this._isITransport(i)){this._logger.log(X.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=i,await this._startTransport(d,l),this.connectionId=o.connectionId;return}const f=[],h=o.availableTransports||[];let m=o;for(const y of h){const g=this._resolveTransportOrError(y,i,l,m?.useStatefulReconnect===!0);if(g instanceof Error)f.push(`${y.transport} failed:`),f.push(g);else if(this._isITransport(g)){if(this.transport=g,!m){try{m=await this._getNegotiationResponse(n)}catch(x){return Promise.reject(x)}d=this._createConnectUrl(n,m.connectionToken)}try{await this._startTransport(d,l),this.connectionId=m.connectionId;return}catch(x){if(this._logger.log(X.Error,`Failed to start the transport '${y.transport}': ${x}`),m=void 0,f.push(new TD(`${y.transport} failed: ${x}`,jt[y.transport])),this._connectionState!=="Connecting"){const S="Failed to select transport before stop() was called.";return this._logger.log(X.Debug,S),Promise.reject(new ra(S))}}}}return f.length>0?Promise.reject(new jD(`Unable to connect to the server with any of the available transports. ${f.join(" ")}`,f)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(n){switch(n){case jt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new KD(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case jt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new WD(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case jt.LongPolling:return new Rx(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,i){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async o=>{let l=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(n,i),await this.features.resend()}catch{l=!0}else{this._stopConnection(o);return}l&&this._stopConnection(o)}:this.transport.onclose=o=>this._stopConnection(o),this.transport.connect(n,i)}_resolveTransportOrError(n,i,o,l){const d=jt[n.transport];if(d==null)return this._logger.log(X.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(ZD(i,d))if(n.transferFormats.map(h=>ln[h]).indexOf(o)>=0){if(d===jt.WebSockets&&!this._options.WebSocket||d===jt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(X.Debug,`Skipping transport '${jt[d]}' because it is not supported in your environment.'`),new wD(`'${jt[d]}' is not supported in your environment.`,d);this._logger.log(X.Debug,`Selecting transport '${jt[d]}'.`);try{return this.features.reconnect=d===jt.WebSockets?l:void 0,this._constructTransport(d)}catch(h){return h}}else return this._logger.log(X.Debug,`Skipping transport '${jt[d]}' because it does not support the requested transfer format '${ln[o]}'.`),new Error(`'${jt[d]}' does not support ${ln[o]}.`);else return this._logger.log(X.Debug,`Skipping transport '${jt[d]}' because it was disabled by the client.`),new CD(`'${jt[d]}' is disabled by the client.`,d)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(X.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(X.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(X.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(X.Error,`Connection disconnected with error '${n}'.`):this._logger.log(X.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(i=>{this._logger.log(X.Error,`TransportSendQueue.stop() threw error '${i}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(i){this._logger.log(X.Error,`HttpConnection.onclose(${n}) threw error '${i}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!St.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const i=window.document.createElement("a");return i.href=n,this._logger.log(X.Information,`Normalizing '${n}' to '${i.href}'.`),i.href}_resolveNegotiateUrl(n){const i=new URL(n);i.pathname.endsWith("/")?i.pathname+="negotiate":i.pathname+="/negotiate";const o=new URLSearchParams(i.searchParams);return o.has("negotiateVersion")||o.append("negotiateVersion",this._negotiateVersion.toString()),o.has("useStatefulReconnect")?o.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&o.append("useStatefulReconnect","true"),i.search=o.toString(),i.toString()}}function ZD(t,n){return!t||(n&t)!==0}class Yp{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Xl,this._transportResult=new Xl,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Xl),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Xl;const n=this._transportResult;this._transportResult=void 0;const i=typeof this._buffer[0]=="string"?this._buffer.join(""):Yp._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(i),n.resolve()}catch(o){n.reject(o)}}}static _concatBuffers(n){const i=n.map(d=>d.byteLength).reduce((d,f)=>d+f),o=new Uint8Array(i);let l=0;for(const d of n)o.set(new Uint8Array(d),l),l+=d.byteLength;return o.buffer}}class Xl{constructor(){this.promise=new Promise((n,i)=>[this._resolver,this._rejecter]=[n,i])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}const JD="json";class e3{constructor(){this.name=JD,this.version=2,this.transferFormat=ln.Text}parseMessages(n,i){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];i===null&&(i=vr.instance);const o=In.parse(n),l=[];for(const d of o){const f=JSON.parse(d);if(typeof f.type!="number")throw new Error("Invalid payload.");switch(f.type){case ze.Invocation:this._isInvocationMessage(f);break;case ze.StreamItem:this._isStreamItemMessage(f);break;case ze.Completion:this._isCompletionMessage(f);break;case ze.Ping:break;case ze.Close:break;case ze.Ack:this._isAckMessage(f);break;case ze.Sequence:this._isSequenceMessage(f);break;default:i.log(X.Information,"Unknown message type '"+f.type+"' ignored.");continue}l.push(f)}return l}writeMessage(n){return In.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,i){if(typeof n!="string"||n==="")throw new Error(i)}}const t3={trace:X.Trace,debug:X.Debug,info:X.Information,information:X.Information,warn:X.Warning,warning:X.Warning,error:X.Error,critical:X.Critical,none:X.None};function n3(t){const n=t3[t.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${t}`)}class a3{configureLogging(n){if(Pt.isRequired(n,"logging"),i3(n))this.logger=n;else if(typeof n=="string"){const i=n3(n);this.logger=new vc(i)}else this.logger=new vc(n);return this}withUrl(n,i){return Pt.isRequired(n,"url"),Pt.isNotEmpty(n,"url"),this.url=n,typeof i=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...i}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:i},this}withHubProtocol(n){return Pt.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new Mx(n):this.reconnectPolicy=n:this.reconnectPolicy=new Mx,this}withServerTimeout(n){return Pt.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return Pt.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n?.bufferSize,this}build(){const n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const i=new QD(this.url,n);return $p.create(i,this.logger||vr.instance,this.protocol||new e3,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function i3(t){return t.log!==void 0}class s3{connection=null;eventHandlers={};reconnectAttempts=0;maxReconnectAttempts=5;isManualDisconnect=!1;constructor(){const i="https://your-domain.com/api".replace("/api","/hubs/chat");this.connection=new a3().withUrl(i,{accessTokenFactory:()=>localStorage.getItem("token")||"",skipNegotiation:!1,withCredentials:!0,transport:jt.WebSockets|jt.ServerSentEvents|jt.LongPolling}).withAutomaticReconnect({nextRetryDelayInMilliseconds:o=>o.previousRetryCount>=this.maxReconnectAttempts?null:Math.min(1e3*Math.pow(2,o.previousRetryCount),32e3)}).configureLogging(X.Information).build(),this.setupConnectionHandlers(),this.setupEventListeners()}setupConnectionHandlers(){this.connection&&(this.connection.onreconnecting(n=>{console.warn("SignalR reconnecting...",n),this.reconnectAttempts++}),this.connection.onreconnected(n=>{console.log("SignalR reconnected:",n),this.reconnectAttempts=0,this.rejoinChats()}),this.connection.onclose(n=>{console.error("SignalR connection closed:",n),!this.isManualDisconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>this.start(),5e3)}))}setupEventListeners(){this.connection&&(this.connection.on("UserOnline",n=>{console.log("[SignalR] UserOnline event received:",n),this.eventHandlers.onUserOnline?.(n)}),this.connection.on("UserOffline",n=>{console.log("[SignalR] UserOffline event received:",n),this.eventHandlers.onUserOffline?.(n)}),this.connection.on("ReceiveMessage",n=>{this.eventHandlers.onReceiveMessage?.(n)}),this.connection.on("MessageEdited",n=>{this.eventHandlers.onMessageEdited?.(n)}),this.connection.on("MessageDeleted",n=>{this.eventHandlers.onMessageDeleted?.(n)}),this.connection.on("ReactionAdded",n=>{console.log("[SignalR] ReactionAdded event received:",n),this.eventHandlers.onReactionAdded?.(n)}),this.connection.on("ReactionRemoved",n=>{console.log("[SignalR] ReactionRemoved event received:",n),this.eventHandlers.onReactionRemoved?.(n)}),this.connection.on("UserTyping",n=>{this.eventHandlers.onUserTyping?.(n)}),this.connection.on("UserStoppedTyping",n=>{this.eventHandlers.onUserStoppedTyping?.(n)}),this.connection.on("NewNotification",n=>{this.eventHandlers.onNewNotification?.(n)}),this.connection.on("NotificationsMarkedSeen",n=>{this.eventHandlers.onNotificationsMarkedSeen?.(n)}),this.connection.on("MessagePinned",n=>{this.eventHandlers.onMessagePinned?.(n)}),this.connection.on("MessageUnpinned",n=>{this.eventHandlers.onMessageUnpinned?.(n)}),this.connection.on("AddedToChat",n=>{console.log("[SignalR] AddedToChat:",n),this.eventHandlers.onAddedToChat?.(n)}),this.connection.on("NewConversation",n=>{console.log("[SignalR] NewConversation:",n),this.eventHandlers.onNewConversation?.(n)}),this.connection.on("ConversationCreated",n=>{console.log("[SignalR] ConversationCreated:",n),this.eventHandlers.onConversationCreated?.(n)}),this.connection.on("PermissionGranted",n=>{console.log("[SignalR] PermissionGranted:",n),this.eventHandlers.onPermissionGranted?.(n)}),this.connection.on("PermissionRevoked",n=>{console.log("[SignalR] PermissionRevoked:",n),this.eventHandlers.onPermissionRevoked?.(n)}),this.connection.on("AllPermissionsRevoked",n=>{console.log("[SignalR] AllPermissionsRevoked:",n),this.eventHandlers.onAllPermissionsRevoked?.(n)}),this.connection.on("UserBlockedYou",n=>{console.log("[SignalR] UserBlockedYou:",n),this.eventHandlers.onUserBlockedYou?.(n)}),this.connection.on("YouBlockedUser",n=>{console.log("[SignalR] YouBlockedUser:",n),this.eventHandlers.onYouBlockedUser?.(n)}),this.connection.on("UserUnblockedYou",n=>{console.log("[SignalR] UserUnblockedYou:",n),this.eventHandlers.onUserUnblockedYou?.(n)}),this.connection.on("YouUnblockedUser",n=>{console.log("[SignalR] YouUnblockedUser:",n),this.eventHandlers.onYouUnblockedUser?.(n)}),this.connection.on("ChatDeleted",n=>{console.log("[SignalR] ChatDeleted:",n),this.eventHandlers.onChatDeleted?.(n)}),this.connection.on("RemovedFromChat",n=>{console.log("[SignalR] RemovedFromChat:",n),this.eventHandlers.onRemovedFromChat?.(n)}),this.connection.on("Error",n=>{console.error("SignalR Error:",n),this.eventHandlers.onError?.(n)}))}setEventHandlers(n){this.eventHandlers={...this.eventHandlers,...n}}async start(){if(this.connection)try{this.connection.state===at.Disconnected&&(this.isManualDisconnect=!1,await this.connection.start(),console.log("SignalR Connected:",this.connection.connectionId))}catch(n){throw console.error("Error starting SignalR connection:",n),n}}async getPresenceStates(n){if(!this.connection||this.connection.state!==at.Connected)return console.warn("Cannot fetch presence states: not connected"),{};try{const i=await this.connection.invoke("GetPresenceStates",n);return console.log(`Fetched initial presence states for ${n.length} users`),i}catch(i){return console.error("Error fetching presence states:",i),{}}}async stop(){if(this.connection)try{this.isManualDisconnect=!0,await this.connection.stop(),console.log("SignalR Disconnected")}catch(n){console.error("Error stopping SignalR connection:",n)}}getConnectionState(){return this.connection?.state||at.Disconnected}isConnected(){return this.connection?.state===at.Connected}activeChats=new Set;async joinChat(n){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("JoinChat",n),this.activeChats.add(n),console.log("Joined chat:",n)}catch(i){throw console.error("Error joining chat:",i),i}}async leaveChat(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("LeaveChat",n),this.activeChats.delete(n),console.log("Left chat:",n)}catch(i){console.error("Error leaving chat:",i)}}async rejoinChats(){const n=Array.from(this.activeChats);for(const i of n)try{await this.connection?.invoke("JoinChat",i)}catch(o){console.error("Error rejoining chat:",i,o)}}async sendMessage(n,i,o=null,l=null){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("SendMessage",{chatId:n,content:i,receiverId:o,replyId:l})}catch(d){throw console.error("Error sending message:",d),d}}async editMessage(n,i,o){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("EditMessage",n,i,o)}catch(l){throw console.error("Error editing message:",l),l}}async deleteMessage(n,i){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("DeleteMessage",n,i)}catch(o){throw console.error("Error deleting message:",o),o}}async addReaction(n,i,o){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("AddReaction",n,i,o)}catch(l){throw console.error("Error adding reaction:",l),l}}async removeReaction(n,i){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("RemoveReaction",n,i)}catch(o){throw console.error("Error removing reaction:",o),o}}async sendTyping(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("Typing",n)}catch(i){console.error("Error sending typing indicator:",i)}}async sendStopTyping(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("StopTyping",n)}catch(i){console.error("Error sending stop typing indicator:",i)}}async markNotificationsAsSeen(n){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("MarkAsSeen",n)}catch(i){throw console.error("Error marking notifications as seen:",i),i}}}const Ze=new s3,Jf=Object.freeze(Object.defineProperty({__proto__:null,signalRService:Ze},Symbol.toStringTag,{value:"Module"})),o3=t=>{const[n,i]=w.useState(Ze.getConnectionState()),[o,l]=w.useState(Ze.isConnected());return w.useEffect(()=>{const d=setInterval(()=>{i(Ze.getConnectionState()),l(Ze.isConnected())},1e3);return()=>clearInterval(d)},[t]),{connectionState:n,isConnected:o,joinChat:Ze.joinChat.bind(Ze),leaveChat:Ze.leaveChat.bind(Ze),sendMessage:Ze.sendMessage.bind(Ze),editMessage:Ze.editMessage.bind(Ze),deleteMessage:Ze.deleteMessage.bind(Ze),addReaction:Ze.addReaction.bind(Ze),removeReaction:Ze.removeReaction.bind(Ze),sendTyping:Ze.sendTyping.bind(Ze),sendStopTyping:Ze.sendStopTyping.bind(Ze),markNotificationsAsSeen:Ze.markNotificationsAsSeen.bind(Ze),getPresenceStates:Ze.getPresenceStates.bind(Ze)}};var hf={exports:{}},mf,Nx;function r3(){if(Nx)return mf;Nx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mf=t,mf}var gf,Ux;function l3(){if(Ux)return gf;Ux=1;var t=r3();function n(){}function i(){}return i.resetWarningCache=n,gf=function(){function o(f,h,m,y,g,x){if(x!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function l(){return o}var d={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:i,resetWarningCache:n};return d.PropTypes=d,d},gf}var zx;function c3(){return zx||(zx=1,hf.exports=l3()()),hf.exports}var u3=c3();const dt=Jx(u3);function Qi(t,n,i,o){function l(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function h(g){try{y(o.next(g))}catch(x){f(x)}}function m(g){try{y(o.throw(g))}catch(x){f(x)}}function y(g){g.done?d(g.value):l(g.value).then(h,m)}y((o=o.apply(t,n||[])).next())})}const d3=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function to(t,n,i){const o=f3(t),{webkitRelativePath:l}=t,d=typeof n=="string"?n:typeof l=="string"&&l.length>0?l:`./${t.name}`;return typeof o.path!="string"&&Ox(o,"path",d),Ox(o,"relativePath",d),o}function f3(t){const{name:n}=t;if(n&&n.lastIndexOf(".")!==-1&&!t.type){const o=n.split(".").pop().toLowerCase(),l=d3.get(o);l&&Object.defineProperty(t,"type",{value:l,writable:!1,configurable:!1,enumerable:!0})}return t}function Ox(t,n,i){Object.defineProperty(t,n,{value:i,writable:!1,configurable:!1,enumerable:!0})}const p3=[".DS_Store","Thumbs.db"];function h3(t){return Qi(this,void 0,void 0,function*(){return xc(t)&&m3(t.dataTransfer)?x3(t.dataTransfer,t.type):g3(t)?y3(t):Array.isArray(t)&&t.every(n=>"getFile"in n&&typeof n.getFile=="function")?v3(t):[]})}function m3(t){return xc(t)}function g3(t){return xc(t)&&xc(t.target)}function xc(t){return typeof t=="object"&&t!==null}function y3(t){return ep(t.target.files).map(n=>to(n))}function v3(t){return Qi(this,void 0,void 0,function*(){return(yield Promise.all(t.map(i=>i.getFile()))).map(i=>to(i))})}function x3(t,n){return Qi(this,void 0,void 0,function*(){if(t.items){const i=ep(t.items).filter(l=>l.kind==="file");if(n!=="drop")return i;const o=yield Promise.all(i.map(b3));return Bx(pS(o))}return Bx(ep(t.files).map(i=>to(i)))})}function Bx(t){return t.filter(n=>p3.indexOf(n.name)===-1)}function ep(t){if(t===null)return[];const n=[];for(let i=0;i<t.length;i++){const o=t[i];n.push(o)}return n}function b3(t){if(typeof t.webkitGetAsEntry!="function")return Lx(t);const n=t.webkitGetAsEntry();return n&&n.isDirectory?hS(n):Lx(t,n)}function pS(t){return t.reduce((n,i)=>[...n,...Array.isArray(i)?pS(i):[i]],[])}function Lx(t,n){return Qi(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const d=yield t.getAsFileSystemHandle();if(d===null)throw new Error(`${t} is not a File`);if(d!==void 0){const f=yield d.getFile();return f.handle=d,to(f)}}const o=t.getAsFile();if(!o)throw new Error(`${t} is not a File`);return to(o,(i=n?.fullPath)!==null&&i!==void 0?i:void 0)})}function S3(t){return Qi(this,void 0,void 0,function*(){return t.isDirectory?hS(t):_3(t)})}function hS(t){const n=t.createReader();return new Promise((i,o)=>{const l=[];function d(){n.readEntries(f=>Qi(this,void 0,void 0,function*(){if(f.length){const h=Promise.all(f.map(S3));l.push(h),d()}else try{const h=yield Promise.all(l);i(h)}catch(h){o(h)}}),f=>{o(f)})}d()})}function _3(t){return Qi(this,void 0,void 0,function*(){return new Promise((n,i)=>{t.file(o=>{const l=to(o,t.fullPath);n(l)},o=>{i(o)})})})}var Wl={},Ix;function w3(){return Ix||(Ix=1,Wl.__esModule=!0,Wl.default=function(t,n){if(t&&n){var i=Array.isArray(n)?n:n.split(",");if(i.length===0)return!0;var o=t.name||"",l=(t.type||"").toLowerCase(),d=l.replace(/\/.*$/,"");return i.some(function(f){var h=f.trim().toLowerCase();return h.charAt(0)==="."?o.toLowerCase().endsWith(h):h.endsWith("/*")?d===h.replace(/\/.*$/,""):l===h})}return!0}),Wl}var C3=w3();const yf=Jx(C3);function Px(t){return A3(t)||j3(t)||gS(t)||T3()}function T3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A3(t){if(Array.isArray(t))return tp(t)}function Vx(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),i.push.apply(i,o)}return i}function Hx(t){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Vx(Object(i),!0).forEach(function(o){mS(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Vx(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}function mS(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function br(t,n){return M3(t)||k3(t,n)||gS(t,n)||E3()}function E3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gS(t,n){if(t){if(typeof t=="string")return tp(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tp(t,n)}}function tp(t,n){(n==null||n>t.length)&&(n=t.length);for(var i=0,o=new Array(n);i<n;i++)o[i]=t[i];return o}function k3(t,n){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o=[],l=!0,d=!1,f,h;try{for(i=i.call(t);!(l=(f=i.next()).done)&&(o.push(f.value),!(n&&o.length===n));l=!0);}catch(m){d=!0,h=m}finally{try{!l&&i.return!=null&&i.return()}finally{if(d)throw h}}return o}}function M3(t){if(Array.isArray(t))return t}var R3=typeof yf=="function"?yf:yf.default,D3="file-invalid-type",N3="file-too-large",U3="file-too-small",z3="too-many-files",O3=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=n.split(","),o=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:D3,message:"File type must be ".concat(o)}},Fx=function(n){return{code:N3,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},qx=function(n){return{code:U3,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},B3={code:z3,message:"Too many files"};function yS(t,n){var i=t.type==="application/x-moz-file"||R3(t,n);return[i,i?null:O3(n)]}function vS(t,n,i){if(Ii(t.size))if(Ii(n)&&Ii(i)){if(t.size>i)return[!1,Fx(i)];if(t.size<n)return[!1,qx(n)]}else{if(Ii(n)&&t.size<n)return[!1,qx(n)];if(Ii(i)&&t.size>i)return[!1,Fx(i)]}return[!0,null]}function Ii(t){return t!=null}function L3(t){var n=t.files,i=t.accept,o=t.minSize,l=t.maxSize,d=t.multiple,f=t.maxFiles,h=t.validator;return!d&&n.length>1||d&&f>=1&&n.length>f?!1:n.every(function(m){var y=yS(m,i),g=br(y,1),x=g[0],S=vS(m,o,l),C=br(S,1),_=C[0],k=h?h(m):null;return x&&_&&!k})}function bc(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Kl(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Gx(t){t.preventDefault()}function I3(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function P3(t){return t.indexOf("Edge/")!==-1}function V3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return I3(t)||P3(t)}function ga(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(o){for(var l=arguments.length,d=new Array(l>1?l-1:0),f=1;f<l;f++)d[f-1]=arguments[f];return n.some(function(h){return!bc(o)&&h&&h.apply(void 0,[o].concat(d)),bc(o)})}}function H3(){return"showOpenFilePicker"in window}function F3(t){if(Ii(t)){var n=Object.entries(t).filter(function(i){var o=br(i,2),l=o[0],d=o[1],f=!0;return xS(l)||(console.warn('Skipped "'.concat(l,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(d)||!d.every(bS))&&(console.warn('Skipped "'.concat(l,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(i,o){var l=br(o,2),d=l[0],f=l[1];return Hx(Hx({},i),{},mS({},d,f))},{});return[{description:"Files",accept:n}]}return t}function q3(t){if(Ii(t))return Object.entries(t).reduce(function(n,i){var o=br(i,2),l=o[0],d=o[1];return[].concat(Px(n),[l],Px(d))},[]).filter(function(n){return xS(n)||bS(n)}).join(",")}function G3(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function $3(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function xS(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function bS(t){return/^.*\.[\w]+$/.test(t)}var Y3=["children"],X3=["open"],W3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],K3=["refKey","onChange","onClick"];function Q3(t){return eN(t)||J3(t)||SS(t)||Z3()}function Z3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eN(t){if(Array.isArray(t))return np(t)}function vf(t,n){return aN(t)||nN(t,n)||SS(t,n)||tN()}function tN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SS(t,n){if(t){if(typeof t=="string")return np(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return np(t,n)}}function np(t,n){(n==null||n>t.length)&&(n=t.length);for(var i=0,o=new Array(n);i<n;i++)o[i]=t[i];return o}function nN(t,n){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o=[],l=!0,d=!1,f,h;try{for(i=i.call(t);!(l=(f=i.next()).done)&&(o.push(f.value),!(n&&o.length===n));l=!0);}catch(m){d=!0,h=m}finally{try{!l&&i.return!=null&&i.return()}finally{if(d)throw h}}return o}}function aN(t){if(Array.isArray(t))return t}function $x(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),i.push.apply(i,o)}return i}function bt(t){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?$x(Object(i),!0).forEach(function(o){ap(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$x(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}function ap(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function Sc(t,n){if(t==null)return{};var i=iN(t,n),o,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(l=0;l<d.length;l++)o=d[l],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}function iN(t,n){if(t==null)return{};var i={},o=Object.keys(t),l,d;for(d=0;d<o.length;d++)l=o[d],!(n.indexOf(l)>=0)&&(i[l]=t[l]);return i}var Xp=w.forwardRef(function(t,n){var i=t.children,o=Sc(t,Y3),l=wS(o),d=l.open,f=Sc(l,X3);return w.useImperativeHandle(n,function(){return{open:d}},[d]),ya.createElement(w.Fragment,null,i(bt(bt({},f),{},{open:d})))});Xp.displayName="Dropzone";var _S={disabled:!1,getFilesFromEvent:h3,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Xp.defaultProps=_S;Xp.propTypes={children:dt.func,accept:dt.objectOf(dt.arrayOf(dt.string)),multiple:dt.bool,preventDropOnDocument:dt.bool,noClick:dt.bool,noKeyboard:dt.bool,noDrag:dt.bool,noDragEventsBubbling:dt.bool,minSize:dt.number,maxSize:dt.number,maxFiles:dt.number,disabled:dt.bool,getFilesFromEvent:dt.func,onFileDialogCancel:dt.func,onFileDialogOpen:dt.func,useFsAccessApi:dt.bool,autoFocus:dt.bool,onDragEnter:dt.func,onDragLeave:dt.func,onDragOver:dt.func,onDrop:dt.func,onDropAccepted:dt.func,onDropRejected:dt.func,onError:dt.func,validator:dt.func};var ip={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function wS(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=bt(bt({},_S),t),i=n.accept,o=n.disabled,l=n.getFilesFromEvent,d=n.maxSize,f=n.minSize,h=n.multiple,m=n.maxFiles,y=n.onDragEnter,g=n.onDragLeave,x=n.onDragOver,S=n.onDrop,C=n.onDropAccepted,_=n.onDropRejected,k=n.onFileDialogCancel,j=n.onFileDialogOpen,N=n.useFsAccessApi,I=n.autoFocus,M=n.preventDropOnDocument,O=n.noClick,P=n.noKeyboard,Q=n.noDrag,ne=n.noDragEventsBubbling,W=n.onError,ce=n.validator,se=w.useMemo(function(){return q3(i)},[i]),Ee=w.useMemo(function(){return F3(i)},[i]),qe=w.useMemo(function(){return typeof j=="function"?j:Yx},[j]),de=w.useMemo(function(){return typeof k=="function"?k:Yx},[k]),je=w.useRef(null),Oe=w.useRef(null),U=w.useReducer(sN,ip),ee=vf(U,2),ie=ee[0],ye=ee[1],ke=ie.isFocused,pe=ie.isFileDialogActive,Re=w.useRef(typeof window<"u"&&window.isSecureContext&&N&&H3()),Se=function(){!Re.current&&pe&&setTimeout(function(){if(Oe.current){var Z=Oe.current.files;Z.length||(ye({type:"closeDialog"}),de())}},300)};w.useEffect(function(){return window.addEventListener("focus",Se,!1),function(){window.removeEventListener("focus",Se,!1)}},[Oe,pe,de,Re]);var J=w.useRef([]),ue=function(Z){je.current&&je.current.contains(Z.target)||(Z.preventDefault(),J.current=[])};w.useEffect(function(){return M&&(document.addEventListener("dragover",Gx,!1),document.addEventListener("drop",ue,!1)),function(){M&&(document.removeEventListener("dragover",Gx),document.removeEventListener("drop",ue))}},[je,M]),w.useEffect(function(){return!o&&I&&je.current&&je.current.focus(),function(){}},[je,I,o]);var oe=w.useCallback(function(A){W?W(A):console.error(A)},[W]),Qt=w.useCallback(function(A){A.preventDefault(),A.persist(),ft(A),J.current=[].concat(Q3(J.current),[A.target]),Kl(A)&&Promise.resolve(l(A)).then(function(Z){if(!(bc(A)&&!ne)){var he=Z.length,Te=he>0&&L3({files:Z,accept:se,minSize:f,maxSize:d,multiple:h,maxFiles:m,validator:ce}),q=he>0&&!Te;ye({isDragAccept:Te,isDragReject:q,isDragActive:!0,type:"setDraggedFiles"}),y&&y(A)}}).catch(function(Z){return oe(Z)})},[l,y,oe,ne,se,f,d,h,m,ce]),Nt=w.useCallback(function(A){A.preventDefault(),A.persist(),ft(A);var Z=Kl(A);if(Z&&A.dataTransfer)try{A.dataTransfer.dropEffect="copy"}catch{}return Z&&x&&x(A),!1},[x,ne]),yn=w.useCallback(function(A){A.preventDefault(),A.persist(),ft(A);var Z=J.current.filter(function(Te){return je.current&&je.current.contains(Te)}),he=Z.indexOf(A.target);he!==-1&&Z.splice(he,1),J.current=Z,!(Z.length>0)&&(ye({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kl(A)&&g&&g(A))},[je,g,ne]),We=w.useCallback(function(A,Z){var he=[],Te=[];A.forEach(function(q){var Je=yS(q,se),ct=vf(Je,2),pt=ct[0],$t=ct[1],Yt=vS(q,f,d),kt=vf(Yt,2),xn=kt[0],Vt=kt[1],yi=ce?ce(q):null;if(pt&&xn&&!yi)he.push(q);else{var vi=[$t,Vt];yi&&(vi=vi.concat(yi)),Te.push({file:q,errors:vi.filter(function(Zi){return Zi})})}}),(!h&&he.length>1||h&&m>=1&&he.length>m)&&(he.forEach(function(q){Te.push({file:q,errors:[B3]})}),he.splice(0)),ye({acceptedFiles:he,fileRejections:Te,isDragReject:Te.length>0,type:"setFiles"}),S&&S(he,Te,Z),Te.length>0&&_&&_(Te,Z),he.length>0&&C&&C(he,Z)},[ye,h,se,f,d,m,S,C,_,ce]),qt=w.useCallback(function(A){A.preventDefault(),A.persist(),ft(A),J.current=[],Kl(A)&&Promise.resolve(l(A)).then(function(Z){bc(A)&&!ne||We(Z,A)}).catch(function(Z){return oe(Z)}),ye({type:"reset"})},[l,We,oe,ne]),wt=w.useCallback(function(){if(Re.current){ye({type:"openDialog"}),qe();var A={multiple:h,types:Ee};window.showOpenFilePicker(A).then(function(Z){return l(Z)}).then(function(Z){We(Z,null),ye({type:"closeDialog"})}).catch(function(Z){G3(Z)?(de(Z),ye({type:"closeDialog"})):$3(Z)?(Re.current=!1,Oe.current?(Oe.current.value=null,Oe.current.click()):oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):oe(Z)});return}Oe.current&&(ye({type:"openDialog"}),qe(),Oe.current.value=null,Oe.current.click())},[ye,qe,de,N,We,oe,Ee,h]),Gt=w.useCallback(function(A){!je.current||!je.current.isEqualNode(A.target)||(A.key===" "||A.key==="Enter"||A.keyCode===32||A.keyCode===13)&&(A.preventDefault(),wt())},[je,wt]),Et=w.useCallback(function(){ye({type:"focus"})},[]),dn=w.useCallback(function(){ye({type:"blur"})},[]),on=w.useCallback(function(){O||(V3()?setTimeout(wt,0):wt())},[O,wt]),vn=function(Z){return o?null:Z},Zt=function(Z){return P?null:vn(Z)},rn=function(Z){return Q?null:vn(Z)},ft=function(Z){ne&&Z.stopPropagation()},ta=w.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=A.refKey,he=Z===void 0?"ref":Z,Te=A.role,q=A.onKeyDown,Je=A.onFocus,ct=A.onBlur,pt=A.onClick,$t=A.onDragEnter,Yt=A.onDragOver,kt=A.onDragLeave,xn=A.onDrop,Vt=Sc(A,W3);return bt(bt(ap({onKeyDown:Zt(ga(q,Gt)),onFocus:Zt(ga(Je,Et)),onBlur:Zt(ga(ct,dn)),onClick:vn(ga(pt,on)),onDragEnter:rn(ga($t,Qt)),onDragOver:rn(ga(Yt,Nt)),onDragLeave:rn(ga(kt,yn)),onDrop:rn(ga(xn,qt)),role:typeof Te=="string"&&Te!==""?Te:"presentation"},he,je),!o&&!P?{tabIndex:0}:{}),Vt)}},[je,Gt,Et,dn,on,Qt,Nt,yn,qt,P,Q,o]),ca=w.useCallback(function(A){A.stopPropagation()},[]),$=w.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=A.refKey,he=Z===void 0?"ref":Z,Te=A.onChange,q=A.onClick,Je=Sc(A,K3),ct=ap({accept:se,multiple:h,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:vn(ga(Te,qt)),onClick:vn(ga(q,ca)),tabIndex:-1},he,Oe);return bt(bt({},ct),Je)}},[Oe,i,h,qt,o]);return bt(bt({},ie),{},{isFocused:ke&&!o,getRootProps:ta,getInputProps:$,rootRef:je,inputRef:Oe,open:vn(wt)})}function sN(t,n){switch(n.type){case"focus":return bt(bt({},t),{},{isFocused:!0});case"blur":return bt(bt({},t),{},{isFocused:!1});case"openDialog":return bt(bt({},ip),{},{isFileDialogActive:!0});case"closeDialog":return bt(bt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return bt(bt({},t),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return bt(bt({},t),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return bt({},ip);default:return t}}function Yx(){}const Xx=5*1024*1024,oN=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],rN=t=>oN.includes(t.type)?t.size>Xx?{valid:!1,error:`File too large. Maximum size is ${CS(Xx)}.`}:{valid:!0}:{valid:!1,error:"Invalid file type. Please upload an image (PNG, JPG, GIF, or WEBP)."},CS=t=>{if(t===0)return"0 Bytes";const n=1024,i=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(n));return`${Math.round(t/Math.pow(n,o)*100)/100} ${i[o]}`},lN=t=>new Promise((n,i)=>{const o=new FileReader;o.onloadend=()=>{typeof o.result=="string"?n(o.result):i(new Error("Failed to read file"))},o.onerror=()=>{i(new Error("Error reading file"))},o.readAsDataURL(t)}),Wp=({onFileAccepted:t,currentPreview:n,maxSize:i=5*1024*1024,label:o="Upload Image",helperText:l="Drag and drop an image here, or click to browse",disabled:d=!1})=>{const[f,h]=w.useState(n||null),[m,y]=w.useState(null),[g,x]=w.useState(!1),S=w.useCallback(async I=>{y(null),x(!0);const M=I[0];if(!M){x(!1);return}const O=rN(M);if(!O.valid){y(O.error||"Invalid file"),x(!1);return}try{const P=await lN(M);h(P),t(M)}catch(P){y("Failed to process image"),console.error("Error processing image:",P)}finally{x(!1)}},[t]),{getRootProps:C,getInputProps:_,isDragActive:k,isDragReject:j}=wS({onDrop:S,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"]},maxSize:i,multiple:!1,disabled:d||g}),N=I=>{I.stopPropagation(),h(null),y(null)};return c.jsxs("div",{style:{width:"100%"},children:[o&&c.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:600,color:"var(--text)"},children:o}),c.jsxs("div",{...C(),style:{border:`2px dashed ${m||j?"#ff6b6b":k?"var(--accent)":"var(--border)"}`,borderRadius:"12px",padding:f?"0":"32px",textAlign:"center",cursor:d||g?"not-allowed":"pointer",transition:"all 0.3s ease",backgroundColor:k?"var(--background)":f?"transparent":"var(--surface)",position:"relative",opacity:d||g?.6:1},children:[c.jsx("input",{..._()}),f?c.jsxs("div",{style:{position:"relative"},children:[c.jsx("img",{src:f,alt:"Preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"10px"}}),!d&&c.jsx("button",{onClick:N,"aria-label":"Remove image",style:{position:"absolute",top:"8px",right:"8px",background:"rgba(0, 0, 0, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease",fontSize:"20px",fontWeight:300,lineHeight:1},onMouseEnter:I=>{I.currentTarget.style.background="rgba(0, 0, 0, 0.9)"},onMouseLeave:I=>{I.currentTarget.style.background="rgba(0, 0, 0, 0.7)"},children:""}),c.jsxs("div",{style:{position:"absolute",bottom:"8px",right:"8px",background:"rgba(76, 175, 80, 0.9)",color:"white",padding:"4px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx($_,{size:14}),"Image selected"]})]}):c.jsxs("div",{children:[c.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:g?c.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid var(--border)",borderTop:"4px solid var(--accent)",borderRadius:"50%",animation:"spin 1s linear infinite"}}):j||m?c.jsx(pi,{size:48,color:"#ff6b6b"}):c.jsx(Y_,{size:48,color:k?"var(--accent)":"var(--text-muted)"})}),g?c.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:600,color:"var(--text)"},children:"Processing..."}):c.jsxs(c.Fragment,{children:[c.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:600,color:k?"var(--accent)":"var(--text)"},children:j?"Invalid file type":k?"Drop image here":l}),c.jsxs("p",{style:{margin:0,fontSize:"12px",color:"var(--text-muted)"},children:["PNG, JPG, GIF or WEBP (max ",CS(i),")"]})]})]})]}),m&&c.jsxs("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"6px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(pi,{size:16,color:"#ff6b6b"}),c.jsx("span",{style:{fontSize:"13px",color:"#c33"},children:m})]}),c.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},cN={sm:8,md:10,lg:12},Wx={scale:[1,1.2,1],opacity:[1,.8,1]},uN={boxShadow:["0 0 0 0 rgba(34, 197, 94, 0.4)","0 0 0 4px rgba(34, 197, 94, 0.2)","0 0 0 0 rgba(34, 197, 94, 0)"]},sp=({isOnline:t,size:n="sm",showLabel:i=!1,lastSeen:o,position:l="standalone",className:d=""})=>{const f=cN[n],y={width:f,height:f,backgroundColor:t?"var(--online-color, #22c55e)":"var(--offline-color, #94a3b8)",borderRadius:"50%"};return l==="avatar-overlay"?c.jsx(mn.div,{className:d,style:{...y,position:"absolute",bottom:0,right:0,border:"2px solid var(--surface)",boxShadow:t?"0 0 8px rgba(34, 197, 94, 0.5)":"none"},animate:t?{...Wx,...uN}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},title:t?"Online":o?`Last seen ${kf(o)}`:"Offline"}):c.jsxs("div",{className:d,style:{display:"flex",alignItems:"center",gap:i?"6px":"0"},children:[c.jsx(mn.div,{style:{...y,flexShrink:0,boxShadow:t?"0 0 8px rgba(34, 197, 94, 0.5)":"none"},animate:t?Wx:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),i&&c.jsx(mn.span,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{duration:.2},style:{fontSize:"13px",color:t?"var(--online-color, #22c55e)":"var(--text-muted)",whiteSpace:"nowrap",fontWeight:t?500:400},children:t?"Online":o?`Last seen ${kf(o)}`:"Offline"})]})},Kx=[],Kp=t=>{const n=Ue(h=>h.permissionsLoading),i=Ue(h=>h.currentChat),o=gt(h=>h.user),l=Ue(h=>t?h.chatPermissions.get(t)??Kx:Kx),d=(()=>{if(!t||!i||!o)return!1;if(i.createdById===o.id)return!0;const m=i.members?.find(y=>y.userId===o.id)?.role?.toLowerCase();return m==="admin"||m==="owner"})(),f=h=>d?!0:l.includes(h);return i?.type==="dm"?{canSendMessage:!0,canAddUsers:!1,canPinMessages:!0,canManageMessages:!1,canManageBans:!1,canManageChatInfo:!1,canManageUsers:!1,isLoading:!1}:t?{canSendMessage:f("SendMessage"),canAddUsers:f("AddUsers"),canPinMessages:f("PinMessages"),canManageMessages:f("ManageMessages"),canManageBans:f("ManageBans"),canManageChatInfo:f("ManageChatInfo"),canManageUsers:f("ManageUsers"),isLoading:n}:{canSendMessage:!1,canAddUsers:!1,canPinMessages:!1,canManageMessages:!1,canManageBans:!1,canManageChatInfo:!1,canManageUsers:!1,isLoading:!1}},dN="_overlay_oomqs_47",fN="_fadeIn_oomqs_1",pN="_closing_oomqs_63",hN="_fadeOut_oomqs_1",mN="_modal_oomqs_68",gN="_slideUp_oomqs_1",yN="_slideDown_oomqs_1",vN="_header_oomqs_87",xN="_headerContent_oomqs_96",bN="_headerIcon_oomqs_102",SN="_title_oomqs_114",_N="_subtitle_oomqs_121",wN="_closeBtn_oomqs_127",CN="_content_oomqs_150",TN="_userCard_oomqs_174",jN="_userAvatar_oomqs_185",AN="_userInfo_oomqs_207",EN="_userName_oomqs_212",kN="_userRole_oomqs_219",MN="_roleBadge_oomqs_224",RN="_admin_oomqs_233",DN="_moderator_oomqs_238",NN="_member_oomqs_243",UN="_permissionStats_oomqs_248",zN="_statNumber_oomqs_256",ON="_statLabel_oomqs_262",BN="_loadingState_oomqs_268",LN="_loadingSpinner_oomqs_273",IN="_spin_oomqs_277",PN="_skeletonList_oomqs_288",VN="_skeletonItem_oomqs_294",HN="_skeletonIcon_oomqs_303",FN="_shimmer_oomqs_1",qN="_skeletonText_oomqs_312",GN="_skeletonLine_oomqs_316",$N="_skeletonToggle_oomqs_329",YN="_permissionsList_oomqs_339",XN="_category_oomqs_346",WN="_categoryHeader_oomqs_350",KN="_categoryLabel_oomqs_358",QN="_categoryCount_oomqs_366",ZN="_categoryItems_oomqs_372",JN="_permissionItem_oomqs_379",e4="_granted_oomqs_395",t4="_updating_oomqs_405",n4="_permissionIcon_oomqs_410",a4="_permissionInfo_oomqs_428",i4="_permissionLabel_oomqs_433",s4="_permissionDescription_oomqs_440",o4="_toggleSwitch_oomqs_447",r4="_toggleTrack_oomqs_457",l4="_on_oomqs_466",c4="_toggleThumb_oomqs_470",u4="_footer_oomqs_496",d4="_footerInfo_oomqs_505",f4="_doneButton_oomqs_517",Ce={overlay:dN,fadeIn:fN,closing:pN,fadeOut:hN,modal:mN,slideUp:gN,slideDown:yN,header:vN,headerContent:xN,headerIcon:bN,title:SN,subtitle:_N,closeBtn:wN,content:CN,userCard:TN,userAvatar:jN,userInfo:AN,userName:EN,userRole:kN,roleBadge:MN,admin:RN,moderator:DN,member:NN,permissionStats:UN,statNumber:zN,statLabel:ON,loadingState:BN,loadingSpinner:LN,spin:IN,skeletonList:PN,skeletonItem:VN,skeletonIcon:HN,shimmer:FN,skeletonText:qN,skeletonLine:GN,skeletonToggle:$N,permissionsList:YN,category:XN,categoryHeader:WN,categoryLabel:KN,categoryCount:QN,categoryItems:ZN,permissionItem:JN,granted:e4,updating:t4,permissionIcon:n4,permissionInfo:a4,permissionLabel:i4,permissionDescription:s4,toggleSwitch:o4,toggleTrack:r4,on:l4,toggleThumb:c4,footer:u4,footerInfo:d4,doneButton:f4},Ql=[{name:"SendMessage",label:"Send Messages",description:"Allow sending messages in this chat",icon:c.jsx(X_,{size:18}),category:"messaging"},{name:"ManageMessages",label:"Manage Messages",description:"Edit or delete messages from other users",icon:c.jsx(_f,{size:18}),category:"moderation"},{name:"AddUsers",label:"Add Users",description:"Invite new members to this chat",icon:c.jsx(tb,{size:18}),category:"management"},{name:"ManageUsers",label:"Manage Users",description:"Remove members and manage their roles",icon:c.jsx(dr,{size:18}),category:"management"},{name:"ManageChatInfo",label:"Manage Chat Info",description:"Edit chat name, description, and avatar",icon:c.jsx(_f,{size:18}),category:"management"},{name:"ManageBans",label:"Manage Bans",description:"Ban or unban users from this chat",icon:c.jsx($s,{size:18}),category:"moderation"},{name:"PinMessages",label:"Pin Messages",description:"Pin important messages for all members",icon:c.jsx(wf,{size:18}),category:"messaging"}],xf={messaging:{label:"Messaging",order:1},moderation:{label:"Moderation",order:2},management:{label:"Management",order:3}},TS=({isOpen:t,onClose:n,chatId:i,member:o,onPermissionsChanged:l})=>{const[d,f]=w.useState([]),[h,m]=w.useState(!1),[y,g]=w.useState(null),[x,S]=w.useState(!1);w.useEffect(()=>{t&&(C(),S(!1))},[t,i,o.userId]);const C=async()=>{m(!0);try{const{permissionService:P}=await it(async()=>{const{permissionService:ce}=await import("./permission.service-CWz96ix8.js");return{permissionService:ce}},__vite__mapDeps([0,1,2])),Q=await P.getUserPermissions(i,o.userId),ne=Q?.permissions||Q,W=Array.isArray(ne)?ne.map(ce=>ce.permissionName||ce.name||ce):[];f(W)}catch(P){console.error("Failed to load permissions:",P),f([])}finally{m(!1)}},_=async P=>{const Q=d.includes(P);g(P);const W=gt.getState().user?.id===o.userId;try{const{permissionService:ce}=await it(async()=>{const{permissionService:se}=await import("./permission.service-CWz96ix8.js");return{permissionService:se}},__vite__mapDeps([0,1,2]));Q?(await ce.revokePermission(i,o.userId,P),f(d.filter(se=>se!==P)),W&&Ue.getState().revokePermission(i,P),le.success(`Revoked "${Ql.find(se=>se.name===P)?.label}" permission`)):(await ce.grantPermission(i,o.userId,P),f([...d,P]),W&&Ue.getState().grantPermission(i,P),le.success(`Granted "${Ql.find(se=>se.name===P)?.label}" permission`)),await l()}catch(ce){console.error("Failed to update permission:",ce),le.error(De(ce,"Failed to update permission"))}finally{g(null)}},k=()=>{S(!0),setTimeout(()=>{n(),S(!1)},200)};if(!t)return null;const j=P=>P.slice(0,2).toUpperCase(),N=Ql.reduce((P,Q)=>(P[Q.category]||(P[Q.category]=[]),P[Q.category].push(Q),P),{}),I=Object.entries(N).sort(([P],[Q])=>xf[P].order-xf[Q].order),M=d.length,O=Ql.length;return c.jsx("div",{className:`${Ce.overlay} ${x?Ce.closing:""}`,onClick:k,children:c.jsxs("div",{className:`${Ce.modal} ${x?Ce.closing:""}`,onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:Ce.header,children:[c.jsxs("div",{className:Ce.headerContent,children:[c.jsx("div",{className:Ce.headerIcon,children:c.jsx(Ks,{size:20})}),c.jsxs("div",{children:[c.jsx("h2",{className:Ce.title,children:"Manage Permissions"}),c.jsx("p",{className:Ce.subtitle,children:"Configure access for this member"})]})]}),c.jsx("button",{onClick:k,className:Ce.closeBtn,"aria-label":"Close",children:""})]}),c.jsxs("div",{className:Ce.content,children:[c.jsxs("div",{className:Ce.userCard,children:[c.jsx("div",{className:Ce.userAvatar,children:o.user.avatarUrl?c.jsx("img",{src:o.user.avatarUrl,alt:o.user.username}):j(o.user.username)}),c.jsxs("div",{className:Ce.userInfo,children:[c.jsx("div",{className:Ce.userName,children:o.user.username}),c.jsx("div",{className:Ce.userRole,children:c.jsx("span",{className:`${Ce.roleBadge} ${Ce[o.role]}`,children:o.role.charAt(0).toUpperCase()+o.role.slice(1)})})]}),c.jsxs("div",{className:Ce.permissionStats,children:[c.jsx("div",{className:Ce.statNumber,children:M}),c.jsxs("div",{className:Ce.statLabel,children:["of ",O]})]})]}),h?c.jsxs("div",{className:Ce.loadingState,children:[c.jsx("div",{className:Ce.loadingSpinner,children:c.jsx(uc,{size:32,className:Ce.spin})}),c.jsx("p",{children:"Loading permissions..."}),c.jsx("div",{className:Ce.skeletonList,children:[1,2,3,4].map(P=>c.jsxs("div",{className:Ce.skeletonItem,children:[c.jsx("div",{className:Ce.skeletonIcon}),c.jsxs("div",{className:Ce.skeletonText,children:[c.jsx("div",{className:Ce.skeletonLine,style:{width:"60%"}}),c.jsx("div",{className:Ce.skeletonLine,style:{width:"80%"}})]}),c.jsx("div",{className:Ce.skeletonToggle})]},P))})]}):c.jsx("div",{className:Ce.permissionsList,children:I.map(([P,Q],ne)=>c.jsxs("div",{className:Ce.category,style:{animationDelay:`${ne*.1}s`},children:[c.jsxs("div",{className:Ce.categoryHeader,children:[c.jsx("span",{className:Ce.categoryLabel,children:xf[P].label}),c.jsxs("span",{className:Ce.categoryCount,children:[Q.filter(W=>d.includes(W.name)).length," / ",Q.length]})]}),c.jsx("div",{className:Ce.categoryItems,children:Q.map((W,ce)=>{const se=d.includes(W.name),Ee=y===W.name;return c.jsxs("div",{className:`${Ce.permissionItem} ${se?Ce.granted:""} ${Ee?Ce.updating:""}`,style:{animationDelay:`${ne*.1+ce*.05}s`},children:[c.jsx("div",{className:Ce.permissionIcon,children:W.icon}),c.jsxs("div",{className:Ce.permissionInfo,children:[c.jsx("div",{className:Ce.permissionLabel,children:W.label}),c.jsx("div",{className:Ce.permissionDescription,children:W.description})]}),c.jsx("button",{className:`${Ce.toggleSwitch} ${se?Ce.on:Ce.off}`,onClick:()=>_(W.name),disabled:Ee,children:c.jsx("div",{className:Ce.toggleTrack,children:c.jsx("div",{className:Ce.toggleThumb,children:Ee&&c.jsx(uc,{size:12,className:Ce.spin})})})})]},W.name)})})]},P))})]}),c.jsxs("div",{className:Ce.footer,children:[c.jsxs("div",{className:Ce.footerInfo,children:[c.jsx(Ks,{size:14}),c.jsx("span",{children:"Changes take effect immediately"})]}),c.jsx("button",{onClick:k,className:Ce.doneButton,children:"Done"})]})]})})},p4=({isOpen:t,onClose:n,chat:i,currentUserId:o,onEditGroup:l,onDeleteGroup:d,onLeaveGroup:f,onKickMember:h,onViewUserProfile:m,onBanMember:y,onUpdatePrivacy:g})=>{const[x,S]=w.useState(null),[C,_]=w.useState(!1),[k,j]=w.useState(null),[N,I]=w.useState(""),[M,O]=w.useState([]),[P,Q]=w.useState(!1),[ne,W]=w.useState(""),[ce,se]=w.useState([]),[Ee,qe]=w.useState(!1),[de,je]=w.useState(!1),[Oe,U]=w.useState(!1),[ee,ie]=w.useState(!1),[ye,ke]=w.useState(!1),[pe,Re]=w.useState([]),[Se,J]=w.useState(!1),{isUserOnline:ue,getUserLastSeen:oe,loadChats:Qt,setInitialPresenceStates:Nt}=Ue(),We=x?.members.find(q=>q.userId===o)?.role==="admin",{canAddUsers:qt,canManageChatInfo:wt,canManageBans:Gt,canManageUsers:Et}=Kp(i?.id);w.useEffect(()=>{t&&i.id&&(U(!1),ie(!1),dn())},[t,i.id]);const dn=async()=>{_(!0),j(null);try{const q=await Ve.getChatProfile(i.id);S(q);const Je=q.members?.map(ct=>ct.userId)||[];if(Je.length>0)try{const ct=await Ze.getPresenceStates(Je);Object.keys(ct).length>0&&(Nt(ct),ie(!0))}catch(ct){console.error("[GroupProfileModal] Failed to fetch presence states:",ct)}}catch(q){j(q.response?.data?.message||"Failed to load profile")}finally{_(!1)}},on=x?.members.some(q=>q.userId===o),vn=async()=>{if(!(!i||!i.type)){je(!0);try{const q=i.type;await Ve.joinChat(i.id,q),le.success(`Successfully joined the ${q}!`),await Qt(),await dn()}catch(q){console.error("Failed to join:",q),Ef(q)?(U(!0),le.error(ir(q))):le.error(De(q,"Failed to join"))}finally{je(!1)}}},Zt=async()=>{if(!(!i?.id||!We&&!Gt)){J(!0);try{const q=await Ve.getBannedUsers(i.id);Re(q)}catch(q){console.error("[GroupProfileModal] Failed to load banned users:",q),le.error(De(q,"Failed to load banned users"))}finally{J(!1)}}},rn=async(q,Je)=>{if(await Kt({title:"Unban User",message:`Are you sure you want to unban ${Je}? They will be able to rejoin this ${i.type==="channel"?"channel":"group"}.`,confirmText:"Unban",cancelText:"Cancel",variant:"info"}))try{await Ve.unbanUser(i.id,q),le.success(`${Je} has been unbanned`),await Zt()}catch(pt){console.error("[GroupProfileModal] Failed to unban user:",pt),le.error(De(pt,"Failed to unban user"))}};w.useEffect(()=>{ye&&(We||Gt)&&Zt()},[ye,We,Gt]),w.useEffect(()=>{if(!x?.members){O([]);return}if(!N.trim()){O(x.members);return}const q=N.toLowerCase(),Je=x.members.filter(ct=>ct.user.username.toLowerCase().includes(q)||ct.user.email?.toLowerCase().includes(q));O(Je)},[x?.members,N]);const ft=async q=>{if(!h)return;await Kt({title:"Remove Member",message:"Are you sure you want to remove this member from the group?",confirmText:"Remove",cancelText:"Cancel",variant:"danger"})&&h(q)},ta=async q=>{if(W(q),!q.trim()){se([]);return}qe(!0);try{const ct=await(await it(()=>Promise.resolve().then(()=>Ln),void 0).then(Yt=>Yt.userService)).searchUsers(q),pt=new Set(x?.members.map(Yt=>Yt.userId)||[]),$t=ct.filter(Yt=>!pt.has(Yt.id));se($t)}catch(Je){console.error("Failed to search users:",Je)}finally{qe(!1)}},ca=async q=>{if(!(!i||!We&&!qt))try{i.type==="group"?await Ve.addMemberToGroup(i.id,q):i.type==="channel"&&await Ve.addMemberToChannel(i.id,q),le.success("Member added successfully"),Q(!1),W(""),se([]),await dn()}catch(Je){console.error("Failed to add member:",Je),Ef(Je)?le.error("This user is banned from this chat and cannot be added."):le.error(De(Je,"Failed to add member"))}},$=async()=>{if(!f)return;await Kt({title:"Leave Group",message:"Are you sure you want to leave this group? You will lose access to all messages and content.",confirmText:"Leave",cancelText:"Stay",variant:"warning"})&&(f(),n())},A=async()=>{if(!d)return;await Kt({title:"Delete Group",message:"Are you sure you want to delete this group? This action cannot be undone and all messages will be permanently deleted.",confirmText:"Delete Forever",cancelText:"Cancel",variant:"danger"})&&(d(),n())},Z={admin:[],moderator:[],member:[]};M.forEach(q=>{Z[q.role].push(q)});const he=x?.members.filter(q=>ue(q.userId)).length||0,Te=x?.members.length||0;return console.log("[GroupProfileModal] Online count:",he,"Total members:",Te,"Presence loaded:",ee),c.jsxs(c.Fragment,{children:[c.jsx(Ys,{children:t&&c.jsx(mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:c.jsxs(mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},style:{backgroundColor:"var(--surface)",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.2)"},onClick:q=>q.stopPropagation(),children:[c.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("h2",{style:{margin:0,fontSize:"20px",fontWeight:700,color:"var(--text)"},children:[i.type==="channel"?"Channel":"Group"," Profile"]}),c.jsx("button",{onClick:n,"aria-label":"Close",style:{background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"background-color 0.2s",fontSize:"24px",fontWeight:300,lineHeight:1,color:"var(--text)"},onMouseEnter:q=>{q.currentTarget.style.backgroundColor="var(--background)"},onMouseLeave:q=>{q.currentTarget.style.backgroundColor="transparent"},children:""})]}),c.jsxs("div",{style:{overflowY:"auto",flex:1,padding:"20px"},children:[C&&c.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"Loading profile..."}),k&&c.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#ff6b6b"},children:k}),!C&&!k&&x&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[x.avatar?c.jsx("img",{src:x.avatar,alt:x.name,style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"16px"}}):c.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"48px",fontWeight:700,marginBottom:"16px"},children:x.name.charAt(0).toUpperCase()}),c.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:700,color:"var(--text)"},children:x.name}),x.description&&c.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"var(--text-muted)"},children:x.description})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"24px"},children:[c.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[c.jsx(dr,{size:20,color:"var(--text-muted)",style:{marginBottom:"4px"}}),c.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"var(--text)"},children:Te}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Total Members"})]}),c.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[c.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#51cf66",margin:"0 auto 4px auto"}}),c.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#51cf66"},children:he}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Online Now"})]}),c.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[c.jsx(W_,{size:20,color:"var(--text-muted)",style:{marginBottom:"4px"}}),c.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--text)"},children:new Date(x.createdAt).toLocaleDateString()}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Created"})]})]}),x.privacy&&c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:700,color:"var(--text)"},children:"Privacy"}),c.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--text)",marginBottom:"4px"},children:x.privacy==="public"?"Public":"Private"}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:x.privacy==="public"?"Anyone can find and join":"Invite-only membership"})]}),We&&g&&c.jsxs("button",{onClick:async()=>{const q=x.privacy==="public"?"private":"public";await Kt({title:"Change Privacy",message:`Change this ${i?.type||"chat"} to ${q}? ${q==="private"?"Only invited members will be able to join.":"Anyone will be able to find and join."}`,confirmText:"Change",cancelText:"Cancel",variant:"info"})&&g(q)},style:{padding:"8px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600,transition:"opacity 0.2s"},onMouseEnter:q=>{q.currentTarget.style.opacity="0.8"},onMouseLeave:q=>{q.currentTarget.style.opacity="1"},children:["Change to ",x.privacy==="public"?"Private":"Public"]})]})]}),(We||qt||wt)&&c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(We||qt)&&c.jsxs("button",{onClick:()=>Q(!0),style:{flex:1,padding:"10px 16px",backgroundColor:"#51cf66",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[c.jsx(dr,{size:16}),"Add Member"]}),(We||wt)&&l&&c.jsxs("button",{onClick:l,style:{flex:1,padding:"10px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[c.jsx(K_,{size:16}),"Edit ",i.type==="channel"?"Channel":"Group"]}),We&&d&&c.jsxs("button",{onClick:A,style:{padding:"10px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[c.jsx(rp,{size:16}),"Delete"]})]})}),Oe&&c.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",textAlign:"center"},children:[c.jsx($s,{size:32,color:"#ef4444",style:{marginBottom:"8px"}}),c.jsx("h4",{style:{margin:"0 0 8px 0",color:"#ef4444",fontSize:"16px",fontWeight:600},children:"You Are Banned"}),c.jsxs("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"14px"},children:["Sorry, you have been banned from this ",i.type==="channel"?"channel":"group"," and cannot rejoin."]})]}),!on&&!Oe&&x?.privacy==="public"&&c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs("button",{onClick:vn,disabled:de,style:{width:"100%",padding:"12px 16px",backgroundColor:de?"var(--text-muted)":"#51cf66",color:"white",border:"none",borderRadius:"8px",cursor:de?"not-allowed":"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background-color 0.2s"},children:[c.jsx(tb,{size:18}),de?"Joining...":`Join ${i.type==="channel"?"Channel":"Group"}`]})}),!on&&!Oe&&x?.privacy==="private"&&c.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[c.jsx(Ks,{size:24,color:"var(--text-muted)",style:{marginBottom:"8px"}}),c.jsxs("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"14px"},children:["This is a private ",i.type==="channel"?"channel":"group",". You need an invitation to join."]})]}),!We&&on&&f&&c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs("button",{onClick:$,style:{width:"100%",padding:"10px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[c.jsx(nb,{size:16}),"Leave ",i.type==="channel"?"Channel":"Group"]})}),(We||Gt)&&c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs("button",{onClick:()=>ke(!0),style:{width:"100%",padding:"10px 16px",backgroundColor:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background-color 0.2s"},onMouseEnter:q=>{q.currentTarget.style.backgroundColor="var(--border)"},onMouseLeave:q=>{q.currentTarget.style.backgroundColor="var(--background)"},children:[c.jsx($s,{size:16}),"View Banned Users"]})}),c.jsxs("div",{children:[c.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:700,color:"var(--text)"},children:["Members (",Te,")"]}),Te>5&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("input",{type:"text",placeholder:"Search members...",value:N,onChange:q=>I(q.target.value),style:{width:"100%",padding:"10px 16px",backgroundColor:"var(--background)",border:"2px solid var(--border)",borderRadius:"8px",fontSize:"14px",color:"var(--text)",transition:"border-color 0.2s"},onFocus:q=>{q.currentTarget.style.borderColor="var(--accent)"},onBlur:q=>{q.currentTarget.style.borderColor="var(--border)"}}),c.jsxs("div",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:["Showing ",M.length," of ",Te," members"]})]}),Z.admin.length>0&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Admins"}),Z.admin.map(q=>c.jsx(bf,{member:q,currentUserId:o,isAdmin:We,isUserOnline:ue,getUserLastSeen:oe,onViewProfile:m,onKick:ft,onBanMember:y,chatId:i.id,canManageBans:Gt,canManageUsers:Et},q.id))]}),Z.moderator.length>0&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Moderators"}),Z.moderator.map(q=>c.jsx(bf,{member:q,currentUserId:o,isAdmin:We,isUserOnline:ue,getUserLastSeen:oe,onViewProfile:m,onKick:ft,onBanMember:y,chatId:i.id,canManageBans:Gt,canManageUsers:Et},q.id))]}),Z.member.length>0&&c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Members"}),Z.member.map(q=>c.jsx(bf,{member:q,currentUserId:o,isAdmin:We,isUserOnline:ue,getUserLastSeen:oe,onViewProfile:m,onKick:ft,onBanMember:y,chatId:i.id,canManageBans:Gt,canManageUsers:Et},q.id))]})]})]})]})]})})}),c.jsx(Ys,{children:P&&c.jsx(mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},onClick:()=>Q(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"16px"},children:c.jsxs(mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},onClick:q=>q.stopPropagation(),style:{backgroundColor:"var(--surface)",borderRadius:"12px",maxWidth:"500px",width:"100%",padding:"20px",maxHeight:"80vh",overflow:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[c.jsx("h3",{style:{margin:0,color:"var(--text)"},children:"Add Member"}),c.jsx("button",{onClick:()=>Q(!1),"aria-label":"Close",style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:"var(--text-muted)",fontSize:"22px",fontWeight:300,lineHeight:1},children:""})]}),c.jsx("input",{type:"text",placeholder:"Search users...",value:ne,onChange:q=>ta(q.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",backgroundColor:"var(--background)",color:"var(--text)",fontSize:"14px",marginBottom:"16px"},autoFocus:!0}),Ee&&c.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"Searching..."}),!Ee&&ce.length===0&&ne&&c.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"No users found"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ce.map(q=>c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600},children:q.username?.charAt(0).toUpperCase()||"?"}),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,color:"var(--text)"},children:q.username}),q.email&&c.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:q.email})]})]}),c.jsx("button",{onClick:()=>ca(q.id),style:{padding:"8px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:600},children:"Add"})]},q.id))})]})})}),c.jsx(Ys,{children:ye&&c.jsx(mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1002},onClick:()=>ke(!1),children:c.jsxs(mn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:q=>q.stopPropagation(),style:{backgroundColor:"var(--card)",borderRadius:"12px",padding:"24px",width:"100%",maxWidth:"400px",maxHeight:"500px",overflowY:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[c.jsxs("h3",{style:{margin:0,color:"var(--text)",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx($s,{size:20,color:"#ef4444"}),"Banned Users"]}),c.jsx("button",{onClick:()=>ke(!1),"aria-label":"Close",style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:"var(--text-muted)",fontSize:"22px",fontWeight:300,lineHeight:1},children:""})]}),Se&&c.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"Loading banned users..."}),!Se&&pe.length===0&&c.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"No banned users"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:pe.map(q=>c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[q.avatarUrl?c.jsx("img",{src:q.avatarUrl,alt:q.username,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600},children:q.username?.charAt(0).toUpperCase()||"?"}),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500,color:"var(--text)"},children:q.username}),c.jsxs("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:["Banned ",new Date(q.bannedAt).toLocaleDateString()]})]})]}),c.jsx("button",{onClick:()=>rn(q.userId,q.username),style:{padding:"8px 16px",backgroundColor:"#51cf66",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:600},children:"Unban"})]},q.userId))})]})})})]})},bf=({member:t,currentUserId:n,isAdmin:i,isUserOnline:o,getUserLastSeen:l,onViewProfile:d,onKick:f,onBanMember:h,chatId:m,canManageBans:y=!1,canManageUsers:g=!1})=>{const[x,S]=w.useState(!1),[C,_]=w.useState(!1),k=o(t.userId),j=l(t.userId),N=t.userId===n,I=()=>t.role==="admin"?c.jsxs("span",{style:{padding:"3px 8px",backgroundColor:"#fbbf24",color:"#000",borderRadius:"4px",fontSize:"11px",fontWeight:600,display:"inline-flex",alignItems:"center",gap:"4px"},children:[c.jsx(Z_,{size:12}),"Admin"]}):t.role==="moderator"?c.jsxs("span",{style:{padding:"3px 8px",backgroundColor:"#60a5fa",color:"#000",borderRadius:"4px",fontSize:"11px",fontWeight:600,display:"inline-flex",alignItems:"center",gap:"4px"},children:[c.jsx(Ks,{size:12}),"Mod"]}):t.role==="member"?c.jsx("span",{style:{padding:"3px 8px",backgroundColor:"#94a3b8",color:"#fff",borderRadius:"4px",fontSize:"11px",fontWeight:500,display:"inline-flex",alignItems:"center",gap:"4px"},children:"Member"}):null,M=!N&&t.role!=="admin"&&(i||y||g);return c.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",marginBottom:"8px",cursor:d?"pointer":"default",transition:"background-color 0.2s",position:"relative"},onClick:()=>d&&d(t.userId),onMouseEnter:O=>{d&&(O.currentTarget.style.backgroundColor="var(--border)")},onMouseLeave:O=>{O.currentTarget.style.backgroundColor="var(--background)"},children:[c.jsxs("div",{style:{position:"relative",marginRight:"12px"},children:[t.user.avatar?c.jsx("img",{src:t.user.avatar,alt:t.user.username,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:700},children:t.user.username.charAt(0).toUpperCase()}),c.jsx(sp,{isOnline:k,lastSeen:j,size:"sm",position:"avatar-overlay"})]}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"2px"},children:[c.jsxs("span",{style:{fontSize:"14px",fontWeight:600,color:"var(--text)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.user.username,N&&" (You)"]}),I()]}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:k?"Online":j?`Last seen ${kf(j)}`:"Offline"})]}),M&&c.jsxs("div",{style:{position:"relative"},children:[c.jsx("button",{onClick:O=>{O.stopPropagation(),S(!x)},style:{background:"none",border:"none",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"background 0.15s ease"},onMouseEnter:O=>O.currentTarget.style.background="var(--background)",onMouseLeave:O=>O.currentTarget.style.background="none",children:c.jsx(_f,{size:18,color:"var(--text-muted)"})}),c.jsx(Ys,{children:x&&c.jsxs(mn.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.1},style:{position:"absolute",right:0,bottom:"100%",marginBottom:"4px",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",minWidth:"180px",zIndex:1e3,overflow:"hidden"},children:[c.jsx("div",{style:{padding:"10px 12px",borderBottom:"1px solid var(--border)"},children:c.jsxs("span",{style:{fontSize:"11px",fontWeight:600,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Manage ",t.user.username]})}),(i||g)&&c.jsxs("button",{onClick:O=>{O.stopPropagation(),S(!1),_(!0)},style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"13px",fontWeight:500,color:"var(--text)",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.1s ease"},onMouseEnter:O=>O.currentTarget.style.background="var(--background)",onMouseLeave:O=>O.currentTarget.style.background="transparent",children:[c.jsx(Q_,{size:14,color:"var(--text-muted)"}),"Manage Permissions"]}),c.jsxs("div",{style:{borderTop:"1px solid var(--border)"},children:[(i||y)&&h&&c.jsxs("button",{onClick:async O=>{O.stopPropagation(),await Kt({title:"Ban Member",message:`Are you sure you want to ban ${t.user.username}? They will not be able to rejoin this group.`,confirmText:"Ban",cancelText:"Cancel",variant:"danger"})&&h(t.userId),S(!1)},style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"13px",fontWeight:500,color:"#ef4444",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.1s ease"},onMouseEnter:O=>O.currentTarget.style.background="rgba(239, 68, 68, 0.1)",onMouseLeave:O=>O.currentTarget.style.background="transparent",children:[c.jsx(Ks,{size:14}),"Ban Member"]}),i&&f&&c.jsxs("button",{onClick:O=>{O.stopPropagation(),f(t.userId),S(!1)},style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"13px",fontWeight:500,color:"#f97316",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.1s ease"},onMouseEnter:O=>O.currentTarget.style.background="rgba(249, 115, 22, 0.1)",onMouseLeave:O=>O.currentTarget.style.background="transparent",children:[c.jsx(rp,{size:14}),"Remove Member"]})]})]})})]}),c.jsx(TS,{isOpen:C,onClose:()=>_(!1),chatId:m,member:{id:t.id||t.userId||"",userId:t.userId,user:{id:t.user.id||t.userId,username:t.user.username,avatarUrl:t.user.avatar},role:t.role||"member"},onPermissionsChanged:async()=>{}})]})},Qx=({isOpen:t,onClose:n,userId:i,onSendMessage:o,onBlockUser:l,onUnblockUser:d})=>{const[f,h]=w.useState(null),[m,y]=w.useState(!1),[g,x]=w.useState(null),[S,C]=w.useState(!1),[_,k]=w.useState(!1),[j,N]=w.useState(!1),{isUserOnline:I,usersYouBlocked:M,blockedByUsers:O}=Ue();w.useEffect(()=>{t&&i&&(P(),Q())},[t,i]),w.useEffect(()=>{if(!t||!i)return;const de=M.has(i),je=O.has(i);console.log("[UserProfileViewer] Store block status changed:",{userId:i,iBlockedInStore:de,blockedByInStore:je}),de!==S&&C(de),je!==_&&k(je)},[t,i,M,O]);const P=async()=>{y(!0),x(null);try{const de=await Zn.getUserProfile(i);console.log("[UserProfileViewer] Loaded profile:",de),console.log("[UserProfileViewer] Bio field:",de.bio),h(de)}catch(de){console.error("[UserProfileViewer] Error loading profile:",de),x(de.response?.data?.message||"Failed to load user profile")}finally{y(!1)}},Q=async()=>{N(!0);try{const de=await Zn.getMutualBlockStatus(i);console.log("[UserProfileViewer] Block status:",de),C(de.iBlockedThem),k(de.theyBlockedMe)}catch(de){console.error("[UserProfileViewer] Error checking block status:",de),C(!1),k(!1)}finally{N(!1)}},ne=()=>{o&&(o(i),n())},W=async()=>{if(!l)return;await Kt({title:"Block User",message:`Are you sure you want to block ${f?.username||"this user"}? They won't be able to message you.`,confirmText:"Block",cancelText:"Cancel",variant:"danger"})&&(l(i),C(!0))},ce=async()=>{if(!d)return;await Kt({title:"Unblock User",message:`Are you sure you want to unblock ${f?.username||"this user"}? They will be able to message you again.`,confirmText:"Unblock",cancelText:"Cancel",variant:"info"})&&(d(i),C(!1))},se=S||_,Ee=f?I(f.id):!1;return c.jsx(Ys,{children:t&&c.jsxs(mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:[c.jsx("style",{children:`
    .userProfileScrollContainer::-webkit-scrollbar {
      width: 6px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-track {
      background: rgba(99, 102, 241, 0.1);
      border-radius: 3px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
      border-radius: 3px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #764ba2 0%, #667eea 100%);
    }
  `}),c.jsxs(mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},style:{background:"#1e293b",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"400px",width:"100%",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)",overflow:"hidden"},onClick:de=>de.stopPropagation(),children:[c.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#f1f5f9"},children:"User Profile"}),c.jsx("button",{onClick:n,"aria-label":"Close",style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",transition:"color 0.15s ease",fontSize:"24px",fontWeight:300,lineHeight:1},onMouseEnter:de=>de.currentTarget.style.color="#f1f5f9",onMouseLeave:de=>de.currentTarget.style.color="#94a3b8",children:""})]}),c.jsxs("div",{className:"userProfileScrollContainer",style:{overflowY:"auto",flex:1,padding:"24px"},children:[m&&c.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#94a3b8"},children:[c.jsx(mn.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:"40px",height:"40px",border:"3px solid rgba(99, 102, 241, 0.2)",borderTopColor:"#818cf8",borderRadius:"50%",margin:"0 auto 16px"}}),"Loading profile..."]}),g&&c.jsx("div",{style:{textAlign:"center",padding:"60px 20px",color:"#f87171"},children:g}),!m&&!g&&f&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[c.jsxs("div",{style:{position:"relative",display:"inline-block",marginBottom:"16px"},children:[f.avatar?c.jsx("img",{src:f.avatar,alt:f.username,style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid rgba(255, 255, 255, 0.1)"}}):c.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#6366f1",color:"white",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"40px",fontWeight:600},children:f.username.charAt(0).toUpperCase()}),c.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"20px",height:"20px",borderRadius:"50%",background:Ee?"#22c55e":"#64748b",border:"3px solid #1e293b"}})]}),c.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:600,color:"#f1f5f9"},children:f.username}),c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"12px",background:Ee?"rgba(34, 197, 94, 0.15)":"rgba(100, 116, 139, 0.15)"},children:[c.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Ee?"#22c55e":"#64748b"}}),c.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:Ee?"#4ade80":"#94a3b8"},children:Ee?"Online":"Offline"})]})]}),c.jsxs("div",{style:{padding:"14px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",marginBottom:"16px"},children:[c.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"11px",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"About"}),c.jsx("p",{style:{margin:0,fontSize:"14px",color:"#cbd5e1",lineHeight:"1.5"},children:f.bio||c.jsx("span",{style:{color:"#64748b",fontStyle:"italic"},children:"No bio set"})})]}),!j&&(_||S)&&c.jsxs("div",{style:{padding:"12px 14px",background:"rgba(239, 68, 68, 0.1)",borderRadius:"10px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx($s,{size:18,color:"#f87171"}),c.jsx("span",{style:{fontSize:"14px",color:"#f87171"},children:_&&S?"You have blocked each other":_?"This user has blocked you":"You have blocked this user"})]}),c.jsxs("div",{style:{display:"flex",gap:"10px",flexDirection:"column"},children:[o&&c.jsxs("button",{onClick:ne,disabled:se||j,style:{width:"100%",padding:"12px 16px",background:se?"#4b5563":"#6366f1",color:"white",border:"none",borderRadius:"10px",cursor:se?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.15s ease",opacity:se?.6:1},onMouseEnter:de=>{se||(de.currentTarget.style.background="#5558e3")},onMouseLeave:de=>{se||(de.currentTarget.style.background="#6366f1")},children:[c.jsx(J_,{size:18}),se?"Cannot Message":"Send Message"]}),S?d&&c.jsxs("button",{onClick:ce,style:{width:"100%",padding:"12px 16px",background:"rgba(34, 197, 94, 0.1)",color:"#4ade80",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.15s ease"},onMouseEnter:de=>de.currentTarget.style.background="rgba(34, 197, 94, 0.2)",onMouseLeave:de=>de.currentTarget.style.background="rgba(34, 197, 94, 0.1)",children:[c.jsx(ab,{size:18}),"Unblock User"]}):l&&c.jsxs("button",{onClick:W,style:{width:"100%",padding:"12px 16px",background:"rgba(239, 68, 68, 0.1)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.15s ease"},onMouseEnter:de=>de.currentTarget.style.background="rgba(239, 68, 68, 0.2)",onMouseLeave:de=>de.currentTarget.style.background="rgba(239, 68, 68, 0.1)",children:[c.jsx(fr,{size:18}),"Block User"]})]})]})]})]})]})})},h4=({isOpen:t,onClose:n,isDarkMode:i=!1})=>{const[o,l]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState(null);w.useEffect(()=>{t&&y()},[t]);const y=async()=>{f(!0);try{const x=await Zn.getBlockedUsers();l(x||[])}catch(x){console.error("Failed to load blocked users:",x),le.error(De(x,"Failed to load blocked users"))}finally{f(!1)}},g=async x=>{if(await Kt({title:"Unblock User",message:`Are you sure you want to unblock ${x.username}? They will be able to message you again.`,confirmText:"Unblock",cancelText:"Cancel",variant:"warning"})){m(x.userId);try{await Zn.unblockUser(x.userId),l(C=>C.filter(_=>_.userId!==x.userId)),le.success(`${x.username} has been unblocked`)}catch(C){console.error("Failed to unblock user:",C),le.error(De(C,"Failed to unblock user"))}finally{m(null)}}};return t?c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:n,style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9998}}),c.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",maxWidth:"480px",maxHeight:"80vh",backgroundColor:i?"#1e293b":"#ffffff",borderRadius:"16px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",zIndex:9999,display:"flex",flexDirection:"column",overflow:"hidden"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 24px",borderBottom:`1px solid ${i?"#334155":"#e2e8f0"}`},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#dc2626",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(fr,{size:20,color:"white"})}),c.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:700,color:i?"#f1f5f9":"#1e293b"},children:"Blocked Users"})]}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:i?"#94a3b8":"#64748b",transition:"background-color 0.2s"},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=i?"#334155":"#f1f5f9"},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},children:c.jsx(ib,{size:20})})]}),c.jsx("div",{style:{flex:1,overflow:"auto",padding:"16px 24px"},children:d?c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 0",color:i?"#94a3b8":"#64748b"},children:"Loading..."}):o.length===0?c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 0",color:i?"#94a3b8":"#64748b"},children:[c.jsx(fr,{size:48,style:{marginBottom:"16px",opacity:.5}}),c.jsx("p",{style:{margin:0,fontSize:"14px"},children:"You haven't blocked any users"})]}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.map(x=>c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:i?"#334155":"#f8fafc",borderRadius:"12px",border:`1px solid ${i?"#475569":"#e2e8f0"}`},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"50%",overflow:"hidden",flexShrink:0},children:x.avatarUrl?c.jsx("img",{src:hn(x.avatarUrl),alt:x.username,style:{width:"100%",height:"100%",objectFit:"cover"}}):c.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#6366f1",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"16px"},children:Wi(x.username)})}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"15px",fontWeight:600,color:i?"#f1f5f9":"#1e293b",marginBottom:"2px"},children:x.username}),c.jsxs("div",{style:{fontSize:"12px",color:i?"#94a3b8":"#64748b"},children:["Blocked ",new Date(x.blockedAt).toLocaleDateString()]})]}),c.jsxs("button",{onClick:()=>g(x),disabled:h===x.userId,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",backgroundColor:i?"#475569":"#e2e8f0",color:i?"#f1f5f9":"#1e293b",border:"none",borderRadius:"8px",cursor:h===x.userId?"not-allowed":"pointer",fontSize:"13px",fontWeight:600,opacity:h===x.userId?.6:1,transition:"all 0.2s"},onMouseEnter:S=>{h!==x.userId&&(S.currentTarget.style.backgroundColor="#10b981",S.currentTarget.style.color="white")},onMouseLeave:S=>{h!==x.userId&&(S.currentTarget.style.backgroundColor=i?"#475569":"#e2e8f0",S.currentTarget.style.color=i?"#f1f5f9":"#1e293b")},children:[c.jsx(ew,{size:14}),h===x.userId?"Unblocking...":"Unblock"]})]},x.userId))})}),c.jsx("div",{style:{padding:"16px 24px",borderTop:`1px solid ${i?"#334155":"#e2e8f0"}`,display:"flex",justifyContent:"flex-end"},children:c.jsx("button",{onClick:n,style:{padding:"10px 20px",backgroundColor:i?"#334155":"#e2e8f0",color:i?"#f1f5f9":"#1e293b",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,transition:"background-color 0.2s"},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=i?"#475569":"#cbd5e1"},onMouseLeave:x=>{x.currentTarget.style.backgroundColor=i?"#334155":"#e2e8f0"},children:"Close"})})]})]}):null},m4=t=>{if(!t||t==="undefined"||t==="null")return"?";const n=String(t).trim();if(!n||n.length===0)return"?";const i=n.split(/\s+/).filter(o=>o.length>0);return i.length===0?"?":i.length===1?i[0][0]?.toUpperCase()||"?":i.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},rc=({src:t,name:n,fallbackClass:i})=>{const[o,l]=ya.useState(!t),[d,f]=ya.useState(!1);ya.useEffect(()=>{t?(l(!1),f(!1)):l(!0)},[t]);const h=()=>{f(!0),l(!0)};return o||d||!t?c.jsx("div",{className:i,children:m4(n)}):c.jsx("img",{src:t,alt:n,className:i,onError:h,loading:"lazy"})},g4=t=>{if(!t)return"Unknown";try{const n=new Date(t);if(isNaN(n.getTime()))return console.warn("Invalid date string:",t),"Invalid date";const i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()),l=new Date(o);l.setDate(l.getDate()-1);const d=new Date(n.getFullYear(),n.getMonth(),n.getDate());return d.getTime()===o.getTime()?n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):d.getTime()===l.getTime()?"Yesterday":i.getTime()-n.getTime()<10080*60*1e3?n.toLocaleString("en-US",{weekday:"short"}):n.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(n){return console.error("Error formatting time:",n,t),"Invalid date"}},y4=(t,n)=>{if(!t.lastMessage)return{preview:"No messages yet",isReply:!1,hasMention:!1,hasAttachment:!1,isOwnMessage:!1,isSeen:!1};const i=t.lastMessage,o=i.content||"",l=!!i.replyId,d=!!i.fileUrl,f=n?i.senderId===n:!1,h=t.unreadCount===0,m=n?/@\w+/.test(o):!1;let y=o;if(!o&&d&&(y=" Attachment"),t.type!=="dm"&&i.senderUsername){const x=`${i.senderUsername||"Unknown"}: ${y}`;return{preview:x.length>40?x.substring(0,37)+"...":x,isReply:l,hasMention:m,hasAttachment:d,isOwnMessage:f,isSeen:h}}return{preview:y.length>40?y.substring(0,37)+"...":y,isReply:l,hasMention:m,hasAttachment:d,isOwnMessage:f,isSeen:h}},v4=({chats:t,currentChat:n,onSelectChat:i,isLoadingChats:o,user:l,onLogout:d,onMenuOpen:f,searchQuery:h,onSearchChange:m,searchResults:y,onSelectSearchResult:g,isSearching:x,isDarkMode:S,onClearSearch:C,isMobileOpen:_=!1,onMobileClose:k,onlineUsers:j})=>{const N=M=>{if(M.type!=="dm")return!1;if(j&&M.members){const O=M.members.find(P=>P.userId!==l?.id);if(O?.userId&&j.has(O.userId))return j.get(O.userId)||!1}return M.isOnline||!1},I=w.useRef(null);return w.useEffect(()=>{const M=O=>{I.current&&!I.current.contains(O.target)&&C()};return h&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[h,C]),c.jsxs(c.Fragment,{children:[_&&c.jsx("div",{className:R.mobileOverlay,onClick:k,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:99,display:"none"}}),c.jsxs("div",{className:`${R.leftPanel} ${S?R.darkMode:""} ${_?R.mobileOpen:""}`,children:[c.jsx("div",{className:R.panelHeader,children:c.jsx("button",{className:R.menuButton,onClick:f,title:"Settings",style:{background:"transparent",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:S?"#94a3b8":"#64748b",transition:"background 0.15s ease, color 0.15s ease"},onMouseEnter:M=>{M.currentTarget.style.background=S?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",M.currentTarget.style.color=S?"#f1f5f9":"#1e293b"},onMouseLeave:M=>{M.currentTarget.style.background="transparent",M.currentTarget.style.color=S?"#94a3b8":"#64748b"},children:c.jsx(tw,{size:22})})}),c.jsxs("div",{className:R.searchBar,ref:I,children:[c.jsx("input",{type:"text",placeholder:"Search chats, users...",className:R.searchInput,value:h,onChange:M=>m(M.target.value)}),h&&c.jsxs("div",{className:`${R.searchResults} ${S?R.darkMode:""}`,onClick:M=>M.stopPropagation(),children:[x&&c.jsx("div",{className:R.searchLoading,children:"Searching..."}),!x&&y.length===0&&c.jsx("div",{className:R.searchNoResults,children:"No results found"}),y.map(M=>c.jsxs("div",{className:R.searchResultItem,onClick:()=>{g(M),C()},children:[c.jsx("div",{className:R.searchResultAvatar,children:c.jsx(rc,{src:M.avatar,name:M.name,fallbackClass:R.avatarFallback})}),c.jsxs("div",{className:R.searchResultInfo,children:[c.jsxs("div",{className:R.searchResultName,children:[M.name,c.jsx("span",{className:R.searchResultTypeIcon,title:M.type,children:M.type==="user"?" ":M.type==="group"?" ":M.type==="channel"?" ":""})]}),c.jsx("div",{className:R.searchResultType,children:M.type==="user"?"User":M.type==="group"?"Group":M.type==="channel"?"Channel":"Unknown"})]})]},M.id))]})]}),c.jsxs("div",{className:R.chatList,children:[o&&c.jsx("div",{className:R.loading,children:"Loading chats..."}),!o&&t.length===0&&c.jsx("div",{className:R.emptyState,children:"No chats yet. Start a conversation!"}),t.map(M=>c.jsxs("div",{className:`${R.chatItem} ${n?.id===M.id?R.active:""}`,onClick:()=>i(M),children:[c.jsxs("div",{className:R.chatAvatar,children:[c.jsx(rc,{src:M.avatar,name:M.name,fallbackClass:R.avatarFallback}),M.type==="dm"&&N(M)&&c.jsx("div",{className:R.onlineIndicator})]}),c.jsxs("div",{className:R.chatInfo,children:[c.jsxs("div",{className:R.chatHeader,children:[c.jsxs("div",{className:R.chatNameWithType,children:[c.jsx("span",{className:R.chatName,children:M.name}),c.jsx("span",{className:`${R.chatTypeIcon} ${R[`icon${M.type.charAt(0).toUpperCase()+M.type.slice(1)}`]}`,title:M.type,children:M.type==="dm"?"":M.type==="group"?"":M.type==="channel"?"":""})]}),c.jsxs("div",{className:R.headerRight,children:[c.jsx("span",{className:R.timestamp,children:g4(M.updatedAt)}),M.unreadCount>0&&c.jsx("span",{className:R.unreadBadge,children:M.unreadCount})]})]}),c.jsx("div",{className:R.chatPreview,children:(()=>{const O=y4(M,l?.id);return c.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[O.isOwnMessage&&c.jsx("span",{style:{fontSize:"10px",color:"var(--text-secondary)",fontWeight:500,flexShrink:0,opacity:.7},title:"Sent",children:""}),O.isReply&&c.jsx("span",{style:{fontSize:"10px",opacity:.8,flexShrink:0},title:"Reply",children:""}),O.hasMention&&c.jsx("span",{style:{fontSize:"9px",backgroundColor:"var(--accent)",color:"#fff",padding:"1px 4px",borderRadius:"4px",fontWeight:600,flexShrink:0},title:"Mention",children:"@"}),c.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:O.preview})]})})()})]})]},M.id))]}),l&&c.jsxs("div",{className:R.userSection,children:[c.jsx("div",{className:R.userAvatar,children:c.jsx(rc,{src:l.avatar,name:l.username,fallbackClass:R.avatarFallback})}),c.jsx("div",{className:R.userInfo,children:c.jsx("div",{className:R.username,children:l.username})}),c.jsx("button",{className:R.logoutButton,onClick:d,title:"Logout",children:""})]})]})]})},x4="_container_yar5o_1",b4="_header_yar5o_8",S4="_headerLeft_yar5o_24",_4="_pinIcon_yar5o_30",w4="_title_yar5o_34",C4="_count_yar5o_40",T4="_headerRight_yar5o_51",j4="_content_yar5o_57",A4="_loading_yar5o_63",E4="_spinner_yar5o_73",k4="_messagesList_yar5o_82",M4="_pinnedMessage_yar5o_87",R4="_messageAvatar_yar5o_105",D4="_avatarFallback_yar5o_119",N4="_messageContent_yar5o_131",U4="_messageHeader_yar5o_136",z4="_senderName_yar5o_143",O4="_messageTime_yar5o_149",B4="_messageText_yar5o_154",L4="_pinnedBy_yar5o_164",I4="_messageActions_yar5o_173",P4="_jumpButton_yar5o_180",V4="_unpinButton_yar5o_181",vt={container:x4,header:b4,headerLeft:S4,pinIcon:_4,title:w4,count:C4,headerRight:T4,content:j4,loading:A4,spinner:E4,messagesList:k4,pinnedMessage:M4,messageAvatar:R4,avatarFallback:D4,messageContent:N4,messageHeader:U4,senderName:z4,messageTime:O4,messageText:B4,pinnedBy:L4,messageActions:I4,jumpButton:P4,unpinButton:V4},H4=({chatId:t,onJumpToMessage:n,canUnpin:i})=>{const[o,l]=w.useState(!1),[d,f]=w.useState(null),{loadPinnedMessages:h,getPinnedMessages:m,unpinMessage:y,isLoadingPinned:g}=Ue(),x=m(t);w.useEffect(()=>{t&&h(t)},[t,h]);const S=async C=>{f(C);try{await y(C)}catch(_){console.error("Failed to unpin message:",_)}finally{f(null)}};return x.length===0?null:c.jsxs("div",{className:vt.container,children:[c.jsxs("button",{className:vt.header,onClick:()=>l(!o),children:[c.jsxs("div",{className:vt.headerLeft,children:[c.jsx(wf,{size:16,className:vt.pinIcon}),c.jsx("span",{className:vt.title,children:"Pinned Messages"}),c.jsx("span",{className:vt.count,children:x.length})]}),c.jsx("div",{className:vt.headerRight,children:o?c.jsx(nw,{size:18}):c.jsx(aw,{size:18})})]}),o&&c.jsx("div",{className:vt.content,children:g?c.jsxs("div",{className:vt.loading,children:[c.jsx(uc,{size:20,className:vt.spinner}),c.jsx("span",{children:"Loading pinned messages..."})]}):c.jsx("div",{className:vt.messagesList,children:x.map(C=>c.jsxs("div",{className:vt.pinnedMessage,children:[c.jsx("div",{className:vt.messageAvatar,children:C.senderAvatarUrl?c.jsx("img",{src:hn(C.senderAvatarUrl)||C.senderAvatarUrl,alt:C.senderUsername}):c.jsx("div",{className:vt.avatarFallback,children:Wi(C.senderUsername)})}),c.jsxs("div",{className:vt.messageContent,children:[c.jsxs("div",{className:vt.messageHeader,children:[c.jsx("span",{className:vt.senderName,children:C.senderUsername}),c.jsx("span",{className:vt.messageTime,children:kb(C.sentAt)})]}),c.jsx("div",{className:vt.messageText,children:C.content||(C.fileUrl?"[File attachment]":"[Empty message]")}),C.pinnedByUsername&&c.jsxs("div",{className:vt.pinnedBy,children:[c.jsx(wf,{size:12}),c.jsxs("span",{children:["Pinned by ",C.pinnedByUsername]})]})]}),c.jsxs("div",{className:vt.messageActions,children:[c.jsx("button",{className:vt.jumpButton,onClick:()=>n(C.messageId),title:"Jump to message",children:c.jsx(Ws,{size:16})}),i&&c.jsx("button",{className:vt.unpinButton,onClick:()=>S(C.messageId),disabled:d===C.messageId,title:"Unpin message",children:d===C.messageId?c.jsx(uc,{size:16,className:vt.spinner}):c.jsx("span",{style:{fontSize:"18px",fontWeight:300,lineHeight:1},children:""})})]})]},C.messageId))})})]})},F4=({isOpen:t,onClose:n,chatId:i,chatType:o,onMemberAdded:l})=>{const[d,f]=w.useState(""),[h,m]=w.useState([]),[y,g]=w.useState(!1),[x,S]=w.useState(!1),C=w.useRef(null),_=async j=>{if(f(j),!j.trim()){m([]);return}C.current&&clearTimeout(C.current),g(!0),C.current=setTimeout(async()=>{try{const I=await(await it(()=>Promise.resolve().then(()=>Ln),void 0).then(M=>M.userService)).searchUsers(j);m(I)}catch(N){console.error("Search failed:",N),m([])}finally{g(!1)}},300)},k=async(j,N)=>{S(!0);try{o==="group"?await Ve.addMemberToGroup(i,j):o==="channel"&&await Ve.addMemberToChannel(i,j),le.success(`${N} has been added to the chat.`),await l(),n()}catch(I){console.error("Failed to add member:",I),le.error(De(I,"Failed to add member"))}finally{S(!1)}};return t?c.jsx("div",{className:R.modalOverlay,onClick:n,children:c.jsxs("div",{className:R.modal,onClick:j=>j.stopPropagation(),style:{maxWidth:"500px"},children:[c.jsxs("div",{className:R.modalHeader,children:[c.jsx("h2",{children:"Add Member"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),c.jsxs("div",{className:R.modalBody,children:[c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{children:"Search Users"}),c.jsx("input",{type:"text",placeholder:"Type username to search...",value:d,onChange:j=>_(j.target.value),className:R.formInput})]}),y&&c.jsx("div",{className:R.loadingState,children:"Searching..."}),h.length>0&&c.jsx("div",{style:{marginTop:"16px",maxHeight:"300px",overflowY:"auto"},children:h.map(j=>c.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"8px",backgroundColor:"var(--background)",marginBottom:"8px"},children:[c.jsx("div",{style:{marginRight:"10px"},children:j.avatar?c.jsx("img",{src:j.avatar,alt:j.username,style:{width:"32px",height:"32px",borderRadius:"50%"}}):c.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:"13px"},children:Wi(j.username)})}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)"},children:j.username}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:j.email})]}),c.jsx("button",{onClick:()=>k(j.id,j.username),disabled:x,style:{padding:"6px 12px",backgroundColor:"var(--accent)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600},children:"Add"})]},j.id))}),d&&!y&&h.length===0&&c.jsx("div",{className:R.emptyState,children:"No users found"})]}),c.jsx("div",{className:R.modalFooter,children:c.jsx("button",{onClick:n,className:R.primaryButton,children:"Close"})})]})}):null},q4=({currentChat:t,messages:n,isLoadingMessages:i,onSendMessage:o,onOpenGroupCreate:l,onOpenChannelCreate:d,onOpenUserProfile:f,onOpenMobileSidebar:h,onOpenChatProfile:m})=>{const[y,g]=w.useState(""),[x,S]=w.useState(!1),[C,_]=w.useState(null),[k,j]=w.useState(""),[N,I]=w.useState(null),[M,O]=w.useState(!1),[P,Q]=w.useState(null),[ne,W]=w.useState(!1),[ce,se]=w.useState(!1),[Ee,qe]=w.useState(!1),de=w.useRef(null),je=w.useRef(null),Oe=w.useRef(null),[U,ee]=w.useState(null),ie=w.useRef(null),{isUserOnline:ye,getUserLastSeen:ke,getOnlineMembersCount:pe,loadPermissions:Re}=Ue(),{user:Se}=gt(),{canSendMessage:J,canPinMessages:ue,canManageMessages:oe,isLoading:Qt}=Kp(t?.id);w.useEffect(()=>{console.log("[ChatView] Permission useEffect triggered:",{hasChatId:!!t?.id,chatType:t?.type,hasLoadPermissions:typeof Re=="function"}),t&&(t.type==="group"||t.type==="channel")&&(console.log("[ChatView] Calling loadPermissions for chat:",t.id),Re(t.id))},[t?.id,Re]),w.useEffect(()=>{(async()=>{if(console.log("[ChatView] checkBlockStatus called:",{hasCurrent:!!t,type:t?.type,hasUser:!!Se,members:t?.members?.map(Z=>({id:Z.id,odUserId:Z.userId}))}),!t||t.type!=="dm"||!Se){W(!1),se(!1);return}const A=t.members?.find(Z=>(Z.userId||Z.id)!==Se.id);if(console.log("[ChatView] otherMember found:",A,"using userId:",A?.userId,"or id:",A?.id),!A){W(!1),se(!1);return}qe(!0);try{const{userService:Z}=await it(async()=>{const{userService:Je}=await Promise.resolve().then(()=>Ln);return{userService:Je}},void 0),he=A.userId||A.id;console.log("[ChatView] Checking mutual block status for user:",he);const{iBlockedThem:Te,theyBlockedMe:q}=await Z.getMutualBlockStatus(he);console.log("[ChatView] Block status result:",{iBlockedThem:Te,theyBlockedMe:q}),se(Te),W(q)}catch(Z){console.error("Failed to check block status:",Z)}finally{qe(!1)}})()},[t?.id,t?.type,t?.members,Se?.id]);const{usersYouBlocked:Nt,blockedByUsers:yn}=Ue();w.useEffect(()=>{if(!t||t.type!=="dm"||!Se)return;const $=t.members?.find(Te=>(Te.userId||Te.id)!==Se.id);if(!$)return;const A=$.userId||$.id;if(!A)return;const Z=Nt.has(A),he=yn.has(A);console.log("[ChatView] Store block status changed:",{otherUserId:A,iBlockedInStore:Z,blockedByInStore:he,currentDidIBlock:ce,currentIsBlocked:ne}),Z!==ce&&se(Z),he!==ne&&W(he)},[t?.id,t?.type,t?.members,Se?.id,Nt,yn]);const We=$=>$.type!=="dm"||!$.members||!Se?null:$.members.find(Z=>Z.userId!==Se.id)?.userId||null,qt=()=>{de.current?.scrollIntoView({behavior:"smooth"})},wt=async()=>{const $=Oe.current;if(!$){console.log("[MainContent] Container ref is null");return}const A=$.scrollHeight,Z=$.scrollTop,he=$.clientHeight,Te=A-Z-he<100;if(console.log("[MainContent] SCROLL EVENT:",{scrollHeight:A,scrollTop:Z,clientHeight:he,distance:A-Z-he,isNearBottom:Te}),O(!Te),Te&&t&&n.length>0)try{console.log("[MainContent] ========== USER AT BOTTOM =========="),console.log("[MainContent] Chat ID:",t.id),console.log("[MainContent] Chat:",t),console.log("[MainContent] Total messages:",n.length),console.log("[MainContent] Raw messages array:",n),n.length>0&&(console.log("[MainContent] First message full object:",n[0]),console.log("[MainContent] First message keys:",Object.keys(n[0])));const q=[];let Je=0,ct=0;if(n.forEach((pt,$t)=>{$t<3&&console.log(`[MainContent] Message ${$t}:`,{messageId:pt.messageId||pt.id,notificationId:pt.notificationId,isCurrentUser:pt.isCurrentUser,isNotificated:pt.isNotificated,senderUsername:pt.senderUsername,hasNotifId:!!pt.notificationId}),!pt.isCurrentUser&&pt.isNotificated&&pt.notificationId?(q.push(pt.notificationId),Je++):ct++}),console.log("[MainContent] Processing summary:",{processedCount:Je,skippedCount:ct,totalToMark:q.length,notificationIds:q}),q.length>0){const pt=await it(()=>Promise.resolve().then(()=>lc),void 0).then($t=>$t.notificationService);console.log("[MainContent] Calling markMultipleAsSeen with IDs:",q);try{const $t=await pt.markMultipleAsSeen(q);console.log("[MainContent] Successfully marked",q.length,"message notifications as seen. Result:",$t)}catch($t){console.error("[MainContent] Failed to mark notifications as seen:",$t)}}else console.log("[MainContent] No unseen messages found to mark as seen"),console.log("[MainContent] Reasons - isCurrentUser or isNotificated false, or notificationId empty");console.log("[MainContent] ========== END BOTTOM HANDLER ==========")}catch(q){console.error("[MainContent] Error processing scroll:",q)}};w.useEffect(()=>{qt(),O(!1)},[n,t]);const Gt=async()=>{if(console.log("[ChatView] handleSendMessage called",{messageText:y,selectedFile:U?{name:U.name,size:U.size,type:U.type}:null,currentChat:t?.id}),!y.trim()&&!U||!t){console.log("[ChatView] Early return - no content or no chat");return}S(!0);try{console.log("[ChatView] Calling onSendMessage with file:",U?U.name:"none","replyId:",P?.messageId),await o(y,U||void 0,P?.messageId),console.log("[ChatView] onSendMessage completed"),g(""),ee(null),Q(null),ie.current&&(ie.current.value="")}catch($){console.error("[ChatView] Failed to send message:",$),JC($)?(eT($)?W(!0):se(!0),le.error(tT($))):le.error(De($,"Failed to send message"))}finally{S(!1)}},Et=async($,A)=>{try{const{messageService:Z}=await it(async()=>{const{messageService:Te}=await Promise.resolve().then(()=>tc);return{messageService:Te}},void 0);await Z.toggleReactionByEmoji($,A);const he=Ue.getState();t&&await he.loadMessages(t.id)}catch(Z){console.error("Failed to toggle reaction:",Z),le.error("Failed to add reaction")}},dn=($,A,Z)=>{$.preventDefault(),$.stopPropagation(),I({messageId:A,x:$.clientX,y:$.clientY})},on=async $=>{try{await Ue.getState().pinMessage($),I(null),le.success("Message pinned")}catch(A){console.error("Failed to pin message:",A),le.error(De(A,"Failed to pin message"))}},vn=async $=>{try{await Ue.getState().unpinMessage($),I(null),le.success("Message unpinned")}catch(A){console.error("Failed to unpin message:",A),le.error(De(A,"Failed to unpin message"))}},Zt=$=>{const A=document.querySelector(`[data-message-id="${$}"]`);A&&(A.scrollIntoView({behavior:"smooth",block:"center"}),A.classList.add("message-highlight"),setTimeout(()=>A.classList.remove("message-highlight"),2e3))},rn=$=>{const A=n.find(Z=>Z.messageId===$);A&&(_($),j(A.content),I(null))},ft=async $=>{if(k.trim())try{await(await it(()=>Promise.resolve().then(()=>tc),void 0).then(he=>he.messageService)).editMessage($,k),_(null),j("");const Z=Ue.getState();t&&await Z.loadMessages(t.id)}catch(A){console.error("Failed to edit message:",A)}},ta=()=>{_(null),j("")},ca=async $=>{if(await Kt({title:"Delete Message",message:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"}))try{await(await it(()=>Promise.resolve().then(()=>tc),void 0).then(Te=>Te.messageService)).deleteMessage($),I(null);const he=Ue.getState();t&&await he.loadMessages(t.id),le.success("Message deleted")}catch(Z){console.error("Failed to delete message:",Z),le.error("Failed to delete message")}};return w.useEffect(()=>{const $=A=>{je.current&&!je.current.contains(A.target)&&I(null)};return N&&document.addEventListener("click",$),()=>{document.removeEventListener("click",$)}},[N]),t?c.jsxs("div",{className:R.mainContent,style:{position:"relative"},children:[c.jsxs("div",{className:R.chatHeaderBar,children:[c.jsxs("div",{className:R.headerLeft,children:[h&&c.jsx("button",{onClick:h,className:R.mobileMenuButton,style:{display:"none",padding:"8px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text)",marginRight:"8px"},"aria-label":"Open menu",children:""}),c.jsx("div",{className:R.headerAvatar,children:c.jsx(rc,{src:t.avatar,name:t.name,fallbackClass:R.avatarFallback})}),c.jsxs("div",{className:R.headerInfo,children:[c.jsxs("h2",{className:R.headerTitle,children:[t.name,c.jsx("span",{className:R.headerChatType,title:t.type,children:t.type==="dm"?" ":t.type==="group"?" ":t.type==="channel"?" ":" "})]}),c.jsx("div",{className:R.headerStatus,children:t.type==="dm"?(()=>{const $=We(t);if($){const A=ye($),Z=ke($);return c.jsx(sp,{isOnline:A,lastSeen:Z,size:"sm",showLabel:!0,position:"standalone"})}return c.jsx(sp,{isOnline:t.isOnline||!1,size:"sm",showLabel:!0,position:"standalone"})})():(()=>{const $=pe(t.id),A=t.members?.length||t.participantsCount||0;return console.log("[ChatView] Member count debug:",{chatId:t.id,chatName:t.name,membersLength:t.members?.length,participantsCount:t.participantsCount,totalMembers:A,fullChat:t}),c.jsx("span",{children:A>0?c.jsxs(c.Fragment,{children:[A," member",A!==1?"s":"",$>0&&c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{margin:"0 4px",color:"var(--text-muted)"},children:""}),c.jsxs("span",{style:{color:"#51cf66",fontWeight:600},children:[$," online"]})]})]}):c.jsx("span",{style:{color:"var(--text-muted)"},children:"Members"})})})()})]})]}),c.jsx("div",{className:R.headerActions,children:t.type!=="dm"&&c.jsxs("button",{onClick:()=>{m&&m()},style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",border:"1px solid rgba(99, 102, 241, 0.3)",cursor:"pointer",padding:"8px 14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"12px",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(99, 102, 241, 0.2)"},onMouseEnter:$=>{$.currentTarget.style.background="linear-gradient(135deg, rgba(99, 102, 241, 0.25), rgba(139, 92, 246, 0.2))",$.currentTarget.style.boxShadow="0 4px 16px rgba(99, 102, 241, 0.35)",$.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:$=>{$.currentTarget.style.background="linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",$.currentTarget.style.boxShadow="0 2px 8px rgba(99, 102, 241, 0.2)",$.currentTarget.style.transform="translateY(0)"},title:`View ${t.type==="channel"?"Channel":"Group"} Profile`,children:[t.type==="channel"?c.jsx(iw,{size:16,color:"#818cf8"}):c.jsx(dr,{size:16,color:"#818cf8"}),c.jsxs("span",{style:{fontSize:"13px",fontWeight:600,color:"#818cf8",letterSpacing:"0.3px"},children:[t.type==="channel"?"Channel":"Group"," Profile"]})]})})]}),c.jsx(H4,{chatId:t.id,onJumpToMessage:Zt,canUnpin:ue}),c.jsxs("div",{className:R.messagesContainer,ref:Oe,onScroll:wt,children:[i&&c.jsx("div",{className:R.loading,children:"Loading messages..."}),!i&&n.length===0&&c.jsx("div",{className:R.noMessages,children:"No messages yet. Start the conversation!"}),n.map($=>c.jsxs("div",{"data-message-id":$.messageId,className:`${R.messageGroup} ${$.isCurrentUser?R.ownMessage:R.otherMessage} ${$.isCurrentUser?"message-self-enter":"message-other-enter"} ${$.isPinned?"message-pinned":""}`,style:{position:"relative"},children:[!$.isCurrentUser&&c.jsx("div",{className:R.senderAvatar,onClick:()=>f($.senderId),style:{cursor:"pointer"},children:$.senderAvatarUrl?c.jsx("img",{src:$.senderAvatarUrl,alt:$.senderUsername}):c.jsx("div",{className:R.avatarFallback,children:Wi($.senderUsername)})}),C===$.messageId?c.jsxs("div",{className:R.messageBubble,style:{display:"flex",flexDirection:"column",gap:"8px"},children:[c.jsx("textarea",{value:k,onChange:A=>j(A.target.value),style:{padding:"12px 14px",borderRadius:"10px",border:"2px solid var(--accent)",backgroundColor:"var(--background)",color:"var(--text)",fontSize:"15px",fontFamily:"inherit",minHeight:"60px",resize:"vertical"}}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{onClick:()=>ft($.messageId),style:{padding:"6px 12px",backgroundColor:"var(--accent)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Save"}),c.jsx("button",{onClick:ta,style:{padding:"6px 12px",backgroundColor:"var(--border)",color:"var(--text)",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Cancel"})]})]}):c.jsxs("div",{className:R.messageBubble,onContextMenu:A=>dn(A,$.messageId,$.isCurrentUser),style:{position:"relative"},children:[!$.isCurrentUser&&c.jsx("div",{className:R.senderName,children:$.senderUsername}),$.replyId&&(()=>{const A=n.find(he=>he.messageId===$.replyId),Z=A?A.content?.substring(0,40)||(A.fileUrl?" File":"..."):"Message deleted";return c.jsxs("div",{onClick:()=>A&&Zt($.replyId),style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 8px",marginBottom:"4px",fontSize:"11px",color:"var(--text-secondary)",backgroundColor:$.isCurrentUser?"rgba(0,0,0,0.15)":"rgba(255,255,255,0.08)",borderRadius:"4px",cursor:A?"pointer":"default",borderLeft:"2px solid var(--accent)"},children:[c.jsx("span",{style:{opacity:.7},children:""}),c.jsxs("span",{style:{fontWeight:600,color:"var(--accent)",fontSize:"10px"},children:[A?.senderUsername||"Unknown",":"]}),c.jsxs("span",{style:{opacity:.8,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[Z,A?.content&&A.content.length>40?"...":""]})]})})(),c.jsx("div",{className:R.messageContent,children:$.content}),$.fileUrl&&(()=>{const A=hn($.fileUrl)||$.fileUrl;return c.jsx("div",{style:{marginTop:"8px"},children:/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(A)?c.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",children:[c.jsx("img",{src:A,alt:"Attachment",style:{maxWidth:"300px",maxHeight:"200px",borderRadius:"8px",objectFit:"cover",cursor:"pointer"},onError:Z=>{Z.currentTarget.style.display="none";const he=Z.currentTarget.nextElementSibling;he&&(he.style.display="flex")}}),c.jsx("div",{style:{display:"none",alignItems:"center",gap:"6px",padding:"8px 12px",background:"var(--background)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"13px"},children:" Image (click to view)"})]}):/\.(mp4|webm|ogg|mov)$/i.test(A)?c.jsx("video",{src:A,controls:!0,style:{maxWidth:"300px",maxHeight:"200px",borderRadius:"8px"}}):/\.(mp3|wav|ogg|m4a)$/i.test(A)?c.jsx("audio",{src:A,controls:!0,style:{maxWidth:"300px"}}):c.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"10px 14px",background:"var(--background)",borderRadius:"8px",color:"var(--text)",textDecoration:"none",fontSize:"13px",transition:"background 0.15s ease"},onMouseEnter:Z=>Z.currentTarget.style.background="var(--border)",onMouseLeave:Z=>Z.currentTarget.style.background="var(--background)",children:[c.jsx("span",{style:{fontSize:"18px"},children:/\.pdf$/i.test(A)?"":/\.(doc|docx)$/i.test(A)?"":/\.(xls|xlsx)$/i.test(A)?"":/\.(zip|rar|7z)$/i.test(A)?"":""}),c.jsx("span",{children:A.split("/").pop()?.substring(37)||"Download file"})]})})})(),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"4px",flexWrap:"wrap"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[c.jsx("span",{className:R.messageTime,children:kb($.sentAt)}),$.isCurrentUser&&c.jsx("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.5)",fontWeight:500},title:"Sent",children:""})]}),$.messageReactions&&$.messageReactions.length>0&&(()=>{const A=$.messageReactions.reduce((he,Te)=>{const q=Te.reactionType||Te.type||"Like";return he[q]||(he[q]={count:0,users:[]}),he[q].count++,he[q].users.push(Te.userName||Te.userId),he},{}),Z={Like:"",Love:"",Laugh:"",Sad:"",Angry:""};return c.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"2px",padding:"2px 6px",backgroundColor:"rgba(0,0,0,0.15)",borderRadius:"12px",fontSize:"12px"},children:Object.entries(A).map(([he,Te])=>c.jsxs("span",{onClick:()=>Et($.messageId,Z[he]||""),title:Te.users.join(", "),style:{cursor:"pointer"},children:[Z[he],Te.count>1&&c.jsx("span",{style:{fontSize:"10px",marginLeft:"1px"},children:Te.count})]},he))})})(),c.jsx("button",{onClick:A=>{A.stopPropagation(),I({messageId:$.messageId,x:A.clientX,y:A.clientY})},title:"Actions",style:{padding:"2px 6px",backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"10px",cursor:"pointer",fontSize:"12px",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="1",onMouseLeave:A=>A.currentTarget.style.opacity="0.6",children:""}),!$.isCurrentUser&&c.jsx("button",{onClick:()=>Q($),title:"Reply",style:{padding:"2px 6px",backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"10px",cursor:"pointer",fontSize:"12px",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="1",onMouseLeave:A=>A.currentTarget.style.opacity="0.6",children:""})]})]}),N?.messageId===$.messageId&&c.jsxs("div",{ref:je,style:{position:"fixed",top:Math.min(Math.max(N.y-20,10),window.innerHeight-180),left:Math.min(Math.max(N.x-70,10),window.innerWidth-150),backgroundColor:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.15)",zIndex:1e3,width:"140px",padding:"4px"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-around",padding:"4px 2px",borderBottom:"1px solid var(--border)",marginBottom:"2px"},children:["","","","",""].map(A=>c.jsx("button",{onClick:()=>{Et($.messageId,A),I(null)},style:{padding:"2px",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",lineHeight:1},onMouseEnter:Z=>{Z.currentTarget.style.backgroundColor="rgba(99, 102, 241, 0.2)"},onMouseLeave:Z=>{Z.currentTarget.style.backgroundColor="transparent"},children:A},A))}),ue&&c.jsxs("button",{onClick:()=>$.isPinned?vn($.messageId):on($.messageId),style:{width:"100%",padding:"6px 10px",border:"none",background:"transparent",color:"var(--text)",textAlign:"left",cursor:"pointer",fontSize:"12px",fontWeight:500,borderRadius:"6px",display:"flex",alignItems:"center",gap:"6px",transition:"background 0.1s"},onMouseEnter:A=>A.currentTarget.style.background="var(--background)",onMouseLeave:A=>A.currentTarget.style.background="transparent",children:[c.jsx("span",{style:{fontSize:"14px"},children:""}),$.isPinned?"Unpin":"Pin"]}),($.isCurrentUser||oe)&&c.jsxs("button",{onClick:()=>rn($.messageId),style:{width:"100%",padding:"6px 10px",border:"none",background:"transparent",color:"var(--text)",textAlign:"left",cursor:"pointer",fontSize:"12px",fontWeight:500,borderRadius:"6px",display:"flex",alignItems:"center",gap:"6px",transition:"background 0.1s"},onMouseEnter:A=>A.currentTarget.style.background="var(--background)",onMouseLeave:A=>A.currentTarget.style.background="transparent",children:[c.jsx("span",{style:{fontSize:"14px"},children:""}),"Edit"]}),($.isCurrentUser||oe)&&c.jsxs("button",{onClick:()=>ca($.messageId),style:{width:"100%",padding:"6px 10px",border:"none",background:"transparent",color:"#ef4444",textAlign:"left",cursor:"pointer",fontSize:"12px",fontWeight:500,borderRadius:"6px",display:"flex",alignItems:"center",gap:"6px",transition:"background 0.1s"},onMouseEnter:A=>A.currentTarget.style.background="rgba(239, 68, 68, 0.1)",onMouseLeave:A=>A.currentTarget.style.background="transparent",children:[c.jsx("span",{style:{fontSize:"14px"},children:""}),"Delete"]})]})]},$.messageId)),c.jsx("div",{ref:de})]}),M&&c.jsx("button",{onClick:qt,title:"Scroll to bottom",style:{position:"absolute",bottom:"100px",right:"20px",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease",zIndex:10},onMouseEnter:$=>{$.currentTarget.style.transform="scale(1.1)",$.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.2)"},onMouseLeave:$=>{$.currentTarget.style.transform="scale(1)",$.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},children:""}),t.type==="dm"&&Ee?c.jsx("div",{style:{padding:"16px 20px",textAlign:"center",color:"#94a3b8",backgroundColor:"rgba(30, 41, 59, 0.5)",borderTop:"1px solid rgba(99, 102, 241, 0.2)",fontSize:"14px"},children:"Loading..."}):t.type==="dm"&&ne?c.jsxs("div",{style:{padding:"16px 20px",textAlign:"center",color:"#f87171",backgroundColor:"rgba(239, 68, 68, 0.1)",borderTop:"1px solid rgba(239, 68, 68, 0.3)",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[c.jsx("span",{style:{fontSize:"18px"},children:""}),"This user has blocked you. You cannot send them messages."]}):t.type==="dm"&&ce?c.jsxs("div",{style:{padding:"16px 20px",textAlign:"center",color:"#f87171",backgroundColor:"rgba(239, 68, 68, 0.1)",borderTop:"1px solid rgba(239, 68, 68, 0.3)",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[c.jsx("span",{style:{fontSize:"18px"},children:""}),"You have blocked this user. Unblock them to send messages."]}):t.type!=="dm"&&Qt?c.jsx("div",{style:{padding:"16px 20px",textAlign:"center",color:"#94a3b8",backgroundColor:"rgba(30, 41, 59, 0.5)",borderTop:"1px solid rgba(99, 102, 241, 0.2)",fontSize:"14px"},children:"Loading..."}):!J&&t.type!=="dm"?c.jsxs("div",{style:{padding:"16px 20px",textAlign:"center",color:"#94a3b8",backgroundColor:"rgba(30, 41, 59, 0.8)",borderTop:"1px solid rgba(99, 102, 241, 0.2)",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[c.jsx("span",{style:{fontSize:"18px"},children:""}),"You don't have permission to send messages in this chat"]}):c.jsxs("div",{className:R.messageInput,children:[P&&c.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,right:0,padding:"8px 12px",backgroundColor:"var(--background)",borderTop:"2px solid var(--accent)",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"13px"},children:[c.jsxs("div",{children:[c.jsxs("span",{style:{color:"var(--accent)",fontWeight:600},children:["Replying to ",P.senderUsername,":"]})," ",c.jsxs("span",{style:{color:"var(--text-secondary)"},children:[P.content.substring(0,50),P.content.length>50?"...":""]})]}),c.jsx("button",{onClick:()=>Q(null),style:{padding:"4px 8px",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",fontSize:"16px"},children:""})]}),c.jsx("input",{type:"text",placeholder:P?"Type your reply...":"Type a message...",value:y,onChange:$=>g($.target.value),onKeyPress:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),Gt())},className:R.inputField,disabled:x}),c.jsx("input",{ref:ie,type:"file",accept:"image/*,video/*,audio/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.rar",style:{display:"none"},onChange:$=>{const A=$.target.files?.[0];console.log("[ChatView] File selected:",A?{name:A.name,size:A.size,type:A.type}:null),A&&ee(A)}}),c.jsx("button",{type:"button",className:R.attachButton,title:"Attach file",onClick:()=>{console.log("[ChatView] Attach button clicked, fileInputRef:",ie.current),ie.current?.click()},children:""}),U&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--border)",maxWidth:"200px"},children:[U.type.startsWith("image/")?c.jsx("img",{src:URL.createObjectURL(U),alt:"Preview",style:{width:"36px",height:"36px",borderRadius:"4px",objectFit:"cover"}}):c.jsx("span",{style:{fontSize:"24px"},children:U.type.includes("pdf")?"":U.type.includes("video")?"":""}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"12px",fontWeight:500,color:"var(--text)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:U.name}),c.jsxs("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:[(U.size/1024).toFixed(1)," KB"]})]}),c.jsx("button",{onClick:()=>{ee(null),ie.current&&(ie.current.value="")},style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"var(--text-secondary)",padding:"2px",lineHeight:1},children:""})]}),c.jsx("button",{type:"button",onClick:Gt,disabled:!y.trim()&&!U||x,className:R.sendButton,children:x?"...":""})]})]}):c.jsx("div",{className:R.mainContent,children:c.jsxs("div",{className:R.emptyScreen,children:[c.jsx("div",{className:R.emptyIcon,children:""}),c.jsx("h2",{children:"Select a chat to start messaging"}),c.jsx("p",{children:"Choose a conversation from the list or start a new one"}),c.jsxs("div",{className:R.emptyActions,children:[c.jsx("button",{className:R.actionButton,onClick:l,children:"Create Group"}),c.jsx("button",{className:R.actionButton,onClick:d,children:"Create Channel"})]})]})})},G4="_backdrop_r48nt_17",$4="_menu_r48nt_25",Y4="_dark_r48nt_39",X4="_header_r48nt_45",W4="_title_r48nt_67",K4="_content_r48nt_114",Q4="_section_r48nt_118",Z4="_sectionHeader_r48nt_122",J4="_sectionItems_r48nt_139",eU="_menuItem_r48nt_145",tU="_itemIcon_r48nt_175",nU="_divider_r48nt_194",aU="_logoutBtn_r48nt_204",Bn={backdrop:G4,menu:$4,dark:Y4,header:X4,title:W4,content:K4,section:Q4,sectionHeader:Z4,sectionItems:J4,menuItem:eU,itemIcon:tU,divider:nU,logoutBtn:aU},iU=({isOpen:t,onClose:n,onCreateGroup:i,onCreateChannel:o,onCreateCustomReaction:l,onEditProfile:d,onShowNotifications:f,onShowAdminPanel:h,onShowBlockedUsers:m,isDarkMode:y,onToggleDarkMode:g,onLogout:x})=>{if(!t)return null;const S=[{title:"Create",items:[{icon:dr,label:"New Group",onClick:i,color:"#3b82f6"},{icon:sw,label:"New Channel",onClick:o,color:"#8b5cf6"},{icon:ow,label:"Custom Reaction",onClick:l,color:"#f59e0b"}]},{title:"Account",items:[{icon:rw,label:"Edit Profile",onClick:d,color:"#10b981"},{icon:lw,label:"Notifications",onClick:f,color:"#ef4444"},{icon:fr,label:"Blocked Users",onClick:m,color:"#dc2626"},{icon:Ks,label:"Admin Panel",onClick:h,color:"#6366f1"}]},{title:"Preferences",items:[{icon:y?cw:uw,label:y?"Light Mode":"Dark Mode",onClick:g,color:y?"#f59e0b":"#6366f1"}]}];return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Bn.backdrop,onClick:n}),c.jsxs("div",{className:`${Bn.menu} ${y?Bn.dark:""}`,children:[c.jsxs("div",{className:Bn.header,children:[c.jsx("h3",{className:Bn.title,children:"Settings"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",color:y?"#94a3b8":"#64748b",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(ib,{size:22,strokeWidth:2.5})})]}),c.jsxs("div",{className:Bn.content,children:[S.map(C=>c.jsxs("div",{className:Bn.section,children:[c.jsx("div",{className:Bn.sectionHeader,children:c.jsx("span",{children:C.title})}),c.jsx("div",{className:Bn.sectionItems,children:C.items.map(_=>c.jsxs("button",{className:Bn.menuItem,onClick:_.onClick,children:[c.jsx("div",{className:Bn.itemIcon,style:{background:_.color},children:c.jsx(_.icon,{size:18,color:"white"})}),c.jsx("span",{children:_.label})]},_.label))})]},C.title)),c.jsx("div",{className:Bn.divider}),c.jsxs("button",{className:Bn.logoutBtn,onClick:x,children:[c.jsx(nb,{size:18}),c.jsx("span",{children:"Sign Out"})]})]})]})]})},sU=({currentChat:t,onReloadChat:n,onViewUserProfile:i,onConversationDeleted:o})=>{const[l,d]=w.useState(!1),[f,h]=w.useState(!1),[m,y]=w.useState(null),[g,x]=w.useState(!1),[S,C]=w.useState(!1),[_,k]=w.useState(null),[j,N]=w.useState(!1),[I,M]=w.useState(!1),[O,P]=w.useState(!1),[Q,ne]=w.useState(!1),{user:W}=gt(),{canAddUsers:ce,canManageChatInfo:se,canManageBans:Ee,canManageUsers:qe}=Kp(t?.id),je=_?.members?.find(J=>J.userId===W?.id)?.role==="admin";w.useEffect(()=>{(async()=>{if(t?.id){if(t.id.startsWith("temp_dm_")){const ue=t.id.replace("temp_dm_","");console.log("[RightPanel] Temp DM chat, loading user profile for:",ue),N(!0);try{const{userService:oe}=await it(async()=>{const{userService:Nt}=await Promise.resolve().then(()=>Ln);return{userService:Nt}},void 0),Qt=await oe.getUserProfile(ue);k({id:t.id,name:Qt.username,type:"dm",avatar:Qt.avatar,members:[{userId:Qt.id,user:Qt,role:"member"}],participantsCount:2})}catch(oe){console.error("[RightPanel] Failed to load user profile:",oe),k(null)}finally{N(!1)}return}N(!0);try{const ue=await Ve.getChatProfile(t.id);console.log("[RightPanel] Chat profile loaded:",ue),k(ue)}catch(ue){console.error("[RightPanel] Failed to load chat profile:",ue),k(null)}finally{N(!1)}}})()},[t?.id]);const{usersYouBlocked:Oe,addBlockedUser:U,removeBlockedUser:ee}=Ue();w.useEffect(()=>{(async()=>{if(!t||t.type!=="dm"||!_?.members){M(!1);return}const ue=_.members.find(oe=>oe.userId!==W?.id);if(!ue){M(!1);return}if(Oe.has(ue.userId)){M(!0);return}try{const oe=await Zn.getBlockStatus(ue.userId);M(oe),oe&&U(ue.userId)}catch(oe){console.error("[RightPanel] Failed to check block status:",oe),M(!1)}})()},[t?.id,t?.type,_?.members,W?.id]),w.useEffect(()=>{if(!t||t.type!=="dm"||!_?.members)return;const J=_.members.find(oe=>oe.userId!==W?.id);if(!J)return;const ue=Oe.has(J.userId);ue!==I&&M(ue)},[Oe,t?.id,_?.members,W?.id]);const ie=async()=>{if(!pe)return;const J=I?"unblock":"block";if(await Kt({title:I?"Unblock User":"Block User",message:I?`Are you sure you want to unblock ${pe.username}? They will be able to message you again.`:`Are you sure you want to block ${pe.username}? They won't be able to send you messages.`,confirmText:I?"Unblock":"Block",cancelText:"Cancel",variant:I?"warning":"danger"})){P(!0);try{I?(await Zn.unblockUser(pe.id),ee(pe.id),le.success(`${pe.username} has been unblocked`)):(await Zn.blockUser(pe.id),U(pe.id),le.success(`${pe.username} has been blocked`)),M(!I)}catch(oe){console.error(`Failed to ${J} user:`,oe),le.error(De(oe,`Failed to ${J} user`))}finally{P(!1)}}},ye=async()=>{if(!(!t||!await Kt({title:"Delete Conversation",message:"Are you sure you want to delete this conversation? All messages will be permanently deleted.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"}))){ne(!0);try{await Ve.deleteConversation(t.id),le.success("Conversation deleted"),o?.()}catch(ue){console.error("Failed to delete conversation:",ue),le.error(De(ue,"Failed to delete conversation"))}finally{ne(!1)}}},ke=async()=>{if(!(!t||!pe||!await Kt({title:"Delete & Block",message:`Are you sure you want to delete this conversation and block ${pe.username}? All messages will be deleted and they won't be able to message you.`,confirmText:"Delete & Block",cancelText:"Cancel",variant:"danger"}))){ne(!0);try{await Ve.deleteConversation(t.id),await Zn.blockUser(pe.id),le.success(`Conversation deleted and ${pe.username} blocked`),o?.()}catch(ue){console.error("Failed to delete and block:",ue),le.error(De(ue,"Failed to delete and block"))}finally{ne(!1)}}};if(!t)return c.jsx("div",{className:R.rightPanel});const pe=t.type==="dm"&&_?.members?_.members.find(J=>J.userId!==W?.id)?.user:null,Re=async J=>{if(await Kt({title:"Ban Member",message:`Are you sure you want to ban "${J.user.username}" from this chat? They won't be able to rejoin.`,confirmText:"Ban",cancelText:"Cancel",variant:"danger"}))try{await Ve.banUser(t.id,J.userId),le.success(`${J.user.username} has been banned and removed from chat.`),await n()}catch(oe){console.error("Failed to ban user:",oe),le.error(ir(oe))}},Se=async()=>{const J=t.privacy==="public"?"private":"public";if(await Kt({title:"Change Privacy",message:`Change this chat to ${J}? ${J==="private"?"Only invited members will be able to join.":"Anyone will be able to find and join."}`,confirmText:"Change",cancelText:"Cancel",variant:"info"})){x(!0);try{await Ve.updateChatPrivacy(t.id,J),le.success(`Chat privacy changed to ${J}.`),await n()}catch(oe){console.error("Failed to update privacy:",oe),le.error("Failed to update privacy. You may not have permission.")}finally{x(!1)}}};return c.jsxs("div",{className:R.rightPanel,children:[c.jsx("div",{className:R.panelHeader,children:c.jsx("h3",{children:"Chat Info"})}),c.jsx("div",{className:R.infoContent,children:t.type==="dm"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:R.infoSection,children:[c.jsx("div",{className:R.infoLabel,style:{color:"var(--text)",marginBottom:"12px",fontWeight:600},children:"Member"}),j?c.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:"Loading profile..."}):pe?c.jsxs("div",{onClick:()=>i(pe.id),style:{padding:"16px",backgroundColor:"var(--background)",border:"2px solid var(--border)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:J=>{J.currentTarget.style.borderColor="var(--accent)",J.currentTarget.style.transform="translateY(-2px)",J.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:J=>{J.currentTarget.style.borderColor="var(--border)",J.currentTarget.style.transform="translateY(0)",J.currentTarget.style.boxShadow="none"},title:"Click to view full profile",children:[c.jsx("div",{className:R.memberAvatar,children:pe.avatar||pe.avatarUrl?c.jsx("img",{src:hn(pe.avatar||pe.avatarUrl),alt:pe.username,style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"}}):c.jsx("div",{className:R.avatarFallback,style:{width:"50px",height:"50px",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--accent)",color:"#fff",borderRadius:"50%",fontWeight:600},children:Wi(pe.username)})}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{color:"var(--text)",fontWeight:700,fontSize:"16px",marginBottom:"4px"},children:pe.username}),pe.description&&c.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"12px",marginBottom:"6px"},children:pe.description}),c.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",marginBottom:"6px"},children:pe.isOnline?" Online":" Offline"}),c.jsx("div",{style:{fontSize:"12px",color:"var(--accent)",fontWeight:600},children:" Tap to view profile"})]})]}):c.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:"No user information available"})]}),pe&&c.jsxs("div",{className:R.infoSection,style:{marginTop:"16px"},children:[c.jsx("div",{className:R.infoLabel,style:{color:"var(--text)",marginBottom:"12px",fontWeight:600},children:"Actions"}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[c.jsx("button",{onClick:ie,disabled:O||Q,style:{width:"100%",padding:"10px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",backgroundColor:I?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:I?"#10b981":"#ef4444",border:`1px solid ${I?"rgba(16, 185, 129, 0.3)":"rgba(239, 68, 68, 0.3)"}`,borderRadius:"8px",cursor:O||Q?"not-allowed":"pointer",fontSize:"13px",fontWeight:600,transition:"all 0.2s ease",opacity:O||Q?.6:1},onMouseEnter:J=>{!O&&!Q&&(J.currentTarget.style.backgroundColor=I?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)")},onMouseLeave:J=>{J.currentTarget.style.backgroundColor=I?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)"},children:I?c.jsxs(c.Fragment,{children:[c.jsx(ab,{size:16}),O?"Unblocking...":"Unblock User"]}):c.jsxs(c.Fragment,{children:[c.jsx($s,{size:16}),O?"Blocking...":"Block User"]})}),c.jsxs("button",{onClick:ye,disabled:Q||O,style:{width:"100%",padding:"10px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",cursor:Q||O?"not-allowed":"pointer",fontSize:"13px",fontWeight:600,transition:"all 0.2s ease",opacity:Q||O?.6:1},onMouseEnter:J=>{!Q&&!O&&(J.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)")},onMouseLeave:J=>{J.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)"},children:[c.jsx(rp,{size:16}),Q?"Deleting...":"Delete Conversation"]}),!I&&c.jsxs("button",{onClick:ke,disabled:Q||O,style:{width:"100%",padding:"10px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",backgroundColor:"rgba(220, 38, 38, 0.1)",color:"#dc2626",border:"1px solid rgba(220, 38, 38, 0.3)",borderRadius:"8px",cursor:Q||O?"not-allowed":"pointer",fontSize:"13px",fontWeight:600,transition:"all 0.2s ease",opacity:Q||O?.6:1},onMouseEnter:J=>{!Q&&!O&&(J.currentTarget.style.backgroundColor="rgba(220, 38, 38, 0.2)")},onMouseLeave:J=>{J.currentTarget.style.backgroundColor="rgba(220, 38, 38, 0.1)"},children:[c.jsx(fr,{size:16}),"Delete & Block"]})]})]})]}):c.jsxs(c.Fragment,{children:[(_?.name||_?.description)&&c.jsxs("div",{className:R.infoSection,children:[c.jsxs("div",{className:R.infoLabel,style:{color:"var(--text)",marginBottom:"8px",fontWeight:600},children:[t.type==="group"?"Group":"Channel"," Info"]}),c.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",border:"1px solid var(--border)"},children:[c.jsx("div",{style:{color:"var(--text)",fontWeight:700,fontSize:"16px",marginBottom:"6px"},children:_.name||t.name}),_.description&&c.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",lineHeight:"1.5"},children:_.description}),c.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px",fontSize:"12px"},children:[c.jsxs("div",{style:{color:"var(--text-secondary)"},children:[" ",_.participantsCount||0," members"]}),c.jsxs("div",{style:{color:"var(--text-secondary)"},children:[" ",_.participantsOnline||0," online"]})]})]})]}),(je||se)&&c.jsxs("div",{className:R.infoSection,children:[c.jsx("div",{className:R.infoLabel,style:{color:"var(--text)"},children:"Privacy"}),c.jsx("button",{onClick:Se,disabled:g,style:{padding:"8px 12px",backgroundColor:"var(--accent)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600,width:"100%",marginTop:"4px"},children:g?"Changing...":`Current: ${t.privacy||"private"} (Click to toggle)`})]}),(je||ce)&&c.jsx("div",{className:R.infoSection,children:c.jsx("button",{onClick:()=>d(!0),style:{padding:"10px 14px",backgroundColor:"var(--accent)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:600,width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:" Add Member"})}),c.jsxs("div",{className:R.infoSection,children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[c.jsxs("div",{className:R.infoLabel,style:{color:"var(--text)"},children:["Members (",_?.participants?.length||t.members?.length||0,")"]}),c.jsx("button",{onClick:()=>C(!S),style:{padding:"6px 12px",backgroundColor:"var(--accent)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600},children:S?" Hide":" Show"})]}),S&&c.jsx("div",{className:R.memberList,children:j?c.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:"Loading members..."}):_?.members&&_.members.length>0?_.members.map(J=>{const ue={id:J.id||J.userId,userId:J.userId||J.id,user:{id:J.user?.id||J.userId||J.id,username:J.user?.username||J.username,avatar:hn(J.user?.avatar||J.user?.avatarUrl||J.avatarUrl),bio:J.user?.bio||J.user?.description||J.description},role:J.role||"member"};return c.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"10px",borderRadius:"10px",backgroundColor:"var(--background)",border:"1px solid var(--border)",marginBottom:"8px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:oe=>{oe.currentTarget.style.backgroundColor="var(--surface)",oe.currentTarget.style.borderColor="var(--accent)"},onMouseLeave:oe=>{oe.currentTarget.style.backgroundColor="var(--background)",oe.currentTarget.style.borderColor="var(--border)"},children:[c.jsx("div",{className:R.memberAvatar,style:{flexShrink:0,cursor:"pointer"},onClick:oe=>{oe.stopPropagation(),i(ue.userId)},title:"View profile",children:ue.user.avatar?c.jsx("img",{src:ue.user.avatar,alt:ue.user.username}):c.jsx("div",{className:R.avatarFallback,children:Wi(ue.user.username)})}),c.jsxs("div",{className:R.memberInfo,style:{flex:1,minWidth:0,cursor:"pointer"},onClick:oe=>{oe.stopPropagation(),i(ue.userId)},title:"View profile",children:[c.jsx("div",{className:R.memberName,style:{color:"var(--text)",fontWeight:600},children:ue.user.username}),J.user?.isOnline!==void 0&&c.jsx("div",{className:R.memberRole,style:{color:"var(--text-secondary)",fontSize:"12px"},children:J.user.isOnline?" Online":" Offline"})]}),c.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[(je||qe)&&ue.role!=="admin"&&c.jsx("button",{onClick:oe=>{oe.stopPropagation(),y(ue),h(!0)},title:"Manage Permissions",style:{padding:"6px 10px",backgroundColor:"#6366f1",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s"},onMouseEnter:oe=>oe.currentTarget.style.backgroundColor="#4f46e5",onMouseLeave:oe=>oe.currentTarget.style.backgroundColor="#6366f1",children:""}),(je||Ee)&&ue.role!=="admin"&&c.jsx("button",{onClick:oe=>{oe.stopPropagation(),Re(ue)},title:"Ban User",style:{padding:"6px 10px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s"},onMouseEnter:oe=>oe.currentTarget.style.backgroundColor="#c82333",onMouseLeave:oe=>oe.currentTarget.style.backgroundColor="#dc3545",children:""})]})]},ue.id)}):c.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:"No members found"})})]}),t.description&&c.jsxs("div",{className:R.infoSection,children:[c.jsx("div",{className:R.infoLabel,style:{color:"var(--text)"},children:"Description"}),c.jsx("p",{style:{color:"var(--text-secondary)"},children:t.description})]})]})}),l&&c.jsx(F4,{isOpen:l,onClose:()=>d(!1),chatId:t.id,chatType:t.type,onMemberAdded:n}),f&&m&&c.jsx(TS,{isOpen:f,onClose:()=>{h(!1),y(null)},chatId:t.id,member:m,onPermissionsChanged:n})]})},oU=({isOpen:t,onClose:n,onCreate:i,isDarkMode:o=!1})=>{const[l,d]=w.useState(""),[f,h]=w.useState(null),[m,y]=w.useState(null),[g,x]=w.useState(!1),S=_=>{const k=_.target.files?.[0];if(k){h(k);const j=new FileReader;j.onloadend=()=>y(j.result),j.readAsDataURL(k)}},C=async()=>{if(l.trim()){x(!0);try{await i(l,f),d(""),h(null),y(null),n()}finally{x(!1)}}};return t?c.jsx("div",{className:`${R.modalOverlay} ${o?R.darkMode:""}`,onClick:n,children:c.jsxs("div",{className:R.modal,onClick:_=>_.stopPropagation(),children:[c.jsxs("div",{className:R.modalHeader,children:[c.jsx("h2",{children:"Create Custom Reaction"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),c.jsxs("div",{className:R.modalBody,children:[c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Reaction Name *"}),c.jsx("input",{type:"text",placeholder:"e.g., happy, excited, custom-emoji",value:l,onChange:_=>d(_.target.value),className:R.formInput}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"This will be the emoji name (e.g., :happy:)"})]}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Reaction Image (Optional)"}),c.jsx("input",{type:"file",accept:"image/*",onChange:S,className:R.formInput,style:{padding:"8px"}}),m&&c.jsx("div",{style:{marginTop:"12px",textAlign:"center"},children:c.jsx("img",{src:m,alt:"Preview",style:{width:"64px",height:"64px",objectFit:"contain",borderRadius:"8px",border:"2px solid var(--border)"}})})]})]}),c.jsxs("div",{className:R.modalFooter,children:[c.jsx("button",{onClick:n,className:R.secondaryButton,children:"Cancel"}),c.jsx("button",{onClick:C,disabled:!l.trim()||g,className:R.primaryButton,children:g?"Creating...":"Create"})]})]})}):null},Zx=({isOpen:t,onClose:n,onCreate:i,isDarkMode:o=!1,isChannel:l=!1})=>{const[d,f]=w.useState(""),[h,m]=w.useState(""),[y,g]=w.useState("private"),[x,S]=w.useState(null),[C,_]=w.useState(!1),k=N=>{S(N)},j=async()=>{if(d.trim()){_(!0);try{await i(d,h,y,x),f(""),m(""),g("private"),S(null),n()}finally{_(!1)}}};return t?c.jsx("div",{className:`${R.modalOverlay} ${o?R.darkMode:""}`,onClick:n,children:c.jsxs("div",{className:R.modal,onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:R.modalHeader,children:[c.jsx("h2",{children:l?"Create Channel":"Create Group"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),c.jsxs("div",{className:R.modalBody,children:[c.jsxs("div",{className:R.formGroup,children:[c.jsxs("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:[l?"Channel":"Group"," Name *"]}),c.jsx("input",{type:"text",placeholder:`Enter ${l?"channel":"group"} name (1-40 characters)`,value:d,onChange:N=>f(N.target.value),maxLength:40,className:R.formInput}),c.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[d.length,"/40 characters"]})]}),c.jsx("div",{className:R.formGroup,children:c.jsx(Wp,{onFileAccepted:k,label:`${l?"Channel":"Group"} Avatar (Optional)`,helperText:"Drag and drop an image, or click to browse"})}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Description (Optional)"}),c.jsx("textarea",{placeholder:`Enter ${l?"channel":"group"} description (max 150 characters)`,value:h,onChange:N=>m(N.target.value),maxLength:150,className:R.formInput,rows:3}),c.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[h.length,"/150 characters"]})]}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Privacy"}),c.jsxs("select",{value:y,onChange:N=>g(N.target.value),className:R.formInput,children:[c.jsx("option",{value:"private",children:"Private - Only invited members can join"}),c.jsx("option",{value:"public",children:"Public - Anyone can search and join"})]})]})]}),c.jsxs("div",{className:R.modalFooter,children:[c.jsx("button",{onClick:n,className:R.secondaryButton,children:"Cancel"}),c.jsx("button",{onClick:j,disabled:!d.trim()||C,className:R.primaryButton,children:C?"Creating...":"Create"})]})]})}):null},rU=({isOpen:t,onClose:n,chat:i,onUpdate:o,isDarkMode:l=!1,isChannel:d=!1})=>{const[f,h]=w.useState(""),[m,y]=w.useState(""),[g,x]=w.useState("private"),[S,C]=w.useState(null),[_,k]=w.useState(!1);w.useEffect(()=>{t&&i?(h(i.name||""),y(i.description||""),x(i.privacy||"private"),C(null)):t||(h(""),y(""),x("private"),C(null))},[t,i]);const j=I=>{C(I)},N=async()=>{if(!(!f.trim()||!i)){k(!0);try{await o(i.id,f,m,g,S),h(""),y(""),x("private"),C(null),n()}finally{k(!1)}}};return!t||!i?null:c.jsx("div",{className:`${R.modalOverlay} ${l?R.darkMode:""}`,onClick:n,children:c.jsxs("div",{className:R.modal,onClick:I=>I.stopPropagation(),children:[c.jsxs("div",{className:R.modalHeader,children:[c.jsx("h2",{children:d?"Edit Channel":"Edit Group"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),c.jsxs("div",{className:R.modalBody,children:[c.jsxs("div",{className:R.formGroup,children:[c.jsxs("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:[d?"Channel":"Group"," Name *"]}),c.jsx("input",{type:"text",placeholder:`Enter ${d?"channel":"group"} name (1-40 characters)`,value:f,onChange:I=>h(I.target.value),maxLength:40,className:R.formInput}),c.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[f.length,"/40 characters"]})]}),c.jsx("div",{className:R.formGroup,children:c.jsx(Wp,{onFileAccepted:j,currentPreview:i.avatar,label:`${d?"Channel":"Group"} Avatar (Optional)`,helperText:"Drag and drop a new image to update, or click to browse"})}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Description (Optional)"}),c.jsx("textarea",{placeholder:`Enter ${d?"channel":"group"} description (max 150 characters)`,value:m,onChange:I=>y(I.target.value),maxLength:150,className:R.formInput,rows:3}),c.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[m.length,"/150 characters"]})]}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Privacy"}),c.jsxs("select",{value:g,onChange:I=>x(I.target.value),className:R.formInput,children:[c.jsx("option",{value:"private",children:"Private - Only invited members can join"}),c.jsx("option",{value:"public",children:"Public - Anyone can search and join"})]})]})]}),c.jsxs("div",{className:R.modalFooter,children:[c.jsx("button",{onClick:n,className:R.secondaryButton,children:"Cancel"}),c.jsx("button",{onClick:N,disabled:!f.trim()||_,className:R.primaryButton,children:_?"Updating...":"Update"})]})]})})},lU=({isOpen:t,onClose:n,user:i,onUpdate:o,isDarkMode:l=!1})=>{const[d,f]=w.useState(""),[h,m]=w.useState(""),[y,g]=w.useState(""),[x,S]=w.useState("everyone"),[C,_]=w.useState(!1),[k,j]=w.useState(null),[N,I]=w.useState(null);w.useEffect(()=>{t&&i?(f(i.username||""),m(i.email||""),g(i.bio||""),S(i.addMePolicy||"everyone"),j(null),I(null)):t||(f(""),m(""),g(""),S("everyone"),j(null),I(null))},[t,i]);const M=P=>{j(P)},O=async()=>{_(!0);try{await o(d,h,y,x,k),n()}finally{_(!1)}};return!t||!i?null:c.jsx("div",{className:`${R.modalOverlay} ${l?R.darkMode:""}`,onClick:n,children:c.jsxs("div",{className:R.modal,onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:R.modalHeader,children:[c.jsx("h2",{style:{color:"var(--text)"},children:"Edit Profile"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),c.jsxs("div",{className:R.modalBody,children:[c.jsx("div",{className:R.formGroup,children:c.jsx(Wp,{onFileAccepted:M,currentPreview:i?.avatar||N,label:"Profile Avatar",helperText:"Drag and drop your profile picture, or click to browse"})}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Username"}),c.jsx("input",{type:"text",value:d,onChange:P=>f(P.target.value),className:R.formInput,placeholder:"Enter your username"})]}),c.jsxs("div",{className:R.formGroup,children:[c.jsxs("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:["Email",c.jsx("span",{style:{fontSize:"12px",fontWeight:400,color:"var(--text-secondary)",marginLeft:"8px"},children:"(Read-only)"})]}),c.jsx("input",{type:"email",value:h,readOnly:!0,disabled:!0,className:R.formInput,placeholder:"Email cannot be changed",style:{backgroundColor:"var(--background)",cursor:"not-allowed",opacity:.7}})]}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Bio/Description"}),c.jsx("textarea",{value:y,onChange:P=>g(P.target.value),className:R.formInput,rows:3,placeholder:"Tell us about yourself..."})]}),c.jsxs("div",{className:R.formGroup,children:[c.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Who can add you?"}),c.jsxs("select",{value:x,onChange:P=>S(P.target.value),className:R.formInput,children:[c.jsx("option",{value:"everyone",children:"Everyone"}),c.jsx("option",{value:"chatted",children:"Contacts Only"}),c.jsx("option",{value:"nobody",children:"Nobody"})]})]})]}),c.jsxs("div",{className:R.modalFooter,children:[c.jsx("button",{onClick:n,className:R.secondaryButton,children:"Cancel"}),c.jsx("button",{onClick:O,disabled:C,className:R.primaryButton,children:C?"Updating...":"Update Profile"})]})]},`profile-modal-${i.id}`)})},cU=({isOpen:t,onClose:n,isDarkMode:i=!1})=>{const[o,l]=w.useState([]),[d,f]=w.useState(!1);w.useEffect(()=>{t&&h()},[t]);const h=async()=>{f(!0);try{const x=await(await it(()=>Promise.resolve().then(()=>lc),void 0).then(C=>C.notificationService)).getNotifications();console.log("[Notifications] Loaded notifications:",x),Array.isArray(x)&&x.length>0&&console.log("[Notifications] First notification structure:",JSON.stringify(x[0],null,2));const S=Array.isArray(x)?x.map(C=>({id:C.id,title:`Message from ${C.senderName}`,message:C.content,type:"message",chatName:C.chatName,chatAvatar:C.chatAvatar,senderName:C.senderName,fileUrl:C.fileUrl,isRead:C.seen,createdAt:C.sentTime})):[];l(S)}catch(g){console.error("[Notifications] Failed to load notifications:",g),l([])}finally{f(!1)}},m=async g=>{try{await(await it(()=>Promise.resolve().then(()=>lc),void 0).then(S=>S.notificationService)).markAsSeen(g),await h()}catch(x){console.error("Failed to mark notification as seen:",x)}},y=async()=>{try{await(await it(()=>Promise.resolve().then(()=>lc),void 0).then(x=>x.notificationService)).markAllAsSeen(),await h()}catch(g){console.error("Failed to mark all notifications as seen:",g)}};return t?c.jsx("div",{className:`${R.modalOverlay} ${i?R.darkMode:""}`,onClick:n,children:c.jsxs("div",{className:R.modal,onClick:g=>g.stopPropagation(),children:[c.jsxs("div",{className:R.modalHeader,children:[c.jsx("h2",{children:"Notifications"}),c.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px 8px",lineHeight:1},children:""})]}),c.jsx("div",{className:R.modalBody,children:d?c.jsx("div",{className:R.loadingState,children:"Loading notifications..."}):o.length===0?c.jsx("div",{className:R.emptyState,children:"No notifications yet"}):c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.length>0&&c.jsx("button",{onClick:y,style:{padding:"8px 12px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Mark All as Read"}),o.map(g=>c.jsxs("div",{onClick:()=>m(g.id),style:{padding:"14px",background:g.isRead?"rgba(99, 102, 241, 0.05)":"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",border:g.isRead?"1px solid rgba(99, 102, 241, 0.1)":"1px solid rgba(99, 102, 241, 0.3)",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",gap:"12px",alignItems:"flex-start",boxShadow:g.isRead?"none":"0 2px 8px rgba(99, 102, 241, 0.15)",position:"relative",overflow:"hidden"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(4px)",x.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.2)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow=g.isRead?"none":"0 2px 8px rgba(99, 102, 241, 0.15)"},children:[g.chatAvatar?c.jsx("img",{src:g.chatAvatar,alt:g.chatName,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",flexShrink:0}}):c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"14px",flexShrink:0},children:Wi(g.chatName)}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontWeight:600,marginBottom:"4px",color:"var(--text)"},children:g.chatName}),c.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"4px"},children:[c.jsxs("span",{style:{fontWeight:500,color:"var(--text)"},children:[g.senderName,":"]})," ",g.message&&g.message.trim()?g.message:g.fileUrl?c.jsx("span",{style:{fontStyle:"italic"},children:"Sent an attachment"}):c.jsx("span",{style:{fontStyle:"italic",opacity:.7},children:"No message content"})]}),g.fileUrl&&c.jsx("div",{style:{fontSize:"12px",color:"var(--accent)",marginBottom:"4px"},children:" Attachment"}),c.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:new Date(g.createdAt).toLocaleString()})]})]},g.id))]})})]})}):null},uU=()=>{const{user:t,logout:n}=gt(),{chats:i,currentChat:o,isLoadingChats:l,messages:d,setMessages:f,onlineUsers:h}=Ue(),{theme:m,toggleTheme:y}=GT(),g=o3(),[x,S]=w.useState(!1),[C,_]=w.useState(!1),[k,j]=w.useState(!1),[N,I]=w.useState(!1),[M,O]=w.useState(null),[P,Q]=w.useState(!1),[ne,W]=w.useState(!1),[ce,se]=w.useState(!1),[Ee,qe]=w.useState(!1),[de,je]=w.useState(!1),[Oe,U]=w.useState(!1),[ee,ie]=w.useState(""),[ye,ke]=w.useState([]),[pe,Re]=w.useState(!1),[Se,J]=w.useState(!1),[ue,oe]=w.useState(null),[Qt,Nt]=w.useState(null),[yn,We]=w.useState(!1),[qt,wt]=w.useState(!1),[Gt,Et]=w.useState(!1),[dn,on]=w.useState(null),[vn,Zt]=w.useState(!1),rn=w.useRef(null),ft=m==="dark";w.useEffect(()=>{(async()=>{const ae=Ue.getState();i.length===0&&await ae.loadChats()})()},[i.length]),w.useEffect(()=>{(async()=>{if(!o||!o.id||o.id==="search"){console.log("[Dashboard] Clearing messages - no chat selected or search chat"),f([]);return}console.log("[Dashboard] ========== LOADING MESSAGES FOR CHAT =========="),console.log("[Dashboard] Chat ID:",o.id),console.log("[Dashboard] Chat Name:",o.name),console.log("[Dashboard] Chat Type:",o.type),S(!0);try{console.log("[Dashboard] Fetching chat data from API...");const ae=await Ve.getChat(o.id);console.log("[Dashboard] API Response - Chat:",ae),console.log("[Dashboard] API Response - Messages count:",ae.messages?.length||0),ae.messages&&ae.messages.length>0&&console.log("[Dashboard] First message in response:",ae.messages[0]),f(ae.messages||[]),console.log("[Dashboard] Set messages state to:",ae.messages?.length||0,"messages")}catch(ae){console.error("[Dashboard] Failed to load messages:",ae),f([])}finally{S(!1)}})()},[o]),w.useEffect(()=>{(async()=>{if(!(!o||!o.id||o.id==="search"||o.id.startsWith("temp_dm_"))){if(g.isConnected)try{console.log("[Dashboard] Joining SignalR chat room:",o.id),await g.joinChat(o.id)}catch(ae){console.error("[Dashboard] Failed to join chat room:",ae)}return()=>{o&&o.id&&g.isConnected&&(console.log("[Dashboard] Leaving SignalR chat room:",o.id),g.leaveChat(o.id).catch(console.error))}}})()},[o,g.isConnected]);const ta=async te=>{if(Ue.getState().setCurrentChat(te),!te.id.startsWith("temp_dm_")&&(te.type==="group"||te.type==="channel"||te.type==="dm"))try{const ve=await Ve.getChatProfile(te.id);if(console.log("[Dashboard] Loaded full profile for",te.type,":",ve.id,"members:",ve.members?.length),Ue.getState().setCurrentChat(ve),ve.members&&ve.members.length>0){const xe=ve.members.map(me=>me.userId||me.id||me.user?.id).filter(me=>!!me);if(xe.length>0)try{const{signalRService:me}=await it(async()=>{const{signalRService:Pe}=await Promise.resolve().then(()=>Jf);return{signalRService:Pe}},void 0),be=await me.getPresenceStates(xe);console.log("[Dashboard] Fetched presence for chat members:",be),Ue.getState().setInitialPresenceStates(be)}catch(me){console.error("[Dashboard] Failed to fetch presence states:",me)}}}catch(ve){console.error("[Dashboard] Failed to load chat profile:",ve)}},ca=async()=>{await Kt({title:"Sign Out",message:"Are you sure you want to sign out?",confirmText:"Sign Out",cancelText:"Cancel",variant:"warning"})&&n()},$=async(te,ae,ve)=>{if(console.log("[Dashboard] handleSendChatMessage called",{content:te,file:ae?{name:ae.name,size:ae.size,type:ae.type}:null,currentChatId:o?.id,userId:t?.id,replyId:ve}),!o||!o.id||o.id==="search"||!t){console.log("[Dashboard] Early return - missing chat or user");return}try{if(ae){console.log("[Dashboard] Sending message with file via REST API");const xe=new FormData;if(o.id.startsWith("temp_dm_")){const be=o.id.replace("temp_dm_","");xe.append("receiverId",be)}else if(xe.append("chatId",o.id),o.type==="dm"){const be=o.members?.find(Pe=>Pe.userId!==t.id)?.userId;be&&xe.append("receiverId",be)}xe.append("content",te),xe.append("file",ae),ve&&xe.append("replyId",ve),await(await it(()=>Promise.resolve().then(()=>tc),void 0).then(be=>be.messageService)).sendMessage(xe)}else{console.log("[Dashboard] Sending text message via SignalR");let xe=null,me=null;o.id.startsWith("temp_dm_")?me=o.id.replace("temp_dm_",""):(xe=o.id,o.type==="dm"&&(me=o.members?.find(be=>be.userId!==t.id)?.userId||null)),await g.sendMessage(xe,te,me,ve||null)}if(console.log("[Dashboard] Message sent successfully"),o.id.startsWith("temp_dm_")){console.log("[Dashboard] Reloading chats after sending to temp chat");const xe=Ue.getState(),me=o.id.replace("temp_dm_","");let be;const Pe=o.name;for(let re=0;re<3;re++){if(await new Promise(Ne=>setTimeout(Ne,500)),await xe.loadChats(),be=Ue.getState().chats.find(Ne=>Ne.type!=="dm"?!1:Ne.members&&Ne.members.length>0?Ne.members.some(st=>st.userId===me||st.id===me||st.user?.id===me||st.user?.userId===me):!!(Pe&&Ne.name===Pe)),be){console.log(`[Dashboard] Found newly created real DM on attempt ${re+1}:`,be.id);break}console.log(`[Dashboard] Real DM not found on attempt ${re+1}, retrying...`)}if(be){xe.setCurrentChat(be);const re=await Ve.getChat(be.id);f(re.messages||[])}else console.error("[Dashboard] Failed to find newly created DM after retries"),le.error("Message sent, but failed to load conversation. Please refresh.")}else{const xe=await Ve.getChat(o.id);f(xe.messages||[])}}catch(xe){console.error("Failed to send message:",xe),Ef(xe)?le.error(ir(xe)):le.error(De(xe,"Failed to send message"))}},A=async(te,ae,ve,xe)=>{try{const me=new FormData;me.append("name",te),ae&&me.append("description",ae),me.append("privacyType",ve==="public"?"0":"1"),xe&&me.append("file",xe),await Ve.createGroup(me),le.success("Group created successfully!"),await Ue.getState().loadChats()}catch(me){throw console.error("Failed to create group:",me),le.error(De(me,"Failed to create group")),me}},Z=async(te,ae,ve,xe)=>{try{const me=new FormData;me.append("name",te),ae&&me.append("description",ae),me.append("privacyType",ve==="public"?"0":"1"),xe&&me.append("file",xe),await Ve.createChannel(me),le.success("Channel created successfully!"),await Ue.getState().loadChats()}catch(me){throw console.error("Failed to create channel:",me),le.error(De(me,"Failed to create channel")),me}},he=async(te,ae,ve,xe,me)=>{try{const be=new FormData;be.append("chatId",te),be.append("name",ae),ve&&be.append("description",ve),be.append("privacyType",xe==="public"?"0":"1"),me&&be.append("file",me);const Pe=M?.type==="channel"?"channel":"group";await Ve.updateChat(te,Pe,be),le.success("Group/Channel updated successfully!"),await Ue.getState().loadChats()}catch(be){throw console.error("Failed to update group/channel:",be),le.error(De(be,"Failed to update group/channel")),be}},Te=async te=>{if(o)try{await Ve.banUser(o.id,te),le.success("User banned and removed from chat");const ae=await Ve.getChatProfile(o.id);Ue.getState().setCurrentChat(ae)}catch(ae){console.error("Failed to ban user:",ae),le.error(ir(ae))}},q=async te=>{if(o)try{await Ve.unbanUser(o.id,te),le.success("User unbanned successfully");const ae=await Ve.getChatProfile(o.id);Ue.getState().setCurrentChat(ae)}catch(ae){console.error("Failed to unban user:",ae),le.error(ir(ae))}},Je=async te=>{if(o)try{o.type==="group"?await Ve.removeMemberFromGroup(o.id,te):o.type==="channel"&&await Ve.removeMemberFromChannel(o.id,te),le.success("Member removed successfully");const ae=await Ve.getChatProfile(o.id);Ue.getState().setCurrentChat(ae)}catch(ae){console.error("Failed to remove member:",ae),le.error(De(ae,"Failed to remove member"))}},ct=async te=>{if(o)try{await Ve.updateChatPrivacy(o.id,te),le.success(`Privacy updated to ${te}`);const ae=await Ve.getChatProfile(o.id);Ue.getState().setCurrentChat(ae)}catch(ae){console.error("Failed to update privacy:",ae),le.error(De(ae,"Failed to update privacy"))}},pt=async()=>{if(!(!o||!await Kt({title:`Leave ${o.type==="channel"?"Channel":"Group"}`,message:`Are you sure you want to leave this ${o.type}? You will lose access to all messages and content.`,confirmText:"Leave",cancelText:"Stay",variant:"warning"})))try{await Ve.leaveChat(o.id,o.type),le.success(`Left ${o.type} successfully`),await Ue.getState().loadChats(),Ue.getState().setCurrentChat(null),wt(!1)}catch(ae){console.error("Failed to leave chat:",ae),le.error(De(ae,"Failed to leave"))}},$t=async()=>{if(o)try{await Ve.deleteChat(o.id,o.type),le.success(`${o.type==="group"?"Group":"Channel"} deleted successfully`),await Ue.getState().loadChats(),Ue.getState().setCurrentChat(null),wt(!1)}catch(te){console.error("Failed to delete chat:",te),le.error(De(te,`Failed to delete ${o.type}`))}},Yt=async te=>{try{await(await it(()=>Promise.resolve().then(()=>Ln),void 0).then(ve=>ve.userService)).blockUser(te),Ue.getState().addBlockedUser(te),le.success("User blocked successfully")}catch(ae){console.error("Failed to block user:",ae),le.error(De(ae,"Failed to block user"))}},kt=async te=>{try{await(await it(()=>Promise.resolve().then(()=>Ln),void 0).then(ve=>ve.userService)).unblockUser(te),Ue.getState().removeBlockedUser(te),le.success("User unblocked successfully")}catch(ae){console.error("Failed to unblock user:",ae),le.error(De(ae,"Failed to unblock user"))}},xn=async(te,ae)=>{try{const ve=new FormData;ve.append("Name",te),ae&&ve.append("file",ae);const{reactionService:xe}=await it(async()=>{const{reactionService:me}=await import("./reaction.service-z32XTB3l.js");return{reactionService:me}},__vite__mapDeps([3,1,2]));await xe.createReaction(ve),le.success("Custom reaction created successfully!")}catch(ve){throw console.error("Failed to create custom reaction:",ve),le.error(De(ve,"Failed to create custom reaction")),ve}},Vt=async(te,ae,ve,xe,me)=>{try{const be=new FormData;te&&be.append("username",te),be.append("description",ve||"");let Pe="0";xe==="chatted"?Pe="1":xe==="nobody"&&(Pe="2"),be.append("addChatMinLvl",Pe),me&&be.append("file",me);const Xe=await(await it(()=>Promise.resolve().then(()=>Ln),void 0).then(st=>st.userService)).updateProfile(be);gt.getState().setUser(Xe),le.success("Profile updated successfully!")}catch(be){throw console.error("Failed to update profile:",be),le.error(De(be,"Failed to update profile")),be}},yi=async te=>{ie(te),ke([]),te.trim()&&(rn.current&&clearTimeout(rn.current),Re(!0),rn.current=setTimeout(async()=>{try{const ae=await it(()=>Promise.resolve().then(()=>Ln),void 0).then(Pe=>Pe.userService),ve=Ve,xe=[];try{const Pe=await ae.searchUsers(te);console.log("[Search] User search results:",Pe),Array.isArray(Pe)&&Pe.forEach(re=>{const Xe=re.EntityId||re.entityId||re.id,Ne=re.displayName||re.DisplayName||re.username||re.name||"Unknown User";console.log("[Search] Mapping user result:",{EntityId:re.EntityId,entityId:re.entityId,id:re.id,displayName:re.displayName,DisplayName:re.DisplayName,username:re.username,finalUserId:Xe,finalName:Ne}),xe.push({id:Xe,name:Ne,type:"user",avatar:hn(re.avatarUrl||re.avatar||re.profileImage)})})}catch(Pe){console.error("User search failed:",Pe)}try{const Pe=await ve.searchChats(te);console.log("[Search] Chat results:",Pe,"Type:",typeof Pe,"IsArray:",Array.isArray(Pe)),Array.isArray(Pe)?Pe.forEach((re,Xe)=>{console.log(`[Search] Processing chat result #${Xe}:`,re),console.log(`[Search] Result #${Xe} - chatType:`,re.chatType,"type:",re.type,"displayName:",re.displayName,"name:",re.name);let Ne="channel";if(typeof re.chatType=="number")Ne=re.chatType===0?"user":re.chatType===1?"group":"channel",console.log(`[Search] Used numeric chatType (${re.chatType}) -> ${Ne}`);else if(re.type&&typeof re.type=="string"){const Ut=String(re.type).toLowerCase().trim();if(Ut==="dm"||Ut==="directmessage")Ne="user",console.log("[Search] Used type field 'dm/directmessage' -> user");else if(Ut==="group")Ne="group",console.log("[Search] Used type field 'group' -> group");else if(Ut==="channel")Ne="channel",console.log("[Search] Used type field 'channel' -> channel");else if(console.log(`[Search] type field '${re.type}' is unknown, trying chatType...`),re.chatType&&typeof re.chatType=="string"){const ua=String(re.chatType).toLowerCase().trim();ua==="conversation"||ua==="dm"||ua==="directmessage"?(Ne="user",console.log("[Search] Used chatType field 'conversation/dm' -> user")):ua==="group"?(Ne="group",console.log("[Search] Used chatType field 'group' -> group")):ua==="channel"?(Ne="channel",console.log("[Search] Used chatType field 'channel' -> channel")):console.log(`[Search] chatType '${ua}' unknown, defaulting to channel`)}}else if(re.chatType&&typeof re.chatType=="string"){const Ut=String(re.chatType).toLowerCase().trim();Ut==="conversation"||Ut==="dm"||Ut==="directmessage"||Ut==="0"?(Ne="user",console.log(`[Search] Used string chatType '${re.chatType}' (${Ut}) -> user`)):Ut==="group"||Ut==="1"?(Ne="group",console.log(`[Search] Used string chatType '${re.chatType}' (${Ut}) -> group`)):Ut==="channel"||Ut==="2"?(Ne="channel",console.log(`[Search] Used string chatType '${re.chatType}' (${Ut}) -> channel`)):console.log(`[Search] string chatType '${Ut}' unknown, defaulting to channel`)}else console.log("[Search] No type info found, using default (channel)");const st=String(re.displayName||re.name||re.username||re.title||"Unknown").trim(),Pn=hn(re.avatarUrl||re.avatar||re.profileImage)||"",fn={id:String(re.entityId||re.id||"unknown"),name:st==="Unknown"||st.length===0?"Unknown User":st,type:Ne,avatar:Pn||void 0};console.log("[Search] Mapped result:",fn,"Original:",{displayName:re.displayName,name:re.name,username:re.username,avatar:re.avatar,avatarUrl:re.avatarUrl}),xe.push(fn)}):(console.warn("[Search] Chat results is not an array:",Pe),console.warn("[Search] Type of chatsResults:",typeof Pe))}catch(Pe){console.error("Chat search failed:",Pe)}const me=new Set,be=xe.filter(Pe=>{const re=`${Pe.name.toLowerCase().trim()}|${Pe.type}`;return me.has(re)?(console.log(`[Search] Filtered duplicate: ${re}`),!1):(me.add(re),!0)});be.sort((Pe,re)=>{const Xe={user:0,group:1,channel:2};return(Xe[Pe.type]??3)-(Xe[re.type]??3)}),console.log("[Search] Final deduplicated results (by name+type):",be,"Removed duplicates:",xe.length-be.length),ke(be),Re(!1)}catch(ae){console.error("Search error:",ae),Re(!1)}},300))},vi=async te=>{if(console.log("[Search] Selected result:",te,"Type:",te.type),te.type==="user"){oe(null),Nt(te),We(!0);try{const ae=await it(()=>Promise.resolve().then(()=>Ln),void 0).then(xe=>xe.userService);console.log("[Search] Loading user profile for ID:",te.id);const ve=await ae.getUserProfile(te.id);console.log("[Search] Loaded user profile:",ve),oe(ve),J(!0)}catch(ae){console.error("[Search] Failed to load user profile:",ae),oe(te),J(!0)}finally{We(!1)}}else{console.log("[Search] Opening group/channel profile for:",te.name),oe(null),We(!0);try{const ae=await Ve.getChatProfile(te.id);console.log("[Search] Loaded chat profile:",ae),Ue.getState().setCurrentChat(ae),wt(!0)}catch(ae){console.error("[Search] Failed to load chat profile:",ae),le.error(De(ae,"Failed to load profile"))}finally{We(!1)}}ie(""),ke([])},Zi=async(te,ae)=>{try{if(!te){le.error("Error: User ID not found");return}console.log("[Dashboard] handleSendMessage called with userId:",te,"message:",ae),J(!1),oe(null),Nt(null);const ve=Ue.getState();console.log("[Dashboard] Looking for existing DM with user:",te);const xe=ve.chats;let me=xe.find(Xe=>Xe.type!=="dm"?!1:Xe.members&&Xe.members.length>0?Xe.members.some(Ne=>Ne.userId===te||Ne.id===te||Ne.user?.id===te||Ne.user?.userId===te):!1);if(!me){const Xe=xe.filter(Ne=>Ne.type==="dm"&&(!Ne.members||Ne.members.length===0));console.log("[Dashboard] Checking",Xe.length,"DM chats without members");for(const Ne of Xe)try{const st=await Ve.getChatProfile(Ne.id);if(console.log("[Dashboard] Fetched full DM profile:",st.id,"members:",st.members?.length),st.members&&st.members.length>0&&st.members.some(fn=>fn.userId===te||fn.id===te||fn.user?.id===te||fn.user?.userId===te)){console.log("[Dashboard] Found existing DM by fetching profile:",st.id),me=st;break}}catch(st){console.error("[Dashboard] Error fetching DM profile:",st)}}if(me){console.log("[Dashboard] Opening existing DM:",me.id),ve.setCurrentChat(me);return}console.log("[Dashboard] No existing DM found, creating temporary blank chat for user:",te);let be=ue?.username||"User",Pe=ue?.avatar;if(!ue)try{const Ne=await(await it(()=>Promise.resolve().then(()=>Ln),void 0).then(st=>st.userService)).getUserProfile(te);be=Ne.username||"User",Pe=Ne.avatar,console.log("[Dashboard] Fetched user profile for blank chat:",be)}catch(Xe){console.error("[Dashboard] Failed to fetch user profile:",Xe)}const re={id:`temp_dm_${te}`,name:be,type:"dm",avatar:Pe,description:"",privacy:"private",members:[],unreadCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(console.log("[Dashboard] Setting current chat to blank:",re.id),ve.setCurrentChat(re),ae&&ae.trim()){console.log("[Dashboard] Sending initial message to user:",te);try{const Xe=new FormData;Xe.append("receiverId",te),Xe.append("content",ae),await we.post("/messages/",Xe,{headers:{"Content-Type":"multipart/form-data"}}),console.log("[Dashboard] Message sent successfully, backend auto-created DM"),await new Promise(Pn=>setTimeout(Pn,500)),await ve.loadChats();const st=ve.chats.find(Pn=>Pn.type!=="dm"||!Pn.members||Pn.members.length===0?!1:Pn.members.some(fn=>fn.userId===te||fn.id===te||fn.user?.id===te||fn.user?.userId===te));st&&(console.log("[Dashboard] Found newly created DM:",st.id),ve.setCurrentChat(st))}catch(Xe){console.error("[Dashboard] Error sending message:",Xe),le.error(De(Xe,"Failed to send message"))}}}catch(ve){console.error("[Dashboard] Failed to open DM:",ve),le.error(De(ve,"Failed to open direct message"))}};return c.jsxs("div",{className:`${R.dashboard} ${ft?R.darkMode:""}`,children:[c.jsx(v4,{chats:i,currentChat:o,onSelectChat:te=>{ta(te),Zt(!1)},isLoadingChats:l,user:t,onLogout:ca,onMenuOpen:()=>U(!Oe),searchQuery:ee,onSearchChange:yi,searchResults:ye,onSelectSearchResult:te=>{vi(te),Zt(!1)},isSearching:pe,isDarkMode:ft,onClearSearch:()=>{ie(""),Nt(null),J(!1)},isMobileOpen:vn,onMobileClose:()=>Zt(!1),onlineUsers:h}),c.jsx(iU,{isOpen:Oe,onClose:()=>U(!1),onCreateGroup:()=>{_(!0),U(!1)},onCreateChannel:()=>{j(!0),U(!1)},onCreateCustomReaction:()=>{se(!0),U(!1)},onEditProfile:()=>{Q(!0),U(!1)},onShowNotifications:()=>{W(!0),U(!1)},onShowAdminPanel:()=>{qe(!0),U(!1)},onShowBlockedUsers:()=>{je(!0),U(!1)},isDarkMode:ft,onToggleDarkMode:y,onLogout:ca}),c.jsx(q4,{currentChat:o,messages:d,isLoadingMessages:x,onSendMessage:$,onOpenGroupCreate:()=>_(!0),onOpenChannelCreate:()=>j(!0),onOpenUserProfile:async te=>{We(!0),J(!0),Nt(null);try{const ve=await(await it(()=>Promise.resolve().then(()=>Ln),void 0).then(xe=>xe.userService)).getUserProfile(te);oe(ve)}catch(ae){console.error("Failed to load user profile:",ae)}finally{We(!1)}},onOpenMobileSidebar:()=>Zt(!0),onOpenChatProfile:()=>wt(!0)}),o?.type==="dm"&&c.jsx(sU,{currentChat:o,onReloadChat:async()=>{if(o){const te=await Ve.getChatProfile(o.id);Ue.getState().setCurrentChat(te)}},onViewUserProfile:te=>{on(te),Et(!0)},onConversationDeleted:()=>{Ue.getState().setCurrentChat(null),Ue.getState().loadChats()}}),c.jsx(Zx,{isOpen:C,onClose:()=>_(!1),onCreate:A,isDarkMode:ft,isChannel:!1}),c.jsx(Zx,{isOpen:k,onClose:()=>j(!1),onCreate:Z,isDarkMode:ft,isChannel:!0}),c.jsx(rU,{isOpen:N,onClose:()=>{I(!1),O(null)},chat:M,onUpdate:he,isDarkMode:ft,isChannel:M?.type==="channel"}),c.jsx(lU,{isOpen:P,onClose:()=>Q(!1),user:t,onUpdate:Vt,isDarkMode:ft}),c.jsx(cU,{isOpen:ne,onClose:()=>W(!1),isDarkMode:ft}),c.jsx(oU,{isOpen:ce,onClose:()=>se(!1),onCreate:xn,isDarkMode:ft}),c.jsx(_D,{isOpen:Ee,onClose:()=>qe(!1),isDarkMode:ft}),c.jsx(h4,{isOpen:de,onClose:()=>je(!1),isDarkMode:ft}),Se&&ue&&c.jsx(Qx,{isOpen:Se,onClose:()=>{J(!1),oe(null),Nt(null)},userId:ue.id,onSendMessage:Zi,onBlockUser:Yt,onUnblockUser:kt}),o&&(o.type==="group"||o.type==="channel")&&c.jsx(p4,{isOpen:qt,onClose:()=>wt(!1),chat:o,currentUserId:t?.id||"",onEditGroup:()=>{wt(!1),O(o),I(!0)},onLeaveGroup:pt,onDeleteGroup:$t,onKickMember:Je,onBanMember:Te,onUnbanMember:q,onUpdatePrivacy:ct,onViewUserProfile:te=>{on(te),Et(!0)}}),dn&&c.jsx(Qx,{isOpen:Gt,onClose:()=>{Et(!1),on(null)},userId:dn,onSendMessage:Zi,onBlockUser:Yt,onUnblockUser:kt})]})},ar={getNotifications:async()=>{try{console.log("[NotificationService] Fetching notifications from GET /notifications");const t=await we.get("/notifications");console.log("[NotificationService] Raw API Response:",{status:t.status,statusText:t.statusText,data:t.data});let n=[];t.data?.success&&t.data?.data?(n=t.data.data,console.log("[NotificationService] Got notifications from response.data.data:",n.length,"items")):t.data&&Array.isArray(t.data)?(n=t.data,console.log("[NotificationService] Response is direct array:",n.length,"items")):(console.log("[NotificationService] Unexpected response format:",t.data),n=[]);const i=Array.isArray(n)?n.map(o=>({id:o.notificationId||o.id,chatId:o.chatId,messageId:o.messageId,chatName:o.chatName||"",chatAvatar:o.chatAvatar||"",senderName:o.senderName||"",content:o.content||"",fileUrl:o.fileUrl,sentTime:o.sentTime||new Date().toISOString(),seen:o.seen!==void 0?o.seen:!1})):[];return console.log("[NotificationService] Returning",i.length,"normalized notifications"),i}catch(t){return console.error("[NotificationService] Failed to fetch notifications:",t.message),console.error("[NotificationService] Error details:",{status:t.response?.status,statusText:t.response?.statusText,data:t.response?.data,url:t.config?.url}),[]}},markAsSeen:async t=>{try{console.log("[NotificationService] Marking notification as seen:",t);const n=await we.put(`/notifications/seen?notificationId=${t}`);return console.log("[NotificationService] Mark as seen response:",n.data),n.data?.data||n.data}catch(n){throw console.error("[NotificationService] Failed to mark notification as seen:",n),console.error("[NotificationService] Error details:",{status:n.response?.status,statusText:n.response?.statusText,data:n.response?.data}),n}},markMultipleAsSeen:async t=>{try{if(!Array.isArray(t)||t.length===0)return console.warn("[NotificationService] No notification IDs provided"),{success:!0};console.log("[NotificationService] Marking multiple notifications as seen:",t),console.log("[NotificationService] Notification IDs (type, count):",typeof t[0],t.length);const n={notificationIds:t};console.log("[NotificationService] Request body:",JSON.stringify(n));const i=await we.put("/notifications/seen/batch",n);return console.log("[NotificationService] Mark multiple response:",{status:i.status,statusText:i.statusText,data:i.data}),i.data?.success||i.status===200?(console.log("[NotificationService] Successfully marked",t.length,"notifications as seen"),i.data||{success:!0}):(console.warn("[NotificationService] Response indicates potential issue:",i.data),i.data||{success:!0})}catch(n){throw console.error("[NotificationService] Failed to mark multiple notifications as seen:",n),console.error("[NotificationService] Full error details:",{message:n.message,status:n.response?.status,statusText:n.response?.statusText,responseData:n.response?.data,requestData:n.config?.data,headers:n.config?.headers}),n}},markAllAsSeen:async()=>{try{const t=await we.put("/notifications/seen/all");return t.data?.data||t.data}catch(t){throw console.warn("[NotificationService] PUT /notifications/seen/all may not be implemented:",t),t}}},lc=Object.freeze(Object.defineProperty({__proto__:null,notificationService:ar},Symbol.toStringTag,{value:"Module"})),dU=_c(t=>({notifications:[],isLoading:!1,error:null,loadNotifications:async()=>{t({isLoading:!0,error:null});try{const n=await ar.getNotifications();t({notifications:n,isLoading:!1})}catch(n){const i=n.response?.data?.message||"Failed to load notifications";t({error:i,isLoading:!1})}},markAsSeen:async n=>{t({error:null});try{await ar.markAsSeen(n),t(i=>({notifications:i.notifications.map(o=>o.id===n?{...o,seen:!0}:o)}))}catch(i){const o=i.response?.data?.message||"Failed to mark notification as seen";t({error:o})}},markMultipleAsSeen:async n=>{t({error:null});try{await ar.markMultipleAsSeen(n),t(i=>({notifications:i.notifications.map(o=>n.includes(o.id)?{...o,seen:!0}:o)}))}catch(i){const o=i.response?.data?.message||"Failed to mark notifications as seen";t({error:o})}},markAllAsSeen:async()=>{t({error:null});try{await ar.markAllAsSeen(),t(n=>({notifications:n.notifications.map(i=>({...i,seen:!0}))}))}catch(n){const i=n.response?.data?.message||"Failed to mark all notifications as seen";t({error:i})}},clearError:()=>t({error:null}),handleNewNotification:n=>{console.log("[NotificationStore] New notification:",n),t(i=>{const o={id:n.messageId,messageId:n.messageId,chatId:n.chatId,chatName:n.chatName,chatAvatar:n.chatAvatar,senderName:n.senderName,content:n.content,sentTime:n.sentTime,seen:!1,fileUrl:n.fileUrl};return i.notifications.some(d=>d.chatId===o.chatId&&d.sentTime===o.sentTime)?i:{notifications:[o,...i.notifications]}})}}));function fU(){const{isAuthenticated:t}=jr();return console.log("[AppRoutes] Rendering with isAuthenticated:",t),c.jsxs(V_,{children:[c.jsx(Bs,{path:"/login",element:t?c.jsx(Is,{to:"/dashboard",replace:!0}):c.jsx(UT,{})}),c.jsx(Bs,{path:"/register",element:t?c.jsx(Is,{to:"/dashboard",replace:!0}):c.jsx(OT,{})}),c.jsx(Bs,{path:"/forgot-password",element:t?c.jsx(Is,{to:"/dashboard",replace:!0}):c.jsx(LT,{})}),c.jsx(Bs,{path:"/dashboard",element:c.jsx(iT,{children:c.jsx(uU,{})})}),c.jsx(Bs,{path:"/",element:c.jsx(Is,{to:t?"/dashboard":"/login",replace:!0})}),c.jsx(Bs,{path:"*",element:c.jsx(Is,{to:"/",replace:!0})})]})}function pU(){const{isAuthenticated:t}=jr(),[n,i]=w.useState([]);w.useEffect(()=>Ps.subscribe(i),[]);const o=l=>{Ps.remove(l)};w.useEffect(()=>{console.log("[App] Initializing auth from localStorage..."),gt.getState().initializeAuth(),console.log("[App] Auth initialization complete")},[]),w.useEffect(()=>{if(!t){console.log("[App] Not authenticated, skipping SignalR initialization");return}console.log("[App] Setting up SignalR event handlers...");const l=Ue.getState(),d=dU.getState();return Ze.setEventHandlers({onUserOnline:h=>{l.handleUserOnline(h)},onUserOffline:h=>{l.handleUserOffline({...h,lastSeen:h.lastSeen||new Date().toISOString()})},onReceiveMessage:h=>{l.handleReceiveMessage(h)},onMessageEdited:h=>{l.handleMessageEdited(h)},onMessageDeleted:h=>{l.handleMessageDeleted(h)},onReactionAdded:h=>{l.handleReactionAdded(h)},onReactionRemoved:h=>{l.handleReactionRemoved(h)},onUserTyping:h=>{l.handleUserTyping(h)},onUserStoppedTyping:h=>{l.handleUserStoppedTyping(h)},onNewNotification:h=>{d.handleNewNotification(h)},onMessagePinned:h=>{l.handleMessagePinned(h)},onMessageUnpinned:h=>{l.handleMessageUnpinned(h)},onAddedToChat:h=>{l.handleAddedToChat(h)},onNewConversation:h=>{l.handleNewConversation(h)},onConversationCreated:h=>{l.handleConversationCreated(h)},onPermissionGranted:h=>{l.handlePermissionGranted(h)},onPermissionRevoked:h=>{l.handlePermissionRevoked(h)},onAllPermissionsRevoked:h=>{l.handleAllPermissionsRevoked(h)},onUserBlockedYou:h=>{l.handleUserBlockedYou(h)},onYouBlockedUser:h=>{l.handleYouBlockedUser(h)},onUserUnblockedYou:h=>{l.handleUserUnblockedYou(h)},onYouUnblockedUser:h=>{l.handleYouUnblockedUser(h)},onChatDeleted:h=>{l.handleChatDeleted(h)},onRemovedFromChat:h=>{l.handleRemovedFromChat(h)},onError:h=>{console.error("[App] SignalR Error:",h)}}),(async()=>{try{console.log("[App] Starting SignalR connection..."),await Ze.start(),console.log("[App] SignalR connected successfully");const h=Ue.getState();h.chats.length===0&&(console.log("[App] Loading chats before fetching presence states..."),await h.loadChats());const m=new Set;h.chats.forEach(g=>{g.members&&g.members.forEach(x=>{const S=x.userId||x.id||x.user?.id;S&&m.add(S)})});const y=Array.from(m);if(y.length>0){console.log("[App] Fetching presence states for",y.length,"users:",y);try{const g=await Ze.getPresenceStates(y);console.log("[App] Received presence states:",g),console.log("[App] Presence states type check:",typeof g,Object.keys(g).length,"keys"),h.setInitialPresenceStates(g),console.log("[App] Presence states initialized successfully"),console.log("[App] OnlineUsers map after init:",h.onlineUsers)}catch(g){console.error("[App] Failed to fetch initial presence states:",g)}}else console.log("[App] No user IDs available from chat list - presence will be fetched when chats are opened")}catch(h){console.error("[App] Failed to start SignalR:",h)}})(),()=>{console.log("[App] Stopping SignalR connection..."),Ze.stop()}},[t]);try{return c.jsxs(c.Fragment,{children:[c.jsx(P_,{children:c.jsx(fU,{})}),c.jsx(I2,{toasts:n,onClose:o}),c.jsx(bD,{})]})}catch(l){return console.error("App Error:",l),c.jsxs("div",{style:{padding:"20px",color:"red"},children:[c.jsx("h1",{children:"Error Loading Application"}),c.jsx("p",{children:"Check browser console for details"}),c.jsx("pre",{children:String(l)})]})}}const jS=document.getElementById("root");if(!jS)throw new Error("Root element not found");console.log("React app starting...");yw.createRoot(jS).render(c.jsx(w.StrictMode,{children:c.jsx(pU,{})}));console.log("React app rendered");export{we as a};
