const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/reaction.service-Dv589mdx.js","assets/vendor-DW-3xwEg.js","assets/ui-v5mC-b1Q.js"])))=>i.map(i=>d[i]);
import{a as w_,b as C_,R as ti,N as Fo,u as Vx,r as C,L as rf,g as Px,B as T_,c as j_,d as Bo}from"./vendor-DW-3xwEg.js";import{C as Ns,E as lf,a as cf,A as uf,b as A_,c as E_,X as Bi,I as R_,d as M_,e as D_,T as k_,f as N_,U as z_,g as Xl,h as O_,P as U_,i as Hx,L as Ix,S as df,K as B_,j as Kl,k as L_,l as Fx,M as V_,m as P_,n as H_,o as I_,p as qx,q as F_,r as q_,s as Ay,B as G_,t as Y_,u as $_}from"./ui-v5mC-b1Q.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var Rd={exports:{}},Lo={};var Ey;function X_(){if(Ey)return Lo;Ey=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(o,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:a,type:o,key:d,ref:l!==void 0?l:null,props:u}}return Lo.Fragment=n,Lo.jsx=s,Lo.jsxs=s,Lo}var Ry;function K_(){return Ry||(Ry=1,Rd.exports=X_()),Rd.exports}var p=K_(),Md={exports:{}},Vo={},Dd={exports:{}},kd={};var My;function Q_(){return My||(My=1,(function(a){function n(L,Y){var ee=L.length;L.push(Y);e:for(;0<ee;){var oe=ee-1>>>1,we=L[oe];if(0<l(we,Y))L[oe]=Y,L[ee]=we,ee=oe;else break e}}function s(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var Y=L[0],ee=L.pop();if(ee!==Y){L[0]=ee;e:for(var oe=0,we=L.length,Se=we>>>1;oe<Se;){var Ce=2*(oe+1)-1,pe=L[Ce],ge=Ce+1,Qe=L[ge];if(0>l(pe,ee))ge<we&&0>l(Qe,pe)?(L[oe]=Qe,L[ge]=ee,oe=ge):(L[oe]=pe,L[Ce]=ee,oe=Ce);else if(ge<we&&0>l(Qe,ee))L[oe]=Qe,L[ge]=ee,oe=ge;else break e}}return Y}function l(L,Y){var ee=L.sortIndex-Y.sortIndex;return ee!==0?ee:L.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var m=[],y=[],v=1,x=null,S=3,T=!1,_=!1,E=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function $(L){for(var Y=s(y);Y!==null;){if(Y.callback===null)o(y);else if(Y.startTime<=L)o(y),Y.sortIndex=Y.expirationTime,n(m,Y);else break;Y=s(y)}}function V(L){if(E=!1,$(L),!_)if(s(m)!==null)_=!0,Q||(Q=!0,He());else{var Y=s(y);Y!==null&&Re(V,Y.startTime-L)}}var Q=!1,Z=-1,ne=5,ve=-1;function ue(){return D?!0:!(a.unstable_now()-ve<ne)}function De(){if(D=!1,Q){var L=a.unstable_now();ve=L;var Y=!0;try{e:{_=!1,E&&(E=!1,H(Z),Z=-1),T=!0;var ee=S;try{t:{for($(L),x=s(m);x!==null&&!(x.expirationTime>L&&ue());){var oe=x.callback;if(typeof oe=="function"){x.callback=null,S=x.priorityLevel;var we=oe(x.expirationTime<=L);if(L=a.unstable_now(),typeof we=="function"){x.callback=we,$(L),Y=!0;break t}x===s(m)&&o(m),$(L)}else o(m);x=s(m)}if(x!==null)Y=!0;else{var Se=s(y);Se!==null&&Re(V,Se.startTime-L),Y=!1}}break e}finally{x=null,S=ee,T=!1}Y=void 0}}finally{Y?He():Q=!1}}}var He;if(typeof z=="function")He=function(){z(De)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,je=Ue.port2;Ue.port1.onmessage=De,He=function(){je.postMessage(null)}}else He=function(){R(De,0)};function Re(L,Y){Z=R(function(){L(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(L){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var ee=S;S=Y;try{return L()}finally{S=ee}},a.unstable_requestPaint=function(){D=!0},a.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=S;S=L;try{return Y()}finally{S=ee}},a.unstable_scheduleCallback=function(L,Y,ee){var oe=a.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?oe+ee:oe):ee=oe,L){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ee+we,L={id:v++,callback:Y,priorityLevel:L,startTime:ee,expirationTime:we,sortIndex:-1},ee>oe?(L.sortIndex=ee,n(y,L),s(m)===null&&L===s(y)&&(E?(H(Z),Z=-1):E=!0,Re(V,ee-oe))):(L.sortIndex=we,n(m,L),_||T||(_=!0,Q||(Q=!0,He()))),L},a.unstable_shouldYield=ue,a.unstable_wrapCallback=function(L){var Y=S;return function(){var ee=S;S=Y;try{return L.apply(this,arguments)}finally{S=ee}}}})(kd)),kd}var Dy;function W_(){return Dy||(Dy=1,Dd.exports=Q_()),Dd.exports}var ky;function Z_(){if(ky)return Vo;ky=1;var a=W_(),n=w_(),s=C_();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(o(188))}function y(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,r=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return m(c),e;if(f===r)return m(c),t;f=f.sibling}throw Error(o(188))}if(i.return!==r.return)i=c,r=f;else{for(var g=!1,b=c.child;b;){if(b===i){g=!0,i=c,r=f;break}if(b===r){g=!0,r=c,i=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===i){g=!0,i=f,r=c;break}if(b===r){g=!0,r=f,i=c;break}b=b.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==r)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function He(e){return e===null||typeof e!="object"?null:(e=De&&e[De]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case R:return"Profiler";case D:return"StrictMode";case V:return"Suspense";case Q:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case z:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:je(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return je(e(t))}catch{}}return null}var Re=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},oe=[],we=-1;function Se(e){return{current:e}}function Ce(e){0>we||(e.current=oe[we],oe[we]=null,we--)}function pe(e,t){we++,oe[we]=e.current,e.current=t}var ge=Se(null),Qe=Se(null),at=Se(null),te=Se(null);function _t(e,t){switch(pe(at,t),pe(Qe,e),pe(ge,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qg(t),e=Wg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ce(ge),pe(ge,e)}function Lt(){Ce(ge),Ce(Qe),Ce(at)}function rn(e){e.memoizedState!==null&&pe(te,e);var t=ge.current,i=Wg(t,e.type);t!==i&&(pe(Qe,e),pe(ge,i))}function At(e){Qe.current===e&&(Ce(ge),Ce(Qe)),te.current===e&&(Ce(te),No._currentValue=ee)}var q,ie;function _e(e){if(q===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",ie=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+e+ie}var wt=!1;function Ft(e,t){if(!e||wt)return"";wt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(B){var O=B}Reflect.construct(e,[],G)}else{try{G.call()}catch(B){O=B}e.call(G.prototype)}}else{try{throw Error()}catch(B){O=B}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(B){if(B&&O&&typeof B.stack=="string")return[B.stack,O.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var w=g.split(`
`),N=b.split(`
`);for(c=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(r===w.length||c===N.length)for(r=w.length-1,c=N.length-1;1<=r&&0<=c&&w[r]!==N[c];)c--;for(;1<=r&&0<=c;r--,c--)if(w[r]!==N[c]){if(r!==1||c!==1)do if(r--,c--,0>c||w[r]!==N[c]){var P=`
`+w[r].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=r&&0<=c);break}}}finally{wt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?_e(i):""}function pt(e,t){switch(e.tag){case 26:case 27:case 5:return _e(e.type);case 16:return _e("Lazy");case 13:return e.child!==t&&t!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Ft(e.type,!1);case 11:return Ft(e.type.render,!1);case 1:return Ft(e.type,!0);case 31:return _e("Activity");default:return""}}function xn(e){try{var t="",i=null;do t+=pt(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var lt=Object.prototype.hasOwnProperty,ct=a.unstable_scheduleCallback,Yt=a.unstable_cancelCallback,Gs=a.unstable_shouldYield,Ys=a.unstable_requestPaint,X=a.unstable_now,he=a.unstable_getCurrentPriorityLevel,it=a.unstable_ImmediatePriority,ht=a.unstable_UserBlockingPriority,Et=a.unstable_NormalPriority,ia=a.unstable_LowPriority,Hn=a.unstable_IdlePriority,si=a.log,oi=a.unstable_setDisableYieldValue,In=null,Rt=null;function ln(e){if(typeof si=="function"&&oi(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(In,e)}catch{}}var Mt=Math.clz32?Math.clz32:J,ri=Math.log,W=Math.LN2;function J(e){return e>>>=0,e===0?32:31-(ri(e)/W|0)|0}var le=256,Ve=262144,ce=4194304;function de(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~f,r!==0?c=de(r):(g&=b,g!==0?c=de(g):i||(i=b&~e,i!==0&&(c=de(i))))):(b=r&~f,b!==0?c=de(b):g!==0?c=de(g):i||(i=r&~e,i!==0&&(c=de(i)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:c}function ae(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var e=ce;return ce<<=1,(ce&62914560)===0&&(ce=4194304),e}function sa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function li(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vr(e,t,i,r,c,f){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,N=e.hiddenUpdates;for(i=g&~i;0<i;){var P=31-Mt(i),G=1<<P;b[P]=0,w[P]=-1;var O=N[P];if(O!==null)for(N[P]=null,P=0;P<O.length;P++){var B=O[P];B!==null&&(B.lane&=-536870913)}i&=~G}r!==0&&Dt(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function Dt(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Mt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function oa(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Mt(i),c=1<<r;c&t|e[r]&t&&(e[r]|=t),i&=~c}}function zp(e,t){var i=t&-t;return i=(i&42)!==0?1:vc(i),(i&(e.suspendedLanes|t))!==0?0:i}function vc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Op(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:by(e.type))}function Up(e,t){var i=Y.p;try{return Y.p=e,t()}finally{Y.p=i}}var Ea=Math.random().toString(36).slice(2),$t="__reactFiber$"+Ea,cn="__reactProps$"+Ea,Hi="__reactContainer$"+Ea,bc="__reactEvents$"+Ea,fS="__reactListeners$"+Ea,pS="__reactHandles$"+Ea,Bp="__reactResources$"+Ea,$s="__reactMarker$"+Ea;function Sc(e){delete e[$t],delete e[cn],delete e[bc],delete e[fS],delete e[pS]}function Ii(e){var t=e[$t];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Hi]||i[$t]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=iy(e);e!==null;){if(i=e[$t])return i;e=iy(e)}return t}e=i,i=e.parentNode}return null}function Fi(e){if(e=e[$t]||e[Hi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function qi(e){var t=e[Bp];return t||(t=e[Bp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qt(e){e[$s]=!0}var Lp=new Set,Vp={};function ci(e,t){Gi(e,t),Gi(e+"Capture",t)}function Gi(e,t){for(Vp[e]=t,e=0;e<t.length;e++)Lp.add(t[e])}var hS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pp={},Hp={};function mS(e){return lt.call(Hp,e)?!0:lt.call(Pp,e)?!1:hS.test(e)?Hp[e]=!0:(Pp[e]=!0,!1)}function xr(e,t,i){if(mS(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function br(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ra(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gS(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _c(e){if(!e._valueTracker){var t=Ip(e)?"checked":"value";e._valueTracker=gS(e,t,""+e[t])}}function Fp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Ip(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yS=/[\n"\\]/g;function Rn(e){return e.replace(yS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wc(e,t,i,r,c,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+En(t)):e.value!==""+En(t)&&(e.value=""+En(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Cc(e,g,En(t)):i!=null?Cc(e,g,En(i)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+En(b):e.removeAttribute("name")}function qp(e,t,i,r,c,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){_c(e);return}i=i!=null?""+En(i):"",t=t!=null?""+En(t):i,b||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),_c(e)}function Cc(e,t,i){t==="number"&&Sr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Yi(e,t,i,r){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&r&&(e[i].defaultSelected=!0)}else{for(i=""+En(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Gp(e,t,i){if(t!=null&&(t=""+En(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+En(i):""}function Yp(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(o(92));if(Re(r)){if(1<r.length)throw Error(o(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=En(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),_c(e)}function $i(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var vS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $p(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||vS.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Xp(e,t,i){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&i[c]!==r&&$p(e,c,r)}else for(var f in t)t.hasOwnProperty(f)&&$p(e,f,t[f])}function Tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(e){return bS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function la(){}var jc=null;function Ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,Ki=null;function Kp(e){var t=Fi(e);if(t&&(e=t.stateNode)){var i=e[cn]||null;e:switch(e=t.stateNode,t.type){case"input":if(wc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Rn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var c=r[cn]||null;if(!c)throw Error(o(90));wc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Fp(r)}break e;case"textarea":Gp(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Yi(e,!!i.multiple,t,!1)}}}var Ec=!1;function Qp(e,t,i){if(Ec)return e(t,i);Ec=!0;try{var r=e(t);return r}finally{if(Ec=!1,(Xi!==null||Ki!==null)&&(cl(),Xi&&(t=Xi,e=Ki,Ki=Xi=null,Kp(t),e)))for(t=0;t<e.length;t++)Kp(e[t])}}function Ks(e,t){var i=e.stateNode;if(i===null)return null;var r=i[cn]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=!1;if(ca)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Rc=!1}var Ra=null,Mc=null,wr=null;function Wp(){if(wr)return wr;var e,t=Mc,i=t.length,r,c="value"in Ra?Ra.value:Ra.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(r=1;r<=g&&t[i-r]===c[f-r];r++);return wr=c.slice(e,1<r?1-r:void 0)}function Cr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tr(){return!0}function Zp(){return!1}function un(e){function t(i,r,c,f,g){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Tr:Zp,this.isPropagationStopped=Zp,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),t}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jr=un(ui),Ws=x({},ui,{view:0,detail:0}),SS=un(Ws),Dc,kc,Zs,Ar=x({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(Dc=e.screenX-Zs.screenX,kc=e.screenY-Zs.screenY):kc=Dc=0,Zs=e),Dc)},movementY:function(e){return"movementY"in e?e.movementY:kc}}),Jp=un(Ar),_S=x({},Ar,{dataTransfer:0}),wS=un(_S),CS=x({},Ws,{relatedTarget:0}),Nc=un(CS),TS=x({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),jS=un(TS),AS=x({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ES=un(AS),RS=x({},ui,{data:0}),eh=un(RS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kS[e])?!!t[e]:!1}function zc(){return NS}var zS=x({},Ws,{key:function(e){if(e.key){var t=MS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OS=un(zS),US=x({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),th=un(US),BS=x({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),LS=un(BS),VS=x({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),PS=un(VS),HS=x({},Ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=un(HS),FS=x({},ui,{newState:0,oldState:0}),qS=un(FS),GS=[9,13,27,32],Oc=ca&&"CompositionEvent"in window,Js=null;ca&&"documentMode"in document&&(Js=document.documentMode);var YS=ca&&"TextEvent"in window&&!Js,nh=ca&&(!Oc||Js&&8<Js&&11>=Js),ah=" ",ih=!1;function sh(e,t){switch(e){case"keyup":return GS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function $S(e,t){switch(e){case"compositionend":return oh(t);case"keypress":return t.which!==32?null:(ih=!0,ah);case"textInput":return e=t.data,e===ah&&ih?null:e;default:return null}}function XS(e,t){if(Qi)return e==="compositionend"||!Oc&&sh(e,t)?(e=Wp(),wr=Mc=Ra=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nh&&t.locale!=="ko"?null:t.data;default:return null}}var KS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KS[e.type]:t==="textarea"}function lh(e,t,i,r){Xi?Ki?Ki.push(r):Ki=[r]:Xi=r,t=gl(t,"onChange"),0<t.length&&(i=new jr("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var eo=null,to=null;function QS(e){qg(e,0)}function Er(e){var t=Xs(e);if(Fp(t))return e}function ch(e,t){if(e==="change")return t}var uh=!1;if(ca){var Uc;if(ca){var Bc="oninput"in document;if(!Bc){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),Bc=typeof dh.oninput=="function"}Uc=Bc}else Uc=!1;uh=Uc&&(!document.documentMode||9<document.documentMode)}function fh(){eo&&(eo.detachEvent("onpropertychange",ph),to=eo=null)}function ph(e){if(e.propertyName==="value"&&Er(to)){var t=[];lh(t,to,e,Ac(e)),Qp(QS,t)}}function WS(e,t,i){e==="focusin"?(fh(),eo=t,to=i,eo.attachEvent("onpropertychange",ph)):e==="focusout"&&fh()}function ZS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Er(to)}function JS(e,t){if(e==="click")return Er(t)}function e1(e,t){if(e==="input"||e==="change")return Er(t)}function t1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:t1;function no(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!lt.call(t,c)||!bn(e[c],t[c]))return!1}return!0}function hh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mh(e,t){var i=hh(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hh(i)}}function gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Sr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Sr(e.document)}return t}function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var n1=ca&&"documentMode"in document&&11>=document.documentMode,Wi=null,Vc=null,ao=null,Pc=!1;function vh(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Pc||Wi==null||Wi!==Sr(r)||(r=Wi,"selectionStart"in r&&Lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ao&&no(ao,r)||(ao=r,r=gl(Vc,"onSelect"),0<r.length&&(t=new jr("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Wi)))}function di(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Zi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Hc={},xh={};ca&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function fi(e){if(Hc[e])return Hc[e];if(!Zi[e])return e;var t=Zi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in xh)return Hc[e]=t[i];return e}var bh=fi("animationend"),Sh=fi("animationiteration"),_h=fi("animationstart"),a1=fi("transitionrun"),i1=fi("transitionstart"),s1=fi("transitioncancel"),wh=fi("transitionend"),Ch=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function Fn(e,t){Ch.set(e,t),ci(t,[e])}var Rr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Ji=0,Fc=0;function Mr(){for(var e=Ji,t=Fc=Ji=0;t<e;){var i=Mn[t];Mn[t++]=null;var r=Mn[t];Mn[t++]=null;var c=Mn[t];Mn[t++]=null;var f=Mn[t];if(Mn[t++]=null,r!==null&&c!==null){var g=r.pending;g===null?c.next=c:(c.next=g.next,g.next=c),r.pending=c}f!==0&&Th(i,c,f)}}function Dr(e,t,i,r){Mn[Ji++]=e,Mn[Ji++]=t,Mn[Ji++]=i,Mn[Ji++]=r,Fc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function qc(e,t,i,r){return Dr(e,t,i,r),kr(e)}function pi(e,t){return Dr(e,null,null,t),kr(e)}function Th(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Mt(i),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=i|536870912),f):null}function kr(e){if(50<jo)throw jo=0,Ju=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var es={};function o1(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,i,r){return new o1(e,t,i,r)}function Gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ua(e,t){var i=e.alternate;return i===null?(i=Sn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function jh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Nr(e,t,i,r,c,f){var g=0;if(r=e,typeof e=="function")Gc(e)&&(g=1);else if(typeof e=="string")g=d_(e,i,ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=Sn(31,i,t,c),e.elementType=ve,e.lanes=f,e;case E:return hi(i.children,c,f,t);case D:g=8,c|=24;break;case R:return e=Sn(12,i,t,c|2),e.elementType=R,e.lanes=f,e;case V:return e=Sn(13,i,t,c),e.elementType=V,e.lanes=f,e;case Q:return e=Sn(19,i,t,c),e.elementType=Q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:g=10;break e;case H:g=9;break e;case $:g=11;break e;case Z:g=14;break e;case ne:g=16,r=null;break e}g=29,i=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=Sn(g,i,t,c),t.elementType=e,t.type=r,t.lanes=f,t}function hi(e,t,i,r){return e=Sn(7,e,r,t),e.lanes=i,e}function Yc(e,t,i){return e=Sn(6,e,null,t),e.lanes=i,e}function Ah(e){var t=Sn(18,null,null,0);return t.stateNode=e,t}function $c(e,t,i){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Eh=new WeakMap;function Dn(e,t){if(typeof e=="object"&&e!==null){var i=Eh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:xn(t)},Eh.set(e,t),t)}return{value:e,source:t,stack:xn(t)}}var ts=[],ns=0,zr=null,io=0,kn=[],Nn=0,Ma=null,Qn=1,Wn="";function da(e,t){ts[ns++]=io,ts[ns++]=zr,zr=e,io=t}function Rh(e,t,i){kn[Nn++]=Qn,kn[Nn++]=Wn,kn[Nn++]=Ma,Ma=e;var r=Qn;e=Wn;var c=32-Mt(r)-1;r&=~(1<<c),i+=1;var f=32-Mt(t)+c;if(30<f){var g=c-c%5;f=(r&(1<<g)-1).toString(32),r>>=g,c-=g,Qn=1<<32-Mt(t)+c|i<<c|r,Wn=f+e}else Qn=1<<f|i<<c|r,Wn=e}function Xc(e){e.return!==null&&(da(e,1),Rh(e,1,0))}function Kc(e){for(;e===zr;)zr=ts[--ns],ts[ns]=null,io=ts[--ns],ts[ns]=null;for(;e===Ma;)Ma=kn[--Nn],kn[Nn]=null,Wn=kn[--Nn],kn[Nn]=null,Qn=kn[--Nn],kn[Nn]=null}function Mh(e,t){kn[Nn++]=Qn,kn[Nn++]=Wn,kn[Nn++]=Ma,Qn=t.id,Wn=t.overflow,Ma=e}var Xt=null,st=null,Pe=!1,Da=null,zn=!1,Qc=Error(o(519));function ka(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so(Dn(t,e)),Qc}function Dh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[$t]=e,t[cn]=r,i){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Oe(Eo[i],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),qp(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),Yp(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Xg(t.textContent,i)?(r.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),r.onScroll!=null&&Oe("scroll",t),r.onScrollEnd!=null&&Oe("scrollend",t),r.onClick!=null&&(t.onclick=la),t=!0):t=!1,t||ka(e,!0)}function kh(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Xt=Xt.return}}function as(e){if(e!==Xt)return!1;if(!Pe)return kh(e),Pe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||hd(e.type,e.memoizedProps)),i=!i),i&&st&&ka(e),kh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));st=ay(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));st=ay(e)}else t===27?(t=st,Ya(e.type)?(e=xd,xd=null,st=e):st=t):st=Xt?Un(e.stateNode.nextSibling):null;return!0}function mi(){st=Xt=null,Pe=!1}function Wc(){var e=Da;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Da=null),e}function so(e){Da===null?Da=[e]:Da.push(e)}var Zc=Se(null),gi=null,fa=null;function Na(e,t,i){pe(Zc,t._currentValue),t._currentValue=i}function pa(e){e._currentValue=Zc.current,Ce(Zc)}function Jc(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function eu(e,t,i,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var w=0;w<t.length;w++)if(b.context===t[w]){f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),Jc(f.return,i,e),r||(g=null);break e}f=b.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(o(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Jc(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function is(e,t,i,r){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var b=c.type;bn(c.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(c===te.current){if(g=c.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(No):e=[No])}c=c.return}e!==null&&eu(t,e,i,r),t.flags|=262144}function Or(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yi(e){gi=e,fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return Nh(gi,e)}function Ur(e,t){return gi===null&&yi(e),Nh(e,t)}function Nh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},fa===null){if(e===null)throw Error(o(308));fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fa=fa.next=t;return i}var r1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},l1=a.unstable_scheduleCallback,c1=a.unstable_NormalPriority,kt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new r1,data:new Map,refCount:0}}function oo(e){e.refCount--,e.refCount===0&&l1(c1,function(){e.controller.abort()})}var ro=null,nu=0,ss=0,os=null;function u1(e,t){if(ro===null){var i=ro=[];nu=0,ss=sd(),os={status:"pending",value:void 0,then:function(r){i.push(r)}}}return nu++,t.then(zh,zh),t}function zh(){if(--nu===0&&ro!==null){os!==null&&(os.status="fulfilled");var e=ro;ro=null,ss=0,os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function d1(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var Oh=L.S;L.S=function(e,t){vg=X(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&u1(e,t),Oh!==null&&Oh(e,t)};var vi=Se(null);function au(){var e=vi.current;return e!==null?e:et.pooledCache}function Br(e,t){t===null?pe(vi,vi.current):pe(vi,t.pool)}function Uh(){var e=au();return e===null?null:{parent:kt._currentValue,pool:e}}var rs=Error(o(460)),iu=Error(o(474)),Lr=Error(o(542)),Vr={then:function(){}};function Bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(la,la),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e;default:if(typeof t.status=="string")t.then(la,la);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e}throw bi=t,rs}}function xi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(bi=i,rs):i}}var bi=null;function Vh(){if(bi===null)throw Error(o(459));var e=bi;return bi=null,e}function Ph(e){if(e===rs||e===Lr)throw Error(o(483))}var ls=null,lo=0;function Pr(e){var t=lo;return lo+=1,ls===null&&(ls=[]),Lh(ls,e,t)}function co(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hr(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hh(e){function t(M,j){if(e){var k=M.deletions;k===null?(M.deletions=[j],M.flags|=16):k.push(j)}}function i(M,j){if(!e)return null;for(;j!==null;)t(M,j),j=j.sibling;return null}function r(M){for(var j=new Map;M!==null;)M.key!==null?j.set(M.key,M):j.set(M.index,M),M=M.sibling;return j}function c(M,j){return M=ua(M,j),M.index=0,M.sibling=null,M}function f(M,j,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<j?(M.flags|=67108866,j):k):(M.flags|=67108866,j)):(M.flags|=1048576,j)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function b(M,j,k,I){return j===null||j.tag!==6?(j=Yc(k,M.mode,I),j.return=M,j):(j=c(j,k),j.return=M,j)}function w(M,j,k,I){var fe=k.type;return fe===E?P(M,j,k.props.children,I,k.key):j!==null&&(j.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ne&&xi(fe)===j.type)?(j=c(j,k.props),co(j,k),j.return=M,j):(j=Nr(k.type,k.key,k.props,null,M.mode,I),co(j,k),j.return=M,j)}function N(M,j,k,I){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=$c(k,M.mode,I),j.return=M,j):(j=c(j,k.children||[]),j.return=M,j)}function P(M,j,k,I,fe){return j===null||j.tag!==7?(j=hi(k,M.mode,I,fe),j.return=M,j):(j=c(j,k),j.return=M,j)}function G(M,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Yc(""+j,M.mode,k),j.return=M,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return k=Nr(j.type,j.key,j.props,null,M.mode,k),co(k,j),k.return=M,k;case _:return j=$c(j,M.mode,k),j.return=M,j;case ne:return j=xi(j),G(M,j,k)}if(Re(j)||He(j))return j=hi(j,M.mode,k,null),j.return=M,j;if(typeof j.then=="function")return G(M,Pr(j),k);if(j.$$typeof===z)return G(M,Ur(M,j),k);Hr(M,j)}return null}function O(M,j,k,I){var fe=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return fe!==null?null:b(M,j,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return k.key===fe?w(M,j,k,I):null;case _:return k.key===fe?N(M,j,k,I):null;case ne:return k=xi(k),O(M,j,k,I)}if(Re(k)||He(k))return fe!==null?null:P(M,j,k,I,null);if(typeof k.then=="function")return O(M,j,Pr(k),I);if(k.$$typeof===z)return O(M,j,Ur(M,k),I);Hr(M,k)}return null}function B(M,j,k,I,fe){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return M=M.get(k)||null,b(j,M,""+I,fe);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case T:return M=M.get(I.key===null?k:I.key)||null,w(j,M,I,fe);case _:return M=M.get(I.key===null?k:I.key)||null,N(j,M,I,fe);case ne:return I=xi(I),B(M,j,k,I,fe)}if(Re(I)||He(I))return M=M.get(k)||null,P(j,M,I,fe,null);if(typeof I.then=="function")return B(M,j,k,Pr(I),fe);if(I.$$typeof===z)return B(M,j,k,Ur(j,I),fe);Hr(j,I)}return null}function se(M,j,k,I){for(var fe=null,Ie=null,re=j,Me=j=0,Le=null;re!==null&&Me<k.length;Me++){re.index>Me?(Le=re,re=null):Le=re.sibling;var Fe=O(M,re,k[Me],I);if(Fe===null){re===null&&(re=Le);break}e&&re&&Fe.alternate===null&&t(M,re),j=f(Fe,j,Me),Ie===null?fe=Fe:Ie.sibling=Fe,Ie=Fe,re=Le}if(Me===k.length)return i(M,re),Pe&&da(M,Me),fe;if(re===null){for(;Me<k.length;Me++)re=G(M,k[Me],I),re!==null&&(j=f(re,j,Me),Ie===null?fe=re:Ie.sibling=re,Ie=re);return Pe&&da(M,Me),fe}for(re=r(re);Me<k.length;Me++)Le=B(re,M,Me,k[Me],I),Le!==null&&(e&&Le.alternate!==null&&re.delete(Le.key===null?Me:Le.key),j=f(Le,j,Me),Ie===null?fe=Le:Ie.sibling=Le,Ie=Le);return e&&re.forEach(function(Wa){return t(M,Wa)}),Pe&&da(M,Me),fe}function me(M,j,k,I){if(k==null)throw Error(o(151));for(var fe=null,Ie=null,re=j,Me=j=0,Le=null,Fe=k.next();re!==null&&!Fe.done;Me++,Fe=k.next()){re.index>Me?(Le=re,re=null):Le=re.sibling;var Wa=O(M,re,Fe.value,I);if(Wa===null){re===null&&(re=Le);break}e&&re&&Wa.alternate===null&&t(M,re),j=f(Wa,j,Me),Ie===null?fe=Wa:Ie.sibling=Wa,Ie=Wa,re=Le}if(Fe.done)return i(M,re),Pe&&da(M,Me),fe;if(re===null){for(;!Fe.done;Me++,Fe=k.next())Fe=G(M,Fe.value,I),Fe!==null&&(j=f(Fe,j,Me),Ie===null?fe=Fe:Ie.sibling=Fe,Ie=Fe);return Pe&&da(M,Me),fe}for(re=r(re);!Fe.done;Me++,Fe=k.next())Fe=B(re,M,Me,Fe.value,I),Fe!==null&&(e&&Fe.alternate!==null&&re.delete(Fe.key===null?Me:Fe.key),j=f(Fe,j,Me),Ie===null?fe=Fe:Ie.sibling=Fe,Ie=Fe);return e&&re.forEach(function(__){return t(M,__)}),Pe&&da(M,Me),fe}function Je(M,j,k,I){if(typeof k=="object"&&k!==null&&k.type===E&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case T:e:{for(var fe=k.key;j!==null;){if(j.key===fe){if(fe=k.type,fe===E){if(j.tag===7){i(M,j.sibling),I=c(j,k.props.children),I.return=M,M=I;break e}}else if(j.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ne&&xi(fe)===j.type){i(M,j.sibling),I=c(j,k.props),co(I,k),I.return=M,M=I;break e}i(M,j);break}else t(M,j);j=j.sibling}k.type===E?(I=hi(k.props.children,M.mode,I,k.key),I.return=M,M=I):(I=Nr(k.type,k.key,k.props,null,M.mode,I),co(I,k),I.return=M,M=I)}return g(M);case _:e:{for(fe=k.key;j!==null;){if(j.key===fe)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){i(M,j.sibling),I=c(j,k.children||[]),I.return=M,M=I;break e}else{i(M,j);break}else t(M,j);j=j.sibling}I=$c(k,M.mode,I),I.return=M,M=I}return g(M);case ne:return k=xi(k),Je(M,j,k,I)}if(Re(k))return se(M,j,k,I);if(He(k)){if(fe=He(k),typeof fe!="function")throw Error(o(150));return k=fe.call(k),me(M,j,k,I)}if(typeof k.then=="function")return Je(M,j,Pr(k),I);if(k.$$typeof===z)return Je(M,j,Ur(M,k),I);Hr(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(i(M,j.sibling),I=c(j,k),I.return=M,M=I):(i(M,j),I=Yc(k,M.mode,I),I.return=M,M=I),g(M)):i(M,j)}return function(M,j,k,I){try{lo=0;var fe=Je(M,j,k,I);return ls=null,fe}catch(re){if(re===rs||re===Lr)throw re;var Ie=Sn(29,re,null,M.mode);return Ie.lanes=I,Ie.return=M,Ie}finally{}}}var Si=Hh(!0),Ih=Hh(!1),za=!1;function su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(qe&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=kr(e),Th(e,null,i),t}return Dr(e,r,t,i),kr(e)}function uo(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,oa(e,i)}}function ru(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var lu=!1;function fo(){if(lu){var e=os;if(e!==null)throw e}}function po(e,t,i,r){lu=!1;var c=e.updateQueue;za=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var w=b,N=w.next;w.next=null,g===null?f=N:g.next=N,g=w;var P=e.alternate;P!==null&&(P=P.updateQueue,b=P.lastBaseUpdate,b!==g&&(b===null?P.firstBaseUpdate=N:b.next=N,P.lastBaseUpdate=w))}if(f!==null){var G=c.baseState;g=0,P=N=w=null,b=f;do{var O=b.lane&-536870913,B=O!==b.lane;if(B?(Be&O)===O:(r&O)===O){O!==0&&O===ss&&(lu=!0),P!==null&&(P=P.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var se=e,me=b;O=t;var Je=i;switch(me.tag){case 1:if(se=me.payload,typeof se=="function"){G=se.call(Je,G,O);break e}G=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=me.payload,O=typeof se=="function"?se.call(Je,G,O):se,O==null)break e;G=x({},G,O);break e;case 2:za=!0}}O=b.callback,O!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[O]:B.push(O))}else B={lane:O,tag:b.tag,payload:b.payload,callback:b.callback,next:null},P===null?(N=P=B,w=G):P=P.next=B,g|=O;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;B=b,b=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);P===null&&(w=G),c.baseState=w,c.firstBaseUpdate=N,c.lastBaseUpdate=P,f===null&&(c.shared.lanes=0),Ha|=g,e.lanes=g,e.memoizedState=G}}function Fh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function qh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Fh(i[e],t)}var cs=Se(null),Ir=Se(0);function Gh(e,t){e=_a,pe(Ir,e),pe(cs,t),_a=e|t.baseLanes}function cu(){pe(Ir,_a),pe(cs,cs.current)}function uu(){_a=Ir.current,Ce(cs),Ce(Ir)}var _n=Se(null),On=null;function Ba(e){var t=e.alternate;pe(Ct,Ct.current&1),pe(_n,e),On===null&&(t===null||cs.current!==null||t.memoizedState!==null)&&(On=e)}function du(e){pe(Ct,Ct.current),pe(_n,e),On===null&&(On=e)}function Yh(e){e.tag===22?(pe(Ct,Ct.current),pe(_n,e),On===null&&(On=e)):La()}function La(){pe(Ct,Ct.current),pe(_n,_n.current)}function wn(e){Ce(_n),On===e&&(On=null),Ce(Ct)}var Ct=Se(0);function Fr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||yd(i)||vd(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=0,Ae=null,We=null,Nt=null,qr=!1,us=!1,_i=!1,Gr=0,ho=0,ds=null,f1=0;function vt(){throw Error(o(321))}function fu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!bn(e[i],t[i]))return!1;return!0}function pu(e,t,i,r,c,f){return ha=f,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Rm:Eu,_i=!1,f=i(r,c),_i=!1,us&&(f=Xh(t,i,r,c)),$h(e),f}function $h(e){L.H=yo;var t=We!==null&&We.next!==null;if(ha=0,Nt=We=Ae=null,qr=!1,ho=0,ds=null,t)throw Error(o(300));e===null||zt||(e=e.dependencies,e!==null&&Or(e)&&(zt=!0))}function Xh(e,t,i,r){Ae=e;var c=0;do{if(us&&(ds=null),ho=0,us=!1,25<=c)throw Error(o(301));if(c+=1,Nt=We=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Mm,f=t(i,r)}while(us);return f}function p1(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?mo(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Ae.flags|=1024),t}function hu(){var e=Gr!==0;return Gr=0,e}function mu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function gu(e){if(qr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qr=!1}ha=0,Nt=We=Ae=null,us=!1,ho=Gr=0,ds=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ae.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Tt(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Nt===null?Ae.memoizedState:Nt.next;if(t!==null)Nt=t,We=e;else{if(e===null)throw Ae.alternate===null?Error(o(467)):Error(o(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Nt===null?Ae.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(e){var t=ho;return ho+=1,ds===null&&(ds=[]),e=Lh(ds,e,t),t=Ae,(Nt===null?t.memoizedState:Nt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Rm:Eu),e}function $r(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mo(e);if(e.$$typeof===z)return Kt(e)}throw Error(o(438,String(e)))}function yu(e){var t=null,i=Ae.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=Ae.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Yr(),Ae.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=ue;return t.index++,i}function ma(e,t){return typeof t=="function"?t(e):t}function Xr(e){var t=Tt();return vu(t,We,e)}function vu(e,t,i){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=i;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}t.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var b=g=null,w=null,N=t,P=!1;do{var G=N.lane&-536870913;if(G!==N.lane?(Be&G)===G:(ha&G)===G){var O=N.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),G===ss&&(P=!0);else if((ha&O)===O){N=N.next,O===ss&&(P=!0);continue}else G={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(b=w=G,g=f):w=w.next=G,Ae.lanes|=O,Ha|=O;G=N.action,_i&&i(f,G),f=N.hasEagerState?N.eagerState:i(f,G)}else O={lane:G,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(b=w=O,g=f):w=w.next=O,Ae.lanes|=G,Ha|=G;N=N.next}while(N!==null&&N!==t);if(w===null?g=f:w.next=b,!bn(f,e.memoizedState)&&(zt=!0,P&&(i=os,i!==null)))throw i;e.memoizedState=f,e.baseState=g,e.baseQueue=w,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function xu(e){var t=Tt(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var r=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);bn(f,t.memoizedState)||(zt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,r]}function Kh(e,t,i){var r=Ae,c=Tt(),f=Pe;if(f){if(i===void 0)throw Error(o(407));i=i()}else i=t();var g=!bn((We||c).memoizedState,i);if(g&&(c.memoizedState=i,zt=!0),c=c.queue,_u(Zh.bind(null,r,c,e),[e]),c.getSnapshot!==t||g||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,fs(9,{destroy:void 0},Wh.bind(null,r,c,i,t),null),et===null)throw Error(o(349));f||(ha&127)!==0||Qh(r,t,i)}return i}function Qh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t=Yr(),Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Wh(e,t,i,r){t.value=i,t.getSnapshot=r,Jh(t)&&em(e)}function Zh(e,t,i){return i(function(){Jh(t)&&em(e)})}function Jh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!bn(e,i)}catch{return!0}}function em(e){var t=pi(e,2);t!==null&&mn(t,e,2)}function bu(e){var t=sn();if(typeof e=="function"){var i=e;if(e=i(),_i){ln(!0);try{i()}finally{ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function tm(e,t,i,r){return e.baseState=i,vu(e,We,typeof r=="function"?r:ma)}function h1(e,t,i,r,c){if(Wr(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?i(!0):f.isTransition=!1,r(f),i=t.pending,i===null?(f.next=t.pending=f,nm(t,f)):(f.next=i.next,t.pending=i.next=f)}}function nm(e,t){var i=t.action,r=t.payload,c=e.state;if(t.isTransition){var f=L.T,g={};L.T=g;try{var b=i(c,r),w=L.S;w!==null&&w(g,b),am(e,t,b)}catch(N){Su(e,t,N)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=i(c,r),am(e,t,f)}catch(N){Su(e,t,N)}}function am(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){im(e,t,r)},function(r){return Su(e,t,r)}):im(e,t,i)}function im(e,t,i){t.status="fulfilled",t.value=i,sm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,nm(e,i)))}function Su(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,sm(t),t=t.next;while(t!==r)}e.action=null}function sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function om(e,t){return t}function rm(e,t){if(Pe){var i=et.formState;if(i!==null){e:{var r=Ae;if(Pe){if(st){t:{for(var c=st,f=zn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Un(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){st=Un(c.nextSibling),r=c.data==="F!";break e}}ka(r)}r=!1}r&&(t=i[0])}}return i=sn(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:t},i.queue=r,i=jm.bind(null,Ae,r),r.dispatch=i,r=bu(!1),f=Au.bind(null,Ae,!1,r.queue),r=sn(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,i=h1.bind(null,Ae,c,f,i),c.dispatch=i,r.memoizedState=e,[t,i,!1]}function lm(e){var t=Tt();return cm(t,We,e)}function cm(e,t,i){if(t=vu(e,t,om)[0],e=Xr(ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=mo(t)}catch(g){throw g===rs?Lr:g}else r=t;t=Tt();var c=t.queue,f=c.dispatch;return i!==t.memoizedState&&(Ae.flags|=2048,fs(9,{destroy:void 0},m1.bind(null,c,i),null)),[r,f,e]}function m1(e,t){e.action=t}function um(e){var t=Tt(),i=We;if(i!==null)return cm(t,i,e);Tt(),t=t.memoizedState,i=Tt();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function fs(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=Yr(),Ae.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function dm(){return Tt().memoizedState}function Kr(e,t,i,r){var c=sn();Ae.flags|=e,c.memoizedState=fs(1|t,{destroy:void 0},i,r===void 0?null:r)}function Qr(e,t,i,r){var c=Tt();r=r===void 0?null:r;var f=c.memoizedState.inst;We!==null&&r!==null&&fu(r,We.memoizedState.deps)?c.memoizedState=fs(t,f,i,r):(Ae.flags|=e,c.memoizedState=fs(1|t,f,i,r))}function fm(e,t){Kr(8390656,8,e,t)}function _u(e,t){Qr(2048,8,e,t)}function g1(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=Yr(),Ae.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function pm(e){var t=Tt().memoizedState;return g1({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function hm(e,t){return Qr(4,2,e,t)}function mm(e,t){return Qr(4,4,e,t)}function gm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,i){i=i!=null?i.concat([e]):null,Qr(4,4,gm.bind(null,t,e),i)}function wu(){}function vm(e,t){var i=Tt();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&fu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function xm(e,t){var i=Tt();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&fu(t,r[1]))return r[0];if(r=e(),_i){ln(!0);try{e()}finally{ln(!1)}}return i.memoizedState=[r,t],r}function Cu(e,t,i){return i===void 0||(ha&1073741824)!==0&&(Be&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=bg(),Ae.lanes|=e,Ha|=e,i)}function bm(e,t,i,r){return bn(i,t)?i:cs.current!==null?(e=Cu(e,i,r),bn(e,t)||(zt=!0),e):(ha&42)===0||(ha&1073741824)!==0&&(Be&261930)===0?(zt=!0,e.memoizedState=i):(e=bg(),Ae.lanes|=e,Ha|=e,t)}function Sm(e,t,i,r,c){var f=Y.p;Y.p=f!==0&&8>f?f:8;var g=L.T,b={};L.T=b,Au(e,!1,t,i);try{var w=c(),N=L.S;if(N!==null&&N(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var P=d1(w,r);go(e,t,P,jn(e))}else go(e,t,r,jn(e))}catch(G){go(e,t,{then:function(){},status:"rejected",reason:G},jn())}finally{Y.p=f,g!==null&&b.types!==null&&(g.types=b.types),L.T=g}}function y1(){}function Tu(e,t,i,r){if(e.tag!==5)throw Error(o(476));var c=_m(e).queue;Sm(e,c,t,ee,i===null?y1:function(){return wm(e),i(r)})}function _m(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:ee},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wm(e){var t=_m(e);t.next===null&&(t=e.alternate.memoizedState),go(e,t.next.queue,{},jn())}function ju(){return Kt(No)}function Cm(){return Tt().memoizedState}function Tm(){return Tt().memoizedState}function v1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=jn();e=Oa(i);var r=Ua(t,e,i);r!==null&&(mn(r,t,i),uo(r,t,i)),t={cache:tu()},e.payload=t;return}t=t.return}}function x1(e,t,i){var r=jn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Wr(e)?Am(t,i):(i=qc(e,t,i,r),i!==null&&(mn(i,e,r),Em(i,t,r)))}function jm(e,t,i){var r=jn();go(e,t,i,r)}function go(e,t,i,r){var c={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wr(e))Am(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,b=f(g,i);if(c.hasEagerState=!0,c.eagerState=b,bn(b,g))return Dr(e,t,c,0),et===null&&Mr(),!1}catch{}finally{}if(i=qc(e,t,c,r),i!==null)return mn(i,e,r),Em(i,t,r),!0}return!1}function Au(e,t,i,r){if(r={lane:2,revertLane:sd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wr(e)){if(t)throw Error(o(479))}else t=qc(e,i,r,2),t!==null&&mn(t,e,2)}function Wr(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Am(e,t){us=qr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Em(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,oa(e,i)}}var yo={readContext:Kt,use:$r,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};yo.useEffectEvent=vt;var Rm={readContext:Kt,use:$r,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:fm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Kr(4194308,4,gm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){Kr(4,2,e,t)},useMemo:function(e,t){var i=sn();t=t===void 0?null:t;var r=e();if(_i){ln(!0);try{e()}finally{ln(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=sn();if(i!==void 0){var c=i(t);if(_i){ln(!0);try{i(t)}finally{ln(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=x1.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:function(e){e=bu(e);var t=e.queue,i=jm.bind(null,Ae,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:wu,useDeferredValue:function(e,t){var i=sn();return Cu(i,e,t)},useTransition:function(){var e=bu(!1);return e=Sm.bind(null,Ae,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=Ae,c=sn();if(Pe){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),et===null)throw Error(o(349));(Be&127)!==0||Qh(r,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,fm(Zh.bind(null,r,f,e),[e]),r.flags|=2048,fs(9,{destroy:void 0},Wh.bind(null,r,f,i,t),null),i},useId:function(){var e=sn(),t=et.identifierPrefix;if(Pe){var i=Wn,r=Qn;i=(r&~(1<<32-Mt(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Gr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=f1++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ju,useFormState:rm,useActionState:rm,useOptimistic:function(e){var t=sn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Au.bind(null,Ae,!0,i),i.dispatch=t,[e,t]},useMemoCache:yu,useCacheRefresh:function(){return sn().memoizedState=v1.bind(null,Ae)},useEffectEvent:function(e){var t=sn(),i={impl:e};return t.memoizedState=i,function(){if((qe&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}},Eu={readContext:Kt,use:$r,useCallback:vm,useContext:Kt,useEffect:_u,useImperativeHandle:ym,useInsertionEffect:hm,useLayoutEffect:mm,useMemo:xm,useReducer:Xr,useRef:dm,useState:function(){return Xr(ma)},useDebugValue:wu,useDeferredValue:function(e,t){var i=Tt();return bm(i,We.memoizedState,e,t)},useTransition:function(){var e=Xr(ma)[0],t=Tt().memoizedState;return[typeof e=="boolean"?e:mo(e),t]},useSyncExternalStore:Kh,useId:Cm,useHostTransitionStatus:ju,useFormState:lm,useActionState:lm,useOptimistic:function(e,t){var i=Tt();return tm(i,We,e,t)},useMemoCache:yu,useCacheRefresh:Tm};Eu.useEffectEvent=pm;var Mm={readContext:Kt,use:$r,useCallback:vm,useContext:Kt,useEffect:_u,useImperativeHandle:ym,useInsertionEffect:hm,useLayoutEffect:mm,useMemo:xm,useReducer:xu,useRef:dm,useState:function(){return xu(ma)},useDebugValue:wu,useDeferredValue:function(e,t){var i=Tt();return We===null?Cu(i,e,t):bm(i,We.memoizedState,e,t)},useTransition:function(){var e=xu(ma)[0],t=Tt().memoizedState;return[typeof e=="boolean"?e:mo(e),t]},useSyncExternalStore:Kh,useId:Cm,useHostTransitionStatus:ju,useFormState:um,useActionState:um,useOptimistic:function(e,t){var i=Tt();return We!==null?tm(i,We,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:yu,useCacheRefresh:Tm};Mm.useEffectEvent=pm;function Ru(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:x({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Mu={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=jn(),c=Oa(r);c.payload=t,i!=null&&(c.callback=i),t=Ua(e,c,r),t!==null&&(mn(t,e,r),uo(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=jn(),c=Oa(r);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Ua(e,c,r),t!==null&&(mn(t,e,r),uo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=jn(),r=Oa(i);r.tag=2,t!=null&&(r.callback=t),t=Ua(e,r,i),t!==null&&(mn(t,e,i),uo(t,e,i))}};function Dm(e,t,i,r,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,g):t.prototype&&t.prototype.isPureReactComponent?!no(i,r)||!no(c,f):!0}function km(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Mu.enqueueReplaceState(t,t.state,null)}function wi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=x({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function Nm(e){Rr(e)}function zm(e){console.error(e)}function Om(e){Rr(e)}function Zr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Um(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Du(e,t,i){return i=Oa(i),i.tag=3,i.payload={element:null},i.callback=function(){Zr(e,t)},i}function Bm(e){return e=Oa(e),e.tag=3,e}function Lm(e,t,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){Um(t,i,r)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Um(t,i,r),typeof c!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function b1(e,t,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&is(t,i,c,!0),i=_n.current,i!==null){switch(i.tag){case 31:case 13:return On===null?ul():i.alternate===null&&xt===0&&(xt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===Vr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),nd(e,r,c)),!1;case 22:return i.flags|=65536,r===Vr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),nd(e,r,c)),!1}throw Error(o(435,i.tag))}return nd(e,r,c),ul(),!1}if(Pe)return t=_n.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Qc&&(e=Error(o(422),{cause:r}),so(Dn(e,i)))):(r!==Qc&&(t=Error(o(423),{cause:r}),so(Dn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Dn(r,i),c=Du(e.stateNode,r,c),ru(e,c),xt!==4&&(xt=2)),!1;var f=Error(o(520),{cause:r});if(f=Dn(f,i),To===null?To=[f]:To.push(f),xt!==4&&(xt=2),t===null)return!0;r=Dn(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Du(i.stateNode,r,e),ru(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ia===null||!Ia.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Bm(c),Lm(c,e,i,r),ru(i,c),!1}i=i.return}while(i!==null);return!1}var ku=Error(o(461)),zt=!1;function Qt(e,t,i,r){t.child=e===null?Ih(t,null,i,r):Si(t,e.child,i,r)}function Vm(e,t,i,r,c){i=i.render;var f=t.ref;if("ref"in r){var g={};for(var b in r)b!=="ref"&&(g[b]=r[b])}else g=r;return yi(t),r=pu(e,t,i,g,f,c),b=hu(),e!==null&&!zt?(mu(e,t,c),ga(e,t,c)):(Pe&&b&&Xc(t),t.flags|=1,Qt(e,t,r,c),t.child)}function Pm(e,t,i,r,c){if(e===null){var f=i.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,Hm(e,t,f,r,c)):(e=Nr(i.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Pu(e,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:no,i(g,r)&&e.ref===t.ref)return ga(e,t,c)}return t.flags|=1,e=ua(f,r),e.ref=t.ref,e.return=t,t.child=e}function Hm(e,t,i,r,c){if(e!==null){var f=e.memoizedProps;if(no(f,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=f,Pu(e,c))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,ga(e,t,c)}return Nu(e,t,i,r,c)}function Im(e,t,i,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,t.child=null;return Fm(e,t,f,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Br(t,f!==null?f.cachePool:null),f!==null?Gh(t,f):cu(),Yh(t);else return r=t.lanes=536870912,Fm(e,t,f!==null?f.baseLanes|i:i,i,r)}else f!==null?(Br(t,f.cachePool),Gh(t,f),La(),t.memoizedState=null):(e!==null&&Br(t,null),cu(),La());return Qt(e,t,c,i),t.child}function vo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fm(e,t,i,r,c){var f=au();return f=f===null?null:{parent:kt._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&Br(t,null),cu(),Yh(t),e!==null&&is(e,t,r,!0),t.childLanes=c,null}function Jr(e,t){return t=tl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qm(e,t,i){return Si(t,e.child,null,i),e=Jr(t,t.pendingProps),e.flags|=2,wn(t),t.memoizedState=null,e}function S1(e,t,i){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(r.mode==="hidden")return e=Jr(t,r),t.lanes=536870912,vo(null,e);if(du(t),(e=st)?(e=ny(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:Qn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},i=Ah(e),i.return=t,t.child=i,Xt=t,st=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return Jr(t,r)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(du(t),c)if(t.flags&256)t.flags&=-257,t=qm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(zt||is(e,t,i,!1),c=(i&e.childLanes)!==0,zt||c){if(r=et,r!==null&&(g=zp(r,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,pi(e,g),mn(r,e,g),ku;ul(),t=qm(e,t,i)}else e=f.treeContext,st=Un(g.nextSibling),Xt=t,Pe=!0,Da=null,zn=!1,e!==null&&Mh(t,e),t=Jr(t,r),t.flags|=4096;return t}return e=ua(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function el(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(o(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Nu(e,t,i,r,c){return yi(t),i=pu(e,t,i,r,void 0,c),r=hu(),e!==null&&!zt?(mu(e,t,c),ga(e,t,c)):(Pe&&r&&Xc(t),t.flags|=1,Qt(e,t,i,c),t.child)}function Gm(e,t,i,r,c,f){return yi(t),t.updateQueue=null,i=Xh(t,r,i,c),$h(e),r=hu(),e!==null&&!zt?(mu(e,t,f),ga(e,t,f)):(Pe&&r&&Xc(t),t.flags|=1,Qt(e,t,i,f),t.child)}function Ym(e,t,i,r,c){if(yi(t),t.stateNode===null){var f=es,g=i.contextType;typeof g=="object"&&g!==null&&(f=Kt(g)),f=new i(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},su(t),g=i.contextType,f.context=typeof g=="object"&&g!==null?Kt(g):es,f.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Ru(t,i,g,r),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mu.enqueueReplaceState(f,f.state,null),po(t,r,f,c),fo(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,w=wi(i,b);f.props=w;var N=f.context,P=i.contextType;g=es,typeof P=="object"&&P!==null&&(g=Kt(P));var G=i.getDerivedStateFromProps;P=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||N!==g)&&km(t,f,r,g),za=!1;var O=t.memoizedState;f.state=O,po(t,r,f,c),fo(),N=t.memoizedState,b||O!==N||za?(typeof G=="function"&&(Ru(t,i,G,r),N=t.memoizedState),(w=za||Dm(t,i,w,r,O,N,g))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=N),f.props=r,f.state=N,f.context=g,r=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,ou(e,t),g=t.memoizedProps,P=wi(i,g),f.props=P,G=t.pendingProps,O=f.context,N=i.contextType,w=es,typeof N=="object"&&N!==null&&(w=Kt(N)),b=i.getDerivedStateFromProps,(N=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==G||O!==w)&&km(t,f,r,w),za=!1,O=t.memoizedState,f.state=O,po(t,r,f,c),fo();var B=t.memoizedState;g!==G||O!==B||za||e!==null&&e.dependencies!==null&&Or(e.dependencies)?(typeof b=="function"&&(Ru(t,i,b,r),B=t.memoizedState),(P=za||Dm(t,i,P,r,O,B,w)||e!==null&&e.dependencies!==null&&Or(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,B,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),f.props=r,f.state=B,f.context=w,r=P):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,el(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=Si(t,e.child,null,c),t.child=Si(t,null,i,c)):Qt(e,t,i,c),t.memoizedState=f.state,e=t.child):e=ga(e,t,c),e}function $m(e,t,i,r){return mi(),t.flags|=256,Qt(e,t,i,r),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:Uh()}}function Uu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Tn),e}function Xm(e,t,i){var r=t.pendingProps,c=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(c?Ba(t):La(),(e=st)?(e=ny(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:Qn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},i=Ah(e),i.return=t,t.child=i,Xt=t,st=null)):e=null,e===null)throw ka(t);return vd(e)?t.lanes=32:t.lanes=536870912,null}var b=r.children;return r=r.fallback,c?(La(),c=t.mode,b=tl({mode:"hidden",children:b},c),r=hi(r,c,i,null),b.return=t,r.return=t,b.sibling=r,t.child=b,r=t.child,r.memoizedState=Ou(i),r.childLanes=Uu(e,g,i),t.memoizedState=zu,vo(null,r)):(Ba(t),Bu(t,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(f)t.flags&256?(Ba(t),t.flags&=-257,t=Lu(e,t,i)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),b=r.fallback,c=t.mode,r=tl({mode:"visible",children:r.children},c),b=hi(b,c,i,null),b.flags|=2,r.return=t,b.return=t,r.sibling=b,t.child=r,Si(t,e.child,null,i),r=t.child,r.memoizedState=Ou(i),r.childLanes=Uu(e,g,i),t.memoizedState=zu,t=vo(null,r));else if(Ba(t),vd(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var N=g.dgst;g=N,r=Error(o(419)),r.stack="",r.digest=g,so({value:r,source:null,stack:null}),t=Lu(e,t,i)}else if(zt||is(e,t,i,!1),g=(i&e.childLanes)!==0,zt||g){if(g=et,g!==null&&(r=zp(g,i),r!==0&&r!==w.retryLane))throw w.retryLane=r,pi(e,r),mn(g,e,r),ku;yd(b)||ul(),t=Lu(e,t,i)}else yd(b)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,st=Un(b.nextSibling),Xt=t,Pe=!0,Da=null,zn=!1,e!==null&&Mh(t,e),t=Bu(t,r.children),t.flags|=4096);return t}return c?(La(),b=r.fallback,c=t.mode,w=e.child,N=w.sibling,r=ua(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,N!==null?b=ua(N,b):(b=hi(b,c,i,null),b.flags|=2),b.return=t,r.return=t,r.sibling=b,t.child=r,vo(null,r),r=t.child,b=e.child.memoizedState,b===null?b=Ou(i):(c=b.cachePool,c!==null?(w=kt._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Uh(),b={baseLanes:b.baseLanes|i,cachePool:c}),r.memoizedState=b,r.childLanes=Uu(e,g,i),t.memoizedState=zu,vo(e.child,r)):(Ba(t),i=e.child,e=i.sibling,i=ua(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function Bu(e,t){return t=tl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function tl(e,t){return e=Sn(22,e,null,t),e.lanes=0,e}function Lu(e,t,i){return Si(t,e.child,null,i),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jc(e.return,t,i)}function Vu(e,t,i,r,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=i,g.tailMode=c,g.treeForkCount=f)}function Qm(e,t,i){var r=t.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var g=Ct.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,pe(Ct,g),Qt(e,t,r,i),r=Pe?io:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Km(e,i,t);else if(e.tag===19)Km(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Fr(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Vu(t,!1,c,i,f,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Fr(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Vu(t,!0,i,null,f,r);break;case"together":Vu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ga(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(is(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=ua(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ua(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Pu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Or(e)))}function _1(e,t,i){switch(t.tag){case 3:_t(t,t.stateNode.containerInfo),Na(t,kt,e.memoizedState.cache),mi();break;case 27:case 5:rn(t);break;case 4:_t(t,t.stateNode.containerInfo);break;case 10:Na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,du(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ba(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Xm(e,t,i):(Ba(t),e=ga(e,t,i),e!==null?e.sibling:null);Ba(t);break;case 19:var c=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(is(e,t,i,!1),r=(i&t.childLanes)!==0),c){if(r)return Qm(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),pe(Ct,Ct.current),r)break;return null;case 22:return t.lanes=0,Im(e,t,i,t.pendingProps);case 24:Na(t,kt,e.memoizedState.cache)}return ga(e,t,i)}function Wm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!Pu(e,i)&&(t.flags&128)===0)return zt=!1,_1(e,t,i);zt=(e.flags&131072)!==0}else zt=!1,Pe&&(t.flags&1048576)!==0&&Rh(t,io,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=xi(t.elementType),t.type=e,typeof e=="function")Gc(e)?(r=wi(e,r),t.tag=1,t=Ym(null,t,e,r,i)):(t.tag=0,t=Nu(null,t,e,r,i));else{if(e!=null){var c=e.$$typeof;if(c===$){t.tag=11,t=Vm(null,t,e,r,i);break e}else if(c===Z){t.tag=14,t=Pm(null,t,e,r,i);break e}}throw t=je(e)||e,Error(o(306,t,""))}}return t;case 0:return Nu(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,c=wi(r,t.pendingProps),Ym(e,t,r,c,i);case 3:e:{if(_t(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var f=t.memoizedState;c=f.element,ou(e,t),po(t,r,null,i);var g=t.memoizedState;if(r=g.cache,Na(t,kt,r),r!==f.cache&&eu(t,[kt],i,!0),fo(),r=g.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=$m(e,t,r,i);break e}else if(r!==c){c=Dn(Error(o(424)),t),so(c),t=$m(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=Un(e.firstChild),Xt=t,Pe=!0,Da=null,zn=!0,i=Ih(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(mi(),r===c){t=ga(e,t,i);break e}Qt(e,t,r,i)}t=t.child}return t;case 26:return el(e,t),e===null?(i=ly(t.type,null,t.pendingProps,null))?t.memoizedState=i:Pe||(i=t.type,e=t.pendingProps,r=yl(at.current).createElement(i),r[$t]=t,r[cn]=e,Wt(r,i,e),qt(r),t.stateNode=r):t.memoizedState=ly(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rn(t),e===null&&Pe&&(r=t.stateNode=sy(t.type,t.pendingProps,at.current),Xt=t,zn=!0,c=st,Ya(t.type)?(xd=c,st=Un(r.firstChild)):st=c),Qt(e,t,t.pendingProps.children,i),el(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((c=r=st)&&(r=Z1(r,t.type,t.pendingProps,zn),r!==null?(t.stateNode=r,Xt=t,st=Un(r.firstChild),zn=!1,c=!0):c=!1),c||ka(t)),rn(t),c=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,r=f.children,hd(c,f)?r=null:g!==null&&hd(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=pu(e,t,p1,null,null,i),No._currentValue=c),el(e,t),Qt(e,t,r,i),t.child;case 6:return e===null&&Pe&&((e=i=st)&&(i=J1(i,t.pendingProps,zn),i!==null?(t.stateNode=i,Xt=t,st=null,e=!0):e=!1),e||ka(t)),null;case 13:return Xm(e,t,i);case 4:return _t(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Si(t,null,r,i):Qt(e,t,r,i),t.child;case 11:return Vm(e,t,t.type,t.pendingProps,i);case 7:return Qt(e,t,t.pendingProps,i),t.child;case 8:return Qt(e,t,t.pendingProps.children,i),t.child;case 12:return Qt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Na(t,t.type,r.value),Qt(e,t,r.children,i),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,yi(t),c=Kt(c),r=r(c),t.flags|=1,Qt(e,t,r,i),t.child;case 14:return Pm(e,t,t.type,t.pendingProps,i);case 15:return Hm(e,t,t.type,t.pendingProps,i);case 19:return Qm(e,t,i);case 31:return S1(e,t,i);case 22:return Im(e,t,i,t.pendingProps);case 24:return yi(t),r=Kt(kt),e===null?(c=au(),c===null&&(c=et,f=tu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),t.memoizedState={parent:r,cache:c},su(t),Na(t,kt,c)):((e.lanes&i)!==0&&(ou(e,t),po(t,null,null,i),fo()),c=e.memoizedState,f=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Na(t,kt,r)):(r=f.cache,Na(t,kt,r),r!==c.cache&&eu(t,[kt],i,!0))),Qt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ya(e){e.flags|=4}function Hu(e,t,i,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Cg())e.flags|=8192;else throw bi=Vr,iu}else e.flags&=-16777217}function Zm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!py(t))if(Cg())e.flags|=8192;else throw bi=Vr,iu}function nl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ut():536870912,e.lanes|=t,gs|=t)}function xo(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function w1(e,t,i){var r=t.pendingProps;switch(Kc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),pa(kt),Lt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(as(t)?ya(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wc())),ot(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(ya(t),f!==null?(ot(t),Zm(t,f)):(ot(t),Hu(t,c,null,r,i))):f?f!==e.memoizedState?(ya(t),ot(t),Zm(t,f)):(ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ya(t),ot(t),Hu(t,c,e,r,i)),null;case 27:if(At(t),i=at.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return ot(t),null}e=ge.current,as(t)?Dh(t):(e=sy(c,r,i),t.stateNode=e,ya(t))}return ot(t),null;case 5:if(At(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return ot(t),null}if(f=ge.current,as(t))Dh(t);else{var g=yl(at.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?g.createElement(c,{is:r.is}):g.createElement(c)}}f[$t]=t,f[cn]=r;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(Wt(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ya(t)}}return ot(t),Hu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=at.current,as(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,c=Xt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[$t]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Xg(e.nodeValue,i)),e||ka(t,!0)}else e=yl(e).createTextNode(r),e[$t]=t,t.stateNode=e}return ot(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=as(t),i!==null){if(e===null){if(!r)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[$t]=t}else mi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),e=!1}else i=Wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(wn(t),t):(wn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return ot(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=as(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[$t]=t}else mi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),c=!1}else c=Wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(wn(t),t):(wn(t),null)}return wn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),nl(t,t.updateQueue),ot(t),null);case 4:return Lt(),e===null&&cd(t.stateNode.containerInfo),ot(t),null;case 10:return pa(t.type),ot(t),null;case 19:if(Ce(Ct),r=t.memoizedState,r===null)return ot(t),null;if(c=(t.flags&128)!==0,f=r.rendering,f===null)if(c)xo(r,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Fr(e),f!==null){for(t.flags|=128,xo(r,!1),e=f.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)jh(i,e),i=i.sibling;return pe(Ct,Ct.current&1|2),Pe&&da(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&X()>rl&&(t.flags|=128,c=!0,xo(r,!1),t.lanes=4194304)}else{if(!c)if(e=Fr(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),xo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Pe)return ot(t),null}else 2*X()-r.renderingStartTime>rl&&i!==536870912&&(t.flags|=128,c=!0,xo(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=X(),e.sibling=null,i=Ct.current,pe(Ct,c?i&1|2:i&1),Pe&&da(t,r.treeForkCount),e):(ot(t),null);case 22:case 23:return wn(t),uu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),i=t.updateQueue,i!==null&&nl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&Ce(vi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pa(kt),ot(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function C1(e,t){switch(Kc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pa(kt),Lt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return At(t),null;case 31:if(t.memoizedState!==null){if(wn(t),t.alternate===null)throw Error(o(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ct),null;case 4:return Lt(),null;case 10:return pa(t.type),null;case 22:case 23:return wn(t),uu(),e!==null&&Ce(vi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pa(kt),null;case 25:return null;default:return null}}function Jm(e,t){switch(Kc(t),t.tag){case 3:pa(kt),Lt();break;case 26:case 27:case 5:At(t);break;case 4:Lt();break;case 31:t.memoizedState!==null&&wn(t);break;case 13:wn(t);break;case 19:Ce(Ct);break;case 10:pa(t.type);break;case 22:case 23:wn(t),uu(),e!==null&&Ce(vi);break;case 24:pa(kt)}}function bo(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&e)===e){r=void 0;var f=i.create,g=i.inst;r=f(),g.destroy=r}i=i.next}while(i!==c)}}catch(b){$e(t,t.return,b)}}function Va(e,t,i){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var g=r.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,c=t;var w=i,N=b;try{N()}catch(P){$e(c,w,P)}}}r=r.next}while(r!==f)}}catch(P){$e(t,t.return,P)}}function eg(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{qh(t,i)}catch(r){$e(e,e.return,r)}}}function tg(e,t,i){i.props=wi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){$e(e,t,r)}}function So(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(c){$e(e,t,c)}}function Zn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){$e(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){$e(e,t,c)}else i.current=null}function ng(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){$e(e,e.return,c)}}function Iu(e,t,i){try{var r=e.stateNode;Y1(r,e.type,i,t),r[cn]=t}catch(c){$e(e,e.return,c)}}function ag(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=la));else if(r!==4&&(r===27&&Ya(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,i),e=e.sibling;e!==null;)qu(e,t,i),e=e.sibling}function al(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&Ya(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(al(e,t,i),e=e.sibling;e!==null;)al(e,t,i),e=e.sibling}function ig(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Wt(t,r,i),t[$t]=e,t[cn]=i}catch(f){$e(e,e.return,f)}}var va=!1,Ot=!1,Gu=!1,sg=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function T1(e,t){if(e=e.containerInfo,fd=Cl,e=yh(e),Lc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,b=-1,w=-1,N=0,P=0,G=e,O=null;t:for(;;){for(var B;G!==i||c!==0&&G.nodeType!==3||(b=g+c),G!==f||r!==0&&G.nodeType!==3||(w=g+r),G.nodeType===3&&(g+=G.nodeValue.length),(B=G.firstChild)!==null;)O=G,G=B;for(;;){if(G===e)break t;if(O===i&&++N===c&&(b=g),O===f&&++P===r&&(w=g),(B=G.nextSibling)!==null)break;G=O,O=G.parentNode}G=B}i=b===-1||w===-1?null:{start:b,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(pd={focusedElem:e,selectionRange:i},Cl=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){switch(t=Gt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,c=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var se=wi(i.type,c);e=r.getSnapshotBeforeUpdate(se,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(me){$e(i,i.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)gd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}}function og(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ba(e,i),r&4&&bo(5,i);break;case 1:if(ba(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){$e(i,i.return,g)}else{var c=wi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$e(i,i.return,g)}}r&64&&eg(i),r&512&&So(i,i.return);break;case 3:if(ba(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{qh(e,t)}catch(g){$e(i,i.return,g)}}break;case 27:t===null&&r&4&&ig(i);case 26:case 5:ba(e,i),t===null&&r&4&&ng(i),r&512&&So(i,i.return);break;case 12:ba(e,i);break;case 31:ba(e,i),r&4&&cg(e,i);break;case 13:ba(e,i),r&4&&ug(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=z1.bind(null,i),e_(e,i))));break;case 22:if(r=i.memoizedState!==null||va,!r){t=t!==null&&t.memoizedState!==null||Ot,c=va;var f=Ot;va=r,(Ot=t)&&!f?Sa(e,i,(i.subtreeFlags&8772)!==0):ba(e,i),va=c,Ot=f}break;case 30:break;default:ba(e,i)}}function rg(e){var t=e.alternate;t!==null&&(e.alternate=null,rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Sc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,dn=!1;function xa(e,t,i){for(i=i.child;i!==null;)lg(e,t,i),i=i.sibling}function lg(e,t,i){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(In,i)}catch{}switch(i.tag){case 26:Ot||Zn(i,t),xa(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ot||Zn(i,t);var r=dt,c=dn;Ya(i.type)&&(dt=i.stateNode,dn=!1),xa(e,t,i),Mo(i.stateNode),dt=r,dn=c;break;case 5:Ot||Zn(i,t);case 6:if(r=dt,c=dn,dt=null,xa(e,t,i),dt=r,dn=c,dt!==null)if(dn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(i.stateNode)}catch(f){$e(i,t,f)}else try{dt.removeChild(i.stateNode)}catch(f){$e(i,t,f)}break;case 18:dt!==null&&(dn?(e=dt,ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Cs(e)):ey(dt,i.stateNode));break;case 4:r=dt,c=dn,dt=i.stateNode.containerInfo,dn=!0,xa(e,t,i),dt=r,dn=c;break;case 0:case 11:case 14:case 15:Va(2,i,t),Ot||Va(4,i,t),xa(e,t,i);break;case 1:Ot||(Zn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&tg(i,t,r)),xa(e,t,i);break;case 21:xa(e,t,i);break;case 22:Ot=(r=Ot)||i.memoizedState!==null,xa(e,t,i),Ot=r;break;default:xa(e,t,i)}}function cg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Cs(e)}catch(i){$e(t,t.return,i)}}}function ug(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cs(e)}catch(i){$e(t,t.return,i)}}function j1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sg),t;default:throw Error(o(435,e.tag))}}function il(e,t){var i=j1(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var c=O1.bind(null,e,r);r.then(c,c)}})}function fn(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],f=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Ya(b.type)){dt=b.stateNode,dn=!1;break e}break;case 5:dt=b.stateNode,dn=!1;break e;case 3:case 4:dt=b.stateNode.containerInfo,dn=!0;break e}b=b.return}if(dt===null)throw Error(o(160));lg(f,g,c),dt=null,dn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dg(t,e),t=t.sibling}var qn=null;function dg(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(t,e),pn(e),r&4&&(Va(3,e,e.return),bo(3,e),Va(5,e,e.return));break;case 1:fn(t,e),pn(e),r&512&&(Ot||i===null||Zn(i,i.return)),r&64&&va&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=qn;if(fn(t,e),pn(e),r&512&&(Ot||i===null||Zn(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$s]||f[$t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),Wt(f,r,i),f[$t]=e,qt(f),r=f;break e;case"link":var g=dy("link","href",c).get(r+(i.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(b,1);break t}}f=c.createElement(r),Wt(f,r,i),c.head.appendChild(f);break;case"meta":if(g=dy("meta","content",c).get(r+(i.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(b,1);break t}}f=c.createElement(r),Wt(f,r,i),c.head.appendChild(f);break;default:throw Error(o(468,r))}f[$t]=e,qt(f),r=f}e.stateNode=r}else fy(c,e.type,e.stateNode);else e.stateNode=uy(c,r,e.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?fy(c,e.type,e.stateNode):uy(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Iu(e,e.memoizedProps,i.memoizedProps)}break;case 27:fn(t,e),pn(e),r&512&&(Ot||i===null||Zn(i,i.return)),i!==null&&r&4&&Iu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(fn(t,e),pn(e),r&512&&(Ot||i===null||Zn(i,i.return)),e.flags&32){c=e.stateNode;try{$i(c,"")}catch(se){$e(e,e.return,se)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Iu(e,c,i!==null?i.memoizedProps:c)),r&1024&&(Gu=!0);break;case 6:if(fn(t,e),pn(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(se){$e(e,e.return,se)}}break;case 3:if(bl=null,c=qn,qn=vl(t.containerInfo),fn(t,e),qn=c,pn(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(se){$e(e,e.return,se)}Gu&&(Gu=!1,fg(e));break;case 4:r=qn,qn=vl(e.stateNode.containerInfo),fn(t,e),pn(e),qn=r;break;case 12:fn(t,e),pn(e);break;case 31:fn(t,e),pn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,il(e,r)));break;case 13:fn(t,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ol=X()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,il(e,r)));break;case 22:c=e.memoizedState!==null;var w=i!==null&&i.memoizedState!==null,N=va,P=Ot;if(va=N||c,Ot=P||w,fn(t,e),Ot=P,va=N,pn(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||w||va||Ot||Ci(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){w=i=t;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=w.stateNode;var G=w.memoizedProps.style,O=G!=null&&G.hasOwnProperty("display")?G.display:null;b.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(se){$e(w,w.return,se)}}}else if(t.tag===6){if(i===null){w=t;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(se){$e(w,w.return,se)}}}else if(t.tag===18){if(i===null){w=t;try{var B=w.stateNode;c?ty(B,!0):ty(w.stateNode,!1)}catch(se){$e(w,w.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,il(e,i))));break;case 19:fn(t,e),pn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,il(e,r)));break;case 30:break;case 21:break;default:fn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(ag(r)){i=r;break}r=r.return}if(i==null)throw Error(o(160));switch(i.tag){case 27:var c=i.stateNode,f=Fu(e);al(e,f,c);break;case 5:var g=i.stateNode;i.flags&32&&($i(g,""),i.flags&=-33);var b=Fu(e);al(e,b,g);break;case 3:case 4:var w=i.stateNode.containerInfo,N=Fu(e);qu(e,N,w);break;default:throw Error(o(161))}}catch(P){$e(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)og(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),Ci(t);break;case 1:Zn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&tg(t,t.return,i),Ci(t);break;case 27:Mo(t.stateNode);case 26:case 5:Zn(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function Sa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:Sa(c,f,i),bo(4,f);break;case 1:if(Sa(c,f,i),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){$e(r,r.return,N)}if(r=f,c=r.updateQueue,c!==null){var b=r.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Fh(w[c],b)}catch(N){$e(r,r.return,N)}}i&&g&64&&eg(f),So(f,f.return);break;case 27:ig(f);case 26:case 5:Sa(c,f,i),i&&r===null&&g&4&&ng(f),So(f,f.return);break;case 12:Sa(c,f,i);break;case 31:Sa(c,f,i),i&&g&4&&cg(c,f);break;case 13:Sa(c,f,i),i&&g&4&&ug(c,f);break;case 22:f.memoizedState===null&&Sa(c,f,i),So(f,f.return);break;case 30:break;default:Sa(c,f,i)}t=t.sibling}}function Yu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&oo(i))}function $u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oo(e))}function Gn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pg(e,t,i,r),t=t.sibling}function pg(e,t,i,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Gn(e,t,i,r),c&2048&&bo(9,t);break;case 1:Gn(e,t,i,r);break;case 3:Gn(e,t,i,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oo(e)));break;case 12:if(c&2048){Gn(e,t,i,r),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$e(t,t.return,w)}}else Gn(e,t,i,r);break;case 31:Gn(e,t,i,r);break;case 13:Gn(e,t,i,r);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?Gn(e,t,i,r):_o(e,t):f._visibility&2?Gn(e,t,i,r):(f._visibility|=2,ps(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Yu(g,t);break;case 24:Gn(e,t,i,r),c&2048&&$u(t.alternate,t);break;default:Gn(e,t,i,r)}}function ps(e,t,i,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,b=i,w=r,N=g.flags;switch(g.tag){case 0:case 11:case 15:ps(f,g,b,w,c),bo(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?ps(f,g,b,w,c):_o(f,g):(P._visibility|=2,ps(f,g,b,w,c)),c&&N&2048&&Yu(g.alternate,g);break;case 24:ps(f,g,b,w,c),c&&N&2048&&$u(g.alternate,g);break;default:ps(f,g,b,w,c)}t=t.sibling}}function _o(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,c=r.flags;switch(r.tag){case 22:_o(i,r),c&2048&&Yu(r.alternate,r);break;case 24:_o(i,r),c&2048&&$u(r.alternate,r);break;default:_o(i,r)}t=t.sibling}}var wo=8192;function hs(e,t,i){if(e.subtreeFlags&wo)for(e=e.child;e!==null;)hg(e,t,i),e=e.sibling}function hg(e,t,i){switch(e.tag){case 26:hs(e,t,i),e.flags&wo&&e.memoizedState!==null&&f_(i,qn,e.memoizedState,e.memoizedProps);break;case 5:hs(e,t,i);break;case 3:case 4:var r=qn;qn=vl(e.stateNode.containerInfo),hs(e,t,i),qn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=wo,wo=16777216,hs(e,t,i),wo=r):hs(e,t,i));break;default:hs(e,t,i)}}function mg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Co(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Gt=r,yg(r,e)}mg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gg(e),e=e.sibling}function gg(e){switch(e.tag){case 0:case 11:case 15:Co(e),e.flags&2048&&Va(9,e,e.return);break;case 3:Co(e);break;case 12:Co(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,sl(e)):Co(e);break;default:Co(e)}}function sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Gt=r,yg(r,e)}mg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),sl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,sl(t));break;default:sl(t)}e=e.sibling}}function yg(e,t){for(;Gt!==null;){var i=Gt;switch(i.tag){case 0:case 11:case 15:Va(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oo(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Gt=r;else e:for(i=e;Gt!==null;){r=Gt;var c=r.sibling,f=r.return;if(rg(r),r===i){Gt=null;break e}if(c!==null){c.return=f,Gt=c;break e}Gt=f}}}var A1={getCacheForType:function(e){var t=Kt(kt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Kt(kt).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,ze=null,Be=0,Ye=0,Cn=null,Pa=!1,ms=!1,Xu=!1,_a=0,xt=0,Ha=0,Ti=0,Ku=0,Tn=0,gs=0,To=null,hn=null,Qu=!1,ol=0,vg=0,rl=1/0,ll=null,Ia=null,Pt=0,Fa=null,ys=null,wa=0,Wu=0,Zu=null,xg=null,jo=0,Ju=null;function jn(){return(qe&2)!==0&&Be!==0?Be&-Be:L.T!==null?sd():Op()}function bg(){if(Tn===0)if((Be&536870912)===0||Pe){var e=Ve;Ve<<=1,(Ve&3932160)===0&&(Ve=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function mn(e,t,i){(e===et&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(vs(e,0),qa(e,Be,Tn,!1)),li(e,i),((qe&2)===0||e!==et)&&(e===et&&((qe&2)===0&&(Ti|=i),xt===4&&qa(e,Be,Tn,!1)),Jn(e))}function Sg(e,t,i){if((qe&6)!==0)throw Error(o(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ae(e,t),c=r?D1(e,t):td(e,t,!0),f=r;do{if(c===0){ms&&!r&&qa(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!R1(i)){c=td(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;c=To;var w=b.current.memoizedState.isDehydrated;if(w&&(vs(b,g).flags|=256),g=td(b,g,!1),g!==2){if(Xu&&!w){b.errorRecoveryDisabledLanes|=f,Ti|=f,c=4;break e}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){vs(e,0),qa(e,t,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:qa(r,t,Tn,!Pa);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=ol+300-X(),10<c)){if(qa(r,t,Tn,!Pa),xe(r,0,!0)!==0)break e;wa=t,r.timeoutHandle=Zg(_g.bind(null,r,i,hn,ll,Qu,t,Tn,Ti,gs,Pa,f,"Throttled",-0,0),c);break e}_g(r,i,hn,ll,Qu,t,Tn,Ti,gs,Pa,f,null,-0,0)}}break}while(!0);Jn(e)}function _g(e,t,i,r,c,f,g,b,w,N,P,G,O,B){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:la},hg(t,f,G);var se=(f&62914560)===f?ol-X():(f&4194048)===f?vg-X():0;if(se=p_(G,se),se!==null){wa=f,e.cancelPendingCommit=se(Mg.bind(null,e,t,f,i,r,c,g,b,w,P,G,null,O,B)),qa(e,f,g,!N);return}}Mg(e,t,f,i,r,c,g,b,w)}function R1(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],f=c.getSnapshot;c=c.value;try{if(!bn(f(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t,i,r){t&=~Ku,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var f=31-Mt(c),g=1<<f;r[f]=-1,c&=~g}i!==0&&Dt(e,i,t)}function cl(){return(qe&6)===0?(Ao(0),!1):!0}function ed(){if(ze!==null){if(Ye===0)var e=ze.return;else e=ze,fa=gi=null,gu(e),ls=null,lo=0,e=ze;for(;e!==null;)Jm(e.alternate,e),e=e.return;ze=null}}function vs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,K1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),wa=0,ed(),et=e,ze=i=ua(e.current,null),Be=t,Ye=0,Cn=null,Pa=!1,ms=ae(e,t),Xu=!1,gs=Tn=Ku=Ti=Ha=xt=0,hn=To=null,Qu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Mt(r),f=1<<c;t|=e[c],r&=~f}return _a=t,Mr(),i}function wg(e,t){Ae=null,L.H=yo,t===rs||t===Lr?(t=Vh(),Ye=3):t===iu?(t=Vh(),Ye=4):Ye=t===ku?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Cn=t,ze===null&&(xt=1,Zr(e,Dn(t,e.current)))}function Cg(){var e=_n.current;return e===null?!0:(Be&4194048)===Be?On===null:(Be&62914560)===Be||(Be&536870912)!==0?e===On:!1}function Tg(){var e=L.H;return L.H=yo,e===null?yo:e}function jg(){var e=L.A;return L.A=A1,e}function ul(){xt=4,Pa||(Be&4194048)!==Be&&_n.current!==null||(ms=!0),(Ha&134217727)===0&&(Ti&134217727)===0||et===null||qa(et,Be,Tn,!1)}function td(e,t,i){var r=qe;qe|=2;var c=Tg(),f=jg();(et!==e||Be!==t)&&(ll=null,vs(e,t)),t=!1;var g=xt;e:do try{if(Ye!==0&&ze!==null){var b=ze,w=Cn;switch(Ye){case 8:ed(),g=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(t=!0);var N=Ye;if(Ye=0,Cn=null,xs(e,b,w,N),i&&ms){g=0;break e}break;default:N=Ye,Ye=0,Cn=null,xs(e,b,w,N)}}M1(),g=xt;break}catch(P){wg(e,P)}while(!0);return t&&e.shellSuspendCounter++,fa=gi=null,qe=r,L.H=c,L.A=f,ze===null&&(et=null,Be=0,Mr()),g}function M1(){for(;ze!==null;)Ag(ze)}function D1(e,t){var i=qe;qe|=2;var r=Tg(),c=jg();et!==e||Be!==t?(ll=null,rl=X()+500,vs(e,t)):ms=ae(e,t);e:do try{if(Ye!==0&&ze!==null){t=ze;var f=Cn;t:switch(Ye){case 1:Ye=0,Cn=null,xs(e,t,f,1);break;case 2:case 9:if(Bh(f)){Ye=0,Cn=null,Eg(t);break}t=function(){Ye!==2&&Ye!==9||et!==e||(Ye=7),Jn(e)},f.then(t,t);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Bh(f)?(Ye=0,Cn=null,Eg(t)):(Ye=0,Cn=null,xs(e,t,f,7));break;case 5:var g=null;switch(ze.tag){case 26:g=ze.memoizedState;case 5:case 27:var b=ze;if(g?py(g):b.stateNode.complete){Ye=0,Cn=null;var w=b.sibling;if(w!==null)ze=w;else{var N=b.return;N!==null?(ze=N,dl(N)):ze=null}break t}}Ye=0,Cn=null,xs(e,t,f,5);break;case 6:Ye=0,Cn=null,xs(e,t,f,6);break;case 8:ed(),xt=6;break e;default:throw Error(o(462))}}k1();break}catch(P){wg(e,P)}while(!0);return fa=gi=null,L.H=r,L.A=c,qe=i,ze!==null?0:(et=null,Be=0,Mr(),xt)}function k1(){for(;ze!==null&&!Gs();)Ag(ze)}function Ag(e){var t=Wm(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?dl(e):ze=t}function Eg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Gm(i,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=Gm(i,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:gu(t);default:Jm(i,t),t=ze=jh(t,_a),t=Wm(i,t,_a)}e.memoizedProps=e.pendingProps,t===null?dl(e):ze=t}function xs(e,t,i,r){fa=gi=null,gu(t),ls=null,lo=0;var c=t.return;try{if(b1(e,c,t,i,Be)){xt=1,Zr(e,Dn(i,e.current)),ze=null;return}}catch(f){if(c!==null)throw ze=c,f;xt=1,Zr(e,Dn(i,e.current)),ze=null;return}t.flags&32768?(Pe||r===1?e=!0:ms||(Be&536870912)!==0?e=!1:(Pa=e=!0,(r===2||r===9||r===3||r===6)&&(r=_n.current,r!==null&&r.tag===13&&(r.flags|=16384))),Rg(t,e)):dl(t)}function dl(e){var t=e;do{if((t.flags&32768)!==0){Rg(t,Pa);return}e=t.return;var i=w1(t.alternate,t,_a);if(i!==null){ze=i;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);xt===0&&(xt=5)}function Rg(e,t){do{var i=C1(e.alternate,e);if(i!==null){i.flags&=32767,ze=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=i}while(e!==null);xt=6,ze=null}function Mg(e,t,i,r,c,f,g,b,w){e.cancelPendingCommit=null;do fl();while(Pt!==0);if((qe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=Fc,vr(e,i,f,g,b,w),e===et&&(ze=et=null,Be=0),ys=t,Fa=e,wa=i,Wu=f,Zu=c,xg=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,U1(Et,function(){return Og(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=L.T,L.T=null,c=Y.p,Y.p=2,g=qe,qe|=4;try{T1(e,t,i)}finally{qe=g,Y.p=c,L.T=r}}Pt=1,Dg(),kg(),Ng()}}function Dg(){if(Pt===1){Pt=0;var e=Fa,t=ys,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=L.T,L.T=null;var r=Y.p;Y.p=2;var c=qe;qe|=4;try{dg(t,e);var f=pd,g=yh(e.containerInfo),b=f.focusedElem,w=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&gh(b.ownerDocument.documentElement,b)){if(w!==null&&Lc(b)){var N=w.start,P=w.end;if(P===void 0&&(P=N),"selectionStart"in b)b.selectionStart=N,b.selectionEnd=Math.min(P,b.value.length);else{var G=b.ownerDocument||document,O=G&&G.defaultView||window;if(O.getSelection){var B=O.getSelection(),se=b.textContent.length,me=Math.min(w.start,se),Je=w.end===void 0?me:Math.min(w.end,se);!B.extend&&me>Je&&(g=Je,Je=me,me=g);var M=mh(b,me),j=mh(b,Je);if(M&&j&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==j.node||B.focusOffset!==j.offset)){var k=G.createRange();k.setStart(M.node,M.offset),B.removeAllRanges(),me>Je?(B.addRange(k),B.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),B.addRange(k))}}}}for(G=[],B=b;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<G.length;b++){var I=G[b];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Cl=!!fd,pd=fd=null}finally{qe=c,Y.p=r,L.T=i}}e.current=t,Pt=2}}function kg(){if(Pt===2){Pt=0;var e=Fa,t=ys,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=L.T,L.T=null;var r=Y.p;Y.p=2;var c=qe;qe|=4;try{og(e,t.alternate,t)}finally{qe=c,Y.p=r,L.T=i}}Pt=3}}function Ng(){if(Pt===4||Pt===3){Pt=0,Ys();var e=Fa,t=ys,i=wa,r=xg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pt=5:(Pt=0,ys=Fa=null,zg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ia=null),xc(i),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(In,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=L.T,c=Y.p,Y.p=2,L.T=null;try{for(var f=e.onRecoverableError,g=0;g<r.length;g++){var b=r[g];f(b.value,{componentStack:b.stack})}}finally{L.T=t,Y.p=c}}(wa&3)!==0&&fl(),Jn(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===Ju?jo++:(jo=0,Ju=e):jo=0,Ao(0)}}function zg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oo(t)))}function fl(){return Dg(),kg(),Ng(),Og()}function Og(){if(Pt!==5)return!1;var e=Fa,t=Wu;Wu=0;var i=xc(wa),r=L.T,c=Y.p;try{Y.p=32>i?32:i,L.T=null,i=Zu,Zu=null;var f=Fa,g=wa;if(Pt=0,ys=Fa=null,wa=0,(qe&6)!==0)throw Error(o(331));var b=qe;if(qe|=4,gg(f.current),pg(f,f.current,g,i),qe=b,Ao(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(In,f)}catch{}return!0}finally{Y.p=c,L.T=r,zg(e,t)}}function Ug(e,t,i){t=Dn(i,t),t=Du(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(li(e,2),Jn(e))}function $e(e,t,i){if(e.tag===3)Ug(e,e,i);else for(;t!==null;){if(t.tag===3){Ug(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ia===null||!Ia.has(r))){e=Dn(i,e),i=Bm(2),r=Ua(t,i,2),r!==null&&(Lm(i,r,t,e),li(r,2),Jn(r));break}}t=t.return}}function nd(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new E1;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(i)||(Xu=!0,c.add(i),e=N1.bind(null,e,t,i),t.then(e,e))}function N1(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,et===e&&(Be&i)===i&&(xt===4||xt===3&&(Be&62914560)===Be&&300>X()-ol?(qe&2)===0&&vs(e,0):Ku|=i,gs===Be&&(gs=0)),Jn(e)}function Bg(e,t){t===0&&(t=ut()),e=pi(e,t),e!==null&&(li(e,t),Jn(e))}function z1(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Bg(e,i)}function O1(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),Bg(e,i)}function U1(e,t){return ct(e,t)}var pl=null,bs=null,ad=!1,hl=!1,id=!1,Ga=0;function Jn(e){e!==bs&&e.next===null&&(bs===null?pl=bs=e:bs=bs.next=e),hl=!0,ad||(ad=!0,L1())}function Ao(e,t){if(!id&&hl){id=!0;do for(var i=!1,r=pl;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var g=r.suspendedLanes,b=r.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=c&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Hg(r,f))}else f=Be,f=xe(r,r===et?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||ae(r,f)||(i=!0,Hg(r,f));r=r.next}while(i);id=!1}}function B1(){Lg()}function Lg(){hl=ad=!1;var e=0;Ga!==0&&X1()&&(e=Ga);for(var t=X(),i=null,r=pl;r!==null;){var c=r.next,f=Vg(r,t);f===0?(r.next=null,i===null?pl=c:i.next=c,c===null&&(bs=i)):(i=r,(e!==0||(f&3)!==0)&&(hl=!0)),r=c}Pt!==0&&Pt!==5||Ao(e),Ga!==0&&(Ga=0)}function Vg(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Mt(f),b=1<<g,w=c[g];w===-1?((b&i)===0||(b&r)!==0)&&(c[g]=Vt(b,t)):w<=t&&(e.expiredLanes|=b),f&=~b}if(t=et,i=Be,i=xe(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Yt(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ae(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Yt(r),xc(i)){case 2:case 8:i=ht;break;case 32:i=Et;break;case 268435456:i=Hn;break;default:i=Et}return r=Pg.bind(null,e),i=ct(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Yt(r),e.callbackPriority=2,e.callbackNode=null,2}function Pg(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(fl()&&e.callbackNode!==i)return null;var r=Be;return r=xe(e,e===et?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Sg(e,r,t),Vg(e,X()),e.callbackNode!=null&&e.callbackNode===i?Pg.bind(null,e):null)}function Hg(e,t){if(fl())return null;Sg(e,t,!0)}function L1(){Q1(function(){(qe&6)!==0?ct(it,B1):Lg()})}function sd(){if(Ga===0){var e=ss;e===0&&(e=le,le<<=1,(le&261888)===0&&(le=256)),Ga=e}return Ga}function Ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_r(""+e)}function Fg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function V1(e,t,i,r,c){if(t==="submit"&&i&&i.stateNode===c){var f=Ig((c[cn]||null).action),g=r.submitter;g&&(t=(t=g[cn]||null)?Ig(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var b=new jr("action","action",null,r,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ga!==0){var w=g?Fg(c,g):new FormData(c);Tu(i,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(b.preventDefault(),w=g?Fg(c,g):new FormData(c),Tu(i,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var od=0;od<Ic.length;od++){var rd=Ic[od],P1=rd.toLowerCase(),H1=rd[0].toUpperCase()+rd.slice(1);Fn(P1,"on"+H1)}Fn(bh,"onAnimationEnd"),Fn(Sh,"onAnimationIteration"),Fn(_h,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(a1,"onTransitionRun"),Fn(i1,"onTransitionStart"),Fn(s1,"onTransitionCancel"),Fn(wh,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function qg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],c=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var g=r.length-1;0<=g;g--){var b=r[g],w=b.instance,N=b.currentTarget;if(b=b.listener,w!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=N;try{f(c)}catch(P){Rr(P)}c.currentTarget=null,f=w}else for(g=0;g<r.length;g++){if(b=r[g],w=b.instance,N=b.currentTarget,b=b.listener,w!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=N;try{f(c)}catch(P){Rr(P)}c.currentTarget=null,f=w}}}}function Oe(e,t){var i=t[bc];i===void 0&&(i=t[bc]=new Set);var r=e+"__bubble";i.has(r)||(Gg(t,e,2,!1),i.add(r))}function ld(e,t,i){var r=0;t&&(r|=4),Gg(i,e,r,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[ml]){e[ml]=!0,Lp.forEach(function(i){i!=="selectionchange"&&(I1.has(i)||ld(i,!1,e),ld(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,ld("selectionchange",!1,t))}}function Gg(e,t,i,r){switch(by(t)){case 2:var c=g_;break;case 8:c=y_;break;default:c=Cd}i=c.bind(null,t,i,e),c=void 0,!Rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function ud(e,t,i,r,c){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var b=r.stateNode.containerInfo;if(b===c)break;if(g===4)for(g=r.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;b!==null;){if(g=Ii(b),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){r=f=g;continue e}b=b.parentNode}}r=r.return}Qp(function(){var N=f,P=Ac(i),G=[];e:{var O=Ch.get(e);if(O!==void 0){var B=jr,se=e;switch(e){case"keypress":if(Cr(i)===0)break e;case"keydown":case"keyup":B=OS;break;case"focusin":se="focus",B=Nc;break;case"focusout":se="blur",B=Nc;break;case"beforeblur":case"afterblur":B=Nc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=wS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=LS;break;case bh:case Sh:case _h:B=jS;break;case wh:B=PS;break;case"scroll":case"scrollend":B=SS;break;case"wheel":B=IS;break;case"copy":case"cut":case"paste":B=ES;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=th;break;case"toggle":case"beforetoggle":B=qS}var me=(t&4)!==0,Je=!me&&(e==="scroll"||e==="scrollend"),M=me?O!==null?O+"Capture":null:O;me=[];for(var j=N,k;j!==null;){var I=j;if(k=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||k===null||M===null||(I=Ks(j,M),I!=null&&me.push(Ro(j,I,k))),Je)break;j=j.return}0<me.length&&(O=new B(O,se,null,i,P),G.push({event:O,listeners:me}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",O&&i!==jc&&(se=i.relatedTarget||i.fromElement)&&(Ii(se)||se[Hi]))break e;if((B||O)&&(O=P.window===P?P:(O=P.ownerDocument)?O.defaultView||O.parentWindow:window,B?(se=i.relatedTarget||i.toElement,B=N,se=se?Ii(se):null,se!==null&&(Je=u(se),me=se.tag,se!==Je||me!==5&&me!==27&&me!==6)&&(se=null)):(B=null,se=N),B!==se)){if(me=Jp,I="onMouseLeave",M="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(me=th,I="onPointerLeave",M="onPointerEnter",j="pointer"),Je=B==null?O:Xs(B),k=se==null?O:Xs(se),O=new me(I,j+"leave",B,i,P),O.target=Je,O.relatedTarget=k,I=null,Ii(P)===N&&(me=new me(M,j+"enter",se,i,P),me.target=k,me.relatedTarget=Je,I=me),Je=I,B&&se)t:{for(me=F1,M=B,j=se,k=0,I=M;I;I=me(I))k++;I=0;for(var fe=j;fe;fe=me(fe))I++;for(;0<k-I;)M=me(M),k--;for(;0<I-k;)j=me(j),I--;for(;k--;){if(M===j||j!==null&&M===j.alternate){me=M;break t}M=me(M),j=me(j)}me=null}else me=null;B!==null&&Yg(G,O,B,me,!1),se!==null&&Je!==null&&Yg(G,Je,se,me,!0)}}e:{if(O=N?Xs(N):window,B=O.nodeName&&O.nodeName.toLowerCase(),B==="select"||B==="input"&&O.type==="file")var Ie=ch;else if(rh(O))if(uh)Ie=e1;else{Ie=ZS;var re=WS}else B=O.nodeName,!B||B.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&Tc(N.elementType)&&(Ie=ch):Ie=JS;if(Ie&&(Ie=Ie(e,N))){lh(G,Ie,i,P);break e}re&&re(e,O,N),e==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&Cc(O,"number",O.value)}switch(re=N?Xs(N):window,e){case"focusin":(rh(re)||re.contentEditable==="true")&&(Wi=re,Vc=N,ao=null);break;case"focusout":ao=Vc=Wi=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,vh(G,i,P);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":vh(G,i,P)}var Me;if(Oc)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Qi?sh(e,i)&&(Le="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Le="onCompositionStart");Le&&(nh&&i.locale!=="ko"&&(Qi||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Qi&&(Me=Wp()):(Ra=P,Mc="value"in Ra?Ra.value:Ra.textContent,Qi=!0)),re=gl(N,Le),0<re.length&&(Le=new eh(Le,e,null,i,P),G.push({event:Le,listeners:re}),Me?Le.data=Me:(Me=oh(i),Me!==null&&(Le.data=Me)))),(Me=YS?$S(e,i):XS(e,i))&&(Le=gl(N,"onBeforeInput"),0<Le.length&&(re=new eh("onBeforeInput","beforeinput",null,i,P),G.push({event:re,listeners:Le}),re.data=Me)),V1(G,e,N,i,P)}qg(G,t)})}function Ro(e,t,i){return{instance:e,listener:t,currentTarget:i}}function gl(e,t){for(var i=t+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ks(e,i),c!=null&&r.unshift(Ro(e,c,f)),c=Ks(e,t),c!=null&&r.push(Ro(e,c,f))),e.tag===3)return r;e=e.return}return[]}function F1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yg(e,t,i,r,c){for(var f=t._reactName,g=[];i!==null&&i!==r;){var b=i,w=b.alternate,N=b.stateNode;if(b=b.tag,w!==null&&w===r)break;b!==5&&b!==26&&b!==27||N===null||(w=N,c?(N=Ks(i,f),N!=null&&g.unshift(Ro(i,N,w))):c||(N=Ks(i,f),N!=null&&g.push(Ro(i,N,w)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var q1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function $g(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(G1,"")}function Xg(e,t){return t=$g(t),$g(e)===t}function Ze(e,t,i,r,c,f){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||$i(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&$i(e,""+r);break;case"className":br(e,"class",r);break;case"tabIndex":br(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":br(e,i,r);break;case"style":Xp(e,r,f);break;case"data":if(t!=="object"){br(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=_r(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&Ze(e,t,"name",c.name,c,null),Ze(e,t,"formEncType",c.formEncType,c,null),Ze(e,t,"formMethod",c.formMethod,c,null),Ze(e,t,"formTarget",c.formTarget,c,null)):(Ze(e,t,"encType",c.encType,c,null),Ze(e,t,"method",c.method,c,null),Ze(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=_r(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=la);break;case"onScroll":r!=null&&Oe("scroll",e);break;case"onScrollEnd":r!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=_r(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),xr(e,"popover",r);break;case"xlinkActuate":ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ra(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ra(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ra(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ra(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":xr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=xS.get(i)||i,xr(e,i,r))}}function dd(e,t,i,r,c,f){switch(i){case"style":Xp(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"children":typeof r=="string"?$i(e,r):(typeof r=="number"||typeof r=="bigint")&&$i(e,""+r);break;case"onScroll":r!=null&&Oe("scroll",e);break;case"onScrollEnd":r!=null&&Oe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=la);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),f=e[cn]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,c);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):xr(e,i,r)}}}function Wt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var r=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,f,g,i,null)}}c&&Ze(e,t,"srcSet",i.srcSet,i,null),r&&Ze(e,t,"src",i.src,i,null);return;case"input":Oe("invalid",e);var b=f=g=c=null,w=null,N=null;for(r in i)if(i.hasOwnProperty(r)){var P=i[r];if(P!=null)switch(r){case"name":c=P;break;case"type":g=P;break;case"checked":w=P;break;case"defaultChecked":N=P;break;case"value":f=P;break;case"defaultValue":b=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,t));break;default:Ze(e,t,r,P,i,null)}}qp(e,f,b,w,N,g,c,!1);return;case"select":Oe("invalid",e),r=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(b=i[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":r=b;default:Ze(e,t,c,b,i,null)}t=f,i=g,e.multiple=!!r,t!=null?Yi(e,!!r,t,!1):i!=null&&Yi(e,!!r,i,!0);return;case"textarea":Oe("invalid",e),f=c=r=null;for(g in i)if(i.hasOwnProperty(g)&&(b=i[g],b!=null))switch(g){case"value":r=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Ze(e,t,g,b,i,null)}Yp(e,r,c,f);return;case"option":for(w in i)if(i.hasOwnProperty(w)&&(r=i[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ze(e,t,w,r,i,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(r=0;r<Eo.length;r++)Oe(Eo[r],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(r=i[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,N,r,i,null)}return;default:if(Tc(t)){for(P in i)i.hasOwnProperty(P)&&(r=i[P],r!==void 0&&dd(e,t,P,r,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(r=i[b],r!=null&&Ze(e,t,b,r,i,null))}function Y1(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,b=null,w=null,N=null,P=null;for(B in i){var G=i[B];if(i.hasOwnProperty(B)&&G!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=G;default:r.hasOwnProperty(B)||Ze(e,t,B,null,r,G)}}for(var O in r){var B=r[O];if(G=i[O],r.hasOwnProperty(O)&&(B!=null||G!=null))switch(O){case"type":f=B;break;case"name":c=B;break;case"checked":N=B;break;case"defaultChecked":P=B;break;case"value":g=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,t));break;default:B!==G&&Ze(e,t,O,B,r,G)}}wc(e,g,b,w,N,P,f,c);return;case"select":B=g=b=O=null;for(f in i)if(w=i[f],i.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:r.hasOwnProperty(f)||Ze(e,t,f,null,r,w)}for(c in r)if(f=r[c],w=i[c],r.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":O=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==w&&Ze(e,t,c,f,r,w)}t=b,i=g,r=B,O!=null?Yi(e,!!i,O,!1):!!r!=!!i&&(t!=null?Yi(e,!!i,t,!0):Yi(e,!!i,i?[]:"",!1));return;case"textarea":B=O=null;for(b in i)if(c=i[b],i.hasOwnProperty(b)&&c!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(e,t,b,null,r,c)}for(g in r)if(c=r[g],f=i[g],r.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":O=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==f&&Ze(e,t,g,c,r,f)}Gp(e,O,B);return;case"option":for(var se in i)if(O=i[se],i.hasOwnProperty(se)&&O!=null&&!r.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Ze(e,t,se,null,r,O)}for(w in r)if(O=r[w],B=i[w],r.hasOwnProperty(w)&&O!==B&&(O!=null||B!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ze(e,t,w,O,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in i)O=i[me],i.hasOwnProperty(me)&&O!=null&&!r.hasOwnProperty(me)&&Ze(e,t,me,null,r,O);for(N in r)if(O=r[N],B=i[N],r.hasOwnProperty(N)&&O!==B&&(O!=null||B!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,t));break;default:Ze(e,t,N,O,r,B)}return;default:if(Tc(t)){for(var Je in i)O=i[Je],i.hasOwnProperty(Je)&&O!==void 0&&!r.hasOwnProperty(Je)&&dd(e,t,Je,void 0,r,O);for(P in r)O=r[P],B=i[P],!r.hasOwnProperty(P)||O===B||O===void 0&&B===void 0||dd(e,t,P,O,r,B);return}}for(var M in i)O=i[M],i.hasOwnProperty(M)&&O!=null&&!r.hasOwnProperty(M)&&Ze(e,t,M,null,r,O);for(G in r)O=r[G],B=i[G],!r.hasOwnProperty(G)||O===B||O==null&&B==null||Ze(e,t,G,O,r,B)}function Kg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var c=i[r],f=c.transferSize,g=c.initiatorType,b=c.duration;if(f&&b&&Kg(g)){for(g=0,b=c.responseEnd,r+=1;r<i.length;r++){var w=i[r],N=w.startTime;if(N>b)break;var P=w.transferSize,G=w.initiatorType;P&&Kg(G)&&(w=w.responseEnd,g+=P*(w<b?1:(b-N)/(w-N)))}if(--r,t+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,pd=null;function yl(e){return e.nodeType===9?e:e.ownerDocument}function Qg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var md=null;function X1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var Zg=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(e){return Jg.resolve(null).then(e).catch(W1)}:Zg;function W1(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function ey(e,t){var i=t,r=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(c),Cs(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Mo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Mo(i);for(var f=i.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[$s]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&Mo(e.ownerDocument.body);i=c}while(i);Cs(t)}function ty(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function gd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":gd(i),Sc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Z1(e,t,i,r){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[$s])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function J1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function ny(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Un(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function e_(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xd=null;function ay(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Un(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function sy(e,t,i){switch(t=yl(i),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Mo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Sc(e)}var Bn=new Map,oy=new Set;function vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=Y.d;Y.d={f:t_,r:n_,D:a_,C:i_,L:s_,m:o_,X:l_,S:r_,M:c_};function t_(){var e=Ca.f(),t=cl();return e||t}function n_(e){var t=Fi(e);t!==null&&t.tag===5&&t.type==="form"?wm(t):Ca.r(e)}var Ss=typeof document>"u"?null:document;function ry(e,t,i){var r=Ss;if(r&&typeof t=="string"&&t){var c=Rn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),oy.has(c)||(oy.add(c),e={rel:e,crossOrigin:i,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),Wt(t,"link",e),qt(t),r.head.appendChild(t)))}}function a_(e){Ca.D(e),ry("dns-prefetch",e,null)}function i_(e,t){Ca.C(e,t),ry("preconnect",e,t)}function s_(e,t,i){Ca.L(e,t,i);var r=Ss;if(r&&e&&t){var c='link[rel="preload"][as="'+Rn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Rn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Rn(i.imageSizes)+'"]')):c+='[href="'+Rn(e)+'"]';var f=c;switch(t){case"style":f=_s(e);break;case"script":f=ws(e)}Bn.has(f)||(e=x({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Bn.set(f,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Do(f))||t==="script"&&r.querySelector(ko(f))||(t=r.createElement("link"),Wt(t,"link",e),qt(t),r.head.appendChild(t)))}}function o_(e,t){Ca.m(e,t);var i=Ss;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Rn(r)+'"][href="'+Rn(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ws(e)}if(!Bn.has(f)&&(e=x({rel:"modulepreload",href:e},t),Bn.set(f,e),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ko(f)))return}r=i.createElement("link"),Wt(r,"link",e),qt(r),i.head.appendChild(r)}}}function r_(e,t,i){Ca.S(e,t,i);var r=Ss;if(r&&e){var c=qi(r).hoistableStyles,f=_s(e);t=t||"default";var g=c.get(f);if(!g){var b={loading:0,preload:null};if(g=r.querySelector(Do(f)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Bn.get(f))&&bd(e,i);var w=g=r.createElement("link");qt(w),Wt(w,"link",e),w._p=new Promise(function(N,P){w.onload=N,w.onerror=P}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xl(g,t,r)}g={type:"stylesheet",instance:g,count:1,state:b},c.set(f,g)}}}function l_(e,t){Ca.X(e,t);var i=Ss;if(i&&e){var r=qi(i).hoistableScripts,c=ws(e),f=r.get(c);f||(f=i.querySelector(ko(c)),f||(e=x({src:e,async:!0},t),(t=Bn.get(c))&&Sd(e,t),f=i.createElement("script"),qt(f),Wt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function c_(e,t){Ca.M(e,t);var i=Ss;if(i&&e){var r=qi(i).hoistableScripts,c=ws(e),f=r.get(c);f||(f=i.querySelector(ko(c)),f||(e=x({src:e,async:!0,type:"module"},t),(t=Bn.get(c))&&Sd(e,t),f=i.createElement("script"),qt(f),Wt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function ly(e,t,i,r){var c=(c=at.current)?vl(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=_s(i.href),i=qi(c).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=_s(i.href);var f=qi(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(Do(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bn.set(e,i),f||u_(c,e,i,g.state))),t&&r===null)throw Error(o(528,""));return g}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ws(i),i=qi(c).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function _s(e){return'href="'+Rn(e)+'"'}function Do(e){return'link[rel="stylesheet"]['+e+"]"}function cy(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function u_(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Wt(t,"link",i),qt(t),e.head.appendChild(t))}function ws(e){return'[src="'+Rn(e)+'"]'}function ko(e){return"script[async]"+e}function uy(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Rn(i.href)+'"]');if(r)return t.instance=r,qt(r),r;var c=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),qt(r),Wt(r,"style",c),xl(r,i.precedence,e),t.instance=r;case"stylesheet":c=_s(i.href);var f=e.querySelector(Do(c));if(f)return t.state.loading|=4,t.instance=f,qt(f),f;r=cy(i),(c=Bn.get(c))&&bd(r,c),f=(e.ownerDocument||e).createElement("link"),qt(f);var g=f;return g._p=new Promise(function(b,w){g.onload=b,g.onerror=w}),Wt(f,"link",r),t.state.loading|=4,xl(f,i.precedence,e),t.instance=f;case"script":return f=ws(i.src),(c=e.querySelector(ko(f)))?(t.instance=c,qt(c),c):(r=i,(c=Bn.get(f))&&(r=x({},i),Sd(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),qt(c),Wt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,xl(r,i.precedence,e));return t.instance}function xl(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,g=0;g<r.length;g++){var b=r[g];if(b.dataset.precedence===t)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function bd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Sd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bl=null;function dy(e,t,i){if(bl===null){var r=new Map,c=bl=new Map;c.set(i,r)}else c=bl,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[$s]||f[$t]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var b=r.get(g);b?b.push(f):r.set(g,[f])}}return r}function fy(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function d_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function f_(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=_s(r.href),f=t.querySelector(Do(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Sl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,qt(f);return}f=t.ownerDocument||t,r=cy(r),(c=Bn.get(c))&&bd(r,c),f=f.createElement("link"),qt(f);var g=f;g._p=new Promise(function(b,w){g.onload=b,g.onerror=w}),Wt(f,"link",r),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Sl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var _d=0;function p_(e,t){return e.stylesheets&&e.count===0&&wl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&_d===0&&(_d=62500*$1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _l=null;function wl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_l=new Map,t.forEach(h_,e),_l=null,Sl.call(e))}function h_(e,t){if(!(t.state.loading&4)){var i=_l.get(e);if(i)var r=i.get(null);else{i=new Map,_l.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),r=g)}r&&i.set(null,r)}c=t.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||r,f===r&&i.set(null,c),i.set(g,c),this.count++,r=Sl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var No={$$typeof:z,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function m_(e,t,i,r,c,f,g,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function hy(e,t,i,r,c,f,g,b,w,N,P,G){return e=new m_(e,t,i,g,w,N,P,G,b),t=1,f===!0&&(t|=24),f=Sn(3,null,null,t),e.current=f,f.stateNode=e,t=tu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:t},su(f),e}function my(e){return e?(e=es,e):es}function gy(e,t,i,r,c,f){c=my(c),r.context===null?r.context=c:r.pendingContext=c,r=Oa(t),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=Ua(e,r,t),i!==null&&(mn(i,e,t),uo(i,e,t))}function yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function wd(e,t){yy(e,t),(e=e.alternate)&&yy(e,t)}function vy(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&mn(t,e,67108864),wd(e,67108864)}}function xy(e){if(e.tag===13||e.tag===31){var t=jn();t=vc(t);var i=pi(e,t);i!==null&&mn(i,e,t),wd(e,t)}}var Cl=!0;function g_(e,t,i,r){var c=L.T;L.T=null;var f=Y.p;try{Y.p=2,Cd(e,t,i,r)}finally{Y.p=f,L.T=c}}function y_(e,t,i,r){var c=L.T;L.T=null;var f=Y.p;try{Y.p=8,Cd(e,t,i,r)}finally{Y.p=f,L.T=c}}function Cd(e,t,i,r){if(Cl){var c=Td(r);if(c===null)ud(e,t,r,Tl,i),Sy(e,r);else if(x_(c,e,t,i,r))r.stopPropagation();else if(Sy(e,r),t&4&&-1<v_.indexOf(e)){for(;c!==null;){var f=Fi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=de(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var w=1<<31-Mt(g);b.entanglements[1]|=w,g&=~w}Jn(f),(qe&6)===0&&(rl=X()+500,Ao(0))}}break;case 31:case 13:b=pi(f,2),b!==null&&mn(b,f,2),cl(),wd(f,2)}if(f=Td(r),f===null&&ud(e,t,r,Tl,i),f===c)break;c=f}c!==null&&r.stopPropagation()}else ud(e,t,r,null,i)}}function Td(e){return e=Ac(e),jd(e)}var Tl=null;function jd(e){if(Tl=null,e=Ii(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tl=e,null}function by(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case it:return 2;case ht:return 8;case Et:case ia:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Ad=!1,$a=null,Xa=null,Ka=null,zo=new Map,Oo=new Map,Qa=[],v_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function Uo(e,t,i,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Fi(t),t!==null&&vy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function x_(e,t,i,r,c){switch(t){case"focusin":return $a=Uo($a,e,t,i,r,c),!0;case"dragenter":return Xa=Uo(Xa,e,t,i,r,c),!0;case"mouseover":return Ka=Uo(Ka,e,t,i,r,c),!0;case"pointerover":var f=c.pointerId;return zo.set(f,Uo(zo.get(f)||null,e,t,i,r,c)),!0;case"gotpointercapture":return f=c.pointerId,Oo.set(f,Uo(Oo.get(f)||null,e,t,i,r,c)),!0}return!1}function _y(e){var t=Ii(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Up(e.priority,function(){xy(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,Up(e.priority,function(){xy(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Td(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);jc=r,i.target.dispatchEvent(r),jc=null}else return t=Fi(i),t!==null&&vy(t),e.blockedOn=i,!1;t.shift()}return!0}function wy(e,t,i){jl(e)&&i.delete(t)}function b_(){Ad=!1,$a!==null&&jl($a)&&($a=null),Xa!==null&&jl(Xa)&&(Xa=null),Ka!==null&&jl(Ka)&&(Ka=null),zo.forEach(wy),Oo.forEach(wy)}function Al(e,t){e.blockedOn===t&&(e.blockedOn=null,Ad||(Ad=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,b_)))}var El=null;function Cy(e){El!==e&&(El=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){El===e&&(El=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(jd(r||i)===null)continue;break}var f=Fi(i);f!==null&&(e.splice(t,3),t-=3,Tu(f,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function Cs(e){function t(w){return Al(w,e)}$a!==null&&Al($a,e),Xa!==null&&Al(Xa,e),Ka!==null&&Al(Ka,e),zo.forEach(t),Oo.forEach(t);for(var i=0;i<Qa.length;i++){var r=Qa[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qa.length&&(i=Qa[0],i.blockedOn===null);)_y(i),i.blockedOn===null&&Qa.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],f=i[r+1],g=c[cn]||null;if(typeof f=="function")g||Cy(i);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[cn]||null)b=g.formAction;else if(jd(c)!==null)continue}else b=g.action;typeof b=="function"?i[r+1]=b:(i.splice(r,3),r-=3),Cy(i)}}}function Ty(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Ed(e){this._internalRoot=e}Rl.prototype.render=Ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var i=t.current,r=jn();gy(i,r,e,t,null,null)},Rl.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gy(e.current,2,null,e,null,null),cl(),t[Hi]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Op();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Qa.length&&t!==0&&t<Qa[i].priority;i++);Qa.splice(i,0,e),i===0&&_y(e)}};var jy=n.version;if(jy!=="19.2.0")throw Error(o(527,jy,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var S_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{In=Ml.inject(S_),Rt=Ml}catch{}}return Vo.createRoot=function(e,t){if(!l(e))throw Error(o(299));var i=!1,r="",c=Nm,f=zm,g=Om;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=hy(e,1,!1,null,null,i,r,null,c,f,g,Ty),e[Hi]=t.current,cd(e),new Ed(t)},Vo.hydrateRoot=function(e,t,i){if(!l(e))throw Error(o(299));var r=!1,c="",f=Nm,g=zm,b=Om,w=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(w=i.formState)),t=hy(e,1,!0,t,i??null,r,c,w,f,g,b,Ty),t.context=my(null),i=t.current,r=jn(),r=vc(r),c=Oa(r),c.callback=null,Ua(i,c,r),i=r,t.current.lanes=i,li(t,i),Jn(t),e[Hi]=t.current,cd(e),new Rl(t)},Vo.version="19.2.0",Vo}var Ny;function J_(){if(Ny)return Md.exports;Ny=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Md.exports=Z_(),Md.exports}var ew=J_();const tw="modulepreload",nw=function(a){return"/"+a},zy={},It=function(n,s,o){let l=Promise.resolve();if(s&&s.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=m(s.map(y=>{if(y=nw(y),y in zy)return;zy[y]=!0;const v=y.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":tw,v||(S.as="script"),S.crossOrigin="",S.href=y,h&&S.setAttribute("nonce",h),document.head.appendChild(S),v)return new Promise((T,_)=>{S.addEventListener("load",T),S.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})},Oy=a=>{let n;const s=new Set,o=(y,v)=>{const x=typeof y=="function"?y(n):y;if(!Object.is(x,n)){const S=n;n=v??(typeof x!="object"||x===null)?x:Object.assign({},n,x),s.forEach(T=>T(n,S))}},l=()=>n,h={setState:o,getState:l,getInitialState:()=>m,subscribe:y=>(s.add(y),()=>s.delete(y))},m=n=a(o,l,h);return h},aw=(a=>a?Oy(a):Oy),iw=a=>a;function sw(a,n=iw){const s=ti.useSyncExternalStore(a.subscribe,ti.useCallback(()=>n(a.getState()),[a,n]),ti.useCallback(()=>n(a.getInitialState()),[a,n]));return ti.useDebugValue(s),s}const Uy=a=>{const n=aw(a),s=o=>sw(n,o);return Object.assign(s,n),s},rc=(a=>a?Uy(a):Uy);function Gx(a,n){return function(){return a.apply(n,arguments)}}const{toString:ow}=Object.prototype,{getPrototypeOf:Yf}=Object,{iterator:lc,toStringTag:Yx}=Symbol,cc=(a=>n=>{const s=ow.call(n);return a[s]||(a[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=a=>(a=a.toLowerCase(),n=>cc(n)===a),uc=a=>n=>typeof n===a,{isArray:Ps}=Array,zs=uc("undefined");function cr(a){return a!==null&&!zs(a)&&a.constructor!==null&&!zs(a.constructor)&&yn(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const $x=Kn("ArrayBuffer");function rw(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&$x(a.buffer),n}const lw=uc("string"),yn=uc("function"),Xx=uc("number"),ur=a=>a!==null&&typeof a=="object",cw=a=>a===!0||a===!1,Vl=a=>{if(cc(a)!=="object")return!1;const n=Yf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Yx in a)&&!(lc in a)},uw=a=>{if(!ur(a)||cr(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},dw=Kn("Date"),fw=Kn("File"),pw=Kn("Blob"),hw=Kn("FileList"),mw=a=>ur(a)&&yn(a.pipe),gw=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||yn(a.append)&&((n=cc(a))==="formdata"||n==="object"&&yn(a.toString)&&a.toString()==="[object FormData]"))},yw=Kn("URLSearchParams"),[vw,xw,bw,Sw]=["ReadableStream","Request","Response","Headers"].map(Kn),_w=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dr(a,n,{allOwnKeys:s=!1}={}){if(a===null||typeof a>"u")return;let o,l;if(typeof a!="object"&&(a=[a]),Ps(a))for(o=0,l=a.length;o<l;o++)n.call(null,a[o],o,a);else{if(cr(a))return;const u=s?Object.getOwnPropertyNames(a):Object.keys(a),d=u.length;let h;for(o=0;o<d;o++)h=u[o],n.call(null,a[h],h,a)}}function Kx(a,n){if(cr(a))return null;n=n.toLowerCase();const s=Object.keys(a);let o=s.length,l;for(;o-- >0;)if(l=s[o],n===l.toLowerCase())return l;return null}const Ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qx=a=>!zs(a)&&a!==Ri;function ff(){const{caseless:a,skipUndefined:n}=Qx(this)&&this||{},s={},o=(l,u)=>{const d=a&&Kx(s,u)||u;Vl(s[d])&&Vl(l)?s[d]=ff(s[d],l):Vl(l)?s[d]=ff({},l):Ps(l)?s[d]=l.slice():(!n||!zs(l))&&(s[d]=l)};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&dr(arguments[l],o);return s}const ww=(a,n,s,{allOwnKeys:o}={})=>(dr(n,(l,u)=>{s&&yn(l)?a[u]=Gx(l,s):a[u]=l},{allOwnKeys:o}),a),Cw=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Tw=(a,n,s,o)=>{a.prototype=Object.create(n.prototype,o),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),s&&Object.assign(a.prototype,s)},jw=(a,n,s,o)=>{let l,u,d;const h={};if(n=n||{},a==null)return n;do{for(l=Object.getOwnPropertyNames(a),u=l.length;u-- >0;)d=l[u],(!o||o(d,a,n))&&!h[d]&&(n[d]=a[d],h[d]=!0);a=s!==!1&&Yf(a)}while(a&&(!s||s(a,n))&&a!==Object.prototype);return n},Aw=(a,n,s)=>{a=String(a),(s===void 0||s>a.length)&&(s=a.length),s-=n.length;const o=a.indexOf(n,s);return o!==-1&&o===s},Ew=a=>{if(!a)return null;if(Ps(a))return a;let n=a.length;if(!Xx(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=a[n];return s},Rw=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&Yf(Uint8Array)),Mw=(a,n)=>{const o=(a&&a[lc]).call(a);let l;for(;(l=o.next())&&!l.done;){const u=l.value;n.call(a,u[0],u[1])}},Dw=(a,n)=>{let s;const o=[];for(;(s=a.exec(n))!==null;)o.push(s);return o},kw=Kn("HTMLFormElement"),Nw=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,l){return o.toUpperCase()+l}),By=(({hasOwnProperty:a})=>(n,s)=>a.call(n,s))(Object.prototype),zw=Kn("RegExp"),Wx=(a,n)=>{const s=Object.getOwnPropertyDescriptors(a),o={};dr(s,(l,u)=>{let d;(d=n(l,u,a))!==!1&&(o[u]=d||l)}),Object.defineProperties(a,o)},Ow=a=>{Wx(a,(n,s)=>{if(yn(a)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=a[s];if(yn(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Uw=(a,n)=>{const s={},o=l=>{l.forEach(u=>{s[u]=!0})};return Ps(a)?o(a):o(String(a).split(n)),s},Bw=()=>{},Lw=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function Vw(a){return!!(a&&yn(a.append)&&a[Yx]==="FormData"&&a[lc])}const Pw=a=>{const n=new Array(10),s=(o,l)=>{if(ur(o)){if(n.indexOf(o)>=0)return;if(cr(o))return o;if(!("toJSON"in o)){n[l]=o;const u=Ps(o)?[]:{};return dr(o,(d,h)=>{const m=s(d,l+1);!zs(m)&&(u[h]=m)}),n[l]=void 0,u}}return o};return s(a,0)},Hw=Kn("AsyncFunction"),Iw=a=>a&&(ur(a)||yn(a))&&yn(a.then)&&yn(a.catch),Zx=((a,n)=>a?setImmediate:n?((s,o)=>(Ri.addEventListener("message",({source:l,data:u})=>{l===Ri&&u===s&&o.length&&o.shift()()},!1),l=>{o.push(l),Ri.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",yn(Ri.postMessage)),Fw=typeof queueMicrotask<"u"?queueMicrotask.bind(Ri):typeof process<"u"&&process.nextTick||Zx,qw=a=>a!=null&&yn(a[lc]),U={isArray:Ps,isArrayBuffer:$x,isBuffer:cr,isFormData:gw,isArrayBufferView:rw,isString:lw,isNumber:Xx,isBoolean:cw,isObject:ur,isPlainObject:Vl,isEmptyObject:uw,isReadableStream:vw,isRequest:xw,isResponse:bw,isHeaders:Sw,isUndefined:zs,isDate:dw,isFile:fw,isBlob:pw,isRegExp:zw,isFunction:yn,isStream:mw,isURLSearchParams:yw,isTypedArray:Rw,isFileList:hw,forEach:dr,merge:ff,extend:ww,trim:_w,stripBOM:Cw,inherits:Tw,toFlatObject:jw,kindOf:cc,kindOfTest:Kn,endsWith:Aw,toArray:Ew,forEachEntry:Mw,matchAll:Dw,isHTMLForm:kw,hasOwnProperty:By,hasOwnProp:By,reduceDescriptors:Wx,freezeMethods:Ow,toObjectSet:Uw,toCamelCase:Nw,noop:Bw,toFiniteNumber:Lw,findKey:Kx,global:Ri,isContextDefined:Qx,isSpecCompliantForm:Vw,toJSONObject:Pw,isAsyncFn:Hw,isThenable:Iw,setImmediate:Zx,asap:Fw,isIterable:qw};function Ee(a,n,s,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}U.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const Jx=Ee.prototype,e0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{e0[a]={value:a}});Object.defineProperties(Ee,e0);Object.defineProperty(Jx,"isAxiosError",{value:!0});Ee.from=(a,n,s,o,l,u)=>{const d=Object.create(Jx);U.toFlatObject(a,d,function(v){return v!==Error.prototype},y=>y!=="isAxiosError");const h=a&&a.message?a.message:"Error",m=n==null&&a?a.code:n;return Ee.call(d,h,m,s,o,l),a&&d.cause==null&&Object.defineProperty(d,"cause",{value:a,configurable:!0}),d.name=a&&a.name||"Error",u&&Object.assign(d,u),d};const Gw=null;function pf(a){return U.isPlainObject(a)||U.isArray(a)}function t0(a){return U.endsWith(a,"[]")?a.slice(0,-2):a}function Ly(a,n,s){return a?a.concat(n).map(function(l,u){return l=t0(l),!s&&u?"["+l+"]":l}).join(s?".":""):n}function Yw(a){return U.isArray(a)&&!a.some(pf)}const $w=U.toFlatObject(U,{},null,function(n){return/^is[A-Z]/.test(n)});function dc(a,n,s){if(!U.isObject(a))throw new TypeError("target must be an object");n=n||new FormData,s=U.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,D){return!U.isUndefined(D[E])});const o=s.metaTokens,l=s.visitor||v,u=s.dots,d=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(n);if(!U.isFunction(l))throw new TypeError("visitor must be a function");function y(_){if(_===null)return"";if(U.isDate(_))return _.toISOString();if(U.isBoolean(_))return _.toString();if(!m&&U.isBlob(_))throw new Ee("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(_)||U.isTypedArray(_)?m&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,E,D){let R=_;if(_&&!D&&typeof _=="object"){if(U.endsWith(E,"{}"))E=o?E:E.slice(0,-2),_=JSON.stringify(_);else if(U.isArray(_)&&Yw(_)||(U.isFileList(_)||U.endsWith(E,"[]"))&&(R=U.toArray(_)))return E=t0(E),R.forEach(function(z,$){!(U.isUndefined(z)||z===null)&&n.append(d===!0?Ly([E],$,u):d===null?E:E+"[]",y(z))}),!1}return pf(_)?!0:(n.append(Ly(D,E,u),y(_)),!1)}const x=[],S=Object.assign($w,{defaultVisitor:v,convertValue:y,isVisitable:pf});function T(_,E){if(!U.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+E.join("."));x.push(_),U.forEach(_,function(R,H){(!(U.isUndefined(R)||R===null)&&l.call(n,R,U.isString(H)?H.trim():H,E,S))===!0&&T(R,E?E.concat(H):[H])}),x.pop()}}if(!U.isObject(a))throw new TypeError("data must be an object");return T(a),n}function Vy(a){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function $f(a,n){this._pairs=[],a&&dc(a,this,n)}const n0=$f.prototype;n0.append=function(n,s){this._pairs.push([n,s])};n0.toString=function(n){const s=n?function(o){return n.call(this,o,Vy)}:Vy;return this._pairs.map(function(l){return s(l[0])+"="+s(l[1])},"").join("&")};function Xw(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function a0(a,n,s){if(!n)return a;const o=s&&s.encode||Xw;U.isFunction(s)&&(s={serialize:s});const l=s&&s.serialize;let u;if(l?u=l(n,s):u=U.isURLSearchParams(n)?n.toString():new $f(n,s).toString(o),u){const d=a.indexOf("#");d!==-1&&(a=a.slice(0,d)),a+=(a.indexOf("?")===-1?"?":"&")+u}return a}class Py{constructor(){this.handlers=[]}use(n,s,o){return this.handlers.push({fulfilled:n,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){U.forEach(this.handlers,function(o){o!==null&&n(o)})}}const i0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kw=typeof URLSearchParams<"u"?URLSearchParams:$f,Qw=typeof FormData<"u"?FormData:null,Ww=typeof Blob<"u"?Blob:null,Zw={isBrowser:!0,classes:{URLSearchParams:Kw,FormData:Qw,Blob:Ww},protocols:["http","https","file","blob","url","data"]},Xf=typeof window<"u"&&typeof document<"u",hf=typeof navigator=="object"&&navigator||void 0,Jw=Xf&&(!hf||["ReactNative","NativeScript","NS"].indexOf(hf.product)<0),eC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tC=Xf&&window.location.href||"http://localhost",nC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xf,hasStandardBrowserEnv:Jw,hasStandardBrowserWebWorkerEnv:eC,navigator:hf,origin:tC},Symbol.toStringTag,{value:"Module"})),nn={...nC,...Zw};function aC(a,n){return dc(a,new nn.classes.URLSearchParams,{visitor:function(s,o,l,u){return nn.isNode&&U.isBuffer(s)?(this.append(o,s.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...n})}function iC(a){return U.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function sC(a){const n={},s=Object.keys(a);let o;const l=s.length;let u;for(o=0;o<l;o++)u=s[o],n[u]=a[u];return n}function s0(a){function n(s,o,l,u){let d=s[u++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),m=u>=s.length;return d=!d&&U.isArray(l)?l.length:d,m?(U.hasOwnProp(l,d)?l[d]=[l[d],o]:l[d]=o,!h):((!l[d]||!U.isObject(l[d]))&&(l[d]=[]),n(s,o,l[d],u)&&U.isArray(l[d])&&(l[d]=sC(l[d])),!h)}if(U.isFormData(a)&&U.isFunction(a.entries)){const s={};return U.forEachEntry(a,(o,l)=>{n(iC(o),l,s,0)}),s}return null}function oC(a,n,s){if(U.isString(a))try{return(n||JSON.parse)(a),U.trim(a)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(a)}const fr={transitional:i0,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const o=s.getContentType()||"",l=o.indexOf("application/json")>-1,u=U.isObject(n);if(u&&U.isHTMLForm(n)&&(n=new FormData(n)),U.isFormData(n))return l?JSON.stringify(s0(n)):n;if(U.isArrayBuffer(n)||U.isBuffer(n)||U.isStream(n)||U.isFile(n)||U.isBlob(n)||U.isReadableStream(n))return n;if(U.isArrayBufferView(n))return n.buffer;if(U.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return aC(n,this.formSerializer).toString();if((h=U.isFileList(n))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return dc(h?{"files[]":n}:n,m&&new m,this.formSerializer)}}return u||l?(s.setContentType("application/json",!1),oC(n)):n}],transformResponse:[function(n){const s=this.transitional||fr.transitional,o=s&&s.forcedJSONParsing,l=this.responseType==="json";if(U.isResponse(n)||U.isReadableStream(n))return n;if(n&&U.isString(n)&&(o&&!this.responseType||l)){const d=!(s&&s.silentJSONParsing)&&l;try{return JSON.parse(n,this.parseReviver)}catch(h){if(d)throw h.name==="SyntaxError"?Ee.from(h,Ee.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],a=>{fr.headers[a]={}});const rC=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lC=a=>{const n={};let s,o,l;return a&&a.split(`
`).forEach(function(d){l=d.indexOf(":"),s=d.substring(0,l).trim().toLowerCase(),o=d.substring(l+1).trim(),!(!s||n[s]&&rC[s])&&(s==="set-cookie"?n[s]?n[s].push(o):n[s]=[o]:n[s]=n[s]?n[s]+", "+o:o)}),n},Hy=Symbol("internals");function Po(a){return a&&String(a).trim().toLowerCase()}function Pl(a){return a===!1||a==null?a:U.isArray(a)?a.map(Pl):String(a)}function cC(a){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(a);)n[o[1]]=o[2];return n}const uC=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Nd(a,n,s,o,l){if(U.isFunction(o))return o.call(this,n,s);if(l&&(n=s),!!U.isString(n)){if(U.isString(o))return n.indexOf(o)!==-1;if(U.isRegExp(o))return o.test(n)}}function dC(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,o)=>s.toUpperCase()+o)}function fC(a,n){const s=U.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(a,o+s,{value:function(l,u,d){return this[o].call(this,n,l,u,d)},configurable:!0})})}let vn=class{constructor(n){n&&this.set(n)}set(n,s,o){const l=this;function u(h,m,y){const v=Po(m);if(!v)throw new Error("header name must be a non-empty string");const x=U.findKey(l,v);(!x||l[x]===void 0||y===!0||y===void 0&&l[x]!==!1)&&(l[x||m]=Pl(h))}const d=(h,m)=>U.forEach(h,(y,v)=>u(y,v,m));if(U.isPlainObject(n)||n instanceof this.constructor)d(n,s);else if(U.isString(n)&&(n=n.trim())&&!uC(n))d(lC(n),s);else if(U.isObject(n)&&U.isIterable(n)){let h={},m,y;for(const v of n){if(!U.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[y=v[0]]=(m=h[y])?U.isArray(m)?[...m,v[1]]:[m,v[1]]:v[1]}d(h,s)}else n!=null&&u(s,n,o);return this}get(n,s){if(n=Po(n),n){const o=U.findKey(this,n);if(o){const l=this[o];if(!s)return l;if(s===!0)return cC(l);if(U.isFunction(s))return s.call(this,l,o);if(U.isRegExp(s))return s.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=Po(n),n){const o=U.findKey(this,n);return!!(o&&this[o]!==void 0&&(!s||Nd(this,this[o],o,s)))}return!1}delete(n,s){const o=this;let l=!1;function u(d){if(d=Po(d),d){const h=U.findKey(o,d);h&&(!s||Nd(o,o[h],h,s))&&(delete o[h],l=!0)}}return U.isArray(n)?n.forEach(u):u(n),l}clear(n){const s=Object.keys(this);let o=s.length,l=!1;for(;o--;){const u=s[o];(!n||Nd(this,this[u],u,n,!0))&&(delete this[u],l=!0)}return l}normalize(n){const s=this,o={};return U.forEach(this,(l,u)=>{const d=U.findKey(o,u);if(d){s[d]=Pl(l),delete s[u];return}const h=n?dC(u):String(u).trim();h!==u&&delete s[u],s[h]=Pl(l),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return U.forEach(this,(o,l)=>{o!=null&&o!==!1&&(s[l]=n&&U.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const o=new this(n);return s.forEach(l=>o.set(l)),o}static accessor(n){const o=(this[Hy]=this[Hy]={accessors:{}}).accessors,l=this.prototype;function u(d){const h=Po(d);o[h]||(fC(l,d),o[h]=!0)}return U.isArray(n)?n.forEach(u):u(n),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(vn.prototype,({value:a},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(o){this[s]=o}}});U.freezeMethods(vn);function zd(a,n){const s=this||fr,o=n||s,l=vn.from(o.headers);let u=o.data;return U.forEach(a,function(h){u=h.call(s,u,l.normalize(),n?n.status:void 0)}),l.normalize(),u}function o0(a){return!!(a&&a.__CANCEL__)}function Hs(a,n,s){Ee.call(this,a??"canceled",Ee.ERR_CANCELED,n,s),this.name="CanceledError"}U.inherits(Hs,Ee,{__CANCEL__:!0});function r0(a,n,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?a(s):n(new Ee("Request failed with status code "+s.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function pC(a){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}function hC(a,n){a=a||10;const s=new Array(a),o=new Array(a);let l=0,u=0,d;return n=n!==void 0?n:1e3,function(m){const y=Date.now(),v=o[u];d||(d=y),s[l]=m,o[l]=y;let x=u,S=0;for(;x!==l;)S+=s[x++],x=x%a;if(l=(l+1)%a,l===u&&(u=(u+1)%a),y-d<n)return;const T=v&&y-v;return T?Math.round(S*1e3/T):void 0}}function mC(a,n){let s=0,o=1e3/n,l,u;const d=(y,v=Date.now())=>{s=v,l=null,u&&(clearTimeout(u),u=null),a(...y)};return[(...y)=>{const v=Date.now(),x=v-s;x>=o?d(y,v):(l=y,u||(u=setTimeout(()=>{u=null,d(l)},o-x)))},()=>l&&d(l)]}const Ql=(a,n,s=3)=>{let o=0;const l=hC(50,250);return mC(u=>{const d=u.loaded,h=u.lengthComputable?u.total:void 0,m=d-o,y=l(m),v=d<=h;o=d;const x={loaded:d,total:h,progress:h?d/h:void 0,bytes:m,rate:y||void 0,estimated:y&&h&&v?(h-d)/y:void 0,event:u,lengthComputable:h!=null,[n?"download":"upload"]:!0};a(x)},s)},Iy=(a,n)=>{const s=a!=null;return[o=>n[0]({lengthComputable:s,total:a,loaded:o}),n[1]]},Fy=a=>(...n)=>U.asap(()=>a(...n)),gC=nn.hasStandardBrowserEnv?((a,n)=>s=>(s=new URL(s,nn.origin),a.protocol===s.protocol&&a.host===s.host&&(n||a.port===s.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,yC=nn.hasStandardBrowserEnv?{write(a,n,s,o,l,u,d){if(typeof document>"u")return;const h=[`${a}=${encodeURIComponent(n)}`];U.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),U.isString(o)&&h.push(`path=${o}`),U.isString(l)&&h.push(`domain=${l}`),u===!0&&h.push("secure"),U.isString(d)&&h.push(`SameSite=${d}`),document.cookie=h.join("; ")},read(a){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vC(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function xC(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function l0(a,n,s){let o=!vC(n);return a&&(o||s==!1)?xC(a,n):n}const qy=a=>a instanceof vn?{...a}:a;function Li(a,n){n=n||{};const s={};function o(y,v,x,S){return U.isPlainObject(y)&&U.isPlainObject(v)?U.merge.call({caseless:S},y,v):U.isPlainObject(v)?U.merge({},v):U.isArray(v)?v.slice():v}function l(y,v,x,S){if(U.isUndefined(v)){if(!U.isUndefined(y))return o(void 0,y,x,S)}else return o(y,v,x,S)}function u(y,v){if(!U.isUndefined(v))return o(void 0,v)}function d(y,v){if(U.isUndefined(v)){if(!U.isUndefined(y))return o(void 0,y)}else return o(void 0,v)}function h(y,v,x){if(x in n)return o(y,v);if(x in a)return o(void 0,y)}const m={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(y,v,x)=>l(qy(y),qy(v),x,!0)};return U.forEach(Object.keys({...a,...n}),function(v){const x=m[v]||l,S=x(a[v],n[v],v);U.isUndefined(S)&&x!==h||(s[v]=S)}),s}const c0=a=>{const n=Li({},a);let{data:s,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:u,headers:d,auth:h}=n;if(n.headers=d=vn.from(d),n.url=a0(l0(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),U.isFormData(s)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(U.isFunction(s.getHeaders)){const m=s.getHeaders(),y=["content-type","content-length"];Object.entries(m).forEach(([v,x])=>{y.includes(v.toLowerCase())&&d.set(v,x)})}}if(nn.hasStandardBrowserEnv&&(o&&U.isFunction(o)&&(o=o(n)),o||o!==!1&&gC(n.url))){const m=l&&u&&yC.read(u);m&&d.set(l,m)}return n},bC=typeof XMLHttpRequest<"u",SC=bC&&function(a){return new Promise(function(s,o){const l=c0(a);let u=l.data;const d=vn.from(l.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:y}=l,v,x,S,T,_;function E(){T&&T(),_&&_(),l.cancelToken&&l.cancelToken.unsubscribe(v),l.signal&&l.signal.removeEventListener("abort",v)}let D=new XMLHttpRequest;D.open(l.method.toUpperCase(),l.url,!0),D.timeout=l.timeout;function R(){if(!D)return;const z=vn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),V={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:z,config:a,request:D};r0(function(Z){s(Z),E()},function(Z){o(Z),E()},V),D=null}"onloadend"in D?D.onloadend=R:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(R)},D.onabort=function(){D&&(o(new Ee("Request aborted",Ee.ECONNABORTED,a,D)),D=null)},D.onerror=function($){const V=$&&$.message?$.message:"Network Error",Q=new Ee(V,Ee.ERR_NETWORK,a,D);Q.event=$||null,o(Q),D=null},D.ontimeout=function(){let $=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const V=l.transitional||i0;l.timeoutErrorMessage&&($=l.timeoutErrorMessage),o(new Ee($,V.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,a,D)),D=null},u===void 0&&d.setContentType(null),"setRequestHeader"in D&&U.forEach(d.toJSON(),function($,V){D.setRequestHeader(V,$)}),U.isUndefined(l.withCredentials)||(D.withCredentials=!!l.withCredentials),h&&h!=="json"&&(D.responseType=l.responseType),y&&([S,_]=Ql(y,!0),D.addEventListener("progress",S)),m&&D.upload&&([x,T]=Ql(m),D.upload.addEventListener("progress",x),D.upload.addEventListener("loadend",T)),(l.cancelToken||l.signal)&&(v=z=>{D&&(o(!z||z.type?new Hs(null,a,D):z),D.abort(),D=null)},l.cancelToken&&l.cancelToken.subscribe(v),l.signal&&(l.signal.aborted?v():l.signal.addEventListener("abort",v)));const H=pC(l.url);if(H&&nn.protocols.indexOf(H)===-1){o(new Ee("Unsupported protocol "+H+":",Ee.ERR_BAD_REQUEST,a));return}D.send(u||null)})},_C=(a,n)=>{const{length:s}=a=a?a.filter(Boolean):[];if(n||s){let o=new AbortController,l;const u=function(y){if(!l){l=!0,h();const v=y instanceof Error?y:this.reason;o.abort(v instanceof Ee?v:new Hs(v instanceof Error?v.message:v))}};let d=n&&setTimeout(()=>{d=null,u(new Ee(`timeout ${n} of ms exceeded`,Ee.ETIMEDOUT))},n);const h=()=>{a&&(d&&clearTimeout(d),d=null,a.forEach(y=>{y.unsubscribe?y.unsubscribe(u):y.removeEventListener("abort",u)}),a=null)};a.forEach(y=>y.addEventListener("abort",u));const{signal:m}=o;return m.unsubscribe=()=>U.asap(h),m}},wC=function*(a,n){let s=a.byteLength;if(s<n){yield a;return}let o=0,l;for(;o<s;)l=o+n,yield a.slice(o,l),o=l},CC=async function*(a,n){for await(const s of TC(a))yield*wC(s,n)},TC=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const n=a.getReader();try{for(;;){const{done:s,value:o}=await n.read();if(s)break;yield o}}finally{await n.cancel()}},Gy=(a,n,s,o)=>{const l=CC(a,n);let u=0,d,h=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:y,value:v}=await l.next();if(y){h(),m.close();return}let x=v.byteLength;if(s){let S=u+=x;s(S)}m.enqueue(new Uint8Array(v))}catch(y){throw h(y),y}},cancel(m){return h(m),l.return()}},{highWaterMark:2})},Yy=64*1024,{isFunction:Dl}=U,jC=(({Request:a,Response:n})=>({Request:a,Response:n}))(U.global),{ReadableStream:$y,TextEncoder:Xy}=U.global,Ky=(a,...n)=>{try{return!!a(...n)}catch{return!1}},AC=a=>{a=U.merge.call({skipUndefined:!0},jC,a);const{fetch:n,Request:s,Response:o}=a,l=n?Dl(n):typeof fetch=="function",u=Dl(s),d=Dl(o);if(!l)return!1;const h=l&&Dl($y),m=l&&(typeof Xy=="function"?(_=>E=>_.encode(E))(new Xy):async _=>new Uint8Array(await new s(_).arrayBuffer())),y=u&&h&&Ky(()=>{let _=!1;const E=new s(nn.origin,{body:new $y,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!E}),v=d&&h&&Ky(()=>U.isReadableStream(new o("").body)),x={stream:v&&(_=>_.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(E,D)=>{let R=E&&E[_];if(R)return R.call(E);throw new Ee(`Response type '${_}' is not supported`,Ee.ERR_NOT_SUPPORT,D)})});const S=async _=>{if(_==null)return 0;if(U.isBlob(_))return _.size;if(U.isSpecCompliantForm(_))return(await new s(nn.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(U.isArrayBufferView(_)||U.isArrayBuffer(_))return _.byteLength;if(U.isURLSearchParams(_)&&(_=_+""),U.isString(_))return(await m(_)).byteLength},T=async(_,E)=>{const D=U.toFiniteNumber(_.getContentLength());return D??S(E)};return async _=>{let{url:E,method:D,data:R,signal:H,cancelToken:z,timeout:$,onDownloadProgress:V,onUploadProgress:Q,responseType:Z,headers:ne,withCredentials:ve="same-origin",fetchOptions:ue}=c0(_),De=n||fetch;Z=Z?(Z+"").toLowerCase():"text";let He=_C([H,z&&z.toAbortSignal()],$),Ue=null;const je=He&&He.unsubscribe&&(()=>{He.unsubscribe()});let Re;try{if(Q&&y&&D!=="get"&&D!=="head"&&(Re=await T(ne,R))!==0){let Se=new s(E,{method:"POST",body:R,duplex:"half"}),Ce;if(U.isFormData(R)&&(Ce=Se.headers.get("content-type"))&&ne.setContentType(Ce),Se.body){const[pe,ge]=Iy(Re,Ql(Fy(Q)));R=Gy(Se.body,Yy,pe,ge)}}U.isString(ve)||(ve=ve?"include":"omit");const L=u&&"credentials"in s.prototype,Y={...ue,signal:He,method:D.toUpperCase(),headers:ne.normalize().toJSON(),body:R,duplex:"half",credentials:L?ve:void 0};Ue=u&&new s(E,Y);let ee=await(u?De(Ue,ue):De(E,Y));const oe=v&&(Z==="stream"||Z==="response");if(v&&(V||oe&&je)){const Se={};["status","statusText","headers"].forEach(Qe=>{Se[Qe]=ee[Qe]});const Ce=U.toFiniteNumber(ee.headers.get("content-length")),[pe,ge]=V&&Iy(Ce,Ql(Fy(V),!0))||[];ee=new o(Gy(ee.body,Yy,pe,()=>{ge&&ge(),je&&je()}),Se)}Z=Z||"text";let we=await x[U.findKey(x,Z)||"text"](ee,_);return!oe&&je&&je(),await new Promise((Se,Ce)=>{r0(Se,Ce,{data:we,headers:vn.from(ee.headers),status:ee.status,statusText:ee.statusText,config:_,request:Ue})})}catch(L){throw je&&je(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,_,Ue),{cause:L.cause||L}):Ee.from(L,L&&L.code,_,Ue)}}},EC=new Map,u0=a=>{let n=a&&a.env||{};const{fetch:s,Request:o,Response:l}=n,u=[o,l,s];let d=u.length,h=d,m,y,v=EC;for(;h--;)m=u[h],y=v.get(m),y===void 0&&v.set(m,y=h?new Map:AC(n)),v=y;return y};u0();const Kf={http:Gw,xhr:SC,fetch:{get:u0}};U.forEach(Kf,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});const Qy=a=>`- ${a}`,RC=a=>U.isFunction(a)||a===null||a===!1;function MC(a,n){a=U.isArray(a)?a:[a];const{length:s}=a;let o,l;const u={};for(let d=0;d<s;d++){o=a[d];let h;if(l=o,!RC(o)&&(l=Kf[(h=String(o)).toLowerCase()],l===void 0))throw new Ee(`Unknown adapter '${h}'`);if(l&&(U.isFunction(l)||(l=l.get(n))))break;u[h||"#"+d]=l}if(!l){const d=Object.entries(u).map(([m,y])=>`adapter ${m} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=s?d.length>1?`since :
`+d.map(Qy).join(`
`):" "+Qy(d[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return l}const d0={getAdapter:MC,adapters:Kf};function Od(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Hs(null,a)}function Wy(a){return Od(a),a.headers=vn.from(a.headers),a.data=zd.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),d0.getAdapter(a.adapter||fr.adapter,a)(a).then(function(o){return Od(a),o.data=zd.call(a,a.transformResponse,o),o.headers=vn.from(o.headers),o},function(o){return o0(o)||(Od(a),o&&o.response&&(o.response.data=zd.call(a,a.transformResponse,o.response),o.response.headers=vn.from(o.response.headers))),Promise.reject(o)})}const f0="1.13.2",fc={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{fc[a]=function(o){return typeof o===a||"a"+(n<1?"n ":" ")+a}});const Zy={};fc.transitional=function(n,s,o){function l(u,d){return"[Axios v"+f0+"] Transitional option '"+u+"'"+d+(o?". "+o:"")}return(u,d,h)=>{if(n===!1)throw new Ee(l(d," has been removed"+(s?" in "+s:"")),Ee.ERR_DEPRECATED);return s&&!Zy[d]&&(Zy[d]=!0,console.warn(l(d," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(u,d,h):!0}};fc.spelling=function(n){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function DC(a,n,s){if(typeof a!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const o=Object.keys(a);let l=o.length;for(;l-- >0;){const u=o[l],d=n[u];if(d){const h=a[u],m=h===void 0||d(h,u,a);if(m!==!0)throw new Ee("option "+u+" must be "+m,Ee.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ee("Unknown option "+u,Ee.ERR_BAD_OPTION)}}const Hl={assertOptions:DC,validators:fc},ea=Hl.validators;let ki=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Py,response:new Py}}async request(n,s){try{return await this._request(n,s)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=Li(this.defaults,s);const{transitional:o,paramsSerializer:l,headers:u}=s;o!==void 0&&Hl.assertOptions(o,{silentJSONParsing:ea.transitional(ea.boolean),forcedJSONParsing:ea.transitional(ea.boolean),clarifyTimeoutError:ea.transitional(ea.boolean)},!1),l!=null&&(U.isFunction(l)?s.paramsSerializer={serialize:l}:Hl.assertOptions(l,{encode:ea.function,serialize:ea.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Hl.assertOptions(s,{baseUrl:ea.spelling("baseURL"),withXsrfToken:ea.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=u&&U.merge(u.common,u[s.method]);u&&U.forEach(["delete","get","head","post","put","patch","common"],_=>{delete u[_]}),s.headers=vn.concat(d,u);const h=[];let m=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(s)===!1||(m=m&&E.synchronous,h.unshift(E.fulfilled,E.rejected))});const y=[];this.interceptors.response.forEach(function(E){y.push(E.fulfilled,E.rejected)});let v,x=0,S;if(!m){const _=[Wy.bind(this),void 0];for(_.unshift(...h),_.push(...y),S=_.length,v=Promise.resolve(s);x<S;)v=v.then(_[x++],_[x++]);return v}S=h.length;let T=s;for(;x<S;){const _=h[x++],E=h[x++];try{T=_(T)}catch(D){E.call(this,D);break}}try{v=Wy.call(this,T)}catch(_){return Promise.reject(_)}for(x=0,S=y.length;x<S;)v=v.then(y[x++],y[x++]);return v}getUri(n){n=Li(this.defaults,n);const s=l0(n.baseURL,n.url,n.allowAbsoluteUrls);return a0(s,n.params,n.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(n){ki.prototype[n]=function(s,o){return this.request(Li(o||{},{method:n,url:s,data:(o||{}).data}))}});U.forEach(["post","put","patch"],function(n){function s(o){return function(u,d,h){return this.request(Li(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}ki.prototype[n]=s(),ki.prototype[n+"Form"]=s(!0)});let kC=class p0{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(u){s=u});const o=this;this.promise.then(l=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](l);o._listeners=null}),this.promise.then=l=>{let u;const d=new Promise(h=>{o.subscribe(h),u=h}).then(l);return d.cancel=function(){o.unsubscribe(u)},d},n(function(u,d,h){o.reason||(o.reason=new Hs(u,d,h),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const n=new AbortController,s=o=>{n.abort(o)};return this.subscribe(s),n.signal.unsubscribe=()=>this.unsubscribe(s),n.signal}static source(){let n;return{token:new p0(function(l){n=l}),cancel:n}}};function NC(a){return function(s){return a.apply(null,s)}}function zC(a){return U.isObject(a)&&a.isAxiosError===!0}const mf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mf).forEach(([a,n])=>{mf[n]=a});function h0(a){const n=new ki(a),s=Gx(ki.prototype.request,n);return U.extend(s,ki.prototype,n,{allOwnKeys:!0}),U.extend(s,n,null,{allOwnKeys:!0}),s.create=function(l){return h0(Li(a,l))},s}const jt=h0(fr);jt.Axios=ki;jt.CanceledError=Hs;jt.CancelToken=kC;jt.isCancel=o0;jt.VERSION=f0;jt.toFormData=dc;jt.AxiosError=Ee;jt.Cancel=jt.CanceledError;jt.all=function(n){return Promise.all(n)};jt.spread=NC;jt.isAxiosError=zC;jt.mergeConfig=Li;jt.AxiosHeaders=vn;jt.formToJSON=a=>s0(U.isHTMLForm(a)?new FormData(a):a);jt.getAdapter=d0.getAdapter;jt.HttpStatusCode=mf;jt.default=jt;const{Axios:j3,AxiosError:A3,CanceledError:E3,isCancel:R3,CancelToken:M3,VERSION:D3,all:k3,Cancel:N3,isAxiosError:z3,spread:O3,toFormData:U3,AxiosHeaders:B3,HttpStatusCode:L3,formToJSON:V3,getAdapter:P3,mergeConfig:H3}=jt,OC="https://your-domain.com/api",be=jt.create({baseURL:OC,headers:{"Content-Type":"application/json"},withCredentials:!0});be.interceptors.request.use(a=>{const n=localStorage.getItem("token");return n&&(console.log("[API] Adding token to request:",a.url,"Token:",n.substring(0,20)+"..."),a.headers.Authorization=`Bearer ${n}`),a});be.interceptors.response.use(a=>a,a=>(a.response?.status===401?(console.warn("[API] 401 Unauthorized - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"):a.response?.status===400&&console.error("[API] 400 Bad Request:",a.response?.data),Promise.reject(a)));const Xo={login:async a=>{const n=await be.post("/auth/login",a);return n.data?.data||n.data},register:async a=>{const n=await be.post("/auth/register",a);return n.data?.data||n.data},sendOTP:async a=>(await be.post(`/otp/send-to-email?email=${encodeURIComponent(a)}`)).data,updatePassword:async(a,n)=>(await be.put("/auth/update-password",{oldPassword:a,newPassword:n})).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")}};function Ke(a,n="An error occurred"){if(a.response?.data?.error?.message)return a.response.data.error.message;if(a.response?.data?.message)return a.response.data.message;if(a.response?.data?.validationErrors){const s=a.response.data.validationErrors,o=Object.values(s)[0];if(Array.isArray(o)&&o.length>0)return o[0]}return a.message?a.message:n}const UC=()=>{try{return localStorage.getItem("token")}catch{return null}},BC=()=>{try{const a=localStorage.getItem("user");return a?JSON.parse(a):null}catch{return null}},Jt=rc(a=>({user:null,token:null,isLoading:!1,error:null,initialized:!1,initializeAuth:()=>{const n=BC(),s=UC();console.log("[authStore] Initializing auth:",{hasUser:!!n,hasToken:!!s,user:n}),a({user:n,token:s,initialized:!0})},login:async n=>{a({isLoading:!0,error:null});try{console.log("[authStore] Logging in...");const s=await Xo.login(n);if(console.log("[authStore] Token received:",s?s.substring(0,20)+"...":"No token"),!s)throw new Error("No token received from login");localStorage.setItem("token",s),console.log("[authStore] Fetching user profile from /users/me...");const{userService:o}=await It(async()=>{const{userService:u}=await Promise.resolve().then(()=>ei);return{userService:u}},void 0),l=await o.getCurrentUser();!l.email&&n.credential.includes("@")&&(l.email=n.credential),console.log("[authStore] User profile fetched:",l),localStorage.setItem("user",JSON.stringify(l)),console.log("[authStore] Updating state with user and token..."),a({user:l,token:s,isLoading:!1}),console.log("[authStore] Login complete, state updated")}catch(s){const o=Ke(s,"Login failed");throw console.error("[authStore] Login error:",o,s),a({error:o,isLoading:!1}),s}},register:async(n,s,o,l)=>{a({isLoading:!0,error:null});try{console.log("[authStore] Registering user...");const u=await Xo.register({email:n,username:s,password:o,otpCode:l});if(console.log("[authStore] Token received:",u?u.substring(0,20)+"...":"No token"),!u)throw new Error("No token received from registration");localStorage.setItem("token",u),console.log("[authStore] Fetching user profile from /users/me...");const{userService:d}=await It(async()=>{const{userService:m}=await Promise.resolve().then(()=>ei);return{userService:m}},void 0),h=await d.getCurrentUser();h.email||(h.email=n),console.log("[authStore] User profile fetched:",h),localStorage.setItem("user",JSON.stringify(h)),console.log("[authStore] Updating state with user and token..."),a({user:h,token:u,isLoading:!1}),console.log("[authStore] Registration complete, state updated")}catch(u){const d=Ke(u,"Registration failed");throw console.error("[authStore] Registration error:",d,u),a({error:d,isLoading:!1}),u}},logout:()=>{Xo.logout(),a({user:null,token:null})},setUser:n=>{localStorage.setItem("user",JSON.stringify(n)),a({user:n})},clearError:()=>a({error:null})})),pr=()=>{const a=Jt(x=>x.user),n=Jt(x=>x.token),s=Jt(x=>x.isLoading),o=Jt(x=>x.initialized),l=Jt(x=>x.error),u=Jt(x=>x.login),d=Jt(x=>x.register),h=Jt(x=>x.logout),m=Jt(x=>x.setUser),y=Jt(x=>x.clearError),v=Jt(x=>x.initializeAuth);return{user:a,token:n,isLoading:s,initialized:o,error:l,login:u,register:d,logout:h,setUser:m,clearError:y,initializeAuth:v,isAuthenticated:!!n&&!!a}},LC=({children:a})=>{const{isAuthenticated:n,isLoading:s,initialized:o}=pr();return console.log("[ProtectedRoute] Current state:",{isAuthenticated:n,isLoading:s,initialized:o}),s?p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"var(--background)",color:"var(--text)"},children:p.jsx("div",{children:"Loading..."})}):n?p.jsx(p.Fragment,{children:a}):(console.warn("[ProtectedRoute] Not authenticated, redirecting to login"),p.jsx(Fo,{to:"/login",replace:!0}))},VC="_authContainer_zo5x8_193",PC="_orb_zo5x8_223",HC="_orb1_zo5x8_241",IC="_orb2_zo5x8_259",FC="_orb3_zo5x8_277",qC="_authCard_zo5x8_297",GC="_header_zo5x8_329",YC="_iconWrapper_zo5x8_341",$C="_title_zo5x8_401",XC="_subtitle_zo5x8_427",KC="_errorAlert_zo5x8_443",QC="_form_zo5x8_499",WC="_inputGroup_zo5x8_507",ZC="_label_zo5x8_527",JC="_inputWrapper_zo5x8_545",eT="_input_zo5x8_507",tT="_inputPassword_zo5x8_605",nT="_togglePassword_zo5x8_613",aT="_forgotLink_zo5x8_655",iT="_submitBtn_zo5x8_719",sT="_footer_zo5x8_845",oT="_backBtn_zo5x8_911",rT="_verifiedBadge_zo5x8_955",lT="_otpInput_zo5x8_1007",cT="_resendSection_zo5x8_1025",uT="_resendBtn_zo5x8_1051",dT="_spinner_zo5x8_1095",K={authContainer:VC,orb:PC,orb1:HC,orb2:IC,orb3:FC,authCard:qC,header:GC,iconWrapper:YC,title:$C,subtitle:XC,errorAlert:KC,form:QC,inputGroup:WC,label:ZC,inputWrapper:JC,input:eT,inputPassword:tT,togglePassword:nT,forgotLink:aT,submitBtn:iT,footer:sT,backBtn:oT,verifiedBadge:rT,otpInput:lT,resendSection:cT,resendBtn:uT,spinner:dT},fT=()=>{const a=Vx(),{login:n,isLoading:s,error:o,clearError:l}=pr(),[u,d]=C.useState(""),[h,m]=C.useState(""),[y,v]=C.useState(!1),x=async S=>{S.preventDefault(),l();try{console.log("[LoginForm] Starting login..."),await n({credential:u,password:h});const T=Jt.getState();console.log("[LoginForm] Login successful. Auth state:",{hasToken:!!T.token,hasUser:!!T.user,isLoading:T.isLoading}),T.token&&T.user?(console.log("[LoginForm] Auth state verified, navigating to dashboard..."),a("/dashboard")):console.error("[LoginForm] Login completed but auth state not set!")}catch(T){console.error("[LoginForm] Login error:",T)}};return p.jsxs("div",{className:K.authContainer,children:[p.jsx("div",{className:`${K.orb} ${K.orb1}`}),p.jsx("div",{className:`${K.orb} ${K.orb2}`}),p.jsx("div",{className:`${K.orb} ${K.orb3}`}),p.jsxs("div",{className:K.authCard,children:[p.jsxs("div",{className:K.header,children:[p.jsx("div",{className:K.iconWrapper,children:p.jsx("span",{children:""})}),p.jsx("h1",{className:K.title,children:"Sign In"}),p.jsx("p",{className:K.subtitle,children:"Welcome back to Simpchat"})]}),o&&p.jsxs("div",{className:K.errorAlert,children:[p.jsx(Ns,{size:20}),p.jsx("p",{children:o})]}),p.jsxs("form",{onSubmit:x,className:K.form,children:[p.jsxs("div",{className:K.inputGroup,children:[p.jsx("label",{htmlFor:"credential",className:K.label,children:"Email or Username"}),p.jsx("input",{id:"credential",type:"text",value:u,onChange:S=>d(S.target.value),placeholder:"john@example.com",required:!0,disabled:s,className:K.input})]}),p.jsxs("div",{className:K.inputGroup,children:[p.jsx("label",{htmlFor:"password",className:K.label,children:"Password"}),p.jsxs("div",{className:K.inputWrapper,children:[p.jsx("input",{id:"password",type:y?"text":"password",value:h,onChange:S=>m(S.target.value),placeholder:"",required:!0,disabled:s,className:`${K.input} ${K.inputPassword}`}),p.jsx("button",{type:"button",onClick:()=>v(!y),disabled:s,className:K.togglePassword,children:y?p.jsx(lf,{size:20}):p.jsx(cf,{size:20})})]})]}),p.jsx("div",{className:K.forgotLink,children:p.jsx(rf,{to:"/forgot-password",children:"Forgot password?"})}),p.jsx("button",{type:"submit",disabled:s||!u||!h,className:K.submitBtn,children:s?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:K.spinner}),"Signing in..."]}):p.jsxs(p.Fragment,{children:["Sign In",p.jsx(uf,{size:20})]})})]}),p.jsxs("div",{className:K.footer,children:[p.jsx("p",{children:"Don't have an account?"}),p.jsx(rf,{to:"/register",children:"Create Account "})]})]})]})},pT=()=>p.jsx("div",{style:{minHeight:"100vh",background:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px"},children:p.jsx(fT,{})}),hT=a=>{const n=typeof a=="string"?new Date(a):a,o=new Date().getTime()-n.getTime(),l=Math.floor(o/6e4),u=Math.floor(o/36e5),d=Math.floor(o/864e5);return l<1?"just now":l<60?`${l}m ago`:u<24?`${u}h ago`:d<7?`${d}d ago`:n.toLocaleDateString()},m0=a=>{if(!a||a==="undefined"||a==="null")return"?";const n=String(a).trim();if(!n||n.length===0)return"?";const s=n.split(/\s+/).filter(o=>o.length>0);return s.length===0?"?":s.length===1?s[0][0]?.toUpperCase()||"?":s.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},mT=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),gf=a=>{if(!a)return"Unknown";const n=new Date(a),o=new Date().getTime()-n.getTime(),l=Math.floor(o/6e4),u=Math.floor(o/36e5),d=Math.floor(o/864e5);if(l<1)return"just now";if(l===1)return"1 minute ago";if(l<60)return`${l} minutes ago`;if(u===1)return"1 hour ago";if(u<24)return`${u} hours ago`;if(d===1)return`Yesterday at ${n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;if(d<7){const h=n.toLocaleDateString([],{weekday:"long"}),m=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${h} at ${m}`}return n.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})},gT=()=>{const a=Vx(),{register:n,isLoading:s}=pr(),[o,l]=C.useState("email"),[u,d]=C.useState(""),[h,m]=C.useState(""),[y,v]=C.useState(""),[x,S]=C.useState(""),[T,_]=C.useState(""),[E,D]=C.useState(!1),[R,H]=C.useState(!1),[z,$]=C.useState(""),[V,Q]=C.useState(!1),Z=async ue=>{if(ue.preventDefault(),$(""),!mT(u)){$("Please enter a valid email address");return}Q(!0);try{await Xo.sendOTP(u),l("complete")}catch(De){$(Ke(De,"Failed to send verification code"))}finally{Q(!1)}},ne=async ue=>{if(ue.preventDefault(),$(""),!h.trim()){$("Username is required");return}if(h.length<3){$("Username must be at least 3 characters");return}if(y.length<5){$("Password must be at least 5 characters");return}if(y!==x){$("Passwords do not match");return}if(!T.trim()){$("Verification code is required");return}try{console.log("[RegisterForm] Registering user..."),await n(u,h,y,T);const De=Jt.getState();console.log("[RegisterForm] Registration successful. Auth state:",{hasToken:!!De.token,hasUser:!!De.user,isLoading:De.isLoading}),De.token&&De.user?(console.log("[RegisterForm] Auth state verified, navigating to dashboard..."),a("/dashboard")):console.error("[RegisterForm] Registration completed but auth state not set!")}catch(De){$(Ke(De,"Registration failed"))}},ve=async()=>{$(""),Q(!0);try{await Xo.sendOTP(u)}catch(ue){$(Ke(ue,"Failed to resend code"))}finally{Q(!1)}};return o==="email"?p.jsxs("div",{className:K.authContainer,children:[p.jsx("div",{className:`${K.orb} ${K.orb1}`}),p.jsx("div",{className:`${K.orb} ${K.orb2}`}),p.jsx("div",{className:`${K.orb} ${K.orb3}`}),p.jsxs("div",{className:K.authCard,children:[p.jsxs("div",{className:K.header,children:[p.jsx("div",{className:K.iconWrapper,children:p.jsx("span",{children:""})}),p.jsx("h1",{className:K.title,children:"Create Account"}),p.jsx("p",{className:K.subtitle,children:"Join Simpchat today"})]}),z&&p.jsxs("div",{className:K.errorAlert,children:[p.jsx(Ns,{size:20}),p.jsx("p",{children:z})]}),p.jsxs("form",{onSubmit:Z,className:K.form,children:[p.jsxs("div",{className:K.inputGroup,children:[p.jsx("label",{htmlFor:"email",className:K.label,children:"Email Address"}),p.jsx("input",{id:"email",type:"email",value:u,onChange:ue=>d(ue.target.value),placeholder:"you@example.com",required:!0,disabled:V,className:K.input})]}),p.jsx("button",{type:"submit",disabled:V||!u,className:K.submitBtn,children:V?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:K.spinner}),"Sending..."]}):p.jsxs(p.Fragment,{children:["Continue",p.jsx(uf,{size:20})]})})]}),p.jsxs("div",{className:K.footer,children:[p.jsx("p",{children:"Already have an account?"}),p.jsx(rf,{to:"/login",children:"Sign In "})]})]})]}):p.jsxs("div",{className:K.authContainer,children:[p.jsx("div",{className:`${K.orb} ${K.orb1}`}),p.jsx("div",{className:`${K.orb} ${K.orb2}`}),p.jsx("div",{className:`${K.orb} ${K.orb3}`}),p.jsxs("div",{className:K.authCard,children:[p.jsxs("div",{className:K.header,style:{textAlign:"left"},children:[p.jsxs("button",{onClick:()=>l("email"),className:K.backBtn,children:[p.jsx(A_,{size:16}),"Back"]}),p.jsx("h1",{className:K.title,style:{textAlign:"left"},children:"Complete Profile"}),p.jsxs("div",{className:K.verifiedBadge,children:[p.jsx(E_,{size:16}),p.jsxs("p",{children:["Email verified: ",u]})]})]}),z&&p.jsxs("div",{className:K.errorAlert,children:[p.jsx(Ns,{size:20}),p.jsx("p",{children:z})]}),p.jsxs("form",{onSubmit:ne,className:K.form,children:[p.jsxs("div",{className:K.inputGroup,children:[p.jsx("label",{htmlFor:"username",className:K.label,children:"Username"}),p.jsx("input",{id:"username",type:"text",value:h,onChange:ue=>m(ue.target.value),placeholder:"johndoe",required:!0,disabled:s,className:K.input})]}),p.jsxs("div",{className:K.inputGroup,children:[p.jsx("label",{htmlFor:"password",className:K.label,children:"Password"}),p.jsxs("div",{className:K.inputWrapper,children:[p.jsx("input",{id:"password",type:E?"text":"password",value:y,onChange:ue=>v(ue.target.value),placeholder:"",required:!0,disabled:s,className:`${K.input} ${K.inputPassword}`}),p.jsx("button",{type:"button",onClick:()=>D(!E),disabled:s,className:K.togglePassword,children:E?p.jsx(lf,{size:20}):p.jsx(cf,{size:20})})]})]}),p.jsxs("div",{className:K.inputGroup,children:[p.jsx("label",{htmlFor:"confirm-password",className:K.label,children:"Confirm Password"}),p.jsxs("div",{className:K.inputWrapper,children:[p.jsx("input",{id:"confirm-password",type:R?"text":"password",value:x,onChange:ue=>S(ue.target.value),placeholder:"",required:!0,disabled:s,className:`${K.input} ${K.inputPassword}`}),p.jsx("button",{type:"button",onClick:()=>H(!R),disabled:s,className:K.togglePassword,children:R?p.jsx(lf,{size:20}):p.jsx(cf,{size:20})})]})]}),p.jsxs("div",{className:K.inputGroup,children:[p.jsx("label",{htmlFor:"otp-code",className:K.label,children:"Verification Code"}),p.jsx("input",{id:"otp-code",type:"text",value:T,onChange:ue=>_(ue.target.value),placeholder:"000000",required:!0,disabled:s,className:`${K.input} ${K.otpInput}`})]}),p.jsx("button",{type:"submit",disabled:s||!h||!y||!x||!T,className:K.submitBtn,children:s?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:K.spinner}),"Creating..."]}):p.jsxs(p.Fragment,{children:["Create Account",p.jsx(uf,{size:20})]})})]}),p.jsxs("div",{className:K.resendSection,children:[p.jsx("p",{children:"Didn't get the code?"}),p.jsx("button",{onClick:ve,disabled:V,className:K.resendBtn,children:V?"Resending...":"Resend Code"})]})]})]})},yT=()=>p.jsx("div",{style:{minHeight:"100vh",background:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px"},children:p.jsx(gT,{})}),vT=a=>{if(!a)return"channel";const n=String(a).toLowerCase().trim();return n==="conversation"||n==="dm"||n==="directmessage"?"dm":n==="group"?"group":(n==="channel"||console.warn("[Normalizer] Unknown chat type:",a,"defaulting to channel"),"channel")},qo=a=>{if(!a)return{};console.log("[Normalizer] Normalizing chat:",a);let n;return a.privacy!==null&&a.privacy!==void 0&&(typeof a.privacy=="number"?n=a.privacy===0?"public":"private":typeof a.privacy=="string"&&(n=a.privacy.toLowerCase())),{id:a.id,name:a.name||"Unknown",type:vT(a.type),avatar:a.avatarUrl||a.avatar||a.profileImage,description:a.description||"",privacy:n,members:(a.members||[]).map(s=>({id:s.id||s.userId||s.user?.id,userId:s.userId||s.id||s.user?.id,user:s.user||{id:s.userId||s.id,username:s.username||"Unknown",email:"",onlineStatus:"offline",lastSeen:new Date().toISOString()},joinedAt:s.joinedAt,role:s.role||"member"})),lastMessage:a.lastMessage?{id:a.lastMessage.id,content:a.lastMessage.content,createdAt:a.lastMessage.createdAt||a.lastMessage.sentAt||new Date().toISOString()}:void 0,unreadCount:a.unreadCount!==void 0?a.unreadCount:a.notificationsCount||0,isOnline:a.isOnline!==void 0?a.isOnline:!1,createdAt:a.created||a.createdAt||new Date().toISOString(),updatedAt:a.userLastMessage||a.updatedAt||a.createdAt||new Date().toISOString(),messages:a.messages,participantsCount:a.participantsCount,participantsOnline:a.participantsOnline,notificationsCount:a.notificationsCount}},yf=a=>{if(!a)return{};console.log("[Normalizer] Normalizing user:",a);const n=a.userId||a.id||a.entityId||a.EntityId;let s="offline";return typeof a.onlineStatus=="string"?s=a.onlineStatus.toLowerCase()||"offline":typeof a.isOnline=="boolean"&&(s=a.isOnline?"online":"offline"),{id:n,username:a.username||a.displayName||a.name||"Unknown",email:a.email||"",avatar:a.avatarUrl||a.avatar||a.profileImage,bio:a.description||a.bio||"",onlineStatus:s,lastSeen:a.lastSeen||new Date().toISOString(),addMePolicy:a.addMePolicy||"everyone"}},g0=a=>Array.isArray(a)?a.map(n=>qo(n)):(console.warn("[Normalizer] Expected array of chats, got:",typeof a),[]),Ud=a=>Array.isArray(a)?a.map(n=>yf(n)):(console.warn("[Normalizer] Expected array of users, got:",typeof a),[]),rt={getAllChats:async()=>{const a=await be.get("/chats/me"),n=a.data?.data||a.data;return g0(n)},getChat:async a=>{const n=await be.get(`/chats/${a}`),s=n.data?.data||n.data;return qo(s)},getChatProfile:async a=>{const n=await be.get(`/chats/${a}/profile`),s=n.data?.data||n.data;return qo(s)},createGroup:async a=>{const n=await be.post("/groups",a,{headers:{"Content-Type":"multipart/form-data"}}),s=n.data?.data||n.data;return qo(s)},createChannel:async a=>{const n=await be.post("/channels",a,{headers:{"Content-Type":"multipart/form-data"}}),s=n.data?.data||n.data;return qo(s)},updateChat:async(a,n,s)=>{const o=n==="group"?"/groups":"/channels",l=await be.put(o,s,{headers:{"Content-Type":"multipart/form-data"},params:{chatId:a}});return l.data?.data||l.data},deleteChat:async(a,n)=>{const s=n==="group"?"/groups":"/channels",o=await be.delete(s,{params:{chatId:a}});return o.data?.data||o.data},joinChat:async(a,n)=>{const s=n==="group"?"/groups/join":"/channels/join",o=n==="group"?"groupId":"channelId",l=await be.post(s,null,{params:{[o]:a}});return l.data?.data||l.data},leaveChat:async(a,n)=>{const s=n==="group"?"/groups/leave":"/channels/leave",o=await be.post(s,null,{params:{chatId:a}});return o.data?.data||o.data},searchChats:async a=>{const n=await be.post("/chats/search",{pageNumber:1,pageSize:10,searchTerm:a});console.log("[ChatService] searchChats full response:",n);const s=n.data?.data;if(!Array.isArray(s))return console.warn("[ChatService] Search returned non-array data:",s),[];const o=s.map(l=>{const u=l.type||l.chatType,d=String(u).toLowerCase().trim();let h="channel";return d==="conversation"||d==="dm"||d==="directmessage"?h="dm":d==="group"?h="group":d==="channel"&&(h="channel"),{id:l.id||l.entityId,name:l.name||l.displayName||"Unknown",type:h,avatar:l.avatarUrl||l.avatar||l.profileImage,description:l.description||"",memberCount:l.memberCount||l.participantsCount||0}});return console.log("[ChatService] Normalized search results:",o),o},banUser:async(a,n)=>{const s=await be.post(`/chats/ban/${n}`,null,{params:{chatId:a}});return s.data?.data||s.data},unbanUser:async(a,n)=>{const s=await be.post(`/chats/unban/${n}`,null,{params:{chatId:a}});return s.data?.data||s.data},addMemberToGroup:async(a,n)=>{const s=await be.post("/groups/add-member",null,{params:{chatId:a,addingUserId:n}});return s.data?.data||s.data},addMemberToChannel:async(a,n)=>{const s=await be.post("/channels/add-member",null,{params:{chatId:a,addingUserId:n}});return s.data?.data||s.data},updateChatPrivacy:async(a,n)=>{const s=n==="public"?0:1,o=await be.put("/chats/privacy-type",null,{params:{chatId:a,privacyType:s}});return o.data?.data||o.data},addUserPermission:async(a,n,s)=>{const o=await be.post("/chats/add-user-permission",null,{params:{chatId:a,addingUserId:n,permissionName:s}});return o.data?.data||o.data},createOrGetDM:async(a,n)=>{try{if(console.log("[ChatService] createOrGetDM called with:",{recipientId:a,recipientIdType:typeof a,initialMessage:n,isRecipientIdValid:a&&a!=="undefined"}),!a||a==="undefined")throw new Error(`Invalid recipientId: ${a}`);const s=await rt.getAllChats();console.log("[ChatService] Fetched chats, looking for existing DM with recipient:",a);let o;for(const l of s)if(console.log("[ChatService] Checking chat:",{chatId:l.id,type:l.type,memberCount:l.members?.length||0}),l.type==="dm")if(l.members&&l.members.length>0){if(l.members.some(d=>{const h=d.userId===a||d.id===a||d.user?.id===a;return h&&console.log("[ChatService] Found matching member:",d),h})){o=l;break}}else{console.log("[ChatService] Members array empty for DM, fetching full details for chat:",l.id);try{const u=await rt.getChat(l.id);if(console.log("[ChatService] Full chat details:",{id:u.id,memberCount:u.members?.length||0,members:u.members?.map(d=>({userId:d.userId,id:d.id}))}),u.members&&u.members.length>0&&u.members.some(h=>{const m=h.userId===a||h.id===a||h.user?.id===a;return m&&console.log("[ChatService] Found matching member in full chat:",h),m})){o=u;break}}catch(u){console.error("[ChatService] Error fetching full chat details:",u)}}if(console.log("[ChatService] DM chat found:",o?.id||"NOT FOUND"),o&&n){console.log("[ChatService] Sending to existing DM with chatId:",o.id);const l=new FormData;return l.append("chatId",o.id),l.append("content",n),console.log("[ChatService] FormData entries:",{chatId:o.id,content:n}),await be.post("/messages/",l,{headers:{"Content-Type":"multipart/form-data"}}),console.log("[ChatService] Message sent to existing DM:",o.id),o}if(!o&&n){console.log("[ChatService] Creating new DM conversation with user:",a);const l=new FormData;l.append("receiverId",a),l.append("content",n),console.log("[ChatService] FormData entries for new DM:",{receiverId:a,content:n});const u=await be.post("/messages/",l,{headers:{"Content-Type":"multipart/form-data"}});console.log("[ChatService] Message sent to new DM, conversation auto-created. Response:",u);const h=(await rt.getAllChats()).find(m=>m.type==="dm"&&m.members?.some(y=>y.id===a||y.userId===a));return console.log("[ChatService] Newly created DM:",h?.id||"NOT FOUND"),h}return console.log("[ChatService] No action taken (no message to send)"),o}catch(s){throw console.error("[ChatService] Error in createOrGetDM:",s),s}}};let vf={},Jy=!1;async function ev(){if(!Jy)try{const a=await be.get("/reactions");(a.data?.data||a.data).forEach(s=>{const o=s.name.match(/^(.)/);o&&(vf[o[1]]=s.id)}),Jy=!0}catch(a){console.warn("Failed to load reaction mapping:",a),vf={"":"00000000-0000-0000-0000-000000000001","":"00000000-0000-0000-0000-000000000002","":"00000000-0000-0000-0000-000000000003","":"00000000-0000-0000-0000-000000000004","":"00000000-0000-0000-0000-000000000005","":"00000000-0000-0000-0000-000000000006"}}}function tv(a){return vf[a]||a}const Ts={sendMessage:async a=>{try{const n=await be.post("/messages",a,{headers:{"Content-Type":"multipart/form-data"}});return n.data?.data||n.data}catch(n){throw console.error("Error sending message:",n),n}},editMessage:async(a,n)=>{const s=new FormData;s.append("Content",n);const o=await be.put(`/messages/${a}`,s,{headers:{"Content-Type":"multipart/form-data"}});return o.data?.data||o.data},deleteMessage:async a=>{const n=await be.delete(`/messages/${a}`);return n.data?.data||n.data},addReaction:async(a,n)=>{await ev();const s=tv(n),o=new URLSearchParams;o.append("messageId",a),o.append("reactionId",s);const l=await be.post(`/messages/reaction?${o.toString()}`);return l.data?.data||l.data},removeReaction:async(a,n)=>{await ev();const s=tv(n),o=new URLSearchParams;o.append("messageId",a),o.append("reactionId",s);const l=await be.delete(`/messages/reaction?${o.toString()}`);return l.data?.data||l.data}},Go=Object.freeze(Object.defineProperty({__proto__:null,messageService:Ts},Symbol.toStringTag,{value:"Module"})),nt=rc((a,n)=>({chats:[],currentChat:null,messages:[],isLoadingChats:!1,isLoadingMessages:!1,error:null,typingUsers:new Map,onlineUsers:new Map,userLastSeen:new Map,loadChats:async()=>{a({isLoadingChats:!0,error:null});try{const s=await rt.getAllChats();console.log("[ChatStore] Raw chats from API:",s);const o=g0(s);console.log("[ChatStore] Normalized chats:",o),console.log("[ChatStore] Chat types after normalization:",o.map(l=>({id:l.id,name:l.name,type:l.type}))),a({chats:o,isLoadingChats:!1})}catch(s){const o=Ke(s,"Failed to load chats");console.error("[ChatStore] Error loading chats:",s),a({error:o,isLoadingChats:!1})}},setCurrentChat:s=>{a({currentChat:s})},loadMessages:async(s,o=1)=>{a({isLoadingMessages:!0,error:null});try{a({isLoadingMessages:!1})}catch(l){const u=Ke(l,"Failed to load messages");a({error:u,isLoadingMessages:!1})}},sendMessage:async(s,o,l,u)=>{a({error:null});try{if(u){const d=new FormData;s&&d.append("chatId",s),o&&d.append("receiverId",o),l&&d.append("content",l),d.append("file",u);const h=await Ts.sendMessage(d);a(m=>({messages:[...m.messages,h]}))}else await(await It(()=>Promise.resolve().then(()=>Uk),void 0).then(h=>h.signalRService)).sendMessage(s,l,o||void 0,null)}catch(d){const h=Ke(d,"Failed to send message");a({error:h})}},editMessage:async(s,o)=>{a({error:null});try{const l=await Ts.editMessage(s,o);a(u=>({messages:u.messages.map(d=>d.id===s?l:d)}))}catch(l){const u=Ke(l,"Failed to edit message");a({error:u})}},deleteMessage:async s=>{a({error:null});try{await Ts.deleteMessage(s),a(o=>({messages:o.messages.filter(l=>l.id!==s)}))}catch(o){const l=Ke(o,"Failed to delete message");a({error:l})}},addReaction:async(s,o)=>{a({error:null});try{await Ts.addReaction(s,o)}catch(l){const u=Ke(l,"Failed to add reaction");a({error:u})}},removeReaction:async(s,o)=>{a({error:null});try{await Ts.removeReaction(s,o)}catch(l){const u=Ke(l,"Failed to remove reaction");a({error:u})}},clearError:()=>a({error:null}),isUserOnline:s=>n().onlineUsers.get(s)||!1,getUserLastSeen:s=>n().userLastSeen.get(s),getOnlineMembersCount:s=>{const o=n().chats.find(d=>d.id===s);if(!o||!o.members)return 0;let l=0;const u=n().onlineUsers;for(const d of o.members)u.get(d.userId)&&l++;return l},setInitialPresenceStates:s=>{console.log("[ChatStore] Setting initial presence states for",Object.keys(s).length,"users"),console.log("[ChatStore] Raw presence states:",s);const o=new Map,l=new Map;Object.entries(s).forEach(([u,d])=>{console.log(`[ChatStore] Processing user ${u}, state:`,d,"type:",typeof d),typeof d=="boolean"?(o.set(u,d),console.log(`[ChatStore] Set user ${u} to ${d?"online":"offline"}`)):(o.set(u,d.isOnline),d.lastSeen&&l.set(u,d.lastSeen),console.log(`[ChatStore] Set user ${u} to ${d.isOnline?"online":"offline"}, lastSeen: ${d.lastSeen||"none"}`))}),a({onlineUsers:o,userLastSeen:l}),console.log("[ChatStore] Presence states initialized:",{online:Array.from(o.entries()).filter(([u,d])=>d).length,total:o.size,onlineUserIds:Array.from(o.entries()).filter(([u,d])=>d).map(([u])=>u)})},handleReceiveMessage:s=>{console.log("[ChatStore] Received message:",s),console.log("[ChatStore] Message received via SignalR, messages will be displayed real-time")},handleMessageEdited:s=>{console.log("[ChatStore] Message edited:",s)},handleMessageDeleted:s=>{console.log("[ChatStore] Message deleted:",s)},handleReactionAdded:s=>{console.log("[ChatStore] Reaction added:",s)},handleReactionRemoved:s=>{console.log("[ChatStore] Reaction removed:",s)},handleUserOnline:s=>{console.log("[ChatStore] User online:",s),a(o=>{const l=new Map(o.onlineUsers);l.set(s.userId,!0);const u=new Map(o.userLastSeen);return u.delete(s.userId),{onlineUsers:l,userLastSeen:u,chats:o.chats.map(d=>d.members?.some(m=>m.userId===s.userId)?{...d,isOnline:d.type==="dm"?!0:d.isOnline,members:d.members?.map(m=>m.userId===s.userId?{...m,user:{...m.user,onlineStatus:"online",lastSeen:""}}:m)}:d)}})},handleUserOffline:s=>{console.log("[ChatStore] User offline:",s),a(o=>{const l=new Map(o.onlineUsers);l.set(s.userId,!1);const u=new Map(o.userLastSeen);return s.lastSeen&&u.set(s.userId,s.lastSeen),{onlineUsers:l,userLastSeen:u,chats:o.chats.map(d=>d.members?.some(m=>m.userId===s.userId)?{...d,isOnline:d.type==="dm"?!1:d.isOnline,members:d.members?.map(m=>m.userId===s.userId?{...m,user:{...m.user,onlineStatus:"offline",lastSeen:s.lastSeen}}:m)}:d)}})},handleUserTyping:s=>{console.log("[ChatStore] User typing:",s),a(o=>{const l=new Map(o.typingUsers);return l.set(`${s.chatId}-${s.userId}`,{userId:s.userId,timestamp:Date.now()}),{typingUsers:l}}),setTimeout(()=>{a(o=>{const l=new Map(o.typingUsers);return l.delete(`${s.chatId}-${s.userId}`),{typingUsers:l}})},3e3)},handleUserStoppedTyping:s=>{console.log("[ChatStore] User stopped typing:",s),a(o=>{const l=new Map(o.typingUsers);return l.delete(`${s.chatId}-${s.userId}`),{typingUsers:l}})}})),xT=()=>{const a=localStorage.getItem("simpchat-theme");return a==="dark"||a==="light"?a:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},Bd=a=>{a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("simpchat-theme",a)},bT=rc(a=>{const n=xT();return Bd(n),{theme:n,toggleTheme:()=>{a(s=>{const o=s.theme==="light"?"dark":"light";return Bd(o),{theme:o}})},setTheme:s=>{Bd(s),a({theme:s})}}}),ST="_dashboard_xlora_106",_T="_gradientFlow_xlora_1",wT="_darkMode_xlora_137",CT="_leftPanel_xlora_151",TT="_panelGlow_xlora_1",jT="_panelHeader_xlora_172",AT="_title_xlora_203",ET="_menuButton_xlora_226",RT="_searchBar_xlora_261",MT="_searchInput_xlora_266",DT="_searchResults_xlora_296",kT="_slideDown_xlora_1",NT="_searchResultItem_xlora_330",zT="_searchResultAvatar_xlora_356",OT="_searchResultInfo_xlora_372",UT="_searchResultName_xlora_377",BT="_searchResultType_xlora_390",LT="_searchResultTypeIcon_xlora_400",VT="_searchLoading_xlora_407",PT="_searchNoResults_xlora_408",HT="_chatList_xlora_421",IT="_emptyState_xlora_455",FT="_loading_xlora_456",qT="_chatItem_xlora_469",GT="_chatItemHoverGlow_xlora_1",YT="_active_xlora_489",$T="_chatAvatar_xlora_524",XT="_avatarFallback_xlora_555",KT="_onlineIndicator_xlora_566",QT="_chatInfo_xlora_582",WT="_chatHeader_xlora_589",ZT="_chatNameWithType_xlora_596",JT="_headerRight_xlora_604",e2="_chatName_xlora_596",t2="_chatTypeIcon_xlora_624",n2="_iconDm_xlora_641",a2="_iconGroup_xlora_652",i2="_iconChannel_xlora_663",s2="_timestamp_xlora_673",o2="_chatPreview_xlora_684",r2="_unreadBadge_xlora_697",l2="_unreadPulse_xlora_1",c2="_chatHeader2_xlora_721",u2="_headerInfo_xlora_738",d2="_headerTitle_xlora_745",f2="_chatTitle_xlora_751",p2="_headerChatType_xlora_768",h2="_headerActions_xlora_778",m2="_headerButton_xlora_784",g2="_messagesContainer_xlora_822",y2="_noMessages_xlora_856",v2="_welcomeScreen_xlora_868",x2="_welcomeIcon_xlora_883",b2="_welcomeText_xlora_889",S2="_welcomeSubtext_xlora_900",_2="_inputArea_xlora_910",w2="_inputWrapper_xlora_924",C2="_messageInput_xlora_930",T2="_sendButton_xlora_970",j2="_shimmer_xlora_1",A2="_buttonPulse_xlora_1",E2="_modalOverlay_xlora_1055",R2="_modalFadeIn_xlora_1",M2="_modal_xlora_1055",D2="_modalSlideUp_xlora_1",k2="_modalGlow_xlora_1",N2="_modalHeader_xlora_1091",z2="_closeButton_xlora_1117",O2="_modalBody_xlora_1149",U2="_modalFooter_xlora_1174",B2="_formGroup_xlora_1190",L2="_formInput_xlora_1213",V2="_primaryButton_xlora_1243",P2="_secondaryButton_xlora_1289",H2="_profileContent_xlora_1321",I2="_profileInfo_xlora_1327",F2="_avatarSection_xlora_1333",q2="_largeAvatar_xlora_1339",G2="_profileField_xlora_1360",Y2="_loadingState_xlora_1391",$2="_menuDropdown_xlora_1398",X2="_menuItem_xlora_1430",K2="_menuDivider_xlora_1471",Q2="_mainContent_xlora_1482",W2="_chatHeaderBar_xlora_1505",Z2="_headerLeft_xlora_1520",J2="_headerAvatar_xlora_1527",ej="_headerStatus_xlora_1579",tj="_online_xlora_566",nj="_messageGroup_xlora_1599",aj="_ownMessage_xlora_1607",ij="_messageBubble_xlora_1611",sj="_otherMessage_xlora_1617",oj="_senderAvatar_xlora_1632",rj="_senderName_xlora_1670",lj="_messageContent_xlora_1678",cj="_messageTime_xlora_1685",uj="_attachment_xlora_1693",dj="_reactionsContainer_xlora_1712",fj="_reaction_xlora_1712",pj="_inputField_xlora_1750",hj="_emojiButton_xlora_1789",mj="_attachButton_xlora_1790",gj="_rightPanel_xlora_1815",yj="_chatInfoPanel_xlora_1856",vj="_chatInfoHeader_xlora_1863",xj="_chatInfoAvatar_xlora_1873",bj="_chatInfoName_xlora_1894",Sj="_chatInfoType_xlora_1905",_j="_editChatButton_xlora_1915",wj="_infoContent_xlora_1934",Cj="_infoSection_xlora_1940",Tj="_infoLabel_xlora_1944",jj="_memberList_xlora_1957",Aj="_memberItem_xlora_1963",Ej="_memberAvatar_xlora_1979",Rj="_memberInfo_xlora_2000",Mj="_memberName_xlora_2005",Dj="_memberRole_xlora_2018",kj="_memberStatus_xlora_2028",Nj="_emptyScreen_xlora_2038",zj="_emptyIcon_xlora_2048",Oj="_emptyActions_xlora_2075",Uj="_actionButton_xlora_2081",Bj="_userSection_xlora_2104",Lj="_userAvatar_xlora_2124",Vj="_userInfo_xlora_2145",Pj="_username_xlora_2150",Hj="_userStatus_xlora_2164",Ij="_logoutButton_xlora_2174",Fj="_hidden_xlora_2206",qj="_truncate_xlora_2210",Gj="_mobileMenuButton_xlora_2217",Yj="_mobileOverlay_xlora_2222",$j="_mobileOpen_xlora_2274",Xj="_borderGlow_xlora_1",Kj="_inputFocusGlow_xlora_1",Qj="_subtleFloat_xlora_1",Wj="_messageSlideIn_xlora_1",A={dashboard:ST,gradientFlow:_T,darkMode:wT,leftPanel:CT,panelGlow:TT,panelHeader:jT,title:AT,menuButton:ET,searchBar:RT,searchInput:MT,searchResults:DT,slideDown:kT,searchResultItem:NT,searchResultAvatar:zT,searchResultInfo:OT,searchResultName:UT,searchResultType:BT,searchResultTypeIcon:LT,searchLoading:VT,searchNoResults:PT,chatList:HT,emptyState:IT,loading:FT,chatItem:qT,chatItemHoverGlow:GT,active:YT,chatAvatar:$T,avatarFallback:XT,onlineIndicator:KT,chatInfo:QT,chatHeader:WT,chatNameWithType:ZT,headerRight:JT,chatName:e2,chatTypeIcon:t2,iconDm:n2,iconGroup:a2,iconChannel:i2,timestamp:s2,chatPreview:o2,unreadBadge:r2,unreadPulse:l2,chatHeader2:c2,headerInfo:u2,headerTitle:d2,chatTitle:f2,headerChatType:p2,headerActions:h2,headerButton:m2,messagesContainer:g2,noMessages:y2,welcomeScreen:v2,welcomeIcon:x2,welcomeText:b2,welcomeSubtext:S2,inputArea:_2,inputWrapper:w2,messageInput:C2,sendButton:T2,shimmer:j2,buttonPulse:A2,modalOverlay:E2,modalFadeIn:R2,modal:M2,modalSlideUp:D2,modalGlow:k2,modalHeader:N2,closeButton:z2,modalBody:O2,modalFooter:U2,formGroup:B2,formInput:L2,primaryButton:V2,secondaryButton:P2,profileContent:H2,profileInfo:I2,avatarSection:F2,largeAvatar:q2,profileField:G2,loadingState:Y2,menuDropdown:$2,menuItem:X2,menuDivider:K2,mainContent:Q2,chatHeaderBar:W2,headerLeft:Z2,headerAvatar:J2,headerStatus:ej,online:tj,messageGroup:nj,ownMessage:aj,messageBubble:ij,otherMessage:sj,senderAvatar:oj,senderName:rj,messageContent:lj,messageTime:cj,attachment:uj,reactionsContainer:dj,reaction:fj,inputField:pj,emojiButton:hj,attachButton:mj,rightPanel:gj,chatInfoPanel:yj,chatInfoHeader:vj,chatInfoAvatar:xj,chatInfoName:bj,chatInfoType:Sj,editChatButton:_j,infoContent:wj,infoSection:Cj,infoLabel:Tj,memberList:jj,memberItem:Aj,memberAvatar:Ej,memberInfo:Rj,memberName:Mj,memberRole:Dj,memberStatus:kj,emptyScreen:Nj,emptyIcon:zj,emptyActions:Oj,actionButton:Uj,userSection:Bj,userAvatar:Lj,userInfo:Vj,username:Pj,userStatus:Hj,logoutButton:Ij,hidden:Fj,truncate:qj,mobileMenuButton:Gj,mobileOverlay:Yj,mobileOpen:$j,borderGlow:Xj,inputFocusGlow:Kj,subtleFloat:Qj,messageSlideIn:Wj},er={getCurrentUser:async()=>{const a=await be.get("/users/me"),n=a.data?.data||a.data;return yf(n)},updateProfile:async a=>(await be.put("/users/me",a,{headers:{"Content-Type":"multipart/form-data"}}),er.getCurrentUser()),searchUsers:async a=>{const n=await be.get(`/users/search/${encodeURIComponent(a)}`),s=n.data?.data||n.data;return Ud(s)},getUserProfile:async a=>{const n=await be.get(`/users/${a}`),s=n.data?.data||n.data;return yf(s)},updateLastSeen:async()=>{const a=await be.put("/users/last-seen");return a.data?.data||a.data},getAllUsers:async()=>{const a=await be.get("/users"),n=a.data?.data||a.data;return Ud(n)},deleteUser:async a=>{const n=await be.delete(`/users/${a}`);return n.data?.data||n.data},blockUser:async a=>{const n=await be.post(`/users/block/${a}`);return n.data?.data||n.data},unblockUser:async a=>{const n=await be.post(`/users/unblock/${a}`);return n.data?.data||n.data},getBlockedUsers:async()=>{const a=await be.get("/users/blocked"),n=a.data?.data||a.data;return Ud(n)}},ei=Object.freeze(Object.defineProperty({__proto__:null,userService:er},Symbol.toStringTag,{value:"Module"})),Zj="_container_s7yqy_103",Jj="_toast_s7yqy_127",eA="_slideIn_s7yqy_1",tA="_glowPulse_s7yqy_1",nA="_exit_s7yqy_167",aA="_slideOut_s7yqy_1",iA="_success_s7yqy_177",sA="_error_s7yqy_193",oA="_warning_s7yqy_209",rA="_info_s7yqy_225",lA="_iconWrapper_s7yqy_239",cA="_iconBounce_s7yqy_1",uA="_message_s7yqy_267",dA="_closeBtn_s7yqy_285",fA="_progressBar_s7yqy_327",pA="_progressShrink_s7yqy_1",Za={container:Zj,toast:Jj,slideIn:eA,glowPulse:tA,exit:nA,slideOut:aA,success:iA,error:sA,warning:oA,info:rA,iconWrapper:lA,iconBounce:cA,message:uA,closeBtn:dA,progressBar:fA,progressShrink:pA},hA=({toast:a,onClose:n})=>{const[s,o]=C.useState(!1);C.useEffect(()=>{const d=a.duration||4e3,h=setTimeout(()=>{o(!0)},d-300),m=setTimeout(()=>{n(a.id)},d);return()=>{clearTimeout(h),clearTimeout(m)}},[a.id,a.duration,n]);const l=()=>{o(!0),setTimeout(()=>n(a.id),300)},u=()=>{switch(a.type){case"success":return p.jsx(D_,{size:22});case"error":return p.jsx(M_,{size:22});case"warning":return p.jsx(Ns,{size:22});case"info":return p.jsx(R_,{size:22})}};return p.jsxs("div",{className:`${Za.toast} ${Za[a.type]} ${s?Za.exit:""}`,children:[p.jsx("div",{className:Za.iconWrapper,children:u()}),p.jsx("span",{className:Za.message,children:a.message}),p.jsx("button",{className:Za.closeBtn,onClick:l,children:p.jsx(Bi,{size:16})}),p.jsx("div",{className:Za.progressBar,style:{animationDuration:`${a.duration||4e3}ms`}})]})},mA=({toasts:a,onClose:n})=>p.jsx("div",{className:Za.container,children:a.map(s=>p.jsx(hA,{toast:s,onClose:n},s.id))});class gA{toasts=[];listeners=[];subscribe(n){return this.listeners.push(n),()=>{this.listeners=this.listeners.filter(s=>s!==n)}}notify(){this.listeners.forEach(n=>n([...this.toasts]))}show(n,s,o){const l=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u={id:l,type:n,message:s,duration:o};return this.toasts.push(u),this.notify(),l}success(n,s){return this.show("success",n,s)}error(n,s){return this.show("error",n,s||5e3)}warning(n,s){return this.show("warning",n,s)}info(n,s){return this.show("info",n,s)}remove(n){this.toasts=this.toasts.filter(s=>s.id!==n),this.notify()}getToasts(){return[...this.toasts]}}const js=new gA,ke={success:(a,n)=>js.success(a,n),error:(a,n)=>js.error(a,n),warning:(a,n)=>js.warning(a,n),info:(a,n)=>js.info(a,n)},Qf=C.createContext({});function Wf(a){const n=C.useRef(null);return n.current===null&&(n.current=a()),n.current}const Zf=typeof window<"u",y0=Zf?C.useLayoutEffect:C.useEffect,pc=C.createContext(null);function Jf(a,n){a.indexOf(n)===-1&&a.push(n)}function ep(a,n){const s=a.indexOf(n);s>-1&&a.splice(s,1)}const ja=(a,n,s)=>s>n?n:s<a?a:s;let tp=()=>{};const Aa={},v0=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function x0(a){return typeof a=="object"&&a!==null}const b0=a=>/^0[^.\s]+$/u.test(a);function np(a){let n;return()=>(n===void 0&&(n=a()),n)}const Pn=a=>a,yA=(a,n)=>s=>n(a(s)),hr=(...a)=>a.reduce(yA),tr=(a,n,s)=>{const o=n-a;return o===0?1:(s-a)/o};class ap{constructor(){this.subscriptions=[]}add(n){return Jf(this.subscriptions,n),()=>ep(this.subscriptions,n)}notify(n,s,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,s,o);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(n,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const na=a=>a*1e3,Vn=a=>a/1e3;function S0(a,n){return n?a*(1e3/n):0}const _0=(a,n,s)=>(((1-3*s+3*n)*a+(3*s-6*n))*a+3*n)*a,vA=1e-7,xA=12;function bA(a,n,s,o,l){let u,d,h=0;do d=n+(s-n)/2,u=_0(d,o,l)-a,u>0?s=d:n=d;while(Math.abs(u)>vA&&++h<xA);return d}function mr(a,n,s,o){if(a===n&&s===o)return Pn;const l=u=>bA(u,0,1,a,s);return u=>u===0||u===1?u:_0(l(u),n,o)}const w0=a=>n=>n<=.5?a(2*n)/2:(2-a(2*(1-n)))/2,C0=a=>n=>1-a(1-n),T0=mr(.33,1.53,.69,.99),ip=C0(T0),j0=w0(ip),A0=a=>(a*=2)<1?.5*ip(a):.5*(2-Math.pow(2,-10*(a-1))),sp=a=>1-Math.sin(Math.acos(a)),E0=C0(sp),R0=w0(sp),SA=mr(.42,0,1,1),_A=mr(0,0,.58,1),M0=mr(.42,0,.58,1),wA=a=>Array.isArray(a)&&typeof a[0]!="number",D0=a=>Array.isArray(a)&&typeof a[0]=="number",CA={linear:Pn,easeIn:SA,easeInOut:M0,easeOut:_A,circIn:sp,circInOut:R0,circOut:E0,backIn:ip,backInOut:j0,backOut:T0,anticipate:A0},TA=a=>typeof a=="string",nv=a=>{if(D0(a)){tp(a.length===4);const[n,s,o,l]=a;return mr(n,s,o,l)}else if(TA(a))return CA[a];return a},kl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jA(a,n){let s=new Set,o=new Set,l=!1,u=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(v){d.has(v)&&(y.schedule(v),a()),v(h)}const y={schedule:(v,x=!1,S=!1)=>{const _=S&&l?s:o;return x&&d.add(v),_.has(v)||_.add(v),v},cancel:v=>{o.delete(v),d.delete(v)},process:v=>{if(h=v,l){u=!0;return}l=!0,[s,o]=[o,s],s.forEach(m),s.clear(),l=!1,u&&(u=!1,y.process(v))}};return y}const AA=40;function k0(a,n){let s=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=kl.reduce((z,$)=>(z[$]=jA(u),z),{}),{setup:h,read:m,resolveKeyframes:y,preUpdate:v,update:x,preRender:S,render:T,postRender:_}=d,E=()=>{const z=Aa.useManualTiming?l.timestamp:performance.now();s=!1,Aa.useManualTiming||(l.delta=o?1e3/60:Math.max(Math.min(z-l.timestamp,AA),1)),l.timestamp=z,l.isProcessing=!0,h.process(l),m.process(l),y.process(l),v.process(l),x.process(l),S.process(l),T.process(l),_.process(l),l.isProcessing=!1,s&&n&&(o=!1,a(E))},D=()=>{s=!0,o=!0,l.isProcessing||a(E)};return{schedule:kl.reduce((z,$)=>{const V=d[$];return z[$]=(Q,Z=!1,ne=!1)=>(s||D(),V.schedule(Q,Z,ne)),z},{}),cancel:z=>{for(let $=0;$<kl.length;$++)d[kl[$]].cancel(z)},state:l,steps:d}}const{schedule:ft,cancel:ni,state:en,steps:Ld}=k0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0);let Il;function EA(){Il=void 0}const gn={now:()=>(Il===void 0&&gn.set(en.isProcessing||Aa.useManualTiming?en.timestamp:performance.now()),Il),set:a=>{Il=a,queueMicrotask(EA)}},N0=a=>n=>typeof n=="string"&&n.startsWith(a),z0=N0("--"),RA=N0("var(--"),op=a=>RA(a)?MA.test(a.split("/*")[0].trim()):!1,MA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Is={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},nr={...Is,transform:a=>ja(0,1,a)},Nl={...Is,default:1},Ko=a=>Math.round(a*1e5)/1e5,rp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DA(a){return a==null}const kA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lp=(a,n)=>s=>!!(typeof s=="string"&&kA.test(s)&&s.startsWith(a)||n&&!DA(s)&&Object.prototype.hasOwnProperty.call(s,n)),O0=(a,n,s)=>o=>{if(typeof o!="string")return o;const[l,u,d,h]=o.match(rp);return{[a]:parseFloat(l),[n]:parseFloat(u),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},NA=a=>ja(0,255,a),Vd={...Is,transform:a=>Math.round(NA(a))},Mi={test:lp("rgb","red"),parse:O0("red","green","blue"),transform:({red:a,green:n,blue:s,alpha:o=1})=>"rgba("+Vd.transform(a)+", "+Vd.transform(n)+", "+Vd.transform(s)+", "+Ko(nr.transform(o))+")"};function zA(a){let n="",s="",o="",l="";return a.length>5?(n=a.substring(1,3),s=a.substring(3,5),o=a.substring(5,7),l=a.substring(7,9)):(n=a.substring(1,2),s=a.substring(2,3),o=a.substring(3,4),l=a.substring(4,5),n+=n,s+=s,o+=o,l+=l),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const xf={test:lp("#"),parse:zA,transform:Mi.transform},gr=a=>({test:n=>typeof n=="string"&&n.endsWith(a)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${a}`}),Ja=gr("deg"),aa=gr("%"),ye=gr("px"),OA=gr("vh"),UA=gr("vw"),av={...aa,parse:a=>aa.parse(a)/100,transform:a=>aa.transform(a*100)},As={test:lp("hsl","hue"),parse:O0("hue","saturation","lightness"),transform:({hue:a,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(a)+", "+aa.transform(Ko(n))+", "+aa.transform(Ko(s))+", "+Ko(nr.transform(o))+")"},Ut={test:a=>Mi.test(a)||xf.test(a)||As.test(a),parse:a=>Mi.test(a)?Mi.parse(a):As.test(a)?As.parse(a):xf.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Mi.transform(a):As.transform(a),getAnimatableNone:a=>{const n=Ut.parse(a);return n.alpha=0,Ut.transform(n)}},BA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LA(a){return isNaN(a)&&typeof a=="string"&&(a.match(rp)?.length||0)+(a.match(BA)?.length||0)>0}const U0="number",B0="color",VA="var",PA="var(",iv="${}",HA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ar(a){const n=a.toString(),s=[],o={color:[],number:[],var:[]},l=[];let u=0;const h=n.replace(HA,m=>(Ut.test(m)?(o.color.push(u),l.push(B0),s.push(Ut.parse(m))):m.startsWith(PA)?(o.var.push(u),l.push(VA),s.push(m)):(o.number.push(u),l.push(U0),s.push(parseFloat(m))),++u,iv)).split(iv);return{values:s,split:h,indexes:o,types:l}}function L0(a){return ar(a).values}function V0(a){const{split:n,types:s}=ar(a),o=n.length;return l=>{let u="";for(let d=0;d<o;d++)if(u+=n[d],l[d]!==void 0){const h=s[d];h===U0?u+=Ko(l[d]):h===B0?u+=Ut.transform(l[d]):u+=l[d]}return u}}const IA=a=>typeof a=="number"?0:Ut.test(a)?Ut.getAnimatableNone(a):a;function FA(a){const n=L0(a);return V0(a)(n.map(IA))}const ai={test:LA,parse:L0,createTransformer:V0,getAnimatableNone:FA};function Pd(a,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(n-a)*6*s:s<1/2?n:s<2/3?a+(n-a)*(2/3-s)*6:a}function qA({hue:a,saturation:n,lightness:s,alpha:o}){a/=360,n/=100,s/=100;let l=0,u=0,d=0;if(!n)l=u=d=s;else{const h=s<.5?s*(1+n):s+n-s*n,m=2*s-h;l=Pd(m,h,a+1/3),u=Pd(m,h,a),d=Pd(m,h,a-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:o}}function Wl(a,n){return s=>s>0?n:a}const yt=(a,n,s)=>a+(n-a)*s,Hd=(a,n,s)=>{const o=a*a,l=s*(n*n-o)+o;return l<0?0:Math.sqrt(l)},GA=[xf,Mi,As],YA=a=>GA.find(n=>n.test(a));function sv(a){const n=YA(a);if(!n)return!1;let s=n.parse(a);return n===As&&(s=qA(s)),s}const ov=(a,n)=>{const s=sv(a),o=sv(n);if(!s||!o)return Wl(a,n);const l={...s};return u=>(l.red=Hd(s.red,o.red,u),l.green=Hd(s.green,o.green,u),l.blue=Hd(s.blue,o.blue,u),l.alpha=yt(s.alpha,o.alpha,u),Mi.transform(l))},bf=new Set(["none","hidden"]);function $A(a,n){return bf.has(a)?s=>s<=0?a:n:s=>s>=1?n:a}function XA(a,n){return s=>yt(a,n,s)}function cp(a){return typeof a=="number"?XA:typeof a=="string"?op(a)?Wl:Ut.test(a)?ov:WA:Array.isArray(a)?P0:typeof a=="object"?Ut.test(a)?ov:KA:Wl}function P0(a,n){const s=[...a],o=s.length,l=a.map((u,d)=>cp(u)(u,n[d]));return u=>{for(let d=0;d<o;d++)s[d]=l[d](u);return s}}function KA(a,n){const s={...a,...n},o={};for(const l in s)a[l]!==void 0&&n[l]!==void 0&&(o[l]=cp(a[l])(a[l],n[l]));return l=>{for(const u in o)s[u]=o[u](l);return s}}function QA(a,n){const s=[],o={color:0,var:0,number:0};for(let l=0;l<n.values.length;l++){const u=n.types[l],d=a.indexes[u][o[u]],h=a.values[d]??0;s[l]=h,o[u]++}return s}const WA=(a,n)=>{const s=ai.createTransformer(n),o=ar(a),l=ar(n);return o.indexes.var.length===l.indexes.var.length&&o.indexes.color.length===l.indexes.color.length&&o.indexes.number.length>=l.indexes.number.length?bf.has(a)&&!l.values.length||bf.has(n)&&!o.values.length?$A(a,n):hr(P0(QA(o,l),l.values),s):Wl(a,n)};function H0(a,n,s){return typeof a=="number"&&typeof n=="number"&&typeof s=="number"?yt(a,n,s):cp(a)(a,n)}const ZA=a=>{const n=({timestamp:s})=>a(s);return{start:(s=!0)=>ft.update(n,s),stop:()=>ni(n),now:()=>en.isProcessing?en.timestamp:gn.now()}},I0=(a,n,s=10)=>{let o="";const l=Math.max(Math.round(n/s),2);for(let u=0;u<l;u++)o+=Math.round(a(u/(l-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Zl=2e4;function up(a){let n=0;const s=50;let o=a.next(n);for(;!o.done&&n<Zl;)n+=s,o=a.next(n);return n>=Zl?1/0:n}function JA(a,n=100,s){const o=s({...a,keyframes:[0,n]}),l=Math.min(up(o),Zl);return{type:"keyframes",ease:u=>o.next(l*u).value/n,duration:Vn(l)}}const eE=5;function F0(a,n,s){const o=Math.max(n-eE,0);return S0(s-a(o),n-o)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Id=.001;function tE({duration:a=St.duration,bounce:n=St.bounce,velocity:s=St.velocity,mass:o=St.mass}){let l,u,d=1-n;d=ja(St.minDamping,St.maxDamping,d),a=ja(St.minDuration,St.maxDuration,Vn(a)),d<1?(l=y=>{const v=y*d,x=v*a,S=v-s,T=Sf(y,d),_=Math.exp(-x);return Id-S/T*_},u=y=>{const x=y*d*a,S=x*s+s,T=Math.pow(d,2)*Math.pow(y,2)*a,_=Math.exp(-x),E=Sf(Math.pow(y,2),d);return(-l(y)+Id>0?-1:1)*((S-T)*_)/E}):(l=y=>{const v=Math.exp(-y*a),x=(y-s)*a+1;return-Id+v*x},u=y=>{const v=Math.exp(-y*a),x=(s-y)*(a*a);return v*x});const h=5/a,m=aE(l,u,h);if(a=na(a),isNaN(m))return{stiffness:St.stiffness,damping:St.damping,duration:a};{const y=Math.pow(m,2)*o;return{stiffness:y,damping:d*2*Math.sqrt(o*y),duration:a}}}const nE=12;function aE(a,n,s){let o=s;for(let l=1;l<nE;l++)o=o-a(o)/n(o);return o}function Sf(a,n){return a*Math.sqrt(1-n*n)}const iE=["duration","bounce"],sE=["stiffness","damping","mass"];function rv(a,n){return n.some(s=>a[s]!==void 0)}function oE(a){let n={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...a};if(!rv(a,sE)&&rv(a,iE))if(a.visualDuration){const s=a.visualDuration,o=2*Math.PI/(s*1.2),l=o*o,u=2*ja(.05,1,1-(a.bounce||0))*Math.sqrt(l);n={...n,mass:St.mass,stiffness:l,damping:u}}else{const s=tE(a);n={...n,...s,mass:St.mass},n.isResolvedFromDuration=!0}return n}function Jl(a=St.visualDuration,n=St.bounce){const s=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:n}:a;let{restSpeed:o,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],h={done:!1,value:u},{stiffness:m,damping:y,mass:v,duration:x,velocity:S,isResolvedFromDuration:T}=oE({...s,velocity:-Vn(s.velocity||0)}),_=S||0,E=y/(2*Math.sqrt(m*v)),D=d-u,R=Vn(Math.sqrt(m/v)),H=Math.abs(D)<5;o||(o=H?St.restSpeed.granular:St.restSpeed.default),l||(l=H?St.restDelta.granular:St.restDelta.default);let z;if(E<1){const V=Sf(R,E);z=Q=>{const Z=Math.exp(-E*R*Q);return d-Z*((_+E*R*D)/V*Math.sin(V*Q)+D*Math.cos(V*Q))}}else if(E===1)z=V=>d-Math.exp(-R*V)*(D+(_+R*D)*V);else{const V=R*Math.sqrt(E*E-1);z=Q=>{const Z=Math.exp(-E*R*Q),ne=Math.min(V*Q,300);return d-Z*((_+E*R*D)*Math.sinh(ne)+V*D*Math.cosh(ne))/V}}const $={calculatedDuration:T&&x||null,next:V=>{const Q=z(V);if(T)h.done=V>=x;else{let Z=V===0?_:0;E<1&&(Z=V===0?na(_):F0(z,V,Q));const ne=Math.abs(Z)<=o,ve=Math.abs(d-Q)<=l;h.done=ne&&ve}return h.value=h.done?d:Q,h},toString:()=>{const V=Math.min(up($),Zl),Q=I0(Z=>$.next(V*Z).value,V,30);return V+"ms "+Q},toTransition:()=>{}};return $}Jl.applyToOptions=a=>{const n=JA(a,100,Jl);return a.ease=n.ease,a.duration=na(n.duration),a.type="keyframes",a};function _f({keyframes:a,velocity:n=0,power:s=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:h,max:m,restDelta:y=.5,restSpeed:v}){const x=a[0],S={done:!1,value:x},T=ne=>h!==void 0&&ne<h||m!==void 0&&ne>m,_=ne=>h===void 0?m:m===void 0||Math.abs(h-ne)<Math.abs(m-ne)?h:m;let E=s*n;const D=x+E,R=d===void 0?D:d(D);R!==D&&(E=R-x);const H=ne=>-E*Math.exp(-ne/o),z=ne=>R+H(ne),$=ne=>{const ve=H(ne),ue=z(ne);S.done=Math.abs(ve)<=y,S.value=S.done?R:ue};let V,Q;const Z=ne=>{T(S.value)&&(V=ne,Q=Jl({keyframes:[S.value,_(S.value)],velocity:F0(z,ne,S.value),damping:l,stiffness:u,restDelta:y,restSpeed:v}))};return Z(0),{calculatedDuration:null,next:ne=>{let ve=!1;return!Q&&V===void 0&&(ve=!0,$(ne),Z(ne)),V!==void 0&&ne>=V?Q.next(ne-V):(!ve&&$(ne),S)}}}function rE(a,n,s){const o=[],l=s||Aa.mix||H0,u=a.length-1;for(let d=0;d<u;d++){let h=l(a[d],a[d+1]);if(n){const m=Array.isArray(n)?n[d]||Pn:n;h=hr(m,h)}o.push(h)}return o}function lE(a,n,{clamp:s=!0,ease:o,mixer:l}={}){const u=a.length;if(tp(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const d=a[0]===a[1];a[0]>a[u-1]&&(a=[...a].reverse(),n=[...n].reverse());const h=rE(n,o,l),m=h.length,y=v=>{if(d&&v<a[0])return n[0];let x=0;if(m>1)for(;x<a.length-2&&!(v<a[x+1]);x++);const S=tr(a[x],a[x+1],v);return h[x](S)};return s?v=>y(ja(a[0],a[u-1],v)):y}function cE(a,n){const s=a[a.length-1];for(let o=1;o<=n;o++){const l=tr(0,n,o);a.push(yt(s,1,l))}}function uE(a){const n=[0];return cE(n,a.length-1),n}function dE(a,n){return a.map(s=>s*n)}function fE(a,n){return a.map(()=>n||M0).splice(0,a.length-1)}function Qo({duration:a=300,keyframes:n,times:s,ease:o="easeInOut"}){const l=wA(o)?o.map(nv):nv(o),u={done:!1,value:n[0]},d=dE(s&&s.length===n.length?s:uE(n),a),h=lE(d,n,{ease:Array.isArray(l)?l:fE(n,l)});return{calculatedDuration:a,next:m=>(u.value=h(m),u.done=m>=a,u)}}const pE=a=>a!==null;function dp(a,{repeat:n,repeatType:s="loop"},o,l=1){const u=a.filter(pE),h=l<0||n&&s!=="loop"&&n%2===1?0:u.length-1;return!h||o===void 0?u[h]:o}const hE={decay:_f,inertia:_f,tween:Qo,keyframes:Qo,spring:Jl};function q0(a){typeof a.type=="string"&&(a.type=hE[a.type])}class fp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,s){return this.finished.then(n,s)}}const mE=a=>a/100;class pp extends fp{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;q0(n);const{type:s=Qo,repeat:o=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=n;let{keyframes:h}=n;const m=s||Qo;m!==Qo&&typeof h[0]!="number"&&(this.mixKeyframes=hr(mE,H0(h[0],h[1])),h=[0,100]);const y=m({...n,keyframes:h});u==="mirror"&&(this.mirroredGenerator=m({...n,keyframes:[...h].reverse(),velocity:-d})),y.calculatedDuration===null&&(y.calculatedDuration=up(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(o+1)-l,this.generator=y}updateTime(n){const s=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(n,s=!1){const{generator:o,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:y=0,keyframes:v,repeat:x,repeatType:S,repeatDelay:T,type:_,onUpdate:E,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-l/this.speed,this.startTime)),s?this.currentTime=n:this.updateTime(n);const R=this.currentTime-y*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?R<0:R>l;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let z=this.currentTime,$=o;if(x){const ne=Math.min(this.currentTime,l)/h;let ve=Math.floor(ne),ue=ne%1;!ue&&ne>=1&&(ue=1),ue===1&&ve--,ve=Math.min(ve,x+1),!!(ve%2)&&(S==="reverse"?(ue=1-ue,T&&(ue-=T/h)):S==="mirror"&&($=d)),z=ja(0,1,ue)*h}const V=H?{done:!1,value:v[0]}:$.next(z);u&&(V.value=u(V.value));let{done:Q}=V;!H&&m!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return Z&&_!==_f&&(V.value=dp(v,this.options,D,this.speed)),E&&E(V.value),Z&&this.finish(),V}then(n,s){return this.finished.then(n,s)}get duration(){return Vn(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Vn(n)}get time(){return Vn(this.currentTime)}set time(n){n=na(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(gn.now());const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=Vn(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=ZA,startTime:s}=this.options;this.driver||(this.driver=n(l=>this.tick(l))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function gE(a){for(let n=1;n<a.length;n++)a[n]??(a[n]=a[n-1])}const Di=a=>a*180/Math.PI,wf=a=>{const n=Di(Math.atan2(a[1],a[0]));return Cf(n)},yE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:wf,rotateZ:wf,skewX:a=>Di(Math.atan(a[1])),skewY:a=>Di(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Cf=a=>(a=a%360,a<0&&(a+=360),a),lv=wf,cv=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),uv=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),vE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cv,scaleY:uv,scale:a=>(cv(a)+uv(a))/2,rotateX:a=>Cf(Di(Math.atan2(a[6],a[5]))),rotateY:a=>Cf(Di(Math.atan2(-a[2],a[0]))),rotateZ:lv,rotate:lv,skewX:a=>Di(Math.atan(a[4])),skewY:a=>Di(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Tf(a){return a.includes("scale")?1:0}function jf(a,n){if(!a||a==="none")return Tf(n);const s=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,l;if(s)o=vE,l=s;else{const h=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=yE,l=h}if(!l)return Tf(n);const u=o[n],d=l[1].split(",").map(bE);return typeof u=="function"?u(d):d[u]}const xE=(a,n)=>{const{transform:s="none"}=getComputedStyle(a);return jf(s,n)};function bE(a){return parseFloat(a.trim())}const Fs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Fs),dv=a=>a===Is||a===ye,SE=new Set(["x","y","z"]),_E=Fs.filter(a=>!SE.has(a));function wE(a){const n=[];return _E.forEach(s=>{const o=a.getValue(s);o!==void 0&&(n.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),n}const Ni={width:({x:a},{paddingLeft:n="0",paddingRight:s="0"})=>a.max-a.min-parseFloat(n)-parseFloat(s),height:({y:a},{paddingTop:n="0",paddingBottom:s="0"})=>a.max-a.min-parseFloat(n)-parseFloat(s),top:(a,{top:n})=>parseFloat(n),left:(a,{left:n})=>parseFloat(n),bottom:({y:a},{top:n})=>parseFloat(n)+(a.max-a.min),right:({x:a},{left:n})=>parseFloat(n)+(a.max-a.min),x:(a,{transform:n})=>jf(n,"x"),y:(a,{transform:n})=>jf(n,"y")};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const zi=new Set;let Af=!1,Ef=!1,Rf=!1;function G0(){if(Ef){const a=Array.from(zi).filter(o=>o.needsMeasurement),n=new Set(a.map(o=>o.element)),s=new Map;n.forEach(o=>{const l=wE(o);l.length&&(s.set(o,l),o.render())}),a.forEach(o=>o.measureInitialState()),n.forEach(o=>{o.render();const l=s.get(o);l&&l.forEach(([u,d])=>{o.getValue(u)?.set(d)})}),a.forEach(o=>o.measureEndState()),a.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Ef=!1,Af=!1,zi.forEach(a=>a.complete(Rf)),zi.clear()}function Y0(){zi.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Ef=!0)})}function CE(){Rf=!0,Y0(),G0(),Rf=!1}class hp{constructor(n,s,o,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=o,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(zi.add(this),Af||(Af=!0,ft.read(Y0),ft.resolveKeyframes(G0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:o,motionValue:l}=this;if(n[0]===null){const u=l?.get(),d=n[n.length-1];if(u!==void 0)n[0]=u;else if(o&&s){const h=o.readValue(s,d);h!=null&&(n[0]=h)}n[0]===void 0&&(n[0]=d),l&&u===void 0&&l.set(n[0])}gE(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),zi.delete(this)}cancel(){this.state==="scheduled"&&(zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TE=a=>a.startsWith("--");function jE(a,n,s){TE(n)?a.style.setProperty(n,s):a.style[n]=s}const AE=np(()=>window.ScrollTimeline!==void 0),EE={};function RE(a,n){const s=np(a);return()=>EE[n]??s()}const $0=RE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yo=([a,n,s,o])=>`cubic-bezier(${a}, ${n}, ${s}, ${o})`,fv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yo([0,.65,.55,1]),circOut:Yo([.55,0,1,.45]),backIn:Yo([.31,.01,.66,-.59]),backOut:Yo([.33,1.53,.69,.99])};function X0(a,n){if(a)return typeof a=="function"?$0()?I0(a,n):"ease-out":D0(a)?Yo(a):Array.isArray(a)?a.map(s=>X0(s,n)||fv.easeOut):fv[a]}function ME(a,n,s,{delay:o=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:h="easeOut",times:m}={},y=void 0){const v={[n]:s};m&&(v.offset=m);const x=X0(h,l);Array.isArray(x)&&(v.easing=x);const S={delay:o,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),a.animate(v,S)}function K0(a){return typeof a=="function"&&"applyToOptions"in a}function DE({type:a,...n}){return K0(a)&&$0()?a.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class kE extends fp{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:s,name:o,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:h,onComplete:m}=n;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=n,tp(typeof n.type!="string");const y=DE(n);this.animation=ME(s,o,l,y,u),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=dp(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):jE(s,o,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Vn(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Vn(n)}get time(){return Vn(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=na(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&AE()?(this.animation.timeline=n,Pn):s(this)}}const Q0={anticipate:A0,backInOut:j0,circInOut:R0};function NE(a){return a in Q0}function zE(a){typeof a.ease=="string"&&NE(a.ease)&&(a.ease=Q0[a.ease])}const pv=10;class OE extends kE{constructor(n){zE(n),q0(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:s,onUpdate:o,onComplete:l,element:u,...d}=this.options;if(!s)return;if(n!==void 0){s.set(n);return}const h=new pp({...d,autoplay:!1}),m=na(this.finishedTime??this.time);s.setWithVelocity(h.sample(m-pv).value,h.sample(m).value,pv),h.stop()}}const hv=(a,n)=>n==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(ai.test(a)||a==="0")&&!a.startsWith("url("));function UE(a){const n=a[0];if(a.length===1)return!0;for(let s=0;s<a.length;s++)if(a[s]!==n)return!0}function BE(a,n,s,o){const l=a[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const u=a[a.length-1],d=hv(l,n),h=hv(u,n);return!d||!h?!1:UE(a)||(s==="spring"||K0(s))&&o}function Mf(a){a.duration=0,a.type="keyframes"}const LE=new Set(["opacity","clipPath","filter","transform"]),VE=np(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PE(a){const{motionValue:n,name:s,repeatDelay:o,repeatType:l,damping:u,type:d}=a;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:y}=n.owner.getProps();return VE()&&s&&LE.has(s)&&(s!=="transform"||!y)&&!m&&!o&&l!=="mirror"&&u!==0&&d!=="inertia"}const HE=40;class IE extends fp{constructor({autoplay:n=!0,delay:s=0,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:h,name:m,motionValue:y,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const S={autoplay:n,delay:s,type:o,repeat:l,repeatDelay:u,repeatType:d,name:m,motionValue:y,element:v,...x},T=v?.KeyframeResolver||hp;this.keyframeResolver=new T(h,(_,E,D)=>this.onKeyframesResolved(_,E,S,!D),m,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,s,o,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:h,delay:m,isHandoff:y,onUpdate:v}=o;this.resolvedAt=gn.now(),BE(n,u,d,h)||((Aa.instantAnimations||!m)&&v?.(dp(n,o,s)),n[0]=n[n.length-1],Mf(o),o.repeat=0);const S={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>HE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:n},T=!y&&PE(S)?new OE({...S,element:S.motionValue.owner.current}):new pp(S);T.finished.then(()=>this.notifyFinished()).catch(Pn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(n,s){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),CE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const FE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qE(a){const n=FE.exec(a);if(!n)return[,];const[,s,o,l]=n;return[`--${s??o}`,l]}function W0(a,n,s=1){const[o,l]=qE(a);if(!o)return;const u=window.getComputedStyle(n).getPropertyValue(o);if(u){const d=u.trim();return v0(d)?parseFloat(d):d}return op(l)?W0(l,n,s+1):l}function mp(a,n){return a?.[n]??a?.default??a}const Z0=new Set(["width","height","top","left","right","bottom",...Fs]),GE={test:a=>a==="auto",parse:a=>a},J0=a=>n=>n.test(a),eb=[Is,ye,aa,Ja,UA,OA,GE],mv=a=>eb.find(J0(a));function YE(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||b0(a):!0}const $E=new Set(["brightness","contrast","saturate","opacity"]);function XE(a){const[n,s]=a.slice(0,-1).split("(");if(n==="drop-shadow")return a;const[o]=s.match(rp)||[];if(!o)return a;const l=s.replace(o,"");let u=$E.has(n)?1:0;return o!==s&&(u*=100),n+"("+u+l+")"}const KE=/\b([a-z-]*)\(.*?\)/gu,Df={...ai,getAnimatableNone:a=>{const n=a.match(KE);return n?n.map(XE).join(" "):a}},gv={...Is,transform:Math.round},QE={rotate:Ja,rotateX:Ja,rotateY:Ja,rotateZ:Ja,scale:Nl,scaleX:Nl,scaleY:Nl,scaleZ:Nl,skew:Ja,skewX:Ja,skewY:Ja,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:nr,originX:av,originY:av,originZ:ye},gp={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...QE,zIndex:gv,fillOpacity:nr,strokeOpacity:nr,numOctaves:gv},WE={...gp,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Df,WebkitFilter:Df},tb=a=>WE[a];function nb(a,n){let s=tb(a);return s!==Df&&(s=ai),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const ZE=new Set(["auto","none","0"]);function JE(a,n,s){let o=0,l;for(;o<a.length&&!l;){const u=a[o];typeof u=="string"&&!ZE.has(u)&&ar(u).values.length&&(l=a[o]),o++}if(l&&s)for(const u of n)a[u]=nb(s,l)}class eR extends hp{constructor(n,s,o,l,u){super(n,s,o,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<n.length;m++){let y=n[m];if(typeof y=="string"&&(y=y.trim(),op(y))){const v=W0(y,s.current);v!==void 0&&(n[m]=v),m===n.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!Z0.has(o)||n.length!==2)return;const[l,u]=n,d=mv(l),h=mv(u);if(d!==h)if(dv(d)&&dv(h))for(let m=0;m<n.length;m++){const y=n[m];typeof y=="string"&&(n[m]=parseFloat(y))}else Ni[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,o=[];for(let l=0;l<n.length;l++)(n[l]===null||YE(n[l]))&&o.push(l);o.length&&JE(n,o,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:o}=this;if(!n||!n.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[o](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&n.getValue(o,l).jump(l,!1)}measureEndState(){const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=Ni[s](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{n.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function tR(a,n,s){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let o=document;const l=s?.[a]??o.querySelectorAll(a);return l?Array.from(l):[]}return Array.from(a)}const ab=(a,n)=>n&&typeof a=="number"?n.transform(a):a;function ib(a){return x0(a)&&"offsetHeight"in a}const yv=30,nR=a=>!isNaN(parseFloat(a));class aR{constructor(n,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const l=gn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=gn.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=nR(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new ap);const o=this.events[n].add(s);return n==="change"?()=>{o(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-o}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>yv)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,yv);return S0(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(a,n){return new aR(a,n)}const{schedule:yp}=k0(queueMicrotask,!1),$n={x:!1,y:!1};function sb(){return $n.x||$n.y}function iR(a){return a==="x"||a==="y"?$n[a]?null:($n[a]=!0,()=>{$n[a]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}function ob(a,n){const s=tR(a),o=new AbortController,l={passive:!0,...n,signal:o.signal};return[s,l,()=>o.abort()]}function vv(a){return!(a.pointerType==="touch"||sb())}function sR(a,n,s={}){const[o,l,u]=ob(a,s),d=h=>{if(!vv(h))return;const{target:m}=h,y=n(m,h);if(typeof y!="function"||!m)return;const v=x=>{vv(x)&&(y(x),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,l)};return o.forEach(h=>{h.addEventListener("pointerenter",d,l)}),u}const rb=(a,n)=>n?a===n?!0:rb(a,n.parentElement):!1,vp=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,oR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rR(a){return oR.has(a.tagName)||a.tabIndex!==-1}const Fl=new WeakSet;function xv(a){return n=>{n.key==="Enter"&&a(n)}}function Fd(a,n){a.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const lR=(a,n)=>{const s=a.currentTarget;if(!s)return;const o=xv(()=>{if(Fl.has(s))return;Fd(s,"down");const l=xv(()=>{Fd(s,"up")}),u=()=>Fd(s,"cancel");s.addEventListener("keyup",l,n),s.addEventListener("blur",u,n)});s.addEventListener("keydown",o,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),n)};function bv(a){return vp(a)&&!sb()}function cR(a,n,s={}){const[o,l,u]=ob(a,s),d=h=>{const m=h.currentTarget;if(!bv(h))return;Fl.add(m);const y=n(m,h),v=(T,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",S),Fl.has(m)&&Fl.delete(m),bv(T)&&typeof y=="function"&&y(T,{success:_})},x=T=>{v(T,m===window||m===document||s.useGlobalTarget||rb(m,T.target))},S=T=>{v(T,!1)};window.addEventListener("pointerup",x,l),window.addEventListener("pointercancel",S,l)};return o.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",d,l),ib(h)&&(h.addEventListener("focus",y=>lR(y,l)),!rR(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function lb(a){return x0(a)&&"ownerSVGElement"in a}function uR(a){return lb(a)&&a.tagName==="svg"}const an=a=>!!(a&&a.getVelocity),dR=[...eb,Ut,ai],fR=a=>dR.find(J0(a)),xp=C.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function Sv(a,n){if(typeof a=="function")return a(n);a!=null&&(a.current=n)}function pR(...a){return n=>{let s=!1;const o=a.map(l=>{const u=Sv(l,n);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<o.length;l++){const u=o[l];typeof u=="function"?u():Sv(a[l],null)}}}}function hR(...a){return C.useCallback(pR(...a),a)}class mR extends C.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const o=s.offsetParent,l=ib(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gR({children:a,isPresent:n,anchorX:s,root:o}){const l=C.useId(),u=C.useRef(null),d=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=C.useContext(xp),m=hR(u,a?.ref);return C.useInsertionEffect(()=>{const{width:y,height:v,top:x,left:S,right:T}=d.current;if(n||!u.current||!y||!v)return;const _=s==="left"?`left: ${S}`:`right: ${T}`;u.current.dataset.motionPopId=l;const E=document.createElement("style");h&&(E.nonce=h);const D=o??document.head;return D.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${_}px !important;
            top: ${x}px !important;
          }
        `),()=>{D.contains(E)&&D.removeChild(E)}},[n]),p.jsx(mR,{isPresent:n,childRef:u,sizeRef:d,children:C.cloneElement(a,{ref:m})})}const yR=({children:a,initial:n,isPresent:s,onExitComplete:o,custom:l,presenceAffectsLayout:u,mode:d,anchorX:h,root:m})=>{const y=Wf(vR),v=C.useId();let x=!0,S=C.useMemo(()=>(x=!1,{id:v,initial:n,isPresent:s,custom:l,onExitComplete:T=>{y.set(T,!0);for(const _ of y.values())if(!_)return;o&&o()},register:T=>(y.set(T,!1),()=>y.delete(T))}),[s,y,o]);return u&&x&&(S={...S}),C.useMemo(()=>{y.forEach((T,_)=>y.set(_,!1))},[s]),C.useEffect(()=>{!s&&!y.size&&o&&o()},[s]),d==="popLayout"&&(a=p.jsx(gR,{isPresent:s,anchorX:h,root:m,children:a})),p.jsx(pc.Provider,{value:S,children:a})};function vR(){return new Map}function cb(a=!0){const n=C.useContext(pc);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:l}=n,u=C.useId();C.useEffect(()=>{if(a)return l(u)},[a]);const d=C.useCallback(()=>a&&o&&o(u),[u,o,a]);return!s&&o?[!1,d]:[!0]}const zl=a=>a.key||"";function _v(a){const n=[];return C.Children.forEach(a,s=>{C.isValidElement(s)&&n.push(s)}),n}const Us=({children:a,custom:n,initial:s=!0,onExitComplete:o,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:m})=>{const[y,v]=cb(d),x=C.useMemo(()=>_v(a),[a]),S=d&&!y?[]:x.map(zl),T=C.useRef(!0),_=C.useRef(x),E=Wf(()=>new Map),[D,R]=C.useState(x),[H,z]=C.useState(x);y0(()=>{T.current=!1,_.current=x;for(let Q=0;Q<H.length;Q++){const Z=zl(H[Q]);S.includes(Z)?E.delete(Z):E.get(Z)!==!0&&E.set(Z,!1)}},[H,S.length,S.join("-")]);const $=[];if(x!==D){let Q=[...x];for(let Z=0;Z<H.length;Z++){const ne=H[Z],ve=zl(ne);S.includes(ve)||(Q.splice(Z,0,ne),$.push(ne))}return u==="wait"&&$.length&&(Q=$),z(_v(Q)),R(x),null}const{forceRender:V}=C.useContext(Qf);return p.jsx(p.Fragment,{children:H.map(Q=>{const Z=zl(Q),ne=d&&!y?!1:x===H||S.includes(Z),ve=()=>{if(E.has(Z))E.set(Z,!0);else return;let ue=!0;E.forEach(De=>{De||(ue=!1)}),ue&&(V?.(),z(_.current),d&&v?.(),o&&o())};return p.jsx(yR,{isPresent:ne,initial:!T.current||s?void 0:!1,custom:n,presenceAffectsLayout:l,mode:u,root:m,onExitComplete:ne?void 0:ve,anchorX:h,children:Q},Z)})})},ub=C.createContext({strict:!1}),wv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bs={};for(const a in wv)Bs[a]={isEnabled:n=>wv[a].some(s=>!!n[s])};function xR(a){for(const n in a)Bs[n]={...Bs[n],...a[n]}}const bR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ec(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||bR.has(a)}let db=a=>!ec(a);function SR(a){typeof a=="function"&&(db=n=>n.startsWith("on")?!ec(n):a(n))}try{SR(require("@emotion/is-prop-valid").default)}catch{}function _R(a,n,s){const o={};for(const l in a)l==="values"&&typeof a.values=="object"||(db(l)||s===!0&&ec(l)||!n&&!ec(l)||a.draggable&&l.startsWith("onDrag"))&&(o[l]=a[l]);return o}const hc=C.createContext({});function mc(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function ir(a){return typeof a=="string"||Array.isArray(a)}const bp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sp=["initial",...bp];function gc(a){return mc(a.animate)||Sp.some(n=>ir(a[n]))}function fb(a){return!!(gc(a)||a.variants)}function wR(a,n){if(gc(a)){const{initial:s,animate:o}=a;return{initial:s===!1||ir(s)?s:void 0,animate:ir(o)?o:void 0}}return a.inherit!==!1?n:{}}function CR(a){const{initial:n,animate:s}=wR(a,C.useContext(hc));return C.useMemo(()=>({initial:n,animate:s}),[Cv(n),Cv(s)])}function Cv(a){return Array.isArray(a)?a.join(" "):a}function Tv(a,n){return n.max===n.min?0:a/(n.max-n.min)*100}const Ho={correct:(a,n)=>{if(!n.target)return a;if(typeof a=="string")if(ye.test(a))a=parseFloat(a);else return a;const s=Tv(a,n.target.x),o=Tv(a,n.target.y);return`${s}% ${o}%`}},TR={correct:(a,{treeScale:n,projectionDelta:s})=>{const o=a,l=ai.parse(a);if(l.length>5)return o;const u=ai.createTransformer(a),d=typeof l[0]!="number"?1:0,h=s.x.scale*n.x,m=s.y.scale*n.y;l[0+d]/=h,l[1+d]/=m;const y=yt(h,m,.5);return typeof l[2+d]=="number"&&(l[2+d]/=y),typeof l[3+d]=="number"&&(l[3+d]/=y),u(l)}},kf={borderRadius:{...Ho,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ho,borderTopRightRadius:Ho,borderBottomLeftRadius:Ho,borderBottomRightRadius:Ho,boxShadow:TR};function pb(a,{layout:n,layoutId:s}){return qs.has(a)||a.startsWith("origin")||(n||s!==void 0)&&(!!kf[a]||a==="opacity")}const jR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AR=Fs.length;function ER(a,n,s){let o="",l=!0;for(let u=0;u<AR;u++){const d=Fs[u],h=a[d];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(d.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||s){const y=ab(h,gp[d]);if(!m){l=!1;const v=jR[d]||d;o+=`${v}(${y}) `}s&&(n[d]=y)}}return o=o.trim(),s?o=s(n,l?"":o):l&&(o="none"),o}function _p(a,n,s){const{style:o,vars:l,transformOrigin:u}=a;let d=!1,h=!1;for(const m in n){const y=n[m];if(qs.has(m)){d=!0;continue}else if(z0(m)){l[m]=y;continue}else{const v=ab(y,gp[m]);m.startsWith("origin")?(h=!0,u[m]=v):o[m]=v}}if(n.transform||(d||s?o.transform=ER(n,a.transform,s):o.transform&&(o.transform="none")),h){const{originX:m="50%",originY:y="50%",originZ:v=0}=u;o.transformOrigin=`${m} ${y} ${v}`}}const wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hb(a,n,s){for(const o in n)!an(n[o])&&!pb(o,s)&&(a[o]=n[o])}function RR({transformTemplate:a},n){return C.useMemo(()=>{const s=wp();return _p(s,n,a),Object.assign({},s.vars,s.style)},[n])}function MR(a,n){const s=a.style||{},o={};return hb(o,s,a),Object.assign(o,RR(a,n)),o}function DR(a,n){const s={},o=MR(a,n);return a.drag&&a.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(s.tabIndex=0),s.style=o,s}const kR={offset:"stroke-dashoffset",array:"stroke-dasharray"},NR={offset:"strokeDashoffset",array:"strokeDasharray"};function zR(a,n,s=1,o=0,l=!0){a.pathLength=1;const u=l?kR:NR;a[u.offset]=ye.transform(-o);const d=ye.transform(n),h=ye.transform(s);a[u.array]=`${d} ${h}`}function mb(a,{attrX:n,attrY:s,attrScale:o,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...h},m,y,v){if(_p(a,h,y),m){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:x,style:S}=a;x.transform&&(S.transform=x.transform,delete x.transform),(S.transform||x.transformOrigin)&&(S.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete x.transformBox),n!==void 0&&(x.x=n),s!==void 0&&(x.y=s),o!==void 0&&(x.scale=o),l!==void 0&&zR(x,l,u,d,!1)}const gb=()=>({...wp(),attrs:{}}),yb=a=>typeof a=="string"&&a.toLowerCase()==="svg";function OR(a,n,s,o){const l=C.useMemo(()=>{const u=gb();return mb(u,n,yb(o),a.transformTemplate,a.style),{...u.attrs,style:{...u.style}}},[n]);if(a.style){const u={};hb(u,a.style,a),l.style={...u,...l.style}}return l}const UR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cp(a){return typeof a!="string"||a.includes("-")?!1:!!(UR.indexOf(a)>-1||/[A-Z]/u.test(a))}function BR(a,n,s,{latestValues:o},l,u=!1){const h=(Cp(a)?OR:DR)(n,o,l,a),m=_R(n,typeof a=="string",u),y=a!==C.Fragment?{...m,...h,ref:s}:{},{children:v}=n,x=C.useMemo(()=>an(v)?v.get():v,[v]);return C.createElement(a,{...y,children:x})}function jv(a){const n=[{},{}];return a?.values.forEach((s,o)=>{n[0][o]=s.get(),n[1][o]=s.getVelocity()}),n}function Tp(a,n,s,o){if(typeof n=="function"){const[l,u]=jv(o);n=n(s!==void 0?s:a.custom,l,u)}if(typeof n=="string"&&(n=a.variants&&a.variants[n]),typeof n=="function"){const[l,u]=jv(o);n=n(s!==void 0?s:a.custom,l,u)}return n}function ql(a){return an(a)?a.get():a}function LR({scrapeMotionValuesFromProps:a,createRenderState:n},s,o,l){return{latestValues:VR(s,o,l,a),renderState:n()}}function VR(a,n,s,o){const l={},u=o(a,{});for(const S in u)l[S]=ql(u[S]);let{initial:d,animate:h}=a;const m=gc(a),y=fb(a);n&&y&&!m&&a.inherit!==!1&&(d===void 0&&(d=n.initial),h===void 0&&(h=n.animate));let v=s?s.initial===!1:!1;v=v||d===!1;const x=v?h:d;if(x&&typeof x!="boolean"&&!mc(x)){const S=Array.isArray(x)?x:[x];for(let T=0;T<S.length;T++){const _=Tp(a,S[T]);if(_){const{transitionEnd:E,transition:D,...R}=_;for(const H in R){let z=R[H];if(Array.isArray(z)){const $=v?z.length-1:0;z=z[$]}z!==null&&(l[H]=z)}for(const H in E)l[H]=E[H]}}}return l}const vb=a=>(n,s)=>{const o=C.useContext(hc),l=C.useContext(pc),u=()=>LR(a,n,o,l);return s?u():Wf(u)};function jp(a,n,s){const{style:o}=a,l={};for(const u in o)(an(o[u])||n.style&&an(n.style[u])||pb(u,a)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=o[u]);return l}const PR=vb({scrapeMotionValuesFromProps:jp,createRenderState:wp});function xb(a,n,s){const o=jp(a,n,s);for(const l in a)if(an(a[l])||an(n[l])){const u=Fs.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;o[u]=a[l]}return o}const HR=vb({scrapeMotionValuesFromProps:xb,createRenderState:gb}),IR=Symbol.for("motionComponentSymbol");function Es(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function FR(a,n,s){return C.useCallback(o=>{o&&a.onMount&&a.onMount(o),n&&(o?n.mount(o):n.unmount()),s&&(typeof s=="function"?s(o):Es(s)&&(s.current=o))},[n])}const Ap=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qR="framerAppearId",bb="data-"+Ap(qR),Sb=C.createContext({});function GR(a,n,s,o,l){const{visualElement:u}=C.useContext(hc),d=C.useContext(ub),h=C.useContext(pc),m=C.useContext(xp).reducedMotion,y=C.useRef(null);o=o||d.renderer,!y.current&&o&&(y.current=o(a,{visualState:n,parent:u,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=y.current,x=C.useContext(Sb);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&YR(y.current,s,l,x);const S=C.useRef(!1);C.useInsertionEffect(()=>{v&&S.current&&v.update(s,h)});const T=s[bb],_=C.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return y0(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),_.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!_.current&&v.animationState&&v.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),_.current=!1),v.enteringChildren=void 0)}),v}function YR(a,n,s,o){const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:y,layoutCrossfade:v}=n;a.projection=new s(a.latestValues,n["data-framer-portal-id"]?void 0:_b(a.parent)),a.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Es(h),visualElement:a,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:v,layoutScroll:m,layoutRoot:y})}function _b(a){if(a)return a.options.allowProjection!==!1?a.projection:_b(a.parent)}function qd(a,{forwardMotionProps:n=!1}={},s,o){s&&xR(s);const l=Cp(a)?HR:PR;function u(h,m){let y;const v={...C.useContext(xp),...h,layoutId:$R(h)},{isStatic:x}=v,S=CR(h),T=l(h,x);if(!x&&Zf){XR();const _=KR(v);y=_.MeasureLayout,S.visualElement=GR(a,T,v,o,_.ProjectionNode)}return p.jsxs(hc.Provider,{value:S,children:[y&&S.visualElement?p.jsx(y,{visualElement:S.visualElement,...v}):null,BR(a,h,FR(T,S.visualElement,m),T,x,n)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const d=C.forwardRef(u);return d[IR]=a,d}function $R({layoutId:a}){const n=C.useContext(Qf).id;return n&&a!==void 0?n+"-"+a:a}function XR(a,n){C.useContext(ub).strict}function KR(a){const{drag:n,layout:s}=Bs;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(a)||s?.isEnabled(a)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function QR(a,n){if(typeof Proxy>"u")return qd;const s=new Map,o=(u,d)=>qd(u,d,a,n),l=(u,d)=>o(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?o:(s.has(d)||s.set(d,qd(d,void 0,a,n)),s.get(d))})}function wb({top:a,left:n,right:s,bottom:o}){return{x:{min:n,max:s},y:{min:a,max:o}}}function WR({x:a,y:n}){return{top:n.min,right:a.max,bottom:n.max,left:a.min}}function ZR(a,n){if(!n)return a;const s=n({x:a.left,y:a.top}),o=n({x:a.right,y:a.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function Gd(a){return a===void 0||a===1}function Nf({scale:a,scaleX:n,scaleY:s}){return!Gd(a)||!Gd(n)||!Gd(s)}function Ai(a){return Nf(a)||Cb(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function Cb(a){return Av(a.x)||Av(a.y)}function Av(a){return a&&a!=="0%"}function tc(a,n,s){const o=a-s,l=n*o;return s+l}function Ev(a,n,s,o,l){return l!==void 0&&(a=tc(a,l,o)),tc(a,s,o)+n}function zf(a,n=0,s=1,o,l){a.min=Ev(a.min,n,s,o,l),a.max=Ev(a.max,n,s,o,l)}function Tb(a,{x:n,y:s}){zf(a.x,n.translate,n.scale,n.originPoint),zf(a.y,s.translate,s.scale,s.originPoint)}const Rv=.999999999999,Mv=1.0000000000001;function JR(a,n,s,o=!1){const l=s.length;if(!l)return;n.x=n.y=1;let u,d;for(let h=0;h<l;h++){u=s[h],d=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ms(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(n.x*=d.x.scale,n.y*=d.y.scale,Tb(a,d)),o&&Ai(u.latestValues)&&Ms(a,u.latestValues))}n.x<Mv&&n.x>Rv&&(n.x=1),n.y<Mv&&n.y>Rv&&(n.y=1)}function Rs(a,n){a.min=a.min+n,a.max=a.max+n}function Dv(a,n,s,o,l=.5){const u=yt(a.min,a.max,l);zf(a,n,s,u,o)}function Ms(a,n){Dv(a.x,n.x,n.scaleX,n.scale,n.originX),Dv(a.y,n.y,n.scaleY,n.scale,n.originY)}function jb(a,n){return wb(ZR(a.getBoundingClientRect(),n))}function eM(a,n,s){const o=jb(a,s),{scroll:l}=n;return l&&(Rs(o.x,l.offset.x),Rs(o.y,l.offset.y)),o}const kv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ds=()=>({x:kv(),y:kv()}),Nv=()=>({min:0,max:0}),Ht=()=>({x:Nv(),y:Nv()}),Of={current:null},Ab={current:!1};function tM(){if(Ab.current=!0,!!Zf)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),n=()=>Of.current=a.matches;a.addEventListener("change",n),n()}else Of.current=!1}const nM=new WeakMap;function aM(a,n,s){for(const o in n){const l=n[o],u=s[o];if(an(l))a.addValue(o,l);else if(an(u))a.addValue(o,Os(l,{owner:a}));else if(u!==l)if(a.hasValue(o)){const d=a.getValue(o);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=a.getStaticValue(o);a.addValue(o,Os(d!==void 0?d:l,{owner:a}))}}for(const o in s)n[o]===void 0&&a.removeValue(o);return n}const zv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iM{scrapeMotionValuesFromProps(n,s,o){return{}}constructor({parent:n,props:s,presenceContext:o,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=gn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=y,this.parent=n,this.props=s,this.presenceContext=o,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=gc(s),this.isVariantNode=fb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const S in x){const T=x[S];m[S]!==void 0&&an(T)&&T.set(m[S])}}mount(n){this.current=n,nM.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),Ab.current||tM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Of.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ni(this.notifyUpdate),ni(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const o=qs.has(n);o&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[n]=d,this.props.onUpdate&&ft.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Bs){const s=Bs[n];if(!s)continue;const{isEnabled:o,Feature:l}=s;if(!this.features[n]&&l&&o(this.props)&&(this.features[n]=new l(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<zv.length;o++){const l=zv[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=n[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=aM(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const o=this.values.get(n);s!==o&&(o&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let o=this.values.get(n);return o===void 0&&s!==void 0&&(o=Os(s===null?void 0:s,{owner:this}),this.addValue(n,o)),o}readValue(n,s){let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(v0(o)||b0(o))?o=parseFloat(o):!fR(o)&&ai.test(s)&&(o=nb(n,s)),this.setBaseTarget(n,an(o)?o.get():o)),an(o)?o.get():o}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const u=Tp(this.props,s,this.presenceContext?.custom);u&&(o=u[n])}if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,n);return l!==void 0&&!an(l)?l:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new ap),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}scheduleRenderMicrotask(){yp.render(this.render)}}class Eb extends iM{constructor(){super(...arguments),this.KeyframeResolver=eR}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:o}){delete s[n],delete o[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;an(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Rb(a,{style:n,vars:s},o,l){const u=a.style;let d;for(d in n)u[d]=n[d];l?.applyProjectionStyles(u,o);for(d in s)u.setProperty(d,s[d])}function sM(a){return window.getComputedStyle(a)}class oM extends Eb{constructor(){super(...arguments),this.type="html",this.renderInstance=Rb}readValueFromInstance(n,s){if(qs.has(s))return this.projection?.isProjecting?Tf(s):xE(n,s);{const o=sM(n),l=(z0(s)?o.getPropertyValue(s):o[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:s}){return jb(n,s)}build(n,s,o){_p(n,s,o.transformTemplate)}scrapeMotionValuesFromProps(n,s,o){return jp(n,s,o)}}const Mb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rM(a,n,s,o){Rb(a,n,void 0,o);for(const l in n.attrs)a.setAttribute(Mb.has(l)?l:Ap(l),n.attrs[l])}class lM extends Eb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(qs.has(s)){const o=tb(s);return o&&o.default||0}return s=Mb.has(s)?s:Ap(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,o){return xb(n,s,o)}build(n,s,o){mb(n,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(n,s,o,l){rM(n,s,o,l)}mount(n){this.isSVGTag=yb(n.tagName),super.mount(n)}}const cM=(a,n)=>Cp(a)?new lM(n):new oM(n,{allowProjection:a!==C.Fragment});function ks(a,n,s){const o=a.getProps();return Tp(o,n,s!==void 0?s:o.custom,a)}const Uf=a=>Array.isArray(a);function uM(a,n,s){a.hasValue(n)?a.getValue(n).set(s):a.addValue(n,Os(s))}function dM(a){return Uf(a)?a[a.length-1]||0:a}function fM(a,n){const s=ks(a,n);let{transitionEnd:o={},transition:l={},...u}=s||{};u={...u,...o};for(const d in u){const h=dM(u[d]);uM(a,d,h)}}function pM(a){return!!(an(a)&&a.add)}function Bf(a,n){const s=a.getValue("willChange");if(pM(s))return s.add(n);if(!s&&Aa.WillChange){const o=new Aa.WillChange("auto");a.addValue("willChange",o),o.add(n)}}function Db(a){return a.props[bb]}const hM=a=>a!==null;function mM(a,{repeat:n,repeatType:s="loop"},o){const l=a.filter(hM),u=n&&s!=="loop"&&n%2===1?0:l.length-1;return l[u]}const gM={type:"spring",stiffness:500,damping:25,restSpeed:10},yM=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),vM={type:"keyframes",duration:.8},xM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bM=(a,{keyframes:n})=>n.length>2?vM:qs.has(a)?a.startsWith("scale")?yM(n[1]):gM:xM;function SM({when:a,delay:n,delayChildren:s,staggerChildren:o,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:h,from:m,elapsed:y,...v}){return!!Object.keys(v).length}const Ep=(a,n,s,o={},l,u)=>d=>{const h=mp(o,a)||{},m=h.delay||o.delay||0;let{elapsed:y=0}=o;y=y-na(m);const v={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...h,delay:-y,onUpdate:S=>{n.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:a,motionValue:n,element:u?void 0:l};SM(h)||Object.assign(v,bM(a,v)),v.duration&&(v.duration=na(v.duration)),v.repeatDelay&&(v.repeatDelay=na(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Mf(v),v.delay===0&&(x=!0)),(Aa.instantAnimations||Aa.skipAnimations)&&(x=!0,Mf(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,x&&!u&&n.get()!==void 0){const S=mM(v.keyframes,h);if(S!==void 0){ft.update(()=>{v.onUpdate(S),v.onComplete()});return}}return h.isSync?new pp(v):new IE(v)};function _M({protectedKeys:a,needsAnimating:n},s){const o=a.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,o}function kb(a,n,{delay:s=0,transitionOverride:o,type:l}={}){let{transition:u=a.getDefaultTransition(),transitionEnd:d,...h}=n;o&&(u=o);const m=[],y=l&&a.animationState&&a.animationState.getState()[l];for(const v in h){const x=a.getValue(v,a.latestValues[v]??null),S=h[v];if(S===void 0||y&&_M(y,v))continue;const T={delay:s,...mp(u||{},v)},_=x.get();if(_!==void 0&&!x.isAnimating&&!Array.isArray(S)&&S===_&&!T.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const R=Db(a);if(R){const H=window.MotionHandoffAnimation(R,v,ft);H!==null&&(T.startTime=H,E=!0)}}Bf(a,v),x.start(Ep(v,x,S,a.shouldReduceMotion&&Z0.has(v)?{type:!1}:T,a,E));const D=x.animation;D&&m.push(D)}return d&&Promise.all(m).then(()=>{ft.update(()=>{d&&fM(a,d)})}),m}function Nb(a,n,s,o=0,l=1){const u=Array.from(a).sort((y,v)=>y.sortNodePosition(v)).indexOf(n),d=a.size,h=(d-1)*o;return typeof s=="function"?s(u,d):l===1?u*o:h-u*o}function Lf(a,n,s={}){const o=ks(a,n,s.type==="exit"?a.presenceContext?.custom:void 0);let{transition:l=a.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(l=s.transitionOverride);const u=o?()=>Promise.all(kb(a,o,s)):()=>Promise.resolve(),d=a.variantChildren&&a.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:x}=l;return wM(a,n,m,y,v,x,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,y]=h==="beforeChildren"?[u,d]:[d,u];return m().then(()=>y())}else return Promise.all([u(),d(s.delay)])}function wM(a,n,s=0,o=0,l=0,u=1,d){const h=[];for(const m of a.variantChildren)m.notify("AnimationStart",n),h.push(Lf(m,n,{...d,delay:s+(typeof o=="function"?0:o)+Nb(a.variantChildren,m,o,l,u)}).then(()=>m.notify("AnimationComplete",n)));return Promise.all(h)}function CM(a,n,s={}){a.notify("AnimationStart",n);let o;if(Array.isArray(n)){const l=n.map(u=>Lf(a,u,s));o=Promise.all(l)}else if(typeof n=="string")o=Lf(a,n,s);else{const l=typeof n=="function"?ks(a,n,s.custom):n;o=Promise.all(kb(a,l,s))}return o.then(()=>{a.notify("AnimationComplete",n)})}function zb(a,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==a.length)return!1;for(let o=0;o<s;o++)if(n[o]!==a[o])return!1;return!0}const TM=Sp.length;function Ob(a){if(!a)return;if(!a.isControllingVariants){const s=a.parent?Ob(a.parent)||{}:{};return a.props.initial!==void 0&&(s.initial=a.props.initial),s}const n={};for(let s=0;s<TM;s++){const o=Sp[s],l=a.props[o];(ir(l)||l===!1)&&(n[o]=l)}return n}const jM=[...bp].reverse(),AM=bp.length;function EM(a){return n=>Promise.all(n.map(({animation:s,options:o})=>CM(a,s,o)))}function RM(a){let n=EM(a),s=Ov(),o=!0;const l=m=>(y,v)=>{const x=ks(a,v,m==="exit"?a.presenceContext?.custom:void 0);if(x){const{transition:S,transitionEnd:T,..._}=x;y={...y,..._,...T}}return y};function u(m){n=m(a)}function d(m){const{props:y}=a,v=Ob(a.parent)||{},x=[],S=new Set;let T={},_=1/0;for(let D=0;D<AM;D++){const R=jM[D],H=s[R],z=y[R]!==void 0?y[R]:v[R],$=ir(z),V=R===m?H.isActive:null;V===!1&&(_=D);let Q=z===v[R]&&z!==y[R]&&$;if(Q&&o&&a.manuallyAnimateOnMount&&(Q=!1),H.protectedKeys={...T},!H.isActive&&V===null||!z&&!H.prevProp||mc(z)||typeof z=="boolean")continue;const Z=MM(H.prevProp,z);let ne=Z||R===m&&H.isActive&&!Q&&$||D>_&&$,ve=!1;const ue=Array.isArray(z)?z:[z];let De=ue.reduce(l(R),{});V===!1&&(De={});const{prevResolvedValues:He={}}=H,Ue={...He,...De},je=Y=>{ne=!0,S.has(Y)&&(ve=!0,S.delete(Y)),H.needsAnimating[Y]=!0;const ee=a.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in Ue){const ee=De[Y],oe=He[Y];if(T.hasOwnProperty(Y))continue;let we=!1;Uf(ee)&&Uf(oe)?we=!zb(ee,oe):we=ee!==oe,we?ee!=null?je(Y):S.add(Y):ee!==void 0&&S.has(Y)?je(Y):H.protectedKeys[Y]=!0}H.prevProp=z,H.prevResolvedValues=De,H.isActive&&(T={...T,...De}),o&&a.blockInitialAnimation&&(ne=!1);const Re=Q&&Z;ne&&(!Re||ve)&&x.push(...ue.map(Y=>{const ee={type:R};if(typeof Y=="string"&&o&&!Re&&a.manuallyAnimateOnMount&&a.parent){const{parent:oe}=a,we=ks(oe,Y);if(oe.enteringChildren&&we){const{delayChildren:Se}=we.transition||{};ee.delay=Nb(oe.enteringChildren,a,Se)}}return{animation:Y,options:ee}}))}if(S.size){const D={};if(typeof y.initial!="boolean"){const R=ks(a,Array.isArray(y.initial)?y.initial[0]:y.initial);R&&R.transition&&(D.transition=R.transition)}S.forEach(R=>{const H=a.getBaseTarget(R),z=a.getValue(R);z&&(z.liveStyle=!0),D[R]=H??null}),x.push({animation:D})}let E=!!x.length;return o&&(y.initial===!1||y.initial===y.animate)&&!a.manuallyAnimateOnMount&&(E=!1),o=!1,E?n(x):Promise.resolve()}function h(m,y){if(s[m].isActive===y)return Promise.resolve();a.variantChildren?.forEach(x=>x.animationState?.setActive(m,y)),s[m].isActive=y;const v=d(m);for(const x in s)s[x].protectedKeys={};return v}return{animateChanges:d,setActive:h,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Ov()}}}function MM(a,n){return typeof n=="string"?n!==a:Array.isArray(n)?!zb(n,a):!1}function ji(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ov(){return{animate:ji(!0),whileInView:ji(),whileHover:ji(),whileTap:ji(),whileDrag:ji(),whileFocus:ji(),exit:ji()}}class ii{constructor(n){this.isMounted=!1,this.node=n}update(){}}class DM extends ii{constructor(n){super(n),n.animationState||(n.animationState=RM(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();mc(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kM=0;class NM extends ii{constructor(){super(...arguments),this.id=kM++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===o)return;const l=this.node.animationState.setActive("exit",!n);s&&!n&&l.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const zM={animation:{Feature:DM},exit:{Feature:NM}};function sr(a,n,s,o={passive:!0}){return a.addEventListener(n,s,o),()=>a.removeEventListener(n,s)}function yr(a){return{point:{x:a.pageX,y:a.pageY}}}const OM=a=>n=>vp(n)&&a(n,yr(n));function Wo(a,n,s,o){return sr(a,n,OM(s),o)}const Ub=1e-4,UM=1-Ub,BM=1+Ub,Bb=.01,LM=0-Bb,VM=0+Bb;function on(a){return a.max-a.min}function PM(a,n,s){return Math.abs(a-n)<=s}function Uv(a,n,s,o=.5){a.origin=o,a.originPoint=yt(n.min,n.max,a.origin),a.scale=on(s)/on(n),a.translate=yt(s.min,s.max,a.origin)-a.originPoint,(a.scale>=UM&&a.scale<=BM||isNaN(a.scale))&&(a.scale=1),(a.translate>=LM&&a.translate<=VM||isNaN(a.translate))&&(a.translate=0)}function Zo(a,n,s,o){Uv(a.x,n.x,s.x,o?o.originX:void 0),Uv(a.y,n.y,s.y,o?o.originY:void 0)}function Bv(a,n,s){a.min=s.min+n.min,a.max=a.min+on(n)}function HM(a,n,s){Bv(a.x,n.x,s.x),Bv(a.y,n.y,s.y)}function Lv(a,n,s){a.min=n.min-s.min,a.max=a.min+on(n)}function nc(a,n,s){Lv(a.x,n.x,s.x),Lv(a.y,n.y,s.y)}function Ln(a){return[a("x"),a("y")]}const Lb=({current:a})=>a?a.ownerDocument.defaultView:null,Vv=(a,n)=>Math.abs(a-n);function IM(a,n){const s=Vv(a.x,n.x),o=Vv(a.y,n.y);return Math.sqrt(s**2+o**2)}class Vb{constructor(n,s,{transformPagePoint:o,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=$d(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,_=IM(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!_)return;const{point:E}=S,{timestamp:D}=en;this.history.push({...E,timestamp:D});const{onStart:R,onMove:H}=this.handlers;T||(R&&R(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Yd(T,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=$d(S.type==="pointercancel"?this.lastMoveEventInfo:Yd(T,this.transformPagePoint),this.history);this.startEvent&&_&&_(S,R),E&&E(S,R)},!vp(n))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=d,this.contextWindow=l||window;const h=yr(n),m=Yd(h,this.transformPagePoint),{point:y}=m,{timestamp:v}=en;this.history=[{...y,timestamp:v}];const{onSessionStart:x}=s;x&&x(n,$d(m,this.history)),this.removeListeners=hr(Wo(this.contextWindow,"pointermove",this.handlePointerMove),Wo(this.contextWindow,"pointerup",this.handlePointerUp),Wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),ni(this.updatePoint)}}function Yd(a,n){return n?{point:n(a.point)}:a}function Pv(a,n){return{x:a.x-n.x,y:a.y-n.y}}function $d({point:a},n){return{point:a,delta:Pv(a,Pb(n)),offset:Pv(a,FM(n)),velocity:qM(n,.1)}}function FM(a){return a[0]}function Pb(a){return a[a.length-1]}function qM(a,n){if(a.length<2)return{x:0,y:0};let s=a.length-1,o=null;const l=Pb(a);for(;s>=0&&(o=a[s],!(l.timestamp-o.timestamp>na(n)));)s--;if(!o)return{x:0,y:0};const u=Vn(l.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-o.x)/u,y:(l.y-o.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function GM(a,{min:n,max:s},o){return n!==void 0&&a<n?a=o?yt(n,a,o.min):Math.max(a,n):s!==void 0&&a>s&&(a=o?yt(s,a,o.max):Math.min(a,s)),a}function Hv(a,n,s){return{min:n!==void 0?a.min+n:void 0,max:s!==void 0?a.max+s-(a.max-a.min):void 0}}function YM(a,{top:n,left:s,bottom:o,right:l}){return{x:Hv(a.x,s,l),y:Hv(a.y,n,o)}}function Iv(a,n){let s=n.min-a.min,o=n.max-a.max;return n.max-n.min<a.max-a.min&&([s,o]=[o,s]),{min:s,max:o}}function $M(a,n){return{x:Iv(a.x,n.x),y:Iv(a.y,n.y)}}function XM(a,n){let s=.5;const o=on(a),l=on(n);return l>o?s=tr(n.min,n.max-o,a.min):o>l&&(s=tr(a.min,a.max-l,n.min)),ja(0,1,s)}function KM(a,n){const s={};return n.min!==void 0&&(s.min=n.min-a.min),n.max!==void 0&&(s.max=n.max-a.min),s}const Vf=.35;function QM(a=Vf){return a===!1?a=0:a===!0&&(a=Vf),{x:Fv(a,"left","right"),y:Fv(a,"top","bottom")}}function Fv(a,n,s){return{min:qv(a,n),max:qv(a,s)}}function qv(a,n){return typeof a=="number"?a:a[n]||0}const WM=new WeakMap;class ZM{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=x=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(yr(x).point)},d=(x,S)=>{const{drag:T,dragPropagation:_,onDragStart:E}=this.getProps();if(T&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iR(T),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ln(R=>{let H=this.getAxisMotionValue(R).get()||0;if(aa.test(H)){const{projection:z}=this.visualElement;if(z&&z.layout){const $=z.layout.layoutBox[R];$&&(H=on($)*(parseFloat(H)/100))}}this.originPoint[R]=H}),E&&ft.postRender(()=>E(x,S)),Bf(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S;const{dragPropagation:T,dragDirectionLock:_,onDirectionLock:E,onDrag:D}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:R}=S;if(_&&this.currentDirection===null){this.currentDirection=JM(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",S.point,R),this.updateAxis("y",S.point,R),this.visualElement.render(),D&&D(x,S)},m=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S,this.stop(x,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>Ln(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Vb(n,{onSessionStart:u,onStart:d,onMove:h,onSessionEnd:m,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:o,contextWindow:Lb(this.visualElement)})}stop(n,s){const o=n||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!o)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&ft.postRender(()=>h(o,l))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,o){const{drag:l}=this.getProps();if(!o||!Ol(n,l,this.currentDirection))return;const u=this.getAxisMotionValue(n);let d=this.originPoint[n]+o[n];this.constraints&&this.constraints[n]&&(d=GM(d,this.constraints[n],this.elastic[n])),u.set(d)}resolveConstraints(){const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;n&&Es(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=YM(o.layoutBox,n):this.constraints=!1,this.elastic=QM(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Ln(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=KM(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!Es(n))return!1;const o=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=eM(o,l.root,this.visualElement.getTransformPagePoint());let d=$M(l.layout.layoutBox,u);if(s){const h=s(WR(d));this.hasMutatedConstraints=!!h,h&&(d=wb(h))}return d}startAnimation(n){const{drag:s,dragMomentum:o,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},y=Ln(v=>{if(!Ol(v,s,this.currentDirection))return;let x=m&&m[v]||{};d&&(x={min:0,max:0});const S=l?200:1e6,T=l?40:1e7,_={type:"inertia",velocity:o?n[v]:0,bounceStiffness:S,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(v,_)});return Promise.all(y).then(h)}startAxisValueAnimation(n,s){const o=this.getAxisMotionValue(n);return Bf(this.visualElement,n),o.start(Ep(n,o,0,s,this.visualElement,!1))}stopAnimation(){Ln(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Ln(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,o=this.visualElement.getProps(),l=o[s];return l||this.visualElement.getValue(n,(o.initial?o.initial[n]:void 0)||0)}snapToCursor(n){Ln(s=>{const{drag:o}=this.getProps();if(!Ol(s,o,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:h}=l.layout.layoutBox[s];u.set(n[s]-yt(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!Es(s)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Ln(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const m=h.get();l[d]=XM({min:m,max:m},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Ln(d=>{if(!Ol(d,n,null))return;const h=this.getAxisMotionValue(d),{min:m,max:y}=this.constraints[d];h.set(yt(m,y,l[d]))})}addListeners(){if(!this.visualElement.current)return;WM.set(this.visualElement,this);const n=this.visualElement.current,s=Wo(n,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Es(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ft.read(o);const d=sr(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Ln(v=>{const x=this.getAxisMotionValue(v);x&&(this.originPoint[v]+=m[v].translate,x.set(x.get()+m[v].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),h&&h()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Vf,dragMomentum:h=!0}=n;return{...n,drag:s,dragDirectionLock:o,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:h}}}function Ol(a,n,s){return(n===!0||n===a)&&(s===null||s===a)}function JM(a,n=10){let s=null;return Math.abs(a.y)>n?s="y":Math.abs(a.x)>n&&(s="x"),s}class eD extends ii{constructor(n){super(n),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new ZM(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gv=a=>(n,s)=>{a&&ft.postRender(()=>a(n,s))};class tD extends ii{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(n){this.session=new Vb(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lb(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:Gv(n),onStart:Gv(s),onMove:o,onEnd:(u,d)=>{delete this.session,l&&ft.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=Wo(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Xd=!1;class nD extends C.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o,layoutId:l}=this.props,{projection:u}=n;u&&(s.group&&s.group.add(u),o&&o.register&&l&&o.register(u),Xd&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Gl.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:o,drag:l,isPresent:u}=this.props,{projection:d}=o;return d&&(d.isPresent=u,Xd=!0,l||n.layoutDependency!==s||s===void 0||n.isPresent!==u?d.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?d.promote():d.relegate()||ft.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),yp.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:l}=n;Xd=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function Hb(a){const[n,s]=cb(),o=C.useContext(Qf);return p.jsx(nD,{...a,layoutGroup:o,switchLayoutGroup:C.useContext(Sb),isPresent:n,safeToRemove:s})}function aD(a,n,s){const o=an(a)?a:Os(a);return o.start(Ep("",o,n,s)),o.animation}const iD=(a,n)=>a.depth-n.depth;class sD{constructor(){this.children=[],this.isDirty=!1}add(n){Jf(this.children,n),this.isDirty=!0}remove(n){ep(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(iD),this.isDirty=!1,this.children.forEach(n)}}function oD(a,n){const s=gn.now(),o=({timestamp:l})=>{const u=l-s;u>=n&&(ni(o),a(u-n))};return ft.setup(o,!0),()=>ni(o)}const Ib=["TopLeft","TopRight","BottomLeft","BottomRight"],rD=Ib.length,Yv=a=>typeof a=="string"?parseFloat(a):a,$v=a=>typeof a=="number"||ye.test(a);function lD(a,n,s,o,l,u){l?(a.opacity=yt(0,s.opacity??1,cD(o)),a.opacityExit=yt(n.opacity??1,0,uD(o))):u&&(a.opacity=yt(n.opacity??1,s.opacity??1,o));for(let d=0;d<rD;d++){const h=`border${Ib[d]}Radius`;let m=Xv(n,h),y=Xv(s,h);if(m===void 0&&y===void 0)continue;m||(m=0),y||(y=0),m===0||y===0||$v(m)===$v(y)?(a[h]=Math.max(yt(Yv(m),Yv(y),o),0),(aa.test(y)||aa.test(m))&&(a[h]+="%")):a[h]=y}(n.rotate||s.rotate)&&(a.rotate=yt(n.rotate||0,s.rotate||0,o))}function Xv(a,n){return a[n]!==void 0?a[n]:a.borderRadius}const cD=Fb(0,.5,E0),uD=Fb(.5,.95,Pn);function Fb(a,n,s){return o=>o<a?0:o>n?1:s(tr(a,n,o))}function Kv(a,n){a.min=n.min,a.max=n.max}function Yn(a,n){Kv(a.x,n.x),Kv(a.y,n.y)}function Qv(a,n){a.translate=n.translate,a.scale=n.scale,a.originPoint=n.originPoint,a.origin=n.origin}function Wv(a,n,s,o,l){return a-=n,a=tc(a,1/s,o),l!==void 0&&(a=tc(a,1/l,o)),a}function dD(a,n=0,s=1,o=.5,l,u=a,d=a){if(aa.test(n)&&(n=parseFloat(n),n=yt(d.min,d.max,n/100)-d.min),typeof n!="number")return;let h=yt(u.min,u.max,o);a===u&&(h-=n),a.min=Wv(a.min,n,s,h,l),a.max=Wv(a.max,n,s,h,l)}function Zv(a,n,[s,o,l],u,d){dD(a,n[s],n[o],n[l],n.scale,u,d)}const fD=["x","scaleX","originX"],pD=["y","scaleY","originY"];function Jv(a,n,s,o){Zv(a.x,n,fD,s?s.x:void 0,o?o.x:void 0),Zv(a.y,n,pD,s?s.y:void 0,o?o.y:void 0)}function ex(a){return a.translate===0&&a.scale===1}function qb(a){return ex(a.x)&&ex(a.y)}function tx(a,n){return a.min===n.min&&a.max===n.max}function hD(a,n){return tx(a.x,n.x)&&tx(a.y,n.y)}function nx(a,n){return Math.round(a.min)===Math.round(n.min)&&Math.round(a.max)===Math.round(n.max)}function Gb(a,n){return nx(a.x,n.x)&&nx(a.y,n.y)}function ax(a){return on(a.x)/on(a.y)}function ix(a,n){return a.translate===n.translate&&a.scale===n.scale&&a.originPoint===n.originPoint}class mD{constructor(){this.members=[]}add(n){Jf(this.members,n),n.scheduleRender()}remove(n){if(ep(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(l=>n===l);if(s===0)return!1;let o;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(n,s){const o=this.lead;if(n!==o&&(this.prevLead=o,this.lead=n,n.show(),o)){o.instance&&o.scheduleRender(),n.scheduleRender(),n.resumeFrom=o,s&&(n.resumeFrom.preserveOpacity=!0),o.snapshot&&(n.snapshot=o.snapshot,n.snapshot.latestValues=o.animationValues||o.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:o}=n;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gD(a,n,s){let o="";const l=a.x.translate/n.x,u=a.y.translate/n.y,d=s?.z||0;if((l||u||d)&&(o=`translate3d(${l}px, ${u}px, ${d}px) `),(n.x!==1||n.y!==1)&&(o+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:y,rotate:v,rotateX:x,rotateY:S,skewX:T,skewY:_}=s;y&&(o=`perspective(${y}px) ${o}`),v&&(o+=`rotate(${v}deg) `),x&&(o+=`rotateX(${x}deg) `),S&&(o+=`rotateY(${S}deg) `),T&&(o+=`skewX(${T}deg) `),_&&(o+=`skewY(${_}deg) `)}const h=a.x.scale*n.x,m=a.y.scale*n.y;return(h!==1||m!==1)&&(o+=`scale(${h}, ${m})`),o||"none"}const Kd=["","X","Y","Z"],yD=1e3;let vD=0;function Qd(a,n,s,o){const{latestValues:l}=n;l[a]&&(s[a]=l[a],n.setStaticValue(a,0),o&&(o[a]=0))}function Yb(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:n}=a.options;if(!n)return;const s=Db(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=a.options;window.MotionCancelOptimisedAnimation(s,"transform",ft,!(l||u))}const{parent:o}=a;o&&!o.hasCheckedOptimisedAppear&&Yb(o)}function $b({attachResizeListener:a,defaultParent:n,measureScroll:s,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(d={},h=n?.()){this.id=vD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SD),this.nodes.forEach(TD),this.nodes.forEach(jD),this.nodes.forEach(_D)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new sD)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new ap),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const m=this.eventHandlers.get(d);m&&m.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=lb(d)&&!uR(d),this.instance=d;const{layoutId:h,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),a){let v,x=0;const S=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{x=window.innerWidth}),a(d,()=>{const T=window.innerWidth;T!==x&&(x=T,this.root.updateBlockedByResize=!0,v&&v(),v=oD(S,250),Gl.hasAnimatedSinceResize&&(Gl.hasAnimatedSinceResize=!1,this.nodes.forEach(rx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||y.getDefaultTransition()||DD,{onLayoutAnimationStart:E,onLayoutAnimationComplete:D}=y.getProps(),R=!this.targetLayout||!Gb(this.targetLayout,T),H=!x&&S;if(this.options.layoutRoot||this.resumeFrom||H||x&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...mp(_,"layout"),onPlay:E,onComplete:D};(y.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(v,H)}else x||rx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AD),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ox);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CD),this.nodes.forEach(xD),this.nodes.forEach(bD)):this.nodes.forEach(ox),this.clearAllSnapshots();const h=gn.now();en.delta=ja(0,1e3/60,h-en.timestamp),en.timestamp=h,en.isProcessing=!0,Ld.update.process(en),Ld.preRender.process(en),Ld.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wD),this.sharedNodes.forEach(ED)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const m=o(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!qb(this.projectionDelta),m=this.getTransformTemplate(),y=m?m(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;d&&this.instance&&(h||Ai(this.latestValues)||v)&&(l(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return d&&(m=this.removeTransform(m)),kD(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return Ht();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ND))){const{scroll:y}=this.root;y&&(Rs(h.x,y.offset.x),Rs(h.y,y.offset.y))}return h}removeElementScroll(d){const h=Ht();if(Yn(h,d),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:v,options:x}=y;y!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Yn(h,d),Rs(h.x,v.offset.x),Rs(h.y,v.offset.y))}return h}applyTransform(d,h=!1){const m=Ht();Yn(m,d);for(let y=0;y<this.path.length;y++){const v=this.path[y];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ms(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ai(v.latestValues)&&Ms(m,v.latestValues)}return Ai(this.latestValues)&&Ms(m,this.latestValues),m}removeTransform(d){const h=Ht();Yn(h,d);for(let m=0;m<this.path.length;m++){const y=this.path[m];if(!y.instance||!Ai(y.latestValues))continue;Nf(y.latestValues)&&y.updateSnapshot();const v=Ht(),x=y.measurePageBox();Yn(v,x),Jv(h,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return Ai(this.latestValues)&&Jv(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=en.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),Tb(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Nf(this.parent.latestValues)||Cb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,h,m){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),nc(this.relativeTargetOrigin,h,m),Yn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Yn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;JR(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Ht());const{target:T}=d;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qv(this.prevProjectionDelta.x,this.projectionDelta.x),Qv(this.prevProjectionDelta.y,this.projectionDelta.y)),Zo(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!ix(this.projectionDelta.x,this.prevProjectionDelta.x)||!ix(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ds(),this.projectionDelta=Ds(),this.projectionDeltaWithTransform=Ds()}setAnimationOrigin(d,h=!1){const m=this.snapshot,y=m?m.latestValues:{},v={...this.latestValues},x=Ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=Ht(),T=m?m.source:void 0,_=this.layout?this.layout.source:void 0,E=T!==_,D=this.getStack(),R=!D||D.members.length<=1,H=!!(E&&!R&&this.options.crossfade===!0&&!this.path.some(MD));this.animationProgress=0;let z;this.mixTargetDelta=$=>{const V=$/1e3;lx(x.x,d.x,V),lx(x.y,d.y,V),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nc(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RD(this.relativeTarget,this.relativeTargetOrigin,S,V),z&&hD(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Ht()),Yn(z,this.relativeTarget)),E&&(this.animationValues=v,lD(v,y,this.latestValues,V,H,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Gl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=aD(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:m,layout:y,latestValues:v}=d;if(!(!h||!m||!y)){if(this!==d&&this.layout&&y&&Xb(this.options.animationType,this.layout.layoutBox,y.layoutBox)){m=this.target||Ht();const x=on(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+x;const S=on(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+S}Yn(h,m),Ms(h,v),Zo(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new mD),this.sharedNodes.get(d).add(h);const y=h.options.initialPromotionConfig;h.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:m}={}){const y=this.getStack();y&&y.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const y={};m.z&&Qd("z",d,y,this.animationValues);for(let v=0;v<Kd.length;v++)Qd(`rotate${Kd[v]}`,d,y,this.animationValues),Qd(`skew${Kd[v]}`,d,y,this.animationValues);d.render();for(const v in y)d.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=ql(h?.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=ql(h?.pointerEvents)||""),this.hasProjected&&!Ai(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let x=gD(this.projectionDeltaWithTransform,this.treeScale,v);m&&(x=m(v,x)),d.transform=x;const{x:S,y:T}=this.projectionDelta;d.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,y.animationValues?d.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const _ in kf){if(v[_]===void 0)continue;const{correct:E,applyTo:D,isCSSVariable:R}=kf[_],H=x==="none"?v[_]:E(v[_],y);if(D){const z=D.length;for(let $=0;$<z;$++)d[D[$]]=H}else R?this.options.visualElement.renderState.vars[_]=H:d[_]=H}this.options.layoutId&&(d.pointerEvents=y===this?ql(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(sx),this.root.sharedNodes.clear()}}}function xD(a){a.updateLayout()}function bD(a){const n=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&n&&a.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=a.layout,{animationType:l}=a.options,u=n.source!==a.layout.source;l==="size"?Ln(v=>{const x=u?n.measuredBox[v]:n.layoutBox[v],S=on(x);x.min=s[v].min,x.max=x.min+S}):Xb(l,n.layoutBox,s)&&Ln(v=>{const x=u?n.measuredBox[v]:n.layoutBox[v],S=on(s[v]);x.max=x.min+S,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[v].max=a.relativeTarget[v].min+S)});const d=Ds();Zo(d,s,n.layoutBox);const h=Ds();u?Zo(h,a.applyTransform(o,!0),n.measuredBox):Zo(h,s,n.layoutBox);const m=!qb(d);let y=!1;if(!a.resumeFrom){const v=a.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:S}=v;if(x&&S){const T=Ht();nc(T,n.layoutBox,x.layoutBox);const _=Ht();nc(_,s,S.layoutBox),Gb(T,_)||(y=!0),v.options.layoutRoot&&(a.relativeTarget=_,a.relativeTargetOrigin=T,a.relativeParent=v)}}}a.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(a.isLead()){const{onExitComplete:s}=a.options;s&&s()}a.options.transition=void 0}function SD(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function _D(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function wD(a){a.clearSnapshot()}function sx(a){a.clearMeasurements()}function ox(a){a.isLayoutDirty=!1}function CD(a){const{visualElement:n}=a.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),a.resetTransform()}function rx(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function TD(a){a.resolveTargetDelta()}function jD(a){a.calcProjection()}function AD(a){a.resetSkewAndRotation()}function ED(a){a.removeLeadSnapshot()}function lx(a,n,s){a.translate=yt(n.translate,0,s),a.scale=yt(n.scale,1,s),a.origin=n.origin,a.originPoint=n.originPoint}function cx(a,n,s,o){a.min=yt(n.min,s.min,o),a.max=yt(n.max,s.max,o)}function RD(a,n,s,o){cx(a.x,n.x,s.x,o),cx(a.y,n.y,s.y,o)}function MD(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const DD={duration:.45,ease:[.4,0,.1,1]},ux=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),dx=ux("applewebkit/")&&!ux("chrome/")?Math.round:Pn;function fx(a){a.min=dx(a.min),a.max=dx(a.max)}function kD(a){fx(a.x),fx(a.y)}function Xb(a,n,s){return a==="position"||a==="preserve-aspect"&&!PM(ax(n),ax(s),.2)}function ND(a){return a!==a.root&&a.scroll?.wasRoot}const zD=$b({attachResizeListener:(a,n)=>sr(a,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wd={current:void 0},Kb=$b({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Wd.current){const a=new zD({});a.mount(window),a.setOptions({layoutScroll:!0}),Wd.current=a}return Wd.current},resetTransform:(a,n)=>{a.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),OD={pan:{Feature:tD},drag:{Feature:eD,ProjectionNode:Kb,MeasureLayout:Hb}};function px(a,n,s){const{props:o}=a;a.animationState&&o.whileHover&&a.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=o[l];u&&ft.postRender(()=>u(n,yr(n)))}class UD extends ii{mount(){const{current:n}=this.node;n&&(this.unmount=sR(n,(s,o)=>(px(this.node,o,"Start"),l=>px(this.node,l,"End"))))}unmount(){}}class BD extends ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hr(sr(this.node.current,"focus",()=>this.onFocus()),sr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hx(a,n,s){const{props:o}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&o.whileTap&&a.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=o[l];u&&ft.postRender(()=>u(n,yr(n)))}class LD extends ii{mount(){const{current:n}=this.node;n&&(this.unmount=cR(n,(s,o)=>(hx(this.node,o,"Start"),(l,{success:u})=>hx(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pf=new WeakMap,Zd=new WeakMap,VD=a=>{const n=Pf.get(a.target);n&&n(a)},PD=a=>{a.forEach(VD)};function HD({root:a,...n}){const s=a||document;Zd.has(s)||Zd.set(s,{});const o=Zd.get(s),l=JSON.stringify(n);return o[l]||(o[l]=new IntersectionObserver(PD,{root:a,...n})),o[l]}function ID(a,n,s){const o=HD(n);return Pf.set(a,s),o.observe(a),()=>{Pf.delete(a),o.unobserve(a)}}const FD={some:0,all:1};class qD extends ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:o,amount:l="some",once:u}=n,d={root:s?s.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:FD[l]},h=m=>{const{isIntersecting:y}=m;if(this.isInView===y||(this.isInView=y,u&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),S=y?v:x;S&&S(m)};return ID(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(GD(n,s))&&this.startObserver()}unmount(){}}function GD({viewport:a={}},{viewport:n={}}={}){return s=>a[s]!==n[s]}const YD={inView:{Feature:qD},tap:{Feature:LD},focus:{Feature:BD},hover:{Feature:UD}},$D={layout:{ProjectionNode:Kb,MeasureLayout:Hb}},XD={...zM,...YD,...OD,...$D},Ne=QR(XD,cM),KD=({isOpen:a,title:n,message:s,confirmText:o="Confirm",cancelText:l="Cancel",variant:u="danger",onConfirm:d,onCancel:h})=>{const y=(()=>{switch(u){case"danger":return{iconBg:"linear-gradient(135deg, #ef4444, #dc2626)",iconShadow:"0 4px 16px rgba(239, 68, 68, 0.4)",confirmBg:"linear-gradient(135deg, #ef4444, #dc2626)",confirmShadow:"0 4px 16px rgba(239, 68, 68, 0.4)",confirmHoverShadow:"0 6px 24px rgba(239, 68, 68, 0.5)"};case"warning":return{iconBg:"linear-gradient(135deg, #f59e0b, #d97706)",iconShadow:"0 4px 16px rgba(245, 158, 11, 0.4)",confirmBg:"linear-gradient(135deg, #f59e0b, #d97706)",confirmShadow:"0 4px 16px rgba(245, 158, 11, 0.4)",confirmHoverShadow:"0 6px 24px rgba(245, 158, 11, 0.5)"};case"info":return{iconBg:"linear-gradient(135deg, #667eea, #764ba2)",iconShadow:"0 4px 16px rgba(102, 126, 234, 0.4)",confirmBg:"linear-gradient(135deg, #667eea, #764ba2)",confirmShadow:"0 4px 16px rgba(102, 126, 234, 0.4)",confirmHoverShadow:"0 6px 24px rgba(102, 126, 234, 0.5)"}}})();return p.jsx(Us,{children:a&&p.jsxs(p.Fragment,{children:[p.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:h,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",zIndex:1e4}}),p.jsxs(Ne.div,{initial:{opacity:0,scale:.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{type:"spring",stiffness:400,damping:30},style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"420px",background:"linear-gradient(145deg, rgba(30, 41, 59, 0.98), rgba(15, 23, 42, 0.95))",border:"2px solid rgba(99, 102, 241, 0.3)",borderRadius:"20px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.4), 0 0 30px rgba(99, 102, 241, 0.2)",zIndex:10001,overflow:"hidden"},children:[p.jsxs("div",{style:{padding:"20px 24px",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",borderBottom:"1px solid rgba(99, 102, 241, 0.2)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",background:y.iconBg,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:y.iconShadow},children:p.jsx(k_,{size:22,color:"white"})}),p.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#f1f5f9"},children:n})]}),p.jsx(Ne.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.95},onClick:h,style:{width:"32px",height:"32px",borderRadius:"10px",border:"1px solid rgba(99, 102, 241, 0.3)",background:"rgba(99, 102, 241, 0.1)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8"},children:p.jsx(Bi,{size:18})})]}),p.jsx("div",{style:{padding:"24px"},children:p.jsx("p",{style:{margin:0,fontSize:"15px",lineHeight:1.6,color:"#94a3b8"},children:s})}),p.jsxs("div",{style:{padding:"16px 24px 24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[p.jsx(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,style:{padding:"12px 24px",borderRadius:"12px",border:"1px solid rgba(99, 102, 241, 0.3)",background:"rgba(99, 102, 241, 0.1)",color:"#94a3b8",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"},children:l}),p.jsx(Ne.button,{whileHover:{scale:1.02,boxShadow:y.confirmHoverShadow},whileTap:{scale:.98},onClick:d,style:{padding:"12px 24px",borderRadius:"12px",border:"none",background:y.confirmBg,color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",boxShadow:y.confirmShadow,transition:"all 0.2s ease"},children:o})]})]})]})})};let Io=null;const Yl={init:a=>{Io=a},show:a=>new Promise(n=>{Io?Io({isOpen:!0,title:a.title,message:a.message,confirmText:a.confirmText||"Confirm",cancelText:a.cancelText||"Cancel",variant:a.variant||"danger",callback:n}):n(window.confirm(a.message))}),close:a=>{Io&&Io(n=>(n.callback&&n.callback(a),{...n,isOpen:!1,callback:null}))}},Ta=Yl.show,QD=()=>{const[a,n]=ti.useState({isOpen:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"danger",callback:null});return ti.useEffect(()=>{Yl.init(n)},[]),p.jsx(KD,{isOpen:a.isOpen,title:a.title,message:a.message,confirmText:a.confirmText,cancelText:a.cancelText,variant:a.variant,onConfirm:()=>Yl.close(!0),onCancel:()=>Yl.close(!1)})},WD=a=>{if(!a||a==="undefined"||a==="null")return"?";const n=String(a).trim();if(!n||n.length===0)return"?";const s=n.split(/\s+/).filter(o=>o.length>0);return s.length===0?"?":s.length===1?s[0][0]?.toUpperCase()||"?":s.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},ZD=({isOpen:a,onClose:n,isDarkMode:s=!1})=>{const[o,l]=C.useState([]),[u,d]=C.useState(!1),[h,m]=C.useState(""),[y,v]=C.useState(null);C.useEffect(()=>{a&&x()},[a]);const x=async()=>{d(!0),v(null);try{const _=await er.getAllUsers();l(_)}catch(_){console.error("Failed to load users:",_),_.response?.status===403?v("Access denied. You need admin privileges to view this panel."):v("Failed to load users. Please try again.")}finally{d(!1)}},S=async(_,E)=>{if(await Ta({title:"Delete User",message:`Are you sure you want to delete user "${E}"? This action cannot be undone and all their data will be permanently deleted.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"}))try{await er.deleteUser(_),await x(),ke.success(`User "${E}" has been deleted successfully.`)}catch(R){console.error("Failed to delete user:",R),R.response?.status===403?ke.error("Access denied. You need admin privileges to delete users."):ke.error("Failed to delete user. Please try again.")}},T=o.filter(_=>_.username.toLowerCase().includes(h.toLowerCase())||_.email.toLowerCase().includes(h.toLowerCase()));return a?p.jsx("div",{className:`${A.modalOverlay} ${s?A.darkMode:""}`,onClick:n,children:p.jsxs("div",{className:A.modal,onClick:_=>_.stopPropagation(),style:{maxWidth:"900px",width:"90%"},children:[p.jsxs("div",{className:A.modalHeader,children:[p.jsx("h2",{children:" Admin Panel - User Management"}),p.jsx("button",{className:A.closeButton,onClick:n,children:""})]}),p.jsxs("div",{className:A.modalBody,style:{maxHeight:"70vh",overflowY:"auto"},children:[y&&p.jsx("div",{style:{padding:"12px",backgroundColor:"rgba(211, 47, 47, 0.1)",border:"1px solid rgba(211, 47, 47, 0.3)",borderRadius:"6px",color:"#d32f2f",marginBottom:"16px"},children:y}),p.jsx("div",{className:A.formGroup,style:{marginBottom:"16px"},children:p.jsx("input",{type:"text",placeholder:"Search users by username or email...",value:h,onChange:_=>m(_.target.value),className:A.formInput,style:{margin:0}})}),u?p.jsx("div",{className:A.loadingState,children:"Loading users..."}):T.length===0?p.jsx("div",{className:A.emptyState,children:h?"No users match your search":"No users found"}):p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[p.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"6px",fontWeight:600,fontSize:"14px",color:"var(--text)"},children:["Total Users: ",T.length]}),p.jsx("div",{style:{overflowX:"auto"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"var(--surface)",borderRadius:"8px",overflow:"hidden"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"var(--background)",borderBottom:"2px solid var(--border)"},children:[p.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"User"}),p.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Email"}),p.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Status"}),p.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"var(--text)"},children:"Actions"})]})}),p.jsx("tbody",{children:T.map(_=>p.jsxs("tr",{style:{borderBottom:"1px solid var(--border)",transition:"background-color 0.2s"},onMouseEnter:E=>{E.currentTarget.style.backgroundColor="var(--background)"},onMouseLeave:E=>{E.currentTarget.style.backgroundColor="transparent"},children:[p.jsx("td",{style:{padding:"12px"},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[_.avatar?p.jsx("img",{src:_.avatar,alt:_.username,style:{width:"36px",height:"36px",borderRadius:"50%",objectFit:"cover"}}):p.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:"14px"},children:WD(_.username)}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)"},children:_.username}),_.bio&&p.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.bio})]})]})}),p.jsx("td",{style:{padding:"12px",fontSize:"13px",color:"var(--text-secondary)"},children:_.email}),p.jsx("td",{style:{padding:"12px"},children:p.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:600,backgroundColor:_.onlineStatus==="online"?"rgba(16, 185, 129, 0.15)":_.onlineStatus==="away"?"rgba(245, 158, 11, 0.15)":"rgba(107, 114, 128, 0.15)",color:_.onlineStatus==="online"?"#10b981":_.onlineStatus==="away"?"#f59e0b":"#6b7280"},children:_.onlineStatus})}),p.jsx("td",{style:{padding:"12px",textAlign:"center"},children:p.jsx("button",{onClick:()=>S(_.id,_.username),style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s"},onMouseEnter:E=>{E.currentTarget.style.opacity="0.9",E.currentTarget.style.transform="scale(1.05)"},onMouseLeave:E=>{E.currentTarget.style.opacity="1",E.currentTarget.style.transform="scale(1)"},children:" Delete"})})]},_.id))})]})})]})]}),p.jsxs("div",{className:A.modalFooter,children:[p.jsx("button",{onClick:x,className:A.secondaryButton,disabled:u,children:" Refresh"}),p.jsx("button",{onClick:n,className:A.primaryButton,children:"Close"})]})]})}):null};class Oi extends Error{constructor(n,s){const o=new.target.prototype;super(`${n}: Status code '${s}'`),this.statusCode=s,this.__proto__=o}}class Rp extends Error{constructor(n="A timeout occurred."){const s=new.target.prototype;super(n),this.__proto__=s}}class Xn extends Error{constructor(n="An abort occurred."){const s=new.target.prototype;super(n),this.__proto__=s}}class JD extends Error{constructor(n,s){const o=new.target.prototype;super(n),this.transport=s,this.errorType="UnsupportedTransportError",this.__proto__=o}}class ek extends Error{constructor(n,s){const o=new.target.prototype;super(n),this.transport=s,this.errorType="DisabledTransportError",this.__proto__=o}}class tk extends Error{constructor(n,s){const o=new.target.prototype;super(n),this.transport=s,this.errorType="FailedToStartTransportError",this.__proto__=o}}class mx extends Error{constructor(n){const s=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=s}}class nk extends Error{constructor(n,s){const o=new.target.prototype;super(n),this.innerErrors=s,this.__proto__=o}}class Qb{constructor(n,s,o){this.statusCode=n,this.statusText=s,this.content=o}}class yc{get(n,s){return this.send({...s,method:"GET",url:n})}post(n,s){return this.send({...s,method:"POST",url:n})}delete(n,s){return this.send({...s,method:"DELETE",url:n})}getCookieString(n){return""}}var F;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Information=2]="Information",a[a.Warning=3]="Warning",a[a.Error=4]="Error",a[a.Critical=5]="Critical",a[a.None=6]="None"})(F||(F={}));class or{constructor(){}log(n,s){}}or.instance=new or;const ak="10.0.0";class Bt{static isRequired(n,s){if(n==null)throw new Error(`The '${s}' argument is required.`)}static isNotEmpty(n,s){if(!n||n.match(/^\s*$/))throw new Error(`The '${s}' argument should not be empty.`)}static isIn(n,s,o){if(!(n in s))throw new Error(`Unknown ${o} value: ${n}.`)}}class gt{static get isBrowser(){return!gt.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!gt.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!gt.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function rr(a,n){let s="";return Vi(a)?(s=`Binary data of length ${a.byteLength}`,n&&(s+=`. Content: '${ik(a)}'`)):typeof a=="string"&&(s=`String data of length ${a.length}`,n&&(s+=`. Content: '${a}'`)),s}function ik(a){const n=new Uint8Array(a);let s="";return n.forEach(o=>{const l=o<16?"0":"";s+=`0x${l}${o.toString(16)} `}),s.substring(0,s.length-1)}function Vi(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}async function Wb(a,n,s,o,l,u){const d={},[h,m]=Ls();d[h]=m,a.log(F.Trace,`(${n} transport) sending data. ${rr(l,u.logMessageContent)}.`);const y=Vi(l)?"arraybuffer":"text",v=await s.post(o,{content:l,headers:{...d,...u.headers},responseType:y,timeout:u.timeout,withCredentials:u.withCredentials});a.log(F.Trace,`(${n} transport) request complete. Response status: ${v.statusCode}.`)}function sk(a){return a===void 0?new ac(F.Information):a===null?or.instance:a.log!==void 0?a:new ac(a)}class ok{constructor(n,s){this._subject=n,this._observer=s}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(s=>{})}}class ac{constructor(n){this._minLevel=n,this.out=console}log(n,s){if(n>=this._minLevel){const o=`[${new Date().toISOString()}] ${F[n]}: ${s}`;switch(n){case F.Critical:case F.Error:this.out.error(o);break;case F.Warning:this.out.warn(o);break;case F.Information:this.out.info(o);break;default:this.out.log(o);break}}}}function Ls(){let a="X-SignalR-User-Agent";return gt.isNode&&(a="User-Agent"),[a,rk(ak,lk(),uk(),ck())]}function rk(a,n,s,o){let l="Microsoft SignalR/";const u=a.split(".");return l+=`${u[0]}.${u[1]}`,l+=` (${a}; `,n&&n!==""?l+=`${n}; `:l+="Unknown OS; ",l+=`${s}`,o?l+=`; ${o}`:l+="; Unknown Runtime Version",l+=")",l}function lk(){if(gt.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function ck(){if(gt.isNode)return process.versions.node}function uk(){return gt.isNode?"NodeJS":"Browser"}function Jd(a){return a.stack?a.stack:a.message?a.message:`${a}`}function dk(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class fk extends yc{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||gt.isNode){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(s("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=s("node-fetch"):this._fetchType=fetch,this._fetchType=s("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(dk());if(typeof AbortController>"u"){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=s("abort-controller")}else this._abortControllerType=AbortController}async send(n){if(n.abortSignal&&n.abortSignal.aborted)throw new Xn;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const s=new this._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{s.abort(),o=new Xn});let l=null;if(n.timeout){const m=n.timeout;l=setTimeout(()=>{s.abort(),this._logger.log(F.Warning,"Timeout from HTTP request."),o=new Rp},m)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},Vi(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let u;try{u=await this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:s.signal})}catch(m){throw o||(this._logger.log(F.Warning,`Error from HTTP request. ${m}.`),m)}finally{l&&clearTimeout(l),n.abortSignal&&(n.abortSignal.onabort=null)}if(!u.ok){const m=await gx(u,"text");throw new Oi(m||u.statusText,u.status)}const h=await gx(u,n.responseType);return new Qb(u.status,u.statusText,h)}getCookieString(n){let s="";return gt.isNode&&this._jar&&this._jar.getCookies(n,(o,l)=>s=l.join("; ")),s}}function gx(a,n){let s;switch(n){case"arraybuffer":s=a.arrayBuffer();break;case"text":s=a.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:s=a.text();break}return s}class pk extends yc{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Xn):n.method?n.url?new Promise((s,o)=>{const l=new XMLHttpRequest;l.open(n.method,n.url,!0),l.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(Vi(n.content)?l.setRequestHeader("Content-Type","application/octet-stream"):l.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const u=n.headers;u&&Object.keys(u).forEach(d=>{l.setRequestHeader(d,u[d])}),n.responseType&&(l.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{l.abort(),o(new Xn)}),n.timeout&&(l.timeout=n.timeout),l.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),l.status>=200&&l.status<300?s(new Qb(l.status,l.statusText,l.response||l.responseText)):o(new Oi(l.response||l.responseText||l.statusText,l.status))},l.onerror=()=>{this._logger.log(F.Warning,`Error from HTTP request. ${l.status}: ${l.statusText}.`),o(new Oi(l.statusText,l.status))},l.ontimeout=()=>{this._logger.log(F.Warning,"Timeout from HTTP request."),o(new Rp)},l.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class hk extends yc{constructor(n){if(super(),typeof fetch<"u"||gt.isNode)this._httpClient=new fk(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new pk(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Xn):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}class An{static write(n){return`${n}${An.RecordSeparator}`}static parse(n){if(n[n.length-1]!==An.RecordSeparator)throw new Error("Message is incomplete.");const s=n.split(An.RecordSeparator);return s.pop(),s}}An.RecordSeparatorCode=30;An.RecordSeparator=String.fromCharCode(An.RecordSeparatorCode);class mk{writeHandshakeRequest(n){return An.write(JSON.stringify(n))}parseHandshakeResponse(n){let s,o;if(Vi(n)){const h=new Uint8Array(n),m=h.indexOf(An.RecordSeparatorCode);if(m===-1)throw new Error("Message is incomplete.");const y=m+1;s=String.fromCharCode.apply(null,Array.prototype.slice.call(h.slice(0,y))),o=h.byteLength>y?h.slice(y).buffer:null}else{const h=n,m=h.indexOf(An.RecordSeparator);if(m===-1)throw new Error("Message is incomplete.");const y=m+1;s=h.substring(0,y),o=h.length>y?h.substring(y):null}const l=An.parse(s),u=JSON.parse(l[0]);if(u.type)throw new Error("Expected a handshake response from the server.");return[o,u]}}var Te;(function(a){a[a.Invocation=1]="Invocation",a[a.StreamItem=2]="StreamItem",a[a.Completion=3]="Completion",a[a.StreamInvocation=4]="StreamInvocation",a[a.CancelInvocation=5]="CancelInvocation",a[a.Ping=6]="Ping",a[a.Close=7]="Close",a[a.Ack=8]="Ack",a[a.Sequence=9]="Sequence"})(Te||(Te={}));class gk{constructor(){this.observers=[]}next(n){for(const s of this.observers)s.next(n)}error(n){for(const s of this.observers)s.error&&s.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new ok(this,n)}}class yk{constructor(n,s,o){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=s,this._bufferSize=o}async _send(n){const s=this._protocol.writeMessage(n);let o=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let l=()=>{},u=()=>{};Vi(s)?this._bufferedByteCount+=s.byteLength:this._bufferedByteCount+=s.length,this._bufferedByteCount>=this._bufferSize&&(o=new Promise((d,h)=>{l=d,u=h})),this._messages.push(new vk(s,this._totalMessageCount,l,u))}try{this._reconnectInProgress||await this._connection.send(s)}catch{this._disconnected()}await o}_ack(n){let s=-1;for(let o=0;o<this._messages.length;o++){const l=this._messages[o];if(l._id<=n.sequenceId)s=o,Vi(l._message)?this._bufferedByteCount-=l._message.byteLength:this._bufferedByteCount-=l._message.length,l._resolver();else if(this._bufferedByteCount<this._bufferSize)l._resolver();else break}s!==-1&&(this._messages=this._messages.slice(s+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==Te.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;const s=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,s<=this._latestReceivedSequenceId?(s===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=s,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Te.Sequence,sequenceId:n}));const s=this._messages;for(const o of s)await this._connection.send(o._message);this._reconnectInProgress=!1}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(const s of this._messages)s._rejector(n)}_isInvocationMessage(n){switch(n.type){case Te.Invocation:case Te.StreamItem:case Te.Completion:case Te.StreamInvocation:case Te.CancelInvocation:return!0;case Te.Close:case Te.Sequence:case Te.Ping:case Te.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Te.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class vk{constructor(n,s,o,l){this._message=n,this._id=s,this._resolver=o,this._rejector=l}}const xk=30*1e3,bk=15*1e3,Sk=1e5;var Xe;(function(a){a.Disconnected="Disconnected",a.Connecting="Connecting",a.Connected="Connected",a.Disconnecting="Disconnecting",a.Reconnecting="Reconnecting"})(Xe||(Xe={}));class Mp{static create(n,s,o,l,u,d,h){return new Mp(n,s,o,l,u,d,h)}constructor(n,s,o,l,u,d,h){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(F.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Bt.isRequired(n,"connection"),Bt.isRequired(s,"logger"),Bt.isRequired(o,"protocol"),this.serverTimeoutInMilliseconds=u??xk,this.keepAliveIntervalInMilliseconds=d??bk,this._statefulReconnectBufferSize=h??Sk,this._logger=s,this._protocol=o,this.connection=n,this._reconnectPolicy=l,this._handshakeProtocol=new mk,this.connection.onreceive=m=>this._processIncomingData(m),this.connection.onclose=m=>this._connectionClosed(m),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Xe.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Te.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==Xe.Disconnected&&this._connectionState!==Xe.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Xe.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Xe.Connecting,this._logger.log(F.Debug,"Starting HubConnection.");try{await this._startInternal(),gt.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Xe.Connected,this._connectionStarted=!0,this._logger.log(F.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=Xe.Disconnected,this._logger.log(F.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const n=new Promise((s,o)=>{this._handshakeResolver=s,this._handshakeRejecter=o});await this.connection.start(this._protocol.transferFormat);try{let s=this._protocol.version;this.connection.features.reconnect||(s=1);const o={protocol:this._protocol.name,version:s};if(this._logger.log(F.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(o)),this._logger.log(F.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await n,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new yk(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(s){throw this._logger.log(F.Debug,`Hub handshake failed with error '${s}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(s),s}}async stop(){const n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await n}catch{}}_stopInternal(n){if(this._connectionState===Xe.Disconnected)return this._logger.log(F.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Xe.Disconnecting)return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const s=this._connectionState;return this._connectionState=Xe.Disconnecting,this._logger.log(F.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(F.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(s===Xe.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new Xn("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(n,...s){const[o,l]=this._replaceStreamingParams(s),u=this._createStreamInvocation(n,s,l);let d;const h=new gk;return h.cancelCallback=()=>{const m=this._createCancelInvocation(u.invocationId);return delete this._callbacks[u.invocationId],d.then(()=>this._sendWithProtocol(m))},this._callbacks[u.invocationId]=(m,y)=>{if(y){h.error(y);return}else m&&(m.type===Te.Completion?m.error?h.error(new Error(m.error)):h.complete():h.next(m.item))},d=this._sendWithProtocol(u).catch(m=>{h.error(m),delete this._callbacks[u.invocationId]}),this._launchStreams(o,d),h}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...s){const[o,l]=this._replaceStreamingParams(s),u=this._sendWithProtocol(this._createInvocation(n,s,!0,l));return this._launchStreams(o,u),u}invoke(n,...s){const[o,l]=this._replaceStreamingParams(s),u=this._createInvocation(n,s,!1,l);return new Promise((h,m)=>{this._callbacks[u.invocationId]=(v,x)=>{if(x){m(x);return}else v&&(v.type===Te.Completion?v.error?m(new Error(v.error)):h(v.result):m(new Error(`Unexpected message type: ${v.type}`)))};const y=this._sendWithProtocol(u).catch(v=>{m(v),delete this._callbacks[u.invocationId]});this._launchStreams(o,y)})}on(n,s){!n||!s||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(s)===-1&&this._methods[n].push(s))}off(n,s){if(!n)return;n=n.toLowerCase();const o=this._methods[n];if(o)if(s){const l=o.indexOf(s);l!==-1&&(o.splice(l,1),o.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const s=this._protocol.parseMessages(n,this._logger);for(const o of s)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(o)))switch(o.type){case Te.Invocation:this._invokeClientMethod(o).catch(l=>{this._logger.log(F.Error,`Invoke client method threw error: ${Jd(l)}`)});break;case Te.StreamItem:case Te.Completion:{const l=this._callbacks[o.invocationId];if(l){o.type===Te.Completion&&delete this._callbacks[o.invocationId];try{l(o)}catch(u){this._logger.log(F.Error,`Stream callback threw error: ${Jd(u)}`)}}break}case Te.Ping:break;case Te.Close:{this._logger.log(F.Information,"Close message received from server.");const l=o.error?new Error("Server returned an error on close: "+o.error):void 0;o.allowReconnect===!0?this.connection.stop(l):this._stopPromise=this._stopInternal(l);break}case Te.Ack:this._messageBuffer&&this._messageBuffer._ack(o);break;case Te.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(o);break;default:this._logger.log(F.Warning,`Invalid message type: ${o.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let s,o;try{[o,s]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(l){const u="Error parsing handshake response: "+l;this._logger.log(F.Error,u);const d=new Error(u);throw this._handshakeRejecter(d),d}if(s.error){const l="Server returned handshake error: "+s.error;this._logger.log(F.Error,l);const u=new Error(l);throw this._handshakeRejecter(u),u}else this._logger.log(F.Debug,"Server handshake complete.");return this._handshakeResolver(),o}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let n=this._nextKeepAlive-new Date().getTime();if(n<0){this._connectionState===Xe.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(n<0&&(n=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===Xe.Connected&&await this._trySendPingMessage()},n))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(n){const s=n.target.toLowerCase(),o=this._methods[s];if(!o){this._logger.log(F.Warning,`No client method with the name '${s}' found.`),n.invocationId&&(this._logger.log(F.Warning,`No result given for '${s}' method and invocation ID '${n.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}const l=o.slice(),u=!!n.invocationId;let d,h,m;for(const y of l)try{const v=d;d=await y.apply(this,n.arguments),u&&d&&v&&(this._logger.log(F.Error,`Multiple results provided for '${s}'. Sending error to server.`),m=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),h=void 0}catch(v){h=v,this._logger.log(F.Error,`A callback for the method '${s}' threw error '${v}'.`)}m?await this._sendWithProtocol(m):u?(h?m=this._createCompletionMessage(n.invocationId,`${h}`,null):d!==void 0?m=this._createCompletionMessage(n.invocationId,null,d):(this._logger.log(F.Warning,`No result given for '${s}' method and invocation ID '${n.invocationId}'.`),m=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(m)):d&&this._logger.log(F.Error,`Result given for '${s}' method but server is not expecting a result.`)}_connectionClosed(n){this._logger.log(F.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new Xn("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Xe.Disconnecting?this._completeClose(n):this._connectionState===Xe.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===Xe.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=Xe.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),gt.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(s=>s.apply(this,[n]))}catch(s){this._logger.log(F.Error,`An onclose callback called with error '${n}' threw error '${s}'.`)}}}async _reconnect(n){const s=Date.now();let o=0,l=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),u=this._getNextRetryDelay(o,0,l);if(u===null){this._logger.log(F.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=Xe.Reconnecting,n?this._logger.log(F.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(F.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(d=>d.apply(this,[n]))}catch(d){this._logger.log(F.Error,`An onreconnecting callback called with error '${n}' threw error '${d}'.`)}if(this._connectionState!==Xe.Reconnecting){this._logger.log(F.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;u!==null;){if(this._logger.log(F.Information,`Reconnect attempt number ${o+1} will start in ${u} ms.`),await new Promise(d=>{this._reconnectDelayHandle=setTimeout(d,u)}),this._reconnectDelayHandle=void 0,this._connectionState!==Xe.Reconnecting){this._logger.log(F.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Xe.Connected,this._logger.log(F.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(d=>d.apply(this,[this.connection.connectionId]))}catch(d){this._logger.log(F.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${d}'.`)}return}catch(d){if(this._logger.log(F.Information,`Reconnect attempt failed because of error '${d}'.`),this._connectionState!==Xe.Reconnecting){this._logger.log(F.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Xe.Disconnecting&&this._completeClose();return}o++,l=d instanceof Error?d:new Error(d.toString()),u=this._getNextRetryDelay(o,Date.now()-s,l)}}this._logger.log(F.Information,`Reconnect retries have been exhausted after ${Date.now()-s} ms and ${o} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(n,s,o){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:s,previousRetryCount:n,retryReason:o})}catch(l){return this._logger.log(F.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${s}) threw error '${l}'.`),null}}_cancelCallbacksWithError(n){const s=this._callbacks;this._callbacks={},Object.keys(s).forEach(o=>{const l=s[o];try{l(null,n)}catch(u){this._logger.log(F.Error,`Stream 'error' callback called with '${n}' threw error: ${Jd(u)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,s,o,l){if(o)return l.length!==0?{target:n,arguments:s,streamIds:l,type:Te.Invocation}:{target:n,arguments:s,type:Te.Invocation};{const u=this._invocationId;return this._invocationId++,l.length!==0?{target:n,arguments:s,invocationId:u.toString(),streamIds:l,type:Te.Invocation}:{target:n,arguments:s,invocationId:u.toString(),type:Te.Invocation}}}_launchStreams(n,s){if(n.length!==0){s||(s=Promise.resolve());for(const o in n)n[o].subscribe({complete:()=>{s=s.then(()=>this._sendWithProtocol(this._createCompletionMessage(o)))},error:l=>{let u;l instanceof Error?u=l.message:l&&l.toString?u=l.toString():u="Unknown error",s=s.then(()=>this._sendWithProtocol(this._createCompletionMessage(o,u)))},next:l=>{s=s.then(()=>this._sendWithProtocol(this._createStreamItemMessage(o,l)))}})}}_replaceStreamingParams(n){const s=[],o=[];for(let l=0;l<n.length;l++){const u=n[l];if(this._isObservable(u)){const d=this._invocationId;this._invocationId++,s[d]=u,o.push(d.toString()),n.splice(l,1)}}return[s,o]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,s,o){const l=this._invocationId;return this._invocationId++,o.length!==0?{target:n,arguments:s,invocationId:l.toString(),streamIds:o,type:Te.StreamInvocation}:{target:n,arguments:s,invocationId:l.toString(),type:Te.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:Te.CancelInvocation}}_createStreamItemMessage(n,s){return{invocationId:n,item:s,type:Te.StreamItem}}_createCompletionMessage(n,s,o){return s?{error:s,invocationId:n,type:Te.Completion}:{invocationId:n,result:o,type:Te.Completion}}_createCloseMessage(){return{type:Te.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const _k=[0,2e3,1e4,3e4,null];class yx{constructor(n){this._retryDelays=n!==void 0?[...n,null]:_k}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}class Ui{}Ui.Authorization="Authorization";Ui.Cookie="Cookie";class wk extends yc{constructor(n,s){super(),this._innerClient=n,this._accessTokenFactory=s}async send(n){let s=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(s=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(n);const o=await this._innerClient.send(n);return s&&o.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(n),await this._innerClient.send(n)):o}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Ui.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Ui.Authorization]&&delete n.headers[Ui.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}var bt;(function(a){a[a.None=0]="None",a[a.WebSockets=1]="WebSockets",a[a.ServerSentEvents=2]="ServerSentEvents",a[a.LongPolling=4]="LongPolling"})(bt||(bt={}));var tn;(function(a){a[a.Text=1]="Text",a[a.Binary=2]="Binary"})(tn||(tn={}));let Ck=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class vx{get pollAborted(){return this._pollAbort.aborted}constructor(n,s,o){this._httpClient=n,this._logger=s,this._pollAbort=new Ck,this._options=o,this._running=!1,this.onreceive=null,this.onclose=null}async connect(n,s){if(Bt.isRequired(n,"url"),Bt.isRequired(s,"transferFormat"),Bt.isIn(s,tn,"transferFormat"),this._url=n,this._logger.log(F.Trace,"(LongPolling transport) Connecting."),s===tn.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,l]=Ls(),u={[o]:l,...this._options.headers},d={abortSignal:this._pollAbort.signal,headers:u,timeout:1e5,withCredentials:this._options.withCredentials};s===tn.Binary&&(d.responseType="arraybuffer");const h=`${n}&_=${Date.now()}`;this._logger.log(F.Trace,`(LongPolling transport) polling: ${h}.`);const m=await this._httpClient.get(h,d);m.statusCode!==200?(this._logger.log(F.Error,`(LongPolling transport) Unexpected response code: ${m.statusCode}.`),this._closeError=new Oi(m.statusText||"",m.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,d)}async _poll(n,s){try{for(;this._running;)try{const o=`${n}&_=${Date.now()}`;this._logger.log(F.Trace,`(LongPolling transport) polling: ${o}.`);const l=await this._httpClient.get(o,s);l.statusCode===204?(this._logger.log(F.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):l.statusCode!==200?(this._logger.log(F.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new Oi(l.statusText||"",l.statusCode),this._running=!1):l.content?(this._logger.log(F.Trace,`(LongPolling transport) data received. ${rr(l.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(l.content)):this._logger.log(F.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){this._running?o instanceof Rp?this._logger.log(F.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=o,this._running=!1):this._logger.log(F.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{this._logger.log(F.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(n){return this._running?Wb(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(F.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(F.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const n={},[s,o]=Ls();n[s]=o;const l={headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let u;try{await this._httpClient.delete(this._url,l)}catch(d){u=d}u?u instanceof Oi&&(u.statusCode===404?this._logger.log(F.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(F.Trace,`(LongPolling transport) Error sending a DELETE request: ${u}`)):this._logger.log(F.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(F.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(F.Trace,n),this.onclose(this._closeError)}}}class Tk{constructor(n,s,o,l){this._httpClient=n,this._accessToken=s,this._logger=o,this._options=l,this.onreceive=null,this.onclose=null}async connect(n,s){return Bt.isRequired(n,"url"),Bt.isRequired(s,"transferFormat"),Bt.isIn(s,tn,"transferFormat"),this._logger.log(F.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((o,l)=>{let u=!1;if(s!==tn.Text){l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let d;if(gt.isBrowser||gt.isWebWorker)d=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{const h=this._httpClient.getCookieString(n),m={};m.Cookie=h;const[y,v]=Ls();m[y]=v,d=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:{...m,...this._options.headers}})}try{d.onmessage=h=>{if(this.onreceive)try{this._logger.log(F.Trace,`(SSE transport) data received. ${rr(h.data,this._options.logMessageContent)}.`),this.onreceive(h.data)}catch(m){this._close(m);return}},d.onerror=h=>{u?this._close():l(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},d.onopen=()=>{this._logger.log(F.Information,`SSE connected to ${this._url}`),this._eventSource=d,u=!0,o()}}catch(h){l(h);return}})}async send(n){return this._eventSource?Wb(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class jk{constructor(n,s,o,l,u,d){this._logger=o,this._accessTokenFactory=s,this._logMessageContent=l,this._webSocketConstructor=u,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=d}async connect(n,s){Bt.isRequired(n,"url"),Bt.isRequired(s,"transferFormat"),Bt.isIn(s,tn,"transferFormat"),this._logger.log(F.Trace,"(WebSockets transport) Connecting.");let o;return this._accessTokenFactory&&(o=await this._accessTokenFactory()),new Promise((l,u)=>{n=n.replace(/^http/,"ws");let d;const h=this._httpClient.getCookieString(n);let m=!1;if(gt.isNode||gt.isReactNative){const y={},[v,x]=Ls();y[v]=x,o&&(y[Ui.Authorization]=`Bearer ${o}`),h&&(y[Ui.Cookie]=h),d=new this._webSocketConstructor(n,void 0,{headers:{...y,...this._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);d||(d=new this._webSocketConstructor(n)),s===tn.Binary&&(d.binaryType="arraybuffer"),d.onopen=y=>{this._logger.log(F.Information,`WebSocket connected to ${n}.`),this._webSocket=d,m=!0,l()},d.onerror=y=>{let v=null;typeof ErrorEvent<"u"&&y instanceof ErrorEvent?v=y.error:v="There was an error with the transport",this._logger.log(F.Information,`(WebSockets transport) ${v}.`)},d.onmessage=y=>{if(this._logger.log(F.Trace,`(WebSockets transport) data received. ${rr(y.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(y.data)}catch(v){this._close(v);return}},d.onclose=y=>{if(m)this._close(y);else{let v=null;typeof ErrorEvent<"u"&&y instanceof ErrorEvent?v=y.error:v="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",u(new Error(v))}}})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(F.Trace,`(WebSockets transport) sending data. ${rr(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(F.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}}const xx=100;class Ak{constructor(n,s={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Bt.isRequired(n,"url"),this._logger=sk(s.logger),this.baseUrl=this._resolveUrl(n),s=s||{},s.logMessageContent=s.logMessageContent===void 0?!1:s.logMessageContent,typeof s.withCredentials=="boolean"||s.withCredentials===void 0)s.withCredentials=s.withCredentials===void 0?!0:s.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");s.timeout=s.timeout===void 0?100*1e3:s.timeout;let o=null,l=null;if(gt.isNode&&typeof require<"u"){const u=typeof __webpack_require__=="function"?__non_webpack_require__:require;o=u("ws"),l=u("eventsource")}!gt.isNode&&typeof WebSocket<"u"&&!s.WebSocket?s.WebSocket=WebSocket:gt.isNode&&!s.WebSocket&&o&&(s.WebSocket=o),!gt.isNode&&typeof EventSource<"u"&&!s.EventSource?s.EventSource=EventSource:gt.isNode&&!s.EventSource&&typeof l<"u"&&(s.EventSource=l),this._httpClient=new wk(s.httpClient||new hk(this._logger),s.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=s,this.onreceive=null,this.onclose=null}async start(n){if(n=n||tn.Binary,Bt.isIn(n,tn,"transferFormat"),this._logger.log(F.Debug,`Starting connection with transfer format '${tn[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),await this._startInternalPromise,this._connectionState==="Disconnecting"){const s="Failed to start the HttpConnection before stop() was called.";return this._logger.log(F.Error,s),await this._stopPromise,Promise.reject(new Xn(s))}else if(this._connectionState!=="Connected"){const s="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(F.Error,s),Promise.reject(new Xn(s))}this._connectionStarted=!0}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Dp(this.transport)),this._sendQueue.send(n))}async stop(n){if(this._connectionState==="Disconnected")return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(s=>{this._stopPromiseResolver=s}),await this._stopInternal(n),await this._stopPromise}async _stopInternal(n){this._stopError=n;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(s){this._logger.log(F.Error,`HttpConnection.transport.stop() threw error '${s}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(F.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(n){let s=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===bt.WebSockets)this.transport=this._constructTransport(bt.WebSockets),await this._startTransport(s,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let o=null,l=0;do{if(o=await this._getNegotiationResponse(s),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Xn("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(s=o.url),o.accessToken){const u=o.accessToken;this._accessTokenFactory=()=>u,this._httpClient._accessToken=u,this._httpClient._accessTokenFactory=void 0}l++}while(o.url&&l<xx);if(l===xx&&o.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(s,this._options.transport,o,n)}this.transport instanceof vx&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(F.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(o){return this._logger.log(F.Error,"Failed to start the connection: "+o),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(o)}}async _getNegotiationResponse(n){const s={},[o,l]=Ls();s[o]=l;const u=this._resolveNegotiateUrl(n);this._logger.log(F.Debug,`Sending negotiation request: ${u}.`);try{const d=await this._httpClient.post(u,{content:"",headers:{...s,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(d.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${d.statusCode}'`));const h=JSON.parse(d.content);return(!h.negotiateVersion||h.negotiateVersion<1)&&(h.connectionToken=h.connectionId),h.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new mx("Client didn't negotiate Stateful Reconnect but the server did.")):h}catch(d){let h="Failed to complete negotiation with the server: "+d;return d instanceof Oi&&d.statusCode===404&&(h=h+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(F.Error,h),Promise.reject(new mx(h))}}_createConnectUrl(n,s){return s?n+(n.indexOf("?")===-1?"?":"&")+`id=${s}`:n}async _createTransport(n,s,o,l){let u=this._createConnectUrl(n,o.connectionToken);if(this._isITransport(s)){this._logger.log(F.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=s,await this._startTransport(u,l),this.connectionId=o.connectionId;return}const d=[],h=o.availableTransports||[];let m=o;for(const y of h){const v=this._resolveTransportOrError(y,s,l,m?.useStatefulReconnect===!0);if(v instanceof Error)d.push(`${y.transport} failed:`),d.push(v);else if(this._isITransport(v)){if(this.transport=v,!m){try{m=await this._getNegotiationResponse(n)}catch(x){return Promise.reject(x)}u=this._createConnectUrl(n,m.connectionToken)}try{await this._startTransport(u,l),this.connectionId=m.connectionId;return}catch(x){if(this._logger.log(F.Error,`Failed to start the transport '${y.transport}': ${x}`),m=void 0,d.push(new tk(`${y.transport} failed: ${x}`,bt[y.transport])),this._connectionState!=="Connecting"){const S="Failed to select transport before stop() was called.";return this._logger.log(F.Debug,S),Promise.reject(new Xn(S))}}}}return d.length>0?Promise.reject(new nk(`Unable to connect to the server with any of the available transports. ${d.join(" ")}`,d)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(n){switch(n){case bt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new jk(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case bt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Tk(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case bt.LongPolling:return new vx(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,s){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async o=>{let l=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(n,s),await this.features.resend()}catch{l=!0}else{this._stopConnection(o);return}l&&this._stopConnection(o)}:this.transport.onclose=o=>this._stopConnection(o),this.transport.connect(n,s)}_resolveTransportOrError(n,s,o,l){const u=bt[n.transport];if(u==null)return this._logger.log(F.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(Ek(s,u))if(n.transferFormats.map(h=>tn[h]).indexOf(o)>=0){if(u===bt.WebSockets&&!this._options.WebSocket||u===bt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(F.Debug,`Skipping transport '${bt[u]}' because it is not supported in your environment.'`),new JD(`'${bt[u]}' is not supported in your environment.`,u);this._logger.log(F.Debug,`Selecting transport '${bt[u]}'.`);try{return this.features.reconnect=u===bt.WebSockets?l:void 0,this._constructTransport(u)}catch(h){return h}}else return this._logger.log(F.Debug,`Skipping transport '${bt[u]}' because it does not support the requested transfer format '${tn[o]}'.`),new Error(`'${bt[u]}' does not support ${tn[o]}.`);else return this._logger.log(F.Debug,`Skipping transport '${bt[u]}' because it was disabled by the client.`),new ek(`'${bt[u]}' is disabled by the client.`,u)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(F.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(F.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(F.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(F.Error,`Connection disconnected with error '${n}'.`):this._logger.log(F.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(s=>{this._logger.log(F.Error,`TransportSendQueue.stop() threw error '${s}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(s){this._logger.log(F.Error,`HttpConnection.onclose(${n}) threw error '${s}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!gt.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const s=window.document.createElement("a");return s.href=n,this._logger.log(F.Information,`Normalizing '${n}' to '${s.href}'.`),s.href}_resolveNegotiateUrl(n){const s=new URL(n);s.pathname.endsWith("/")?s.pathname+="negotiate":s.pathname+="/negotiate";const o=new URLSearchParams(s.searchParams);return o.has("negotiateVersion")||o.append("negotiateVersion",this._negotiateVersion.toString()),o.has("useStatefulReconnect")?o.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&o.append("useStatefulReconnect","true"),s.search=o.toString(),s.toString()}}function Ek(a,n){return!a||(n&a)!==0}class Dp{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ul,this._transportResult=new Ul,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Ul),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Ul;const n=this._transportResult;this._transportResult=void 0;const s=typeof this._buffer[0]=="string"?this._buffer.join(""):Dp._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(s),n.resolve()}catch(o){n.reject(o)}}}static _concatBuffers(n){const s=n.map(u=>u.byteLength).reduce((u,d)=>u+d),o=new Uint8Array(s);let l=0;for(const u of n)o.set(new Uint8Array(u),l),l+=u.byteLength;return o.buffer}}class Ul{constructor(){this.promise=new Promise((n,s)=>[this._resolver,this._rejecter]=[n,s])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}const Rk="json";class Mk{constructor(){this.name=Rk,this.version=2,this.transferFormat=tn.Text}parseMessages(n,s){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];s===null&&(s=or.instance);const o=An.parse(n),l=[];for(const u of o){const d=JSON.parse(u);if(typeof d.type!="number")throw new Error("Invalid payload.");switch(d.type){case Te.Invocation:this._isInvocationMessage(d);break;case Te.StreamItem:this._isStreamItemMessage(d);break;case Te.Completion:this._isCompletionMessage(d);break;case Te.Ping:break;case Te.Close:break;case Te.Ack:this._isAckMessage(d);break;case Te.Sequence:this._isSequenceMessage(d);break;default:s.log(F.Information,"Unknown message type '"+d.type+"' ignored.");continue}l.push(d)}return l}writeMessage(n){return An.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,s){if(typeof n!="string"||n==="")throw new Error(s)}}const Dk={trace:F.Trace,debug:F.Debug,info:F.Information,information:F.Information,warn:F.Warning,warning:F.Warning,error:F.Error,critical:F.Critical,none:F.None};function kk(a){const n=Dk[a.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${a}`)}class Nk{configureLogging(n){if(Bt.isRequired(n,"logging"),zk(n))this.logger=n;else if(typeof n=="string"){const s=kk(n);this.logger=new ac(s)}else this.logger=new ac(n);return this}withUrl(n,s){return Bt.isRequired(n,"url"),Bt.isNotEmpty(n,"url"),this.url=n,typeof s=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...s}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:s},this}withHubProtocol(n){return Bt.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new yx(n):this.reconnectPolicy=n:this.reconnectPolicy=new yx,this}withServerTimeout(n){return Bt.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return Bt.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n?.bufferSize,this}build(){const n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const s=new Ak(this.url,n);return Mp.create(s,this.logger||or.instance,this.protocol||new Mk,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function zk(a){return a.log!==void 0}class Ok{connection=null;eventHandlers={};reconnectAttempts=0;maxReconnectAttempts=5;isManualDisconnect=!1;constructor(){const s="https://your-domain.com/api".replace("/api","/hubs/chat");this.connection=new Nk().withUrl(s,{accessTokenFactory:()=>localStorage.getItem("token")||"",skipNegotiation:!1,withCredentials:!0,transport:bt.WebSockets|bt.ServerSentEvents|bt.LongPolling}).withAutomaticReconnect({nextRetryDelayInMilliseconds:o=>o.previousRetryCount>=this.maxReconnectAttempts?null:Math.min(1e3*Math.pow(2,o.previousRetryCount),32e3)}).configureLogging(F.Information).build(),this.setupConnectionHandlers(),this.setupEventListeners()}setupConnectionHandlers(){this.connection&&(this.connection.onreconnecting(n=>{console.warn("SignalR reconnecting...",n),this.reconnectAttempts++}),this.connection.onreconnected(n=>{console.log("SignalR reconnected:",n),this.reconnectAttempts=0,this.rejoinChats()}),this.connection.onclose(n=>{console.error("SignalR connection closed:",n),!this.isManualDisconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>this.start(),5e3)}))}setupEventListeners(){this.connection&&(this.connection.on("UserOnline",n=>{this.eventHandlers.onUserOnline?.(n)}),this.connection.on("UserOffline",n=>{this.eventHandlers.onUserOffline?.(n)}),this.connection.on("ReceiveMessage",n=>{this.eventHandlers.onReceiveMessage?.(n)}),this.connection.on("MessageEdited",n=>{this.eventHandlers.onMessageEdited?.(n)}),this.connection.on("MessageDeleted",n=>{this.eventHandlers.onMessageDeleted?.(n)}),this.connection.on("ReactionAdded",n=>{this.eventHandlers.onReactionAdded?.(n)}),this.connection.on("ReactionRemoved",n=>{this.eventHandlers.onReactionRemoved?.(n)}),this.connection.on("UserTyping",n=>{this.eventHandlers.onUserTyping?.(n)}),this.connection.on("UserStoppedTyping",n=>{this.eventHandlers.onUserStoppedTyping?.(n)}),this.connection.on("NewNotification",n=>{this.eventHandlers.onNewNotification?.(n)}),this.connection.on("NotificationsMarkedSeen",n=>{this.eventHandlers.onNotificationsMarkedSeen?.(n)}),this.connection.on("Error",n=>{console.error("SignalR Error:",n),this.eventHandlers.onError?.(n)}))}setEventHandlers(n){this.eventHandlers={...this.eventHandlers,...n}}async start(){if(this.connection)try{this.connection.state===Xe.Disconnected&&(this.isManualDisconnect=!1,await this.connection.start(),console.log("SignalR Connected:",this.connection.connectionId))}catch(n){throw console.error("Error starting SignalR connection:",n),n}}async getPresenceStates(n){if(!this.connection||this.connection.state!==Xe.Connected)return console.warn("Cannot fetch presence states: not connected"),{};try{const s=await this.connection.invoke("GetPresenceStates",n);return console.log(`Fetched initial presence states for ${n.length} users`),s}catch(s){return console.error("Error fetching presence states:",s),{}}}async stop(){if(this.connection)try{this.isManualDisconnect=!0,await this.connection.stop(),console.log("SignalR Disconnected")}catch(n){console.error("Error stopping SignalR connection:",n)}}getConnectionState(){return this.connection?.state||Xe.Disconnected}isConnected(){return this.connection?.state===Xe.Connected}activeChats=new Set;async joinChat(n){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("JoinChat",n),this.activeChats.add(n),console.log("Joined chat:",n)}catch(s){throw console.error("Error joining chat:",s),s}}async leaveChat(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("LeaveChat",n),this.activeChats.delete(n),console.log("Left chat:",n)}catch(s){console.error("Error leaving chat:",s)}}async rejoinChats(){const n=Array.from(this.activeChats);for(const s of n)try{await this.connection?.invoke("JoinChat",s)}catch(o){console.error("Error rejoining chat:",s,o)}}async sendMessage(n,s,o=null,l=null){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("SendMessage",{chatId:n,content:s,receiverId:o,replyId:l})}catch(u){throw console.error("Error sending message:",u),u}}async editMessage(n,s,o){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("EditMessage",n,s,o)}catch(l){throw console.error("Error editing message:",l),l}}async deleteMessage(n,s){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("DeleteMessage",n,s)}catch(o){throw console.error("Error deleting message:",o),o}}async addReaction(n,s,o){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("AddReaction",n,s,o)}catch(l){throw console.error("Error adding reaction:",l),l}}async removeReaction(n,s){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("RemoveReaction",n,s)}catch(o){throw console.error("Error removing reaction:",o),o}}async sendTyping(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("Typing",n)}catch(s){console.error("Error sending typing indicator:",s)}}async sendStopTyping(n){if(!(!this.connection||!this.isConnected()))try{await this.connection.invoke("StopTyping",n)}catch(s){console.error("Error sending stop typing indicator:",s)}}async markNotificationsAsSeen(n){if(!this.connection||!this.isConnected())throw new Error("SignalR not connected");try{await this.connection.invoke("MarkAsSeen",n)}catch(s){throw console.error("Error marking notifications as seen:",s),s}}}const Ge=new Ok,Uk=Object.freeze(Object.defineProperty({__proto__:null,signalRService:Ge},Symbol.toStringTag,{value:"Module"})),Bk=a=>{const[n,s]=C.useState(Ge.getConnectionState()),[o,l]=C.useState(Ge.isConnected());return C.useEffect(()=>{const u=setInterval(()=>{s(Ge.getConnectionState()),l(Ge.isConnected())},1e3);return()=>clearInterval(u)},[a]),{connectionState:n,isConnected:o,joinChat:Ge.joinChat.bind(Ge),leaveChat:Ge.leaveChat.bind(Ge),sendMessage:Ge.sendMessage.bind(Ge),editMessage:Ge.editMessage.bind(Ge),deleteMessage:Ge.deleteMessage.bind(Ge),addReaction:Ge.addReaction.bind(Ge),removeReaction:Ge.removeReaction.bind(Ge),sendTyping:Ge.sendTyping.bind(Ge),sendStopTyping:Ge.sendStopTyping.bind(Ge),markNotificationsAsSeen:Ge.markNotificationsAsSeen.bind(Ge),getPresenceStates:Ge.getPresenceStates.bind(Ge)}};var ef={exports:{}},tf,bx;function Lk(){if(bx)return tf;bx=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tf=a,tf}var nf,Sx;function Vk(){if(Sx)return nf;Sx=1;var a=Lk();function n(){}function s(){}return s.resetWarningCache=n,nf=function(){function o(d,h,m,y,v,x){if(x!==a){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:s,resetWarningCache:n};return u.PropTypes=u,u},nf}var _x;function Pk(){return _x||(_x=1,ef.exports=Vk()()),ef.exports}var Hk=Pk();const tt=Px(Hk);function Pi(a,n,s,o){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(v){try{y(o.next(v))}catch(x){d(x)}}function m(v){try{y(o.throw(v))}catch(x){d(x)}}function y(v){v.done?u(v.value):l(v.value).then(h,m)}y((o=o.apply(a,n||[])).next())})}const Ik=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Vs(a,n,s){const o=Fk(a),{webkitRelativePath:l}=a,u=typeof n=="string"?n:typeof l=="string"&&l.length>0?l:`./${a.name}`;return typeof o.path!="string"&&wx(o,"path",u),wx(o,"relativePath",u),o}function Fk(a){const{name:n}=a;if(n&&n.lastIndexOf(".")!==-1&&!a.type){const o=n.split(".").pop().toLowerCase(),l=Ik.get(o);l&&Object.defineProperty(a,"type",{value:l,writable:!1,configurable:!1,enumerable:!0})}return a}function wx(a,n,s){Object.defineProperty(a,n,{value:s,writable:!1,configurable:!1,enumerable:!0})}const qk=[".DS_Store","Thumbs.db"];function Gk(a){return Pi(this,void 0,void 0,function*(){return ic(a)&&Yk(a.dataTransfer)?Qk(a.dataTransfer,a.type):$k(a)?Xk(a):Array.isArray(a)&&a.every(n=>"getFile"in n&&typeof n.getFile=="function")?Kk(a):[]})}function Yk(a){return ic(a)}function $k(a){return ic(a)&&ic(a.target)}function ic(a){return typeof a=="object"&&a!==null}function Xk(a){return Hf(a.target.files).map(n=>Vs(n))}function Kk(a){return Pi(this,void 0,void 0,function*(){return(yield Promise.all(a.map(s=>s.getFile()))).map(s=>Vs(s))})}function Qk(a,n){return Pi(this,void 0,void 0,function*(){if(a.items){const s=Hf(a.items).filter(l=>l.kind==="file");if(n!=="drop")return s;const o=yield Promise.all(s.map(Wk));return Cx(Zb(o))}return Cx(Hf(a.files).map(s=>Vs(s)))})}function Cx(a){return a.filter(n=>qk.indexOf(n.name)===-1)}function Hf(a){if(a===null)return[];const n=[];for(let s=0;s<a.length;s++){const o=a[s];n.push(o)}return n}function Wk(a){if(typeof a.webkitGetAsEntry!="function")return Tx(a);const n=a.webkitGetAsEntry();return n&&n.isDirectory?Jb(n):Tx(a,n)}function Zb(a){return a.reduce((n,s)=>[...n,...Array.isArray(s)?Zb(s):[s]],[])}function Tx(a,n){return Pi(this,void 0,void 0,function*(){var s;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const u=yield a.getAsFileSystemHandle();if(u===null)throw new Error(`${a} is not a File`);if(u!==void 0){const d=yield u.getFile();return d.handle=u,Vs(d)}}const o=a.getAsFile();if(!o)throw new Error(`${a} is not a File`);return Vs(o,(s=n?.fullPath)!==null&&s!==void 0?s:void 0)})}function Zk(a){return Pi(this,void 0,void 0,function*(){return a.isDirectory?Jb(a):Jk(a)})}function Jb(a){const n=a.createReader();return new Promise((s,o)=>{const l=[];function u(){n.readEntries(d=>Pi(this,void 0,void 0,function*(){if(d.length){const h=Promise.all(d.map(Zk));l.push(h),u()}else try{const h=yield Promise.all(l);s(h)}catch(h){o(h)}}),d=>{o(d)})}u()})}function Jk(a){return Pi(this,void 0,void 0,function*(){return new Promise((n,s)=>{a.file(o=>{const l=Vs(o,a.fullPath);n(l)},o=>{s(o)})})})}var Bl={},jx;function e4(){return jx||(jx=1,Bl.__esModule=!0,Bl.default=function(a,n){if(a&&n){var s=Array.isArray(n)?n:n.split(",");if(s.length===0)return!0;var o=a.name||"",l=(a.type||"").toLowerCase(),u=l.replace(/\/.*$/,"");return s.some(function(d){var h=d.trim().toLowerCase();return h.charAt(0)==="."?o.toLowerCase().endsWith(h):h.endsWith("/*")?u===h.replace(/\/.*$/,""):l===h})}return!0}),Bl}var t4=e4();const af=Px(t4);function Ax(a){return i4(a)||a4(a)||tS(a)||n4()}function n4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function i4(a){if(Array.isArray(a))return If(a)}function Ex(a,n){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);n&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,o)}return s}function Rx(a){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Ex(Object(s),!0).forEach(function(o){eS(a,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Ex(Object(s)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(s,o))})}return a}function eS(a,n,s){return n in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s,a}function lr(a,n){return r4(a)||o4(a,n)||tS(a,n)||s4()}function s4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tS(a,n){if(a){if(typeof a=="string")return If(a,n);var s=Object.prototype.toString.call(a).slice(8,-1);if(s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set")return Array.from(a);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return If(a,n)}}function If(a,n){(n==null||n>a.length)&&(n=a.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=a[s];return o}function o4(a,n){var s=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(s!=null){var o=[],l=!0,u=!1,d,h;try{for(s=s.call(a);!(l=(d=s.next()).done)&&(o.push(d.value),!(n&&o.length===n));l=!0);}catch(m){u=!0,h=m}finally{try{!l&&s.return!=null&&s.return()}finally{if(u)throw h}}return o}}function r4(a){if(Array.isArray(a))return a}var l4=typeof af=="function"?af:af.default,c4="file-invalid-type",u4="file-too-large",d4="file-too-small",f4="too-many-files",p4=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=n.split(","),o=s.length>1?"one of ".concat(s.join(", ")):s[0];return{code:c4,message:"File type must be ".concat(o)}},Mx=function(n){return{code:u4,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},Dx=function(n){return{code:d4,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},h4={code:f4,message:"Too many files"};function nS(a,n){var s=a.type==="application/x-moz-file"||l4(a,n);return[s,s?null:p4(n)]}function aS(a,n,s){if(Ei(a.size))if(Ei(n)&&Ei(s)){if(a.size>s)return[!1,Mx(s)];if(a.size<n)return[!1,Dx(n)]}else{if(Ei(n)&&a.size<n)return[!1,Dx(n)];if(Ei(s)&&a.size>s)return[!1,Mx(s)]}return[!0,null]}function Ei(a){return a!=null}function m4(a){var n=a.files,s=a.accept,o=a.minSize,l=a.maxSize,u=a.multiple,d=a.maxFiles,h=a.validator;return!u&&n.length>1||u&&d>=1&&n.length>d?!1:n.every(function(m){var y=nS(m,s),v=lr(y,1),x=v[0],S=aS(m,o,l),T=lr(S,1),_=T[0],E=h?h(m):null;return x&&_&&!E})}function sc(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function Ll(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!a.target&&!!a.target.files}function kx(a){a.preventDefault()}function g4(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function y4(a){return a.indexOf("Edge/")!==-1}function v4(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return g4(a)||y4(a)}function ta(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];return n.some(function(h){return!sc(o)&&h&&h.apply(void 0,[o].concat(u)),sc(o)})}}function x4(){return"showOpenFilePicker"in window}function b4(a){if(Ei(a)){var n=Object.entries(a).filter(function(s){var o=lr(s,2),l=o[0],u=o[1],d=!0;return iS(l)||(console.warn('Skipped "'.concat(l,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(u)||!u.every(sS))&&(console.warn('Skipped "'.concat(l,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(s,o){var l=lr(o,2),u=l[0],d=l[1];return Rx(Rx({},s),{},eS({},u,d))},{});return[{description:"Files",accept:n}]}return a}function S4(a){if(Ei(a))return Object.entries(a).reduce(function(n,s){var o=lr(s,2),l=o[0],u=o[1];return[].concat(Ax(n),[l],Ax(u))},[]).filter(function(n){return iS(n)||sS(n)}).join(",")}function _4(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function w4(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function iS(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function sS(a){return/^.*\.[\w]+$/.test(a)}var C4=["children"],T4=["open"],j4=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],A4=["refKey","onChange","onClick"];function E4(a){return D4(a)||M4(a)||oS(a)||R4()}function R4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function D4(a){if(Array.isArray(a))return Ff(a)}function sf(a,n){return z4(a)||N4(a,n)||oS(a,n)||k4()}function k4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oS(a,n){if(a){if(typeof a=="string")return Ff(a,n);var s=Object.prototype.toString.call(a).slice(8,-1);if(s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set")return Array.from(a);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ff(a,n)}}function Ff(a,n){(n==null||n>a.length)&&(n=a.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=a[s];return o}function N4(a,n){var s=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(s!=null){var o=[],l=!0,u=!1,d,h;try{for(s=s.call(a);!(l=(d=s.next()).done)&&(o.push(d.value),!(n&&o.length===n));l=!0);}catch(m){u=!0,h=m}finally{try{!l&&s.return!=null&&s.return()}finally{if(u)throw h}}return o}}function z4(a){if(Array.isArray(a))return a}function Nx(a,n){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);n&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,o)}return s}function mt(a){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Nx(Object(s),!0).forEach(function(o){qf(a,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Nx(Object(s)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(s,o))})}return a}function qf(a,n,s){return n in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s,a}function oc(a,n){if(a==null)return{};var s=O4(a,n),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(l=0;l<u.length;l++)o=u[l],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(a,o)&&(s[o]=a[o])}return s}function O4(a,n){if(a==null)return{};var s={},o=Object.keys(a),l,u;for(u=0;u<o.length;u++)l=o[u],!(n.indexOf(l)>=0)&&(s[l]=a[l]);return s}var kp=C.forwardRef(function(a,n){var s=a.children,o=oc(a,C4),l=lS(o),u=l.open,d=oc(l,T4);return C.useImperativeHandle(n,function(){return{open:u}},[u]),ti.createElement(C.Fragment,null,s(mt(mt({},d),{},{open:u})))});kp.displayName="Dropzone";var rS={disabled:!1,getFilesFromEvent:Gk,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};kp.defaultProps=rS;kp.propTypes={children:tt.func,accept:tt.objectOf(tt.arrayOf(tt.string)),multiple:tt.bool,preventDropOnDocument:tt.bool,noClick:tt.bool,noKeyboard:tt.bool,noDrag:tt.bool,noDragEventsBubbling:tt.bool,minSize:tt.number,maxSize:tt.number,maxFiles:tt.number,disabled:tt.bool,getFilesFromEvent:tt.func,onFileDialogCancel:tt.func,onFileDialogOpen:tt.func,useFsAccessApi:tt.bool,autoFocus:tt.bool,onDragEnter:tt.func,onDragLeave:tt.func,onDragOver:tt.func,onDrop:tt.func,onDropAccepted:tt.func,onDropRejected:tt.func,onError:tt.func,validator:tt.func};var Gf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function lS(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=mt(mt({},rS),a),s=n.accept,o=n.disabled,l=n.getFilesFromEvent,u=n.maxSize,d=n.minSize,h=n.multiple,m=n.maxFiles,y=n.onDragEnter,v=n.onDragLeave,x=n.onDragOver,S=n.onDrop,T=n.onDropAccepted,_=n.onDropRejected,E=n.onFileDialogCancel,D=n.onFileDialogOpen,R=n.useFsAccessApi,H=n.autoFocus,z=n.preventDropOnDocument,$=n.noClick,V=n.noKeyboard,Q=n.noDrag,Z=n.noDragEventsBubbling,ne=n.onError,ve=n.validator,ue=C.useMemo(function(){return S4(s)},[s]),De=C.useMemo(function(){return b4(s)},[s]),He=C.useMemo(function(){return typeof D=="function"?D:zx},[D]),Ue=C.useMemo(function(){return typeof E=="function"?E:zx},[E]),je=C.useRef(null),Re=C.useRef(null),L=C.useReducer(U4,Gf),Y=sf(L,2),ee=Y[0],oe=Y[1],we=ee.isFocused,Se=ee.isFileDialogActive,Ce=C.useRef(typeof window<"u"&&window.isSecureContext&&R&&x4()),pe=function(){!Ce.current&&Se&&setTimeout(function(){if(Re.current){var he=Re.current.files;he.length||(oe({type:"closeDialog"}),Ue())}},300)};C.useEffect(function(){return window.addEventListener("focus",pe,!1),function(){window.removeEventListener("focus",pe,!1)}},[Re,Se,Ue,Ce]);var ge=C.useRef([]),Qe=function(he){je.current&&je.current.contains(he.target)||(he.preventDefault(),ge.current=[])};C.useEffect(function(){return z&&(document.addEventListener("dragover",kx,!1),document.addEventListener("drop",Qe,!1)),function(){z&&(document.removeEventListener("dragover",kx),document.removeEventListener("drop",Qe))}},[je,z]),C.useEffect(function(){return!o&&H&&je.current&&je.current.focus(),function(){}},[je,H,o]);var at=C.useCallback(function(X){ne?ne(X):console.error(X)},[ne]),te=C.useCallback(function(X){X.preventDefault(),X.persist(),ct(X),ge.current=[].concat(E4(ge.current),[X.target]),Ll(X)&&Promise.resolve(l(X)).then(function(he){if(!(sc(X)&&!Z)){var it=he.length,ht=it>0&&m4({files:he,accept:ue,minSize:d,maxSize:u,multiple:h,maxFiles:m,validator:ve}),Et=it>0&&!ht;oe({isDragAccept:ht,isDragReject:Et,isDragActive:!0,type:"setDraggedFiles"}),y&&y(X)}}).catch(function(he){return at(he)})},[l,y,at,Z,ue,d,u,h,m,ve]),_t=C.useCallback(function(X){X.preventDefault(),X.persist(),ct(X);var he=Ll(X);if(he&&X.dataTransfer)try{X.dataTransfer.dropEffect="copy"}catch{}return he&&x&&x(X),!1},[x,Z]),Lt=C.useCallback(function(X){X.preventDefault(),X.persist(),ct(X);var he=ge.current.filter(function(ht){return je.current&&je.current.contains(ht)}),it=he.indexOf(X.target);it!==-1&&he.splice(it,1),ge.current=he,!(he.length>0)&&(oe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ll(X)&&v&&v(X))},[je,v,Z]),rn=C.useCallback(function(X,he){var it=[],ht=[];X.forEach(function(Et){var ia=nS(Et,ue),Hn=sf(ia,2),si=Hn[0],oi=Hn[1],In=aS(Et,d,u),Rt=sf(In,2),ln=Rt[0],Mt=Rt[1],ri=ve?ve(Et):null;if(si&&ln&&!ri)it.push(Et);else{var W=[oi,Mt];ri&&(W=W.concat(ri)),ht.push({file:Et,errors:W.filter(function(J){return J})})}}),(!h&&it.length>1||h&&m>=1&&it.length>m)&&(it.forEach(function(Et){ht.push({file:Et,errors:[h4]})}),it.splice(0)),oe({acceptedFiles:it,fileRejections:ht,isDragReject:ht.length>0,type:"setFiles"}),S&&S(it,ht,he),ht.length>0&&_&&_(ht,he),it.length>0&&T&&T(it,he)},[oe,h,ue,d,u,m,S,T,_,ve]),At=C.useCallback(function(X){X.preventDefault(),X.persist(),ct(X),ge.current=[],Ll(X)&&Promise.resolve(l(X)).then(function(he){sc(X)&&!Z||rn(he,X)}).catch(function(he){return at(he)}),oe({type:"reset"})},[l,rn,at,Z]),q=C.useCallback(function(){if(Ce.current){oe({type:"openDialog"}),He();var X={multiple:h,types:De};window.showOpenFilePicker(X).then(function(he){return l(he)}).then(function(he){rn(he,null),oe({type:"closeDialog"})}).catch(function(he){_4(he)?(Ue(he),oe({type:"closeDialog"})):w4(he)?(Ce.current=!1,Re.current?(Re.current.value=null,Re.current.click()):at(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):at(he)});return}Re.current&&(oe({type:"openDialog"}),He(),Re.current.value=null,Re.current.click())},[oe,He,Ue,R,rn,at,De,h]),ie=C.useCallback(function(X){!je.current||!je.current.isEqualNode(X.target)||(X.key===" "||X.key==="Enter"||X.keyCode===32||X.keyCode===13)&&(X.preventDefault(),q())},[je,q]),_e=C.useCallback(function(){oe({type:"focus"})},[]),wt=C.useCallback(function(){oe({type:"blur"})},[]),Ft=C.useCallback(function(){$||(v4()?setTimeout(q,0):q())},[$,q]),pt=function(he){return o?null:he},xn=function(he){return V?null:pt(he)},lt=function(he){return Q?null:pt(he)},ct=function(he){Z&&he.stopPropagation()},Yt=C.useMemo(function(){return function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=X.refKey,it=he===void 0?"ref":he,ht=X.role,Et=X.onKeyDown,ia=X.onFocus,Hn=X.onBlur,si=X.onClick,oi=X.onDragEnter,In=X.onDragOver,Rt=X.onDragLeave,ln=X.onDrop,Mt=oc(X,j4);return mt(mt(qf({onKeyDown:xn(ta(Et,ie)),onFocus:xn(ta(ia,_e)),onBlur:xn(ta(Hn,wt)),onClick:pt(ta(si,Ft)),onDragEnter:lt(ta(oi,te)),onDragOver:lt(ta(In,_t)),onDragLeave:lt(ta(Rt,Lt)),onDrop:lt(ta(ln,At)),role:typeof ht=="string"&&ht!==""?ht:"presentation"},it,je),!o&&!V?{tabIndex:0}:{}),Mt)}},[je,ie,_e,wt,Ft,te,_t,Lt,At,V,Q,o]),Gs=C.useCallback(function(X){X.stopPropagation()},[]),Ys=C.useMemo(function(){return function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=X.refKey,it=he===void 0?"ref":he,ht=X.onChange,Et=X.onClick,ia=oc(X,A4),Hn=qf({accept:ue,multiple:h,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:pt(ta(ht,At)),onClick:pt(ta(Et,Gs)),tabIndex:-1},it,Re);return mt(mt({},Hn),ia)}},[Re,s,h,At,o]);return mt(mt({},ee),{},{isFocused:we&&!o,getRootProps:Yt,getInputProps:Ys,rootRef:je,inputRef:Re,open:pt(q)})}function U4(a,n){switch(n.type){case"focus":return mt(mt({},a),{},{isFocused:!0});case"blur":return mt(mt({},a),{},{isFocused:!1});case"openDialog":return mt(mt({},Gf),{},{isFileDialogActive:!0});case"closeDialog":return mt(mt({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return mt(mt({},a),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return mt(mt({},a),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return mt({},Gf);default:return a}}function zx(){}const Ox=5*1024*1024,B4=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],L4=a=>B4.includes(a.type)?a.size>Ox?{valid:!1,error:`File too large. Maximum size is ${cS(Ox)}.`}:{valid:!0}:{valid:!1,error:"Invalid file type. Please upload an image (PNG, JPG, GIF, or WEBP)."},cS=a=>{if(a===0)return"0 Bytes";const n=1024,s=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(a)/Math.log(n));return`${Math.round(a/Math.pow(n,o)*100)/100} ${s[o]}`},V4=a=>new Promise((n,s)=>{const o=new FileReader;o.onloadend=()=>{typeof o.result=="string"?n(o.result):s(new Error("Failed to read file"))},o.onerror=()=>{s(new Error("Error reading file"))},o.readAsDataURL(a)}),Np=({onFileAccepted:a,currentPreview:n,maxSize:s=5*1024*1024,label:o="Upload Image",helperText:l="Drag and drop an image here, or click to browse",disabled:u=!1})=>{const[d,h]=C.useState(n||null),[m,y]=C.useState(null),[v,x]=C.useState(!1),S=C.useCallback(async H=>{y(null),x(!0);const z=H[0];if(!z){x(!1);return}const $=L4(z);if(!$.valid){y($.error||"Invalid file"),x(!1);return}try{const V=await V4(z);h(V),a(z)}catch(V){y("Failed to process image"),console.error("Error processing image:",V)}finally{x(!1)}},[a]),{getRootProps:T,getInputProps:_,isDragActive:E,isDragReject:D}=lS({onDrop:S,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"]},maxSize:s,multiple:!1,disabled:u||v}),R=H=>{H.stopPropagation(),h(null),y(null)};return p.jsxs("div",{style:{width:"100%"},children:[o&&p.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:600,color:"var(--text)"},children:o}),p.jsxs("div",{...T(),style:{border:`2px dashed ${m||D?"#ff6b6b":E?"var(--accent)":"var(--border)"}`,borderRadius:"12px",padding:d?"0":"32px",textAlign:"center",cursor:u||v?"not-allowed":"pointer",transition:"all 0.3s ease",backgroundColor:E?"var(--background)":d?"transparent":"var(--surface)",position:"relative",opacity:u||v?.6:1},children:[p.jsx("input",{..._()}),d?p.jsxs("div",{style:{position:"relative"},children:[p.jsx("img",{src:d,alt:"Preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"10px"}}),!u&&p.jsx("button",{onClick:R,style:{position:"absolute",top:"8px",right:"8px",background:"rgba(0, 0, 0, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease"},onMouseEnter:H=>{H.currentTarget.style.background="rgba(0, 0, 0, 0.9)"},onMouseLeave:H=>{H.currentTarget.style.background="rgba(0, 0, 0, 0.7)"},children:p.jsx(Bi,{size:18})}),p.jsxs("div",{style:{position:"absolute",bottom:"8px",right:"8px",background:"rgba(76, 175, 80, 0.9)",color:"white",padding:"4px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(N_,{size:14}),"Image selected"]})]}):p.jsxs("div",{children:[p.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:v?p.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid var(--border)",borderTop:"4px solid var(--accent)",borderRadius:"50%",animation:"spin 1s linear infinite"}}):D||m?p.jsx(Ns,{size:48,color:"#ff6b6b"}):p.jsx(z_,{size:48,color:E?"var(--accent)":"var(--text-muted)"})}),v?p.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:600,color:"var(--text)"},children:"Processing..."}):p.jsxs(p.Fragment,{children:[p.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:600,color:E?"var(--accent)":"var(--text)"},children:D?"Invalid file type":E?"Drop image here":l}),p.jsxs("p",{style:{margin:0,fontSize:"12px",color:"var(--text-muted)"},children:["PNG, JPG, GIF or WEBP (max ",cS(s),")"]})]})]})]}),m&&p.jsxs("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"6px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Ns,{size:16,color:"#ff6b6b"}),p.jsx("span",{style:{fontSize:"13px",color:"#c33"},children:m})]}),p.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},P4={sm:8,md:10,lg:12},Ux={scale:[1,1.2,1],opacity:[1,.8,1]},H4={boxShadow:["0 0 0 0 rgba(34, 197, 94, 0.4)","0 0 0 4px rgba(34, 197, 94, 0.2)","0 0 0 0 rgba(34, 197, 94, 0)"]},uS=({isOnline:a,size:n="sm",showLabel:s=!1,lastSeen:o,position:l="standalone",className:u=""})=>{const d=P4[n],y={width:d,height:d,backgroundColor:a?"var(--online-color, #22c55e)":"var(--offline-color, #94a3b8)",borderRadius:"50%"};return l==="avatar-overlay"?p.jsx(Ne.div,{className:u,style:{...y,position:"absolute",bottom:0,right:0,border:"2px solid var(--surface)",boxShadow:a?"0 0 8px rgba(34, 197, 94, 0.5)":"none"},animate:a?{...Ux,...H4}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},title:a?"Online":o?`Last seen ${gf(o)}`:"Offline"}):p.jsxs("div",{className:u,style:{display:"flex",alignItems:"center",gap:s?"6px":"0"},children:[p.jsx(Ne.div,{style:{...y,flexShrink:0,boxShadow:a?"0 0 8px rgba(34, 197, 94, 0.5)":"none"},animate:a?Ux:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s&&p.jsx(Ne.span,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{duration:.2},style:{fontSize:"13px",color:a?"var(--online-color, #22c55e)":"var(--text-muted)",whiteSpace:"nowrap",fontWeight:a?500:400},children:a?"Online":o?`Last seen ${gf(o)}`:"Offline"})]})},I4=["SendMessage","ManageMessages","ManageReactions","ManageUsers","ManageChatInfo","ManageBans","PinMessages"],F4=({isOpen:a,onClose:n,chat:s,currentUserId:o,onEditGroup:l,onDeleteGroup:u,onLeaveGroup:d,onKickMember:h,onViewUserProfile:m,onBanMember:y,onUpdatePrivacy:v})=>{const[x,S]=C.useState(null),[T,_]=C.useState(!1),[E,D]=C.useState(null),[R,H]=C.useState(""),[z,$]=C.useState([]),[V,Q]=C.useState(!1),[Z,ne]=C.useState(""),[ve,ue]=C.useState([]),[De,He]=C.useState(!1),{isUserOnline:Ue,getUserLastSeen:je,getOnlineMembersCount:Re}=nt(),Y=x?.members.find(te=>te.userId===o)?.role==="admin";C.useEffect(()=>{a&&s.id&&ee()},[a,s.id]);const ee=async()=>{_(!0),D(null);try{const te=await rt.getChatProfile(s.id);S(te)}catch(te){D(te.response?.data?.message||"Failed to load profile")}finally{_(!1)}};C.useEffect(()=>{if(!x?.members){$([]);return}if(!R.trim()){$(x.members);return}const te=R.toLowerCase(),_t=x.members.filter(Lt=>Lt.user.username.toLowerCase().includes(te)||Lt.user.email?.toLowerCase().includes(te));$(_t)},[x?.members,R]);const oe=async te=>{if(!h)return;await Ta({title:"Remove Member",message:"Are you sure you want to remove this member from the group?",confirmText:"Remove",cancelText:"Cancel",variant:"danger"})&&h(te)},we=async te=>{if(ne(te),!te.trim()){ue([]);return}He(!0);try{const Lt=await(await It(()=>Promise.resolve().then(()=>ei),void 0).then(q=>q.userService)).searchUsers(te),rn=new Set(x?.members.map(q=>q.userId)||[]),At=Lt.filter(q=>!rn.has(q.id));ue(At)}catch(_t){console.error("Failed to search users:",_t)}finally{He(!1)}},Se=async te=>{if(!(!s||!Y))try{s.type==="group"?await rt.addMemberToGroup(s.id,te):s.type==="channel"&&await rt.addMemberToChannel(s.id,te),ke.success("Member added successfully"),Q(!1),ne(""),ue([]),await ee()}catch(_t){console.error("Failed to add member:",_t),ke.error(_t.response?.data?.message||"Failed to add member")}},Ce=async()=>{if(!d)return;await Ta({title:"Leave Group",message:"Are you sure you want to leave this group? You will lose access to all messages and content.",confirmText:"Leave",cancelText:"Stay",variant:"warning"})&&(d(),n())},pe=async()=>{if(!u)return;await Ta({title:"Delete Group",message:"Are you sure you want to delete this group? This action cannot be undone and all messages will be permanently deleted.",confirmText:"Delete Forever",cancelText:"Cancel",variant:"danger"})&&(u(),n())},ge={admin:[],moderator:[],member:[]};z.forEach(te=>{ge[te.role].push(te)});const Qe=Re(s.id),at=x?.members.length||0;return p.jsxs(p.Fragment,{children:[p.jsx(Us,{children:a&&p.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:p.jsxs(Ne.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},style:{backgroundColor:"var(--surface)",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},onClick:te=>te.stopPropagation(),children:[p.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("h2",{style:{margin:0,fontSize:"20px",fontWeight:700,color:"var(--text)"},children:[s.type==="channel"?"Channel":"Group"," Profile"]}),p.jsx("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"background-color 0.2s"},onMouseEnter:te=>{te.currentTarget.style.backgroundColor="var(--background)"},onMouseLeave:te=>{te.currentTarget.style.backgroundColor="transparent"},children:p.jsx(Bi,{size:24,color:"var(--text)"})})]}),p.jsxs("div",{style:{overflowY:"auto",flex:1,padding:"20px"},children:[T&&p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"Loading profile..."}),E&&p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#ff6b6b"},children:E}),!T&&!E&&x&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[x.avatar?p.jsx("img",{src:x.avatar,alt:x.name,style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"16px"}}):p.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"48px",fontWeight:700,marginBottom:"16px"},children:x.name.charAt(0).toUpperCase()}),p.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:700,color:"var(--text)"},children:x.name}),x.description&&p.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"var(--text-muted)"},children:x.description})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"24px"},children:[p.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[p.jsx(Xl,{size:20,color:"var(--text-muted)",style:{marginBottom:"4px"}}),p.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"var(--text)"},children:at}),p.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Total Members"})]}),p.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[p.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#51cf66",margin:"0 auto 4px auto"}}),p.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#51cf66"},children:Qe}),p.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Online Now"})]}),p.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[p.jsx(O_,{size:20,color:"var(--text-muted)",style:{marginBottom:"4px"}}),p.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--text)"},children:new Date(x.createdAt).toLocaleDateString()}),p.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Created"})]})]}),x.privacy&&p.jsxs("div",{style:{marginBottom:"24px"},children:[p.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:700,color:"var(--text)"},children:"Privacy"}),p.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--text)",marginBottom:"4px"},children:x.privacy==="public"?"Public":"Private"}),p.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:x.privacy==="public"?"Anyone can find and join":"Invite-only membership"})]}),Y&&v&&p.jsxs("button",{onClick:async()=>{const te=x.privacy==="public"?"private":"public";await Ta({title:"Change Privacy",message:`Change this ${s?.type||"chat"} to ${te}? ${te==="private"?"Only invited members will be able to join.":"Anyone will be able to find and join."}`,confirmText:"Change",cancelText:"Cancel",variant:"info"})&&v(te)},style:{padding:"8px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600,transition:"opacity 0.2s"},onMouseEnter:te=>{te.currentTarget.style.opacity="0.8"},onMouseLeave:te=>{te.currentTarget.style.opacity="1"},children:["Change to ",x.privacy==="public"?"Private":"Public"]})]})]}),Y&&p.jsx("div",{style:{marginBottom:"24px"},children:p.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[p.jsxs("button",{onClick:()=>Q(!0),style:{flex:1,padding:"10px 16px",backgroundColor:"#51cf66",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[p.jsx(Xl,{size:16}),"Add Member"]}),l&&p.jsxs("button",{onClick:l,style:{flex:1,padding:"10px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[p.jsx(U_,{size:16}),"Edit ",s.type==="channel"?"Channel":"Group"]}),u&&p.jsxs("button",{onClick:pe,style:{padding:"10px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[p.jsx(Hx,{size:16}),"Delete"]})]})}),!Y&&d&&p.jsx("div",{style:{marginBottom:"24px"},children:p.jsxs("button",{onClick:Ce,style:{width:"100%",padding:"10px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[p.jsx(Ix,{size:16}),"Leave ",s.type==="channel"?"Channel":"Group"]})}),p.jsxs("div",{children:[p.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:700,color:"var(--text)"},children:["Members (",at,")"]}),at>5&&p.jsxs("div",{style:{marginBottom:"16px"},children:[p.jsx("input",{type:"text",placeholder:"Search members...",value:R,onChange:te=>H(te.target.value),style:{width:"100%",padding:"10px 16px",backgroundColor:"var(--background)",border:"2px solid var(--border)",borderRadius:"8px",fontSize:"14px",color:"var(--text)",transition:"border-color 0.2s"},onFocus:te=>{te.currentTarget.style.borderColor="var(--accent)"},onBlur:te=>{te.currentTarget.style.borderColor="var(--border)"}}),p.jsxs("div",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:["Showing ",z.length," of ",at," members"]})]}),ge.admin.length>0&&p.jsxs("div",{style:{marginBottom:"16px"},children:[p.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Admins"}),ge.admin.map(te=>p.jsx(of,{member:te,currentUserId:o,isAdmin:Y,isUserOnline:Ue,getUserLastSeen:je,onViewProfile:m,onKick:oe,onBanMember:y,chatId:s.id},te.id))]}),ge.moderator.length>0&&p.jsxs("div",{style:{marginBottom:"16px"},children:[p.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Moderators"}),ge.moderator.map(te=>p.jsx(of,{member:te,currentUserId:o,isAdmin:Y,isUserOnline:Ue,getUserLastSeen:je,onViewProfile:m,onKick:oe,onBanMember:y,chatId:s.id},te.id))]}),ge.member.length>0&&p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Members"}),ge.member.map(te=>p.jsx(of,{member:te,currentUserId:o,isAdmin:Y,isUserOnline:Ue,getUserLastSeen:je,onViewProfile:m,onKick:oe,onBanMember:y,chatId:s.id},te.id))]})]})]})]})]})})}),p.jsx(Us,{children:V&&p.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Q(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"16px"},children:p.jsxs(Ne.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:te=>te.stopPropagation(),style:{backgroundColor:"var(--surface)",borderRadius:"16px",maxWidth:"500px",width:"100%",padding:"24px",maxHeight:"80vh",overflow:"auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsx("h3",{style:{margin:0,color:"var(--text)"},children:"Add Member"}),p.jsx("button",{onClick:()=>Q(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:"var(--text-muted)"},children:p.jsx(Bi,{size:20})})]}),p.jsx("input",{type:"text",placeholder:"Search users...",value:Z,onChange:te=>we(te.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",backgroundColor:"var(--background)",color:"var(--text)",fontSize:"14px",marginBottom:"16px"},autoFocus:!0}),De&&p.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"Searching..."}),!De&&ve.length===0&&Z&&p.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"No users found"}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ve.map(te=>p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600},children:te.username?.charAt(0).toUpperCase()||"?"}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:600,color:"var(--text)"},children:te.username}),te.email&&p.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:te.email})]})]}),p.jsx("button",{onClick:()=>Se(te.id),style:{padding:"8px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:600},children:"Add"})]},te.id))})]})})})]})},of=({member:a,currentUserId:n,isAdmin:s,isUserOnline:o,getUserLastSeen:l,onViewProfile:u,onKick:d,onBanMember:h,chatId:m})=>{const[y,v]=C.useState(!1),[x,S]=C.useState(!1),T=o(a.userId),_=l(a.userId),E=a.userId===n,D=async z=>{try{await rt.addUserPermission(m,a.userId,z),ke.success(`Permission "${z}" granted to ${a.user.username}`),S(!1),v(!1)}catch($){console.error("Failed to add permission:",$),ke.error($.response?.data?.message||"Failed to grant permission")}},R=()=>a.role==="admin"?p.jsxs(Ne.span,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:15},style:{padding:"4px 10px",backgroundColor:"#ffd43b",color:"#000",borderRadius:"6px",fontSize:"11px",fontWeight:700,display:"inline-flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 8px rgba(255, 212, 59, 0.4)"},children:[p.jsx(L_,{size:14}),"Admin"]}):a.role==="moderator"?p.jsxs(Ne.span,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:15,delay:.05},style:{padding:"4px 10px",backgroundColor:"#74c0fc",color:"#000",borderRadius:"6px",fontSize:"11px",fontWeight:700,display:"inline-flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 8px rgba(116, 192, 252, 0.4)"},children:[p.jsx(Kl,{size:14}),"Mod"]}):a.role==="member"?p.jsx(Ne.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15,delay:.1},style:{padding:"4px 10px",backgroundColor:"#adb5bd",color:"#fff",borderRadius:"6px",fontSize:"11px",fontWeight:600,display:"inline-flex",alignItems:"center",gap:"4px"},children:"Member"}):null,H=s&&!E&&a.role!=="admin";return p.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",backgroundColor:"var(--background)",borderRadius:"8px",marginBottom:"8px",cursor:u?"pointer":"default",transition:"background-color 0.2s",position:"relative"},onClick:()=>u&&u(a.userId),onMouseEnter:z=>{u&&(z.currentTarget.style.backgroundColor="var(--border)")},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="var(--background)"},children:[p.jsxs("div",{style:{position:"relative",marginRight:"12px"},children:[a.user.avatar?p.jsx("img",{src:a.user.avatar,alt:a.user.username,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:700},children:a.user.username.charAt(0).toUpperCase()}),p.jsx(uS,{isOnline:T,lastSeen:_,size:"sm",position:"avatar-overlay"})]}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"2px"},children:[p.jsxs("span",{style:{fontSize:"14px",fontWeight:600,color:"var(--text)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.user.username,E&&" (You)"]}),R()]}),p.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:T?"Online":_?`Last seen ${gf(_)}`:"Offline"})]}),H&&p.jsxs("div",{style:{position:"relative"},children:[p.jsx(Ne.button,{onClick:z=>{z.stopPropagation(),v(!y)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2))",border:"1px solid rgba(99, 102, 241, 0.3)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:y?"0 0 15px rgba(99, 102, 241, 0.5), 0 4px 12px rgba(0, 0, 0, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},children:p.jsx(df,{size:16,color:"#818cf8"})}),p.jsx(Us,{children:y&&p.jsxs(Ne.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{type:"spring",stiffness:400,damping:25},style:{position:"absolute",right:0,bottom:"100%",marginBottom:"8px",background:"linear-gradient(145deg, rgba(30, 41, 59, 0.98), rgba(15, 23, 42, 0.95))",border:"2px solid rgba(99, 102, 241, 0.3)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(99, 102, 241, 0.2)",minWidth:"200px",zIndex:1e3,overflow:"hidden",backdropFilter:"blur(20px)"},children:[p.jsx("div",{style:{padding:"12px 16px",borderBottom:"1px solid rgba(99, 102, 241, 0.2)",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))"},children:p.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:"#818cf8",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Manage ",a.user.username]})}),p.jsxs(Ne.button,{onClick:z=>{z.stopPropagation(),S(!x)},whileHover:{backgroundColor:"rgba(99, 102, 241, 0.15)"},style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease"},children:[p.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(102, 126, 234, 0.4)"},children:p.jsx(B_,{size:14,color:"white"})}),"Manage Permissions"]}),p.jsx(Us,{children:x&&p.jsx(Ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},style:{borderTop:"1px solid rgba(99, 102, 241, 0.15)",background:"rgba(0, 0, 0, 0.2)",overflow:"hidden"},children:I4.map((z,$)=>p.jsxs(Ne.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:$*.03},onClick:V=>{V.stopPropagation(),D(z)},whileHover:{backgroundColor:"rgba(99, 102, 241, 0.2)",paddingLeft:"24px"},style:{width:"100%",padding:"10px 16px 10px 20px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"13px",color:"#94a3b8",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea, #764ba2)",boxShadow:"0 0 6px rgba(102, 126, 234, 0.5)"}}),z]},z))})}),p.jsxs("div",{style:{borderTop:"1px solid rgba(239, 68, 68, 0.2)",marginTop:"4px"},children:[h&&p.jsxs(Ne.button,{onClick:async z=>{z.stopPropagation(),await Ta({title:"Ban Member",message:`Are you sure you want to ban ${a.user.username}? They will not be able to rejoin this group.`,confirmText:"Ban",cancelText:"Cancel",variant:"danger"})&&h(a.userId),v(!1)},whileHover:{backgroundColor:"rgba(239, 68, 68, 0.15)"},style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#f87171",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease"},children:[p.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #ef4444, #dc2626)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)"},children:p.jsx(Kl,{size:14,color:"white"})}),"Ban Member"]}),d&&p.jsxs(Ne.button,{onClick:z=>{z.stopPropagation(),d(a.userId),v(!1)},whileHover:{backgroundColor:"rgba(239, 68, 68, 0.15)"},style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#f87171",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease"},children:[p.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #f97316, #ea580c)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(249, 115, 22, 0.4)"},children:p.jsx(Hx,{size:14,color:"white"})}),"Remove Member"]})]})]})})]})]})},q4=({isOpen:a,onClose:n,userId:s,onSendMessage:o,onBlockUser:l})=>{const[u,d]=C.useState(null),[h,m]=C.useState(!1),[y,v]=C.useState(null),[x,S]=C.useState([]),{isUserOnline:T}=nt();C.useEffect(()=>{a&&s&&_()},[a,s]);const _=async()=>{m(!0),v(null);try{const z=await er.getUserProfile(s);d(z)}catch(z){v(z.response?.data?.message||"Failed to load user profile")}finally{m(!1)}};C.useEffect(()=>{u&&(async()=>{if(u)try{const Q=nt.getState().chats.filter(Z=>Z.type!=="dm"&&Z.members?.some(ne=>ne.userId===s));S(Q)}catch($){console.error("Failed to load shared chats:",$)}})()},[u,s]);const E=()=>{o&&(o(s),n())},D=async()=>{if(!l)return;await Ta({title:"Block User",message:`Are you sure you want to block ${u?.username||"this user"}? They won't be able to message you.`,confirmText:"Block",cancelText:"Cancel",variant:"danger"})&&(l(s),n())},R=u?T(u.id):!1;return p.jsx(Us,{children:a&&p.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(15, 23, 42, 0.8) 0%, rgba(30, 27, 75, 0.7) 100%)",backdropFilter:"blur(12px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:[p.jsx("style",{children:`
    .userProfileScrollContainer::-webkit-scrollbar {
      width: 6px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-track {
      background: rgba(99, 102, 241, 0.1);
      border-radius: 3px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
      border-radius: 3px;
    }
    .userProfileScrollContainer::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #764ba2 0%, #667eea 100%);
    }
  `}),p.jsxs(Ne.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(145deg, rgba(30, 41, 59, 0.98), rgba(15, 23, 42, 0.95))",borderRadius:"24px",border:"2px solid rgba(99, 102, 241, 0.3)",maxWidth:"480px",width:"100%",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 60px rgba(0, 0, 0, 0.4), 0 0 40px rgba(99, 102, 241, 0.2)",overflow:"hidden"},onClick:z=>z.stopPropagation(),children:[p.jsxs("div",{style:{padding:"20px 24px",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",borderBottom:"1px solid rgba(99, 102, 241, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.4)"},children:p.jsx(Fx,{size:20,color:"white"})}),p.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:700,background:"linear-gradient(135deg, #f1f5f9, #e2e8f0)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"User Profile"})]}),p.jsx(Ne.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.95},onClick:n,style:{width:"36px",height:"36px",borderRadius:"10px",border:"1px solid rgba(99, 102, 241, 0.3)",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.15))",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#a5b4fc",transition:"all 0.2s ease"},children:p.jsx(Bi,{size:20})})]}),p.jsxs("div",{className:"userProfileScrollContainer",style:{overflowY:"auto",flex:1,padding:"24px"},children:[h&&p.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#94a3b8"},children:[p.jsx(Ne.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:"40px",height:"40px",border:"3px solid rgba(99, 102, 241, 0.2)",borderTopColor:"#818cf8",borderRadius:"50%",margin:"0 auto 16px"}}),"Loading profile..."]}),y&&p.jsx("div",{style:{textAlign:"center",padding:"60px 20px",color:"#f87171"},children:y}),!h&&!y&&u&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"28px"},children:[p.jsxs(Ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},style:{position:"relative",display:"inline-block",marginBottom:"20px"},children:[u.avatar?p.jsx("img",{src:u.avatar,alt:u.username,style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"4px solid rgba(99, 102, 241, 0.3)",boxShadow:"0 8px 32px rgba(99, 102, 241, 0.3)"}}):p.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"48px",fontWeight:700,border:"4px solid rgba(99, 102, 241, 0.3)",boxShadow:"0 8px 32px rgba(99, 102, 241, 0.3)"},children:u.username.charAt(0).toUpperCase()}),p.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"24px",height:"24px",borderRadius:"50%",background:R?"#22c55e":"#64748b",border:"3px solid rgba(30, 41, 59, 0.95)",boxShadow:R?"0 0 12px rgba(34, 197, 94, 0.5)":"none"}})]}),p.jsx(Ne.h3,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.15},style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:700,color:"#f1f5f9"},children:u.username}),p.jsxs(Ne.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",borderRadius:"20px",background:R?"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(22, 163, 74, 0.1))":"rgba(100, 116, 139, 0.2)",border:`1px solid ${R?"rgba(34, 197, 94, 0.3)":"rgba(100, 116, 139, 0.3)"}`},children:[p.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:R?"#22c55e":"#64748b",boxShadow:R?"0 0 8px rgba(34, 197, 94, 0.6)":"none"}}),p.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:R?"#4ade80":"#94a3b8"},children:R?"Online":"Offline"})]})]}),u.bio&&p.jsxs(Ne.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},style:{padding:"16px",background:"rgba(99, 102, 241, 0.1)",border:"1px solid rgba(99, 102, 241, 0.2)",borderRadius:"16px",marginBottom:"20px"},children:[p.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"12px",fontWeight:700,color:"#818cf8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"About"}),p.jsx("p",{style:{margin:0,fontSize:"14px",color:"#cbd5e1",lineHeight:"1.6"},children:u.bio})]}),p.jsxs(Ne.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"20px"},children:[u.email&&p.jsxs("div",{style:{padding:"14px",background:"rgba(99, 102, 241, 0.08)",border:"1px solid rgba(99, 102, 241, 0.15)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(V_,{size:16,color:"white"})}),p.jsxs("div",{style:{overflow:"hidden"},children:[p.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginBottom:"2px"},children:"EMAIL"}),p.jsx("div",{style:{fontSize:"13px",color:"#e2e8f0",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.email})]})]}),u.addMePolicy&&p.jsxs("div",{style:{padding:"14px",background:"rgba(99, 102, 241, 0.08)",border:"1px solid rgba(99, 102, 241, 0.15)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(Kl,{size:16,color:"white"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginBottom:"2px"},children:"ADD POLICY"}),p.jsx("div",{style:{fontSize:"13px",color:"#e2e8f0",fontWeight:500},children:u.addMePolicy})]})]})]}),x&&x.length>0&&p.jsxs(Ne.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.35},style:{padding:"16px",background:"rgba(99, 102, 241, 0.08)",border:"1px solid rgba(99, 102, 241, 0.15)",borderRadius:"16px",marginBottom:"20px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[p.jsx(Xl,{size:16,color:"#818cf8"}),p.jsxs("h4",{style:{margin:0,fontSize:"12px",fontWeight:700,color:"#818cf8",textTransform:"uppercase",letterSpacing:"0.5px"},children:[x.length," Shared ",x.length===1?"Chat":"Chats"]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[x.slice(0,3).map((z,$)=>p.jsxs(Ne.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4+$*.05},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",background:"rgba(99, 102, 241, 0.1)",borderRadius:"10px",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:V=>{V.currentTarget.style.background="rgba(99, 102, 241, 0.2)",V.currentTarget.style.transform="translateX(4px)"},onMouseLeave:V=>{V.currentTarget.style.background="rgba(99, 102, 241, 0.1)",V.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:{fontSize:"16px"},children:z.type==="group"?"":""}),p.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#e2e8f0"},children:z.name})]},z.id)),x.length>3&&p.jsxs("div",{style:{fontSize:"12px",color:"#64748b",textAlign:"center",padding:"4px"},children:["+",x.length-3," more"]})]})]}),p.jsxs(Ne.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.45},style:{display:"flex",gap:"12px",flexDirection:"column"},children:[o&&p.jsxs(Ne.button,{whileHover:{scale:1.02,boxShadow:"0 8px 24px rgba(102, 126, 234, 0.4)"},whileTap:{scale:.98},onClick:E,style:{width:"100%",padding:"14px 20px",background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",border:"none",borderRadius:"14px",cursor:"pointer",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)",transition:"all 0.2s ease"},children:[p.jsx(P_,{size:20}),"Send Message"]}),l&&p.jsxs(Ne.button,{whileHover:{scale:1.02,background:"rgba(239, 68, 68, 0.2)"},whileTap:{scale:.98},onClick:D,style:{width:"100%",padding:"14px 20px",background:"rgba(239, 68, 68, 0.1)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"14px",cursor:"pointer",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease"},children:[p.jsx(H_,{size:20}),"Block User"]})]})]})]})]})]})})},G4=a=>{if(!a||a==="undefined"||a==="null")return"?";const n=String(a).trim();if(!n||n.length===0)return"?";const s=n.split(/\s+/).filter(o=>o.length>0);return s.length===0?"?":s.length===1?s[0][0]?.toUpperCase()||"?":s.map(o=>o[0]).join("").toUpperCase().slice(0,2)||"?"},Jo=({src:a,name:n,fallbackClass:s})=>{const[o,l]=ti.useState(!a),u=()=>{l(!0)};return o||!a?p.jsx("div",{className:s,children:G4(n)}):p.jsx("img",{src:a,alt:n,className:s,onError:u,loading:"lazy"})},Y4=a=>{if(!a)return"Unknown";try{const n=new Date(a);if(isNaN(n.getTime()))return console.warn("Invalid date string:",a),"Invalid date";const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate()),l=new Date(o);l.setDate(l.getDate()-1);const u=new Date(n.getFullYear(),n.getMonth(),n.getDate());return u.getTime()===o.getTime()?n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):u.getTime()===l.getTime()?"Yesterday":s.getTime()-n.getTime()<10080*60*1e3?n.toLocaleString("en-US",{weekday:"short"}):n.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(n){return console.error("Error formatting time:",n,a),"Invalid date"}},$4=a=>{if(!a.lastMessage)return"No messages yet";const n=a.lastMessage.content||"(No content)";if(a.type!=="dm"&&a.lastMessage.sender){const o=`${a.lastMessage.sender.username||"Unknown"}: ${n}`;return o.length>50?o.substring(0,47)+"...":o}return n.length>50?n.substring(0,47)+"...":n},X4=({chats:a,currentChat:n,onSelectChat:s,isLoadingChats:o,user:l,onLogout:u,onMenuOpen:d,searchQuery:h,onSearchChange:m,searchResults:y,onSelectSearchResult:v,isSearching:x,isDarkMode:S,onClearSearch:T,isMobileOpen:_=!1,onMobileClose:E})=>{const D=C.useRef(null);return C.useEffect(()=>{const R=H=>{D.current&&!D.current.contains(H.target)&&T()};return h&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[h,T]),p.jsxs(p.Fragment,{children:[_&&p.jsx("div",{className:A.mobileOverlay,onClick:E,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:99,display:"none"}}),p.jsxs("div",{className:`${A.leftPanel} ${S?A.darkMode:""} ${_?A.mobileOpen:""}`,children:[p.jsxs("div",{className:A.panelHeader,children:[p.jsx("h1",{className:A.title,children:"Chats"}),p.jsxs(Ne.button,{className:A.menuButton,onClick:d,title:"Settings",whileHover:{scale:1.1,boxShadow:"0 0 20px rgba(102, 126, 234, 0.5)"},whileTap:{scale:.95},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",width:"42px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",position:"relative",overflow:"hidden"},children:[p.jsx(Ne.div,{animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"},style:{position:"absolute",width:"100%",height:"100%",background:"linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%)"}}),p.jsx(I_,{size:20,color:"white",style:{position:"relative",zIndex:1}})]})]}),p.jsxs("div",{className:A.searchBar,ref:D,children:[p.jsx("input",{type:"text",placeholder:"Search chats, users...",className:A.searchInput,value:h,onChange:R=>m(R.target.value)}),h&&p.jsxs("div",{className:`${A.searchResults} ${S?A.darkMode:""}`,onClick:R=>R.stopPropagation(),children:[x&&p.jsx("div",{className:A.searchLoading,children:"Searching..."}),!x&&y.length===0&&p.jsx("div",{className:A.searchNoResults,children:"No results found"}),y.map(R=>p.jsxs("div",{className:A.searchResultItem,onClick:()=>{v(R),T()},children:[p.jsx("div",{className:A.searchResultAvatar,children:p.jsx(Jo,{src:R.avatar,name:R.name,fallbackClass:A.avatarFallback})}),p.jsxs("div",{className:A.searchResultInfo,children:[p.jsxs("div",{className:A.searchResultName,children:[R.name,p.jsx("span",{className:A.searchResultTypeIcon,title:R.type,children:R.type==="user"?" ":R.type==="group"?" ":R.type==="channel"?" ":""})]}),p.jsx("div",{className:A.searchResultType,children:R.type==="user"?"User":R.type==="group"?"Group":R.type==="channel"?"Channel":"Unknown"})]})]},R.id))]})]}),p.jsxs("div",{className:A.chatList,children:[o&&p.jsx("div",{className:A.loading,children:"Loading chats..."}),!o&&a.length===0&&p.jsx("div",{className:A.emptyState,children:"No chats yet. Start a conversation!"}),a.map(R=>p.jsxs("div",{className:`${A.chatItem} ${n?.id===R.id?A.active:""}`,onClick:()=>s(R),children:[p.jsxs("div",{className:A.chatAvatar,children:[p.jsx(Jo,{src:R.avatar,name:R.name,fallbackClass:A.avatarFallback}),R.type==="dm"&&R.isOnline&&p.jsx("div",{className:A.onlineIndicator})]}),p.jsxs("div",{className:A.chatInfo,children:[p.jsxs("div",{className:A.chatHeader,children:[p.jsxs("div",{className:A.chatNameWithType,children:[p.jsx("span",{className:A.chatName,children:R.name}),p.jsx("span",{className:`${A.chatTypeIcon} ${A[`icon${R.type.charAt(0).toUpperCase()+R.type.slice(1)}`]}`,title:R.type,children:R.type==="dm"?"":R.type==="group"?"":R.type==="channel"?"":""})]}),p.jsxs("div",{className:A.headerRight,children:[p.jsx("span",{className:A.timestamp,children:Y4(R.updatedAt)}),R.unreadCount>0&&p.jsx("span",{className:A.unreadBadge,children:R.unreadCount})]})]}),p.jsx("div",{className:A.chatPreview,children:p.jsx("span",{children:$4(R)})})]})]},R.id))]}),l&&p.jsxs("div",{className:A.userSection,children:[p.jsx("div",{className:A.userAvatar,children:p.jsx(Jo,{src:l.avatar,name:l.username,fallbackClass:A.avatarFallback})}),p.jsx("div",{className:A.userInfo,children:p.jsx("div",{className:A.username,children:l.username})}),p.jsx("button",{className:A.logoutButton,onClick:u,title:"Logout",children:""})]})]})]})},K4=({currentChat:a,messages:n,isLoadingMessages:s,onSendMessage:o,onOpenGroupCreate:l,onOpenChannelCreate:u,onOpenUserProfile:d,onOpenMobileSidebar:h,onOpenChatProfile:m})=>{const[y,v]=C.useState(""),[x,S]=C.useState(!1),[T,_]=C.useState(null),[E,D]=C.useState(""),[R,H]=C.useState(null),[z,$]=C.useState(!1),[V,Q]=C.useState(null),[Z,ne]=C.useState(null),ve=C.useRef(null),ue=C.useRef(null),De=C.useRef(null),He=C.useRef(null),[Ue,je]=C.useState(null),Re=C.useRef(null),{isUserOnline:L,getUserLastSeen:Y,getOnlineMembersCount:ee}=nt(),{user:oe}=Jt(),we=q=>q.type!=="dm"||!q.members||!oe?null:q.members.find(_e=>_e.userId!==oe.id)?.userId||null,Se=()=>{ve.current?.scrollIntoView({behavior:"smooth"})},Ce=async()=>{const q=De.current;if(!q){console.log("[MainContent] Container ref is null");return}const ie=q.scrollHeight,_e=q.scrollTop,wt=q.clientHeight,Ft=ie-_e-wt<100;if(console.log("[MainContent] SCROLL EVENT:",{scrollHeight:ie,scrollTop:_e,clientHeight:wt,distance:ie-_e-wt,isNearBottom:Ft}),$(!Ft),Ft&&a&&n.length>0)try{console.log("[MainContent] ========== USER AT BOTTOM =========="),console.log("[MainContent] Chat ID:",a.id),console.log("[MainContent] Chat:",a),console.log("[MainContent] Total messages:",n.length),console.log("[MainContent] Raw messages array:",n),n.length>0&&(console.log("[MainContent] First message full object:",n[0]),console.log("[MainContent] First message keys:",Object.keys(n[0])));const pt=[];let xn=0,lt=0;if(n.forEach((ct,Yt)=>{Yt<3&&console.log(`[MainContent] Message ${Yt}:`,{messageId:ct.messageId||ct.id,notificationId:ct.notificationId,isCurrentUser:ct.isCurrentUser,isNotificated:ct.isNotificated,senderUsername:ct.senderUsername,hasNotifId:!!ct.notificationId}),!ct.isCurrentUser&&ct.isNotificated&&ct.notificationId?(pt.push(ct.notificationId),xn++):lt++}),console.log("[MainContent] Processing summary:",{processedCount:xn,skippedCount:lt,totalToMark:pt.length,notificationIds:pt}),pt.length>0){const ct=await It(()=>Promise.resolve().then(()=>$l),void 0).then(Yt=>Yt.notificationService);console.log("[MainContent] Calling markMultipleAsSeen with IDs:",pt);try{const Yt=await ct.markMultipleAsSeen(pt);console.log("[MainContent] Successfully marked",pt.length,"message notifications as seen. Result:",Yt)}catch(Yt){console.error("[MainContent] Failed to mark notifications as seen:",Yt)}}else console.log("[MainContent] No unseen messages found to mark as seen"),console.log("[MainContent] Reasons - isCurrentUser or isNotificated false, or notificationId empty");console.log("[MainContent] ========== END BOTTOM HANDLER ==========")}catch(pt){console.error("[MainContent] Error processing scroll:",pt)}};C.useEffect(()=>{Se(),$(!1)},[n,a]);const pe=async()=>{if(!(!y.trim()&&!Ue||!a)){S(!0);try{await o(y,Ue||void 0),v(""),je(null),ne(null),Re.current&&(Re.current.value="")}catch(q){console.error("Failed to send message:",q)}finally{S(!1)}}},ge=async(q,ie)=>{try{await(await It(()=>Promise.resolve().then(()=>Go),void 0).then(Ft=>Ft.messageService)).addReaction(q,ie),Q(null);const wt=nt.getState();a&&await wt.loadMessages(a.id)}catch(_e){console.error("Failed to add reaction:",_e)}},Qe=async(q,ie)=>{try{await(await It(()=>Promise.resolve().then(()=>Go),void 0).then(Ft=>Ft.messageService)).removeReaction(q,ie);const wt=nt.getState();a&&await wt.loadMessages(a.id)}catch(_e){console.error("Failed to remove reaction:",_e)}},at=(q,ie,_e)=>{q.preventDefault(),q.stopPropagation(),_e&&H({messageId:ie,x:q.clientX,y:q.clientY})},te=(q,ie)=>{q.stopPropagation(),Q({messageId:ie,x:q.clientX,y:q.clientY})},_t=q=>{const ie=n.find(_e=>_e.messageId===q);ie&&(_(q),D(ie.content),H(null))},Lt=async q=>{if(E.trim())try{await(await It(()=>Promise.resolve().then(()=>Go),void 0).then(wt=>wt.messageService)).editMessage(q,E),_(null),D("");const _e=nt.getState();a&&await _e.loadMessages(a.id)}catch(ie){console.error("Failed to edit message:",ie)}},rn=()=>{_(null),D("")},At=async q=>{if(await Ta({title:"Delete Message",message:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"}))try{await(await It(()=>Promise.resolve().then(()=>Go),void 0).then(Ft=>Ft.messageService)).deleteMessage(q),H(null);const wt=nt.getState();a&&await wt.loadMessages(a.id),ke.success("Message deleted")}catch(_e){console.error("Failed to delete message:",_e),ke.error("Failed to delete message")}};return C.useEffect(()=>{const q=ie=>{ue.current&&!ue.current.contains(ie.target)&&H(null),He.current&&!He.current.contains(ie.target)&&Q(null)};return(R||V)&&document.addEventListener("click",q),()=>{document.removeEventListener("click",q)}},[R,V]),a?p.jsxs("div",{className:A.mainContent,style:{position:"relative"},children:[p.jsxs("div",{className:A.chatHeaderBar,children:[p.jsxs("div",{className:A.headerLeft,children:[h&&p.jsx("button",{onClick:h,className:A.mobileMenuButton,style:{display:"none",padding:"8px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text)",marginRight:"8px"},"aria-label":"Open menu",children:""}),p.jsx("div",{className:A.headerAvatar,children:p.jsx(Jo,{src:a.avatar,name:a.name,fallbackClass:A.avatarFallback})}),p.jsxs("div",{className:A.headerInfo,children:[p.jsxs("h2",{className:A.headerTitle,children:[a.name,p.jsx("span",{className:A.headerChatType,title:a.type,children:a.type==="dm"?" ":a.type==="group"?" ":a.type==="channel"?" ":" "})]}),p.jsx("div",{className:A.headerStatus,children:a.type==="dm"?(()=>{const q=we(a);if(!q)return p.jsx("span",{children:"Offline"});const ie=L(q),_e=Y(q);return p.jsx(uS,{isOnline:ie,lastSeen:_e,size:"sm",showLabel:!0,position:"standalone"})})():(()=>{const q=ee(a.id),ie=a.members?.length||0;return p.jsxs("span",{children:[ie," member",ie!==1?"s":"",q>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{margin:"0 4px",color:"var(--text-muted)"},children:""}),p.jsxs("span",{style:{color:"#51cf66",fontWeight:600},children:[q," online"]})]})]})})()})]})]}),p.jsx("div",{className:A.headerActions,children:a.type!=="dm"&&p.jsxs("button",{onClick:()=>{m&&m()},style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",border:"1px solid rgba(99, 102, 241, 0.3)",cursor:"pointer",padding:"8px 14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"12px",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(99, 102, 241, 0.2)"},onMouseEnter:q=>{q.currentTarget.style.background="linear-gradient(135deg, rgba(99, 102, 241, 0.25), rgba(139, 92, 246, 0.2))",q.currentTarget.style.boxShadow="0 4px 16px rgba(99, 102, 241, 0.35)",q.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:q=>{q.currentTarget.style.background="linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",q.currentTarget.style.boxShadow="0 2px 8px rgba(99, 102, 241, 0.2)",q.currentTarget.style.transform="translateY(0)"},title:`View ${a.type==="channel"?"Channel":"Group"} Profile`,children:[a.type==="channel"?p.jsx(qx,{size:16,color:"#818cf8"}):p.jsx(Xl,{size:16,color:"#818cf8"}),p.jsxs("span",{style:{fontSize:"13px",fontWeight:600,color:"#818cf8",letterSpacing:"0.3px"},children:[a.type==="channel"?"Channel":"Group"," Profile"]})]})})]}),p.jsxs("div",{className:A.messagesContainer,ref:De,onScroll:Ce,children:[s&&p.jsx("div",{className:A.loading,children:"Loading messages..."}),!s&&n.length===0&&p.jsx("div",{className:A.noMessages,children:"No messages yet. Start the conversation!"}),n.map(q=>p.jsxs("div",{className:`${A.messageGroup} ${q.isCurrentUser?A.ownMessage:A.otherMessage} ${q.isCurrentUser?"message-self-enter":"message-other-enter"}`,style:{position:"relative"},children:[!q.isCurrentUser&&p.jsx("div",{className:A.senderAvatar,onClick:()=>d(q.senderId),style:{cursor:"pointer"},children:q.senderAvatarUrl?p.jsx("img",{src:q.senderAvatarUrl,alt:q.senderUsername}):p.jsx("div",{className:A.avatarFallback,children:m0(q.senderUsername)})}),T===q.messageId?p.jsxs("div",{className:A.messageBubble,style:{display:"flex",flexDirection:"column",gap:"8px"},children:[p.jsx("textarea",{value:E,onChange:ie=>D(ie.target.value),style:{padding:"12px 14px",borderRadius:"10px",border:"2px solid var(--accent)",backgroundColor:"var(--background)",color:"var(--text)",fontSize:"15px",fontFamily:"inherit",minHeight:"60px",resize:"vertical"}}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:()=>Lt(q.messageId),style:{padding:"6px 12px",backgroundColor:"var(--accent)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Save"}),p.jsx("button",{onClick:rn,style:{padding:"6px 12px",backgroundColor:"var(--border)",color:"var(--text)",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Cancel"})]})]}):p.jsxs("div",{className:A.messageBubble,onContextMenu:ie=>at(ie,q.messageId,q.isCurrentUser),style:{position:"relative"},children:[!q.isCurrentUser&&p.jsx("div",{className:A.senderName,children:q.senderUsername}),q.replyId&&p.jsx("div",{style:{padding:"6px 10px",backgroundColor:"rgba(0,0,0,0.1)",borderLeft:"3px solid var(--accent)",borderRadius:"4px",marginBottom:"8px",fontSize:"12px",color:"var(--text-secondary)"},children:" Reply to message"}),p.jsx("div",{className:A.messageContent,children:q.content}),q.fileUrl&&p.jsx("a",{href:q.fileUrl,target:"_blank",rel:"noopener noreferrer",className:A.attachment,children:" File"}),q.messageReactions&&q.messageReactions.length>0&&p.jsx("div",{className:A.reactionsContainer,style:{display:"flex",gap:"4px",marginTop:"6px"},children:q.messageReactions.map((ie,_e)=>p.jsx("button",{onClick:()=>Qe(q.messageId,ie.emoji),title:`${ie.userName} reacted with ${ie.emoji}`,style:{padding:"4px 8px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:ie.emoji},_e))}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[p.jsx("div",{className:A.messageTime,children:hT(q.sentAt)}),p.jsx("button",{onClick:ie=>te(ie,q.messageId),title:"Add reaction",style:{padding:"2px 6px",backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"10px",cursor:"pointer",fontSize:"12px",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:ie=>ie.currentTarget.style.opacity="1",onMouseLeave:ie=>ie.currentTarget.style.opacity="0.6",children:"+"}),!q.isCurrentUser&&p.jsx("button",{onClick:()=>ne(q),title:"Reply",style:{padding:"2px 6px",backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"10px",cursor:"pointer",fontSize:"12px",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:ie=>ie.currentTarget.style.opacity="1",onMouseLeave:ie=>ie.currentTarget.style.opacity="0.6",children:""})]})]}),V?.messageId===q.messageId&&p.jsx("div",{ref:He,style:{position:"fixed",top:`${V.y}px`,left:`${V.x}px`,backgroundColor:"var(--surface)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,padding:"8px",display:"flex",gap:"4px"},children:["","","","","","","",""].map(ie=>p.jsx("button",{onClick:()=>ge(q.messageId,ie),style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"20px",transition:"all 0.2s"},onMouseEnter:_e=>{_e.currentTarget.style.backgroundColor="var(--background)",_e.currentTarget.style.transform="scale(1.2)"},onMouseLeave:_e=>{_e.currentTarget.style.backgroundColor="transparent",_e.currentTarget.style.transform="scale(1)"},children:ie},ie))}),R?.messageId===q.messageId&&q.isCurrentUser&&p.jsxs("div",{ref:ue,style:{position:"fixed",top:`${R.y}px`,left:`${R.x}px`,background:"linear-gradient(145deg, rgba(30, 41, 59, 0.98), rgba(15, 23, 42, 0.95))",border:"2px solid rgba(99, 102, 241, 0.3)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(99, 102, 241, 0.2)",zIndex:1e3,minWidth:"180px",overflow:"hidden",backdropFilter:"blur(20px)"},children:[p.jsxs("button",{onClick:()=>_t(q.messageId),style:{width:"100%",padding:"12px 16px",border:"none",background:"transparent",color:"#f1f5f9",textAlign:"left",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease",borderBottom:"1px solid rgba(99, 102, 241, 0.2)",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:ie=>{ie.currentTarget.style.background="rgba(99, 102, 241, 0.15)"},onMouseLeave:ie=>{ie.currentTarget.style.background="transparent"},children:[p.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:""}),"Edit Message"]}),p.jsxs("button",{onClick:()=>At(q.messageId),style:{width:"100%",padding:"12px 16px",border:"none",background:"transparent",color:"#f87171",textAlign:"left",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:ie=>{ie.currentTarget.style.background="rgba(239, 68, 68, 0.15)"},onMouseLeave:ie=>{ie.currentTarget.style.background="transparent"},children:[p.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"linear-gradient(135deg, #ef4444, #dc2626)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:""}),"Delete Message"]})]})]},q.messageId)),p.jsx("div",{ref:ve})]}),z&&p.jsx("button",{onClick:Se,title:"Scroll to bottom",style:{position:"absolute",bottom:"100px",right:"20px",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease",zIndex:10},onMouseEnter:q=>{q.currentTarget.style.transform="scale(1.1)",q.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.2)"},onMouseLeave:q=>{q.currentTarget.style.transform="scale(1)",q.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},children:""}),p.jsxs("div",{className:A.messageInput,children:[Z&&p.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,right:0,padding:"8px 12px",backgroundColor:"var(--background)",borderTop:"2px solid var(--accent)",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"13px"},children:[p.jsxs("div",{children:[p.jsxs("span",{style:{color:"var(--accent)",fontWeight:600},children:["Replying to ",Z.senderUsername,":"]})," ",p.jsxs("span",{style:{color:"var(--text-secondary)"},children:[Z.content.substring(0,50),Z.content.length>50?"...":""]})]}),p.jsx("button",{onClick:()=>ne(null),style:{padding:"4px 8px",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",fontSize:"16px"},children:""})]}),p.jsx("input",{type:"text",placeholder:Z?"Type your reply...":"Type a message...",value:y,onChange:q=>v(q.target.value),onKeyPress:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),pe())},className:A.inputField,disabled:x}),p.jsx("button",{className:A.emojiButton,title:"Emoji",children:""}),p.jsx("input",{ref:Re,type:"file",accept:"image/*,video/*,application/pdf,.doc,.docx",style:{display:"none"},onChange:q=>{const ie=q.target.files?.[0];ie&&je(ie)}}),p.jsx("button",{className:A.attachButton,title:"Attach file",onClick:()=>Re.current?.click(),children:""}),Ue&&p.jsxs("div",{className:A.filePreview,style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 8px",background:"#f0f0f0",borderRadius:"4px",fontSize:"12px"},children:[p.jsx("span",{children:Ue.name}),p.jsx("button",{onClick:()=>{je(null),Re.current&&(Re.current.value="")},style:{background:"none",border:"none",cursor:"pointer",fontSize:"16px"},children:""})]}),p.jsx("button",{onClick:pe,disabled:!y.trim()&&!Ue||x,className:A.sendButton,children:x?"...":""})]})]}):p.jsx("div",{className:A.mainContent,children:p.jsxs("div",{className:A.emptyScreen,children:[p.jsx("div",{className:A.emptyIcon,children:""}),p.jsx("h2",{children:"Select a chat to start messaging"}),p.jsx("p",{children:"Choose a conversation from the list or start a new one"}),p.jsxs("div",{className:A.emptyActions,children:[p.jsx("button",{className:A.actionButton,onClick:l,children:"Create Group"}),p.jsx("button",{className:A.actionButton,onClick:u,children:"Create Channel"})]})]})})},Q4="_backdrop_dmpv1_69",W4="_menu_dmpv1_89",Z4="_dark_dmpv1_121",J4="_header_dmpv1_133",e3="_headerLeft_dmpv1_161",t3="_iconWrapper_dmpv1_173",n3="_title_dmpv1_195",a3="_subtitle_dmpv1_215",i3="_closeBtn_dmpv1_235",s3="_content_dmpv1_305",o3="_section_dmpv1_313",r3="_sectionHeader_dmpv1_323",l3="_sectionItems_dmpv1_357",c3="_menuItem_dmpv1_369",u3="_itemIcon_dmpv1_439",d3="_divider_dmpv1_479",f3="_logoutBtn_dmpv1_491",Zt={backdrop:Q4,menu:W4,dark:Z4,header:J4,headerLeft:e3,iconWrapper:t3,title:n3,subtitle:a3,closeBtn:i3,content:s3,section:o3,sectionHeader:r3,sectionItems:l3,menuItem:c3,itemIcon:u3,divider:d3,logoutBtn:f3},p3=({isOpen:a,onClose:n,onCreateGroup:s,onCreateChannel:o,onCreateCustomReaction:l,onEditProfile:u,onShowNotifications:d,onShowAdminPanel:h,isDarkMode:m,onToggleDarkMode:y,onLogout:v})=>{if(!a)return null;const x=[{title:"Create",icon:Fx,items:[{icon:F_,label:"New Group",onClick:s,color:"#667eea"},{icon:qx,label:"New Channel",onClick:o,color:"#f093fb"},{icon:q_,label:"Custom Reaction",onClick:l,color:"#4facfe"}]},{title:"Account",icon:Ay,items:[{icon:Ay,label:"Edit Profile",onClick:u,color:"#11998e"},{icon:G_,label:"Notifications",onClick:d,color:"#fa709a"},{icon:Kl,label:"Admin Panel",onClick:h,color:"#a8edea"}]},{title:"Preferences",icon:df,items:[{icon:m?Y_:$_,label:m?"Light Mode":"Dark Mode",onClick:y,color:m?"#f6d365":"#4ca1af"}]}];return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Zt.backdrop,onClick:n}),p.jsxs("div",{className:`${Zt.menu} ${m?Zt.dark:""}`,children:[p.jsxs("div",{className:Zt.header,children:[p.jsxs("div",{className:Zt.headerLeft,children:[p.jsx("div",{className:Zt.iconWrapper,children:p.jsx(df,{size:20,color:"white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:Zt.title,children:"Settings"}),p.jsx("p",{className:Zt.subtitle,children:"Customize your experience"})]})]}),p.jsx("button",{className:Zt.closeBtn,onClick:n,children:p.jsx(Bi,{size:18})})]}),p.jsxs("div",{className:Zt.content,children:[x.map((S,T)=>p.jsxs("div",{className:Zt.section,style:{animationDelay:`${T*.05}s`},children:[p.jsxs("div",{className:Zt.sectionHeader,children:[p.jsx(S.icon,{size:14}),p.jsx("span",{children:S.title})]}),p.jsx("div",{className:Zt.sectionItems,children:S.items.map((_,E)=>p.jsxs("button",{className:Zt.menuItem,onClick:_.onClick,style:{animationDelay:`${(T*3+E)*.03}s`},children:[p.jsx("div",{className:Zt.itemIcon,style:{background:_.color},children:p.jsx(_.icon,{size:18,color:"white"})}),p.jsx("span",{children:_.label})]},_.label))})]},S.title)),p.jsx("div",{className:Zt.divider}),p.jsxs("button",{className:Zt.logoutBtn,onClick:v,children:[p.jsx(Ix,{size:18}),p.jsx("span",{children:"Sign Out"})]})]})]})]})},h3=({isOpen:a,onClose:n,onCreate:s,isDarkMode:o=!1})=>{const[l,u]=C.useState(""),[d,h]=C.useState(null),[m,y]=C.useState(null),[v,x]=C.useState(!1),S=_=>{const E=_.target.files?.[0];if(E){h(E);const D=new FileReader;D.onloadend=()=>y(D.result),D.readAsDataURL(E)}},T=async()=>{if(l.trim()){x(!0);try{await s(l,d),u(""),h(null),y(null),n()}finally{x(!1)}}};return a?p.jsx("div",{className:`${A.modalOverlay} ${o?A.darkMode:""}`,onClick:n,children:p.jsxs("div",{className:A.modal,onClick:_=>_.stopPropagation(),children:[p.jsxs("div",{className:A.modalHeader,children:[p.jsx("h2",{children:"Create Custom Reaction"}),p.jsx("button",{className:A.closeButton,onClick:n,children:""})]}),p.jsxs("div",{className:A.modalBody,children:[p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Reaction Name *"}),p.jsx("input",{type:"text",placeholder:"e.g., happy, excited, custom-emoji",value:l,onChange:_=>u(_.target.value),className:A.formInput}),p.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"This will be the emoji name (e.g., :happy:)"})]}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Reaction Image (Optional)"}),p.jsx("input",{type:"file",accept:"image/*",onChange:S,className:A.formInput,style:{padding:"8px"}}),m&&p.jsx("div",{style:{marginTop:"12px",textAlign:"center"},children:p.jsx("img",{src:m,alt:"Preview",style:{width:"64px",height:"64px",objectFit:"contain",borderRadius:"8px",border:"2px solid var(--border)"}})})]})]}),p.jsxs("div",{className:A.modalFooter,children:[p.jsx("button",{onClick:n,className:A.secondaryButton,children:"Cancel"}),p.jsx("button",{onClick:T,disabled:!l.trim()||v,className:A.primaryButton,children:v?"Creating...":"Create"})]})]})}):null},Bx=({isOpen:a,onClose:n,onCreate:s,isDarkMode:o=!1,isChannel:l=!1})=>{const[u,d]=C.useState(""),[h,m]=C.useState(""),[y,v]=C.useState("private"),[x,S]=C.useState(null),[T,_]=C.useState(!1),E=R=>{S(R)},D=async()=>{if(u.trim()){_(!0);try{await s(u,h,y,x),d(""),m(""),v("private"),S(null),n()}finally{_(!1)}}};return a?p.jsx("div",{className:`${A.modalOverlay} ${o?A.darkMode:""}`,onClick:n,children:p.jsxs("div",{className:A.modal,onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:A.modalHeader,children:[p.jsx("h2",{children:l?"Create Channel":"Create Group"}),p.jsx("button",{className:A.closeButton,onClick:n,children:""})]}),p.jsxs("div",{className:A.modalBody,children:[p.jsxs("div",{className:A.formGroup,children:[p.jsxs("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:[l?"Channel":"Group"," Name *"]}),p.jsx("input",{type:"text",placeholder:`Enter ${l?"channel":"group"} name (1-40 characters)`,value:u,onChange:R=>d(R.target.value),maxLength:40,className:A.formInput}),p.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[u.length,"/40 characters"]})]}),p.jsx("div",{className:A.formGroup,children:p.jsx(Np,{onFileAccepted:E,label:`${l?"Channel":"Group"} Avatar (Optional)`,helperText:"Drag and drop an image, or click to browse"})}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Description (Optional)"}),p.jsx("textarea",{placeholder:`Enter ${l?"channel":"group"} description (max 150 characters)`,value:h,onChange:R=>m(R.target.value),maxLength:150,className:A.formInput,rows:3}),p.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[h.length,"/150 characters"]})]}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Privacy"}),p.jsxs("select",{value:y,onChange:R=>v(R.target.value),className:A.formInput,children:[p.jsx("option",{value:"private",children:"Private - Only invited members can join"}),p.jsx("option",{value:"public",children:"Public - Anyone can search and join"})]})]})]}),p.jsxs("div",{className:A.modalFooter,children:[p.jsx("button",{onClick:n,className:A.secondaryButton,children:"Cancel"}),p.jsx("button",{onClick:D,disabled:!u.trim()||T,className:A.primaryButton,children:T?"Creating...":"Create"})]})]})}):null},m3=({isOpen:a,onClose:n,chat:s,onUpdate:o,isDarkMode:l=!1,isChannel:u=!1})=>{const[d,h]=C.useState(""),[m,y]=C.useState(""),[v,x]=C.useState("private"),[S,T]=C.useState(null),[_,E]=C.useState(!1);C.useEffect(()=>{a&&s?(h(s.name||""),y(s.description||""),x(s.privacy||"private"),T(null)):a||(h(""),y(""),x("private"),T(null))},[a,s]);const D=H=>{T(H)},R=async()=>{if(!(!d.trim()||!s)){E(!0);try{await o(s.id,d,m,v,S),h(""),y(""),x("private"),T(null),n()}finally{E(!1)}}};return!a||!s?null:p.jsx("div",{className:`${A.modalOverlay} ${l?A.darkMode:""}`,onClick:n,children:p.jsxs("div",{className:A.modal,onClick:H=>H.stopPropagation(),children:[p.jsxs("div",{className:A.modalHeader,children:[p.jsx("h2",{children:u?"Edit Channel":"Edit Group"}),p.jsx("button",{className:A.closeButton,onClick:n,children:""})]}),p.jsxs("div",{className:A.modalBody,children:[p.jsxs("div",{className:A.formGroup,children:[p.jsxs("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:[u?"Channel":"Group"," Name *"]}),p.jsx("input",{type:"text",placeholder:`Enter ${u?"channel":"group"} name (1-40 characters)`,value:d,onChange:H=>h(H.target.value),maxLength:40,className:A.formInput}),p.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[d.length,"/40 characters"]})]}),p.jsx("div",{className:A.formGroup,children:p.jsx(Np,{onFileAccepted:D,currentPreview:s.avatar,label:`${u?"Channel":"Group"} Avatar (Optional)`,helperText:"Drag and drop a new image to update, or click to browse"})}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Description (Optional)"}),p.jsx("textarea",{placeholder:`Enter ${u?"channel":"group"} description (max 150 characters)`,value:m,onChange:H=>y(H.target.value),maxLength:150,className:A.formInput,rows:3}),p.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[m.length,"/150 characters"]})]}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",fontWeight:600,display:"block",marginBottom:"6px"},children:"Privacy"}),p.jsxs("select",{value:v,onChange:H=>x(H.target.value),className:A.formInput,children:[p.jsx("option",{value:"private",children:"Private - Only invited members can join"}),p.jsx("option",{value:"public",children:"Public - Anyone can search and join"})]})]})]}),p.jsxs("div",{className:A.modalFooter,children:[p.jsx("button",{onClick:n,className:A.secondaryButton,children:"Cancel"}),p.jsx("button",{onClick:R,disabled:!d.trim()||_,className:A.primaryButton,children:_?"Updating...":"Update"})]})]})})},g3=({isOpen:a,onClose:n,user:s,onUpdate:o,isDarkMode:l=!1})=>{const[u,d]=C.useState(""),[h,m]=C.useState(""),[y,v]=C.useState(""),[x,S]=C.useState("everyone"),[T,_]=C.useState(!1),[E,D]=C.useState(null),[R,H]=C.useState(null);C.useEffect(()=>{a&&s?(d(s.username||""),m(s.email||""),v(s.bio||""),S(s.addMePolicy||"everyone"),D(null),H(null)):a||(d(""),m(""),v(""),S("everyone"),D(null),H(null))},[a,s]);const z=V=>{D(V)},$=async()=>{_(!0);try{await o(u,h,y,x,E),n()}finally{_(!1)}};return!a||!s?null:p.jsx("div",{className:`${A.modalOverlay} ${l?A.darkMode:""}`,onClick:n,children:p.jsxs("div",{className:A.modal,onClick:V=>V.stopPropagation(),children:[p.jsxs("div",{className:A.modalHeader,children:[p.jsx("h2",{style:{color:"var(--text)"},children:"Edit Profile"}),p.jsx("button",{className:A.closeButton,onClick:n,children:""})]}),p.jsxs("div",{className:A.modalBody,children:[p.jsx("div",{className:A.formGroup,children:p.jsx(Np,{onFileAccepted:z,currentPreview:s?.avatar||R,label:"Profile Avatar",helperText:"Drag and drop your profile picture, or click to browse"})}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Username"}),p.jsx("input",{type:"text",value:u,onChange:V=>d(V.target.value),className:A.formInput,placeholder:"Enter your username"})]}),p.jsxs("div",{className:A.formGroup,children:[p.jsxs("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:["Email",p.jsx("span",{style:{fontSize:"12px",fontWeight:400,color:"var(--text-secondary)",marginLeft:"8px"},children:"(Read-only)"})]}),p.jsx("input",{type:"email",value:h,readOnly:!0,disabled:!0,className:A.formInput,placeholder:"Email cannot be changed",style:{backgroundColor:"var(--background)",cursor:"not-allowed",opacity:.7}})]}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Bio/Description"}),p.jsx("textarea",{value:y,onChange:V=>v(V.target.value),className:A.formInput,rows:3,placeholder:"Tell us about yourself..."})]}),p.jsxs("div",{className:A.formGroup,children:[p.jsx("label",{style:{color:"var(--text)",display:"block",marginBottom:"6px",fontWeight:600},children:"Who can add you?"}),p.jsxs("select",{value:x,onChange:V=>S(V.target.value),className:A.formInput,children:[p.jsx("option",{value:"everyone",children:"Everyone"}),p.jsx("option",{value:"chatted",children:"Contacts Only"}),p.jsx("option",{value:"nobody",children:"Nobody"})]})]})]}),p.jsxs("div",{className:A.modalFooter,children:[p.jsx("button",{onClick:n,className:A.secondaryButton,children:"Cancel"}),p.jsx("button",{onClick:$,disabled:T,className:A.primaryButton,children:T?"Updating...":"Update Profile"})]})]},`profile-modal-${s.id}`)})},y3=({isOpen:a,onClose:n,isDarkMode:s=!1})=>{const[o,l]=C.useState([]),[u,d]=C.useState(!1);C.useEffect(()=>{a&&h()},[a]);const h=async()=>{d(!0);try{const x=await(await It(()=>Promise.resolve().then(()=>$l),void 0).then(T=>T.notificationService)).getNotifications();console.log("[Notifications] Loaded notifications:",x),Array.isArray(x)&&x.length>0&&console.log("[Notifications] First notification structure:",JSON.stringify(x[0],null,2));const S=Array.isArray(x)?x.map(T=>({id:T.id,title:`Message from ${T.senderName}`,message:T.content,type:"message",chatName:T.chatName,chatAvatar:T.chatAvatar,senderName:T.senderName,fileUrl:T.fileUrl,isRead:T.seen,createdAt:T.sentTime})):[];l(S)}catch(v){console.error("[Notifications] Failed to load notifications:",v),l([])}finally{d(!1)}},m=async v=>{try{await(await It(()=>Promise.resolve().then(()=>$l),void 0).then(S=>S.notificationService)).markAsSeen(v),await h()}catch(x){console.error("Failed to mark notification as seen:",x)}},y=async()=>{try{await(await It(()=>Promise.resolve().then(()=>$l),void 0).then(x=>x.notificationService)).markAllAsSeen(),await h()}catch(v){console.error("Failed to mark all notifications as seen:",v)}};return a?p.jsx("div",{className:`${A.modalOverlay} ${s?A.darkMode:""}`,onClick:n,children:p.jsxs("div",{className:A.modal,onClick:v=>v.stopPropagation(),children:[p.jsxs("div",{className:A.modalHeader,children:[p.jsx("h2",{children:"Notifications"}),p.jsx("button",{className:A.closeButton,onClick:n,children:""})]}),p.jsx("div",{className:A.modalBody,children:u?p.jsx("div",{className:A.loadingState,children:"Loading notifications..."}):o.length===0?p.jsx("div",{className:A.emptyState,children:"No notifications yet"}):p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.length>0&&p.jsx("button",{onClick:y,style:{padding:"8px 12px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Mark All as Read"}),o.map(v=>p.jsxs("div",{onClick:()=>m(v.id),style:{padding:"14px",background:v.isRead?"rgba(99, 102, 241, 0.05)":"linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1))",border:v.isRead?"1px solid rgba(99, 102, 241, 0.1)":"1px solid rgba(99, 102, 241, 0.3)",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",gap:"12px",alignItems:"flex-start",boxShadow:v.isRead?"none":"0 2px 8px rgba(99, 102, 241, 0.15)",position:"relative",overflow:"hidden"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(4px)",x.currentTarget.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.2)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow=v.isRead?"none":"0 2px 8px rgba(99, 102, 241, 0.15)"},children:[v.chatAvatar?p.jsx("img",{src:v.chatAvatar,alt:v.chatName,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",flexShrink:0}}):p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"14px",flexShrink:0},children:m0(v.chatName)}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("div",{style:{fontWeight:600,marginBottom:"4px",color:"var(--text)"},children:v.chatName}),p.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"4px"},children:[p.jsxs("span",{style:{fontWeight:500,color:"var(--text)"},children:[v.senderName,":"]})," ",v.message&&v.message.trim()?v.message:v.fileUrl?p.jsx("span",{style:{fontStyle:"italic"},children:"Sent an attachment"}):p.jsx("span",{style:{fontStyle:"italic",opacity:.7},children:"No message content"})]}),v.fileUrl&&p.jsx("div",{style:{fontSize:"12px",color:"var(--accent)",marginBottom:"4px"},children:" Attachment"}),p.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:new Date(v.createdAt).toLocaleString()})]})]},v.id))]})})]})}):null},Lx=({isOpen:a,onClose:n,user:s,isLoading:o,onSendMessage:l,onJoinGroup:u,isGroup:d,isChannel:h,chatId:m,isJoining:y,isDarkMode:v})=>{const[x,S]=C.useState(!1),[T,_]=C.useState("");if(console.log("[UserProfileViewer] Rendering with:",{isOpen:a,isGroup:d,isChannel:h,user:s?.username,messageText:T,isSending:x}),!a)return null;const E=()=>s?d||h?s?.name||s?.displayName||"Unknown":s?.username||s?.displayName||s?.name||"Unknown":"Unknown",D=()=>s&&(s?.avatarUrl||s?.avatar||s?.profileImage||s?.icon)||"",R=()=>s&&(s?.description||s?.bio)||"",H=()=>s&&(s?.members?.length||s?.memberCount)||0,z=()=>s?s?.isPrivate?"Private":"Public":"Unknown",$=async()=>{if(!s){console.error("[ProfileViewer] User object is null/undefined");return}console.log("[ProfileViewer] User object structure:",{fullUser:s,keys:Object.keys(s),id:s.id,userId:s.userId,entityId:s.entityId,email:s.email,username:s.username,all:JSON.stringify(s)});let V=s.id||s.userId||s.entityId;if(console.log("[ProfileViewer] Extracted userId:",V),!V){console.error("[ProfileViewer] Cannot send message: user ID is missing from user object:",s),console.error("[ProfileViewer] All available fields:",Object.keys(s)),ke.error("Error: User ID not found. Please try again.");return}S(!0);try{console.log("[ProfileViewer] Sending message/creating DM with user ID:",V,"Type:",typeof V);const Q=T.trim()?T.trim():void 0;if(console.log("[ProfileViewer] Message to send:",Q),console.log("[ProfileViewer] onSendMessage function:",typeof l),!l)throw new Error("onSendMessage callback is not defined");await l(V,Q),console.log("[ProfileViewer] onSendMessage completed successfully"),_(""),n()}catch(Q){console.error("Failed to send message:",Q),ke.error(Ke(Q,"Failed to create conversation"))}finally{S(!1)}};return p.jsx("div",{className:`${A.modalOverlay} ${v?A.darkMode:""}`,onClick:n,children:p.jsxs("div",{className:A.modal,onClick:V=>V.stopPropagation(),children:[p.jsxs("div",{className:A.modalHeader,children:[p.jsx("h2",{children:d||h?"Join":"Profile"}),p.jsx("button",{className:A.closeButton,onClick:n,children:""})]}),p.jsx("div",{className:A.modalBody,children:o?p.jsx("div",{className:A.loading,children:"Loading..."}):s?p.jsxs("div",{className:A.profileContent,children:[p.jsx("div",{className:A.avatarSection,children:p.jsx("div",{className:A.largeAvatar,children:p.jsx(Jo,{src:D(),name:E(),fallbackClass:A.avatarFallback})})}),p.jsxs("div",{className:A.profileInfo,children:[p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:d||h?"Name":"Username/Name"}),p.jsx("p",{children:E()})]}),!d&&!h&&s.email&&p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:"Email"}),p.jsx("p",{children:s.email})]}),R()&&p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:d||h?"Description":"Bio/Description"}),p.jsx("p",{children:R()})]}),(d||h)&&H()>0&&p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:"Members"}),p.jsx("p",{children:H()})]}),(d||h)&&p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:"Privacy"}),p.jsx("p",{children:z()})]}),!d&&!h&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:"Status"}),p.jsx("p",{children:s.onlineStatus||"Offline"})]}),s?.lastSeen&&p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:"Last Seen"}),p.jsx("p",{children:new Date(s.lastSeen).toLocaleString()})]}),s?.addMePolicy&&p.jsxs("div",{className:A.profileField,children:[p.jsx("label",{children:"Add Policy"}),p.jsx("p",{style:{textTransform:"capitalize"},children:s.addMePolicy})]})]})]})]}):p.jsx("div",{className:A.emptyState,children:"User not found"})}),s&&!d&&!h&&(console.log("[UserProfileViewer] Rendering message input for user:",s?.username),p.jsx("div",{className:A.modalBody,style:{padding:"16px",borderTop:"1px solid var(--light-border)"},children:p.jsx("input",{type:"text",placeholder:"Type a message... (optional)",value:T,onChange:V=>_(V.target.value),onKeyPress:V=>{V.key==="Enter"&&$()},className:A.inputField,style:{marginBottom:"0"}})})),s&&p.jsx("div",{className:A.modalFooter,children:d||h?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:n,className:A.secondaryButton,children:"Cancel"}),p.jsx("button",{onClick:async()=>{if(u&&m)try{console.log("[Modal] Join button clicked for:",m),await u(m),console.log("[Modal] Join successful")}catch(V){console.error("[Modal] Join error:",V),ke.error(Ke(V,"Failed to join"))}else console.warn("[Modal] Missing onJoinGroup or chatId:",{onJoinGroup:!!u,chatId:m}),ke.error("Unable to join. Missing required information.")},disabled:y,className:A.primaryButton,children:y?"Joining...":"Join"})]}):(console.log("[UserProfileViewer] Rendering Send button with isSending:",x),p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:n,className:A.secondaryButton,children:"Close"}),p.jsx("button",{onClick:async()=>{try{console.log("[Modal] Send message button clicked with messageText:",T),await $(),console.log("[Modal] Message send successful")}catch(V){console.error("[Modal] Send message error:",V)}},disabled:x,className:A.primaryButton,children:x?"Sending...":"Send Message"})]}))})]})})},v3=()=>{const{user:a,logout:n}=Jt(),{chats:s,currentChat:o,isLoadingChats:l}=nt(),{theme:u,toggleTheme:d}=bT(),h=Bk(),[m,y]=C.useState([]),[v,x]=C.useState(!1),[S,T]=C.useState(!1),[_,E]=C.useState(!1),[D,R]=C.useState(!1),[H,z]=C.useState(null),[$,V]=C.useState(!1),[Q,Z]=C.useState(!1),[ne,ve]=C.useState(!1),[ue,De]=C.useState(!1),[He,Ue]=C.useState(!1),[je,Re]=C.useState(""),[L,Y]=C.useState([]),[ee,oe]=C.useState(!1),[we,Se]=C.useState(!1),[Ce,pe]=C.useState(null),[ge,Qe]=C.useState(null),[at,te]=C.useState(!1),[_t,Lt]=C.useState(!1),[rn,At]=C.useState(!1),[q,ie]=C.useState(!1),[_e,wt]=C.useState(null),[Ft,pt]=C.useState(!1),xn=C.useRef(null),lt=u==="dark";C.useEffect(()=>{(async()=>{const J=nt.getState();s.length===0&&await J.loadChats()})()},[s.length]),C.useEffect(()=>{(async()=>{if(!o||!o.id||o.id==="search"){console.log("[Dashboard] Clearing messages - no chat selected or search chat"),y([]);return}console.log("[Dashboard] ========== LOADING MESSAGES FOR CHAT =========="),console.log("[Dashboard] Chat ID:",o.id),console.log("[Dashboard] Chat Name:",o.name),console.log("[Dashboard] Chat Type:",o.type),x(!0);try{console.log("[Dashboard] Fetching chat data from API...");const J=await rt.getChat(o.id);console.log("[Dashboard] API Response - Chat:",J),console.log("[Dashboard] API Response - Messages count:",J.messages?.length||0),J.messages&&J.messages.length>0&&console.log("[Dashboard] First message in response:",J.messages[0]),y(J.messages||[]),console.log("[Dashboard] Set messages state to:",J.messages?.length||0,"messages")}catch(J){console.error("[Dashboard] Failed to load messages:",J),y([])}finally{x(!1)}})()},[o]),C.useEffect(()=>{(async()=>{if(!(!o||!o.id||o.id==="search"||o.id.startsWith("temp_dm_"))){if(h.isConnected)try{console.log("[Dashboard] Joining SignalR chat room:",o.id),await h.joinChat(o.id)}catch(J){console.error("[Dashboard] Failed to join chat room:",J)}return()=>{o&&o.id&&h.isConnected&&(console.log("[Dashboard] Leaving SignalR chat room:",o.id),h.leaveChat(o.id).catch(console.error))}}})()},[o,h.isConnected]);const ct=W=>{nt.getState().setCurrentChat(W)},Yt=()=>{n()},Gs=async(W,J)=>{if(!(!o||!o.id||o.id==="search"||!a))try{if(J){console.log("[Dashboard] Sending message with file via REST API");const le=new FormData;if(o.id.startsWith("temp_dm_")){const ce=o.id.replace("temp_dm_","");le.append("receiverId",ce)}else if(le.append("chatId",o.id),o.type==="dm"){const ce=o.members?.find(de=>de.userId!==a.id)?.userId;ce&&le.append("receiverId",ce)}le.append("content",W),le.append("file",J),await(await It(()=>Promise.resolve().then(()=>Go),void 0).then(ce=>ce.messageService)).sendMessage(le)}else{console.log("[Dashboard] Sending text message via SignalR");let le=null,Ve=null;o.id.startsWith("temp_dm_")?Ve=o.id.replace("temp_dm_",""):(le=o.id,o.type==="dm"&&(Ve=o.members?.find(ce=>ce.userId!==a.id)?.userId||null)),await h.sendMessage(le,W,Ve,null)}if(console.log("[Dashboard] Message sent successfully"),o.id.startsWith("temp_dm_")){console.log("[Dashboard] Reloading chats after sending to temp chat");const le=nt.getState();await new Promise(xe=>setTimeout(xe,500)),await le.loadChats();const Ve=le.chats,ce=o.id.replace("temp_dm_",""),de=Ve.find(xe=>xe.type!=="dm"||!xe.members||xe.members.length===0?!1:xe.members.some(ae=>ae.userId===ce||ae.id===ce||ae.user?.id===ce||ae.user?.userId===ce));de&&(console.log("[Dashboard] Found newly created real DM:",de.id),le.setCurrentChat(de))}else{const le=await rt.getChat(o.id);y(le.messages||[])}}catch(le){console.error("Failed to send message:",le)}},Ys=async(W,J,le,Ve)=>{try{const ce=new FormData;ce.append("name",W),J&&ce.append("description",J),ce.append("privacyType",le==="public"?"0":"1"),Ve&&ce.append("file",Ve),await rt.createGroup(ce),ke.success("Group created successfully!"),await nt.getState().loadChats()}catch(ce){throw console.error("Failed to create group:",ce),ke.error(Ke(ce,"Failed to create group")),ce}},X=async(W,J,le,Ve)=>{try{const ce=new FormData;ce.append("name",W),J&&ce.append("description",J),ce.append("privacyType",le==="public"?"0":"1"),Ve&&ce.append("file",Ve),await rt.createChannel(ce),ke.success("Channel created successfully!"),await nt.getState().loadChats()}catch(ce){throw console.error("Failed to create channel:",ce),ke.error(Ke(ce,"Failed to create channel")),ce}},he=async(W,J,le,Ve,ce)=>{try{const de=new FormData;de.append("chatId",W),de.append("name",J),le&&de.append("description",le),de.append("privacyType",Ve==="public"?"0":"1"),ce&&de.append("file",ce);const xe=H?.type==="channel"?"channel":"group";await rt.updateChat(W,xe,de),ke.success("Group/Channel updated successfully!"),await nt.getState().loadChats()}catch(de){throw console.error("Failed to update group/channel:",de),ke.error(Ke(de,"Failed to update group/channel")),de}},it=async W=>{if(o)try{await rt.banUser(o.id,W),ke.success("User banned successfully");const J=await rt.getChatProfile(o.id);nt.getState().setCurrentChat(J)}catch(J){console.error("Failed to ban user:",J),ke.error(Ke(J,"Failed to ban user"))}},ht=async W=>{if(o)try{await rt.unbanUser(o.id,W),ke.success("User unbanned successfully");const J=await rt.getChatProfile(o.id);nt.getState().setCurrentChat(J)}catch(J){console.error("Failed to unban user:",J),ke.error(Ke(J,"Failed to unban user"))}},Et=async W=>{if(o)try{await rt.updateChatPrivacy(o.id,W),ke.success(`Privacy updated to ${W}`);const J=await rt.getChatProfile(o.id);nt.getState().setCurrentChat(J)}catch(J){console.error("Failed to update privacy:",J),ke.error(Ke(J,"Failed to update privacy"))}},ia=async()=>{if(!(!o||!await Ta({title:`Leave ${o.type==="channel"?"Channel":"Group"}`,message:`Are you sure you want to leave this ${o.type}? You will lose access to all messages and content.`,confirmText:"Leave",cancelText:"Stay",variant:"warning"})))try{await rt.leaveChat(o.id,o.type),ke.success(`Left ${o.type} successfully`),await nt.getState().loadChats(),nt.getState().setCurrentChat(null),At(!1)}catch(J){console.error("Failed to leave chat:",J),ke.error(Ke(J,"Failed to leave"))}},Hn=async()=>{if(o)try{await rt.deleteChat(o.id,o.type),ke.success(`${o.type==="group"?"Group":"Channel"} deleted successfully`),await nt.getState().loadChats(),nt.getState().setCurrentChat(null),At(!1)}catch(W){console.error("Failed to delete chat:",W),ke.error(Ke(W,`Failed to delete ${o.type}`))}},si=async W=>{try{await(await It(()=>Promise.resolve().then(()=>ei),void 0).then(le=>le.userService)).blockUser(W),ke.success("User blocked successfully"),ie(!1),Se(!1),pe(null)}catch(J){console.error("Failed to block user:",J),ke.error(Ke(J,"Failed to block user"))}},oi=async(W,J)=>{try{const le=new FormData;le.append("Name",W),J&&le.append("file",J);const{reactionService:Ve}=await It(async()=>{const{reactionService:ce}=await import("./reaction.service-Dv589mdx.js");return{reactionService:ce}},__vite__mapDeps([0,1,2]));await Ve.createReaction(le),ke.success("Custom reaction created successfully!")}catch(le){throw console.error("Failed to create custom reaction:",le),ke.error(Ke(le,"Failed to create custom reaction")),le}},In=async(W,J,le,Ve,ce)=>{try{const de=new FormData;W&&de.append("username",W),de.append("description",le||"");let xe="0";Ve==="chatted"?xe="1":Ve==="nobody"&&(xe="2"),de.append("addChatMinLvl",xe),ce&&de.append("file",ce);const Vt=await(await It(()=>Promise.resolve().then(()=>ei),void 0).then(sa=>sa.userService)).updateProfile(de);Jt.getState().setUser(Vt),ke.success("Profile updated successfully!")}catch(de){throw console.error("Failed to update profile:",de),ke.error(Ke(de,"Failed to update profile")),de}},Rt=async W=>{Re(W),Y([]),W.trim()&&(xn.current&&clearTimeout(xn.current),oe(!0),xn.current=setTimeout(async()=>{try{const J=await It(()=>Promise.resolve().then(()=>ei),void 0).then(xe=>xe.userService),le=rt,Ve=[];try{const xe=await J.searchUsers(W);console.log("[Search] User search results:",xe),Array.isArray(xe)&&xe.forEach(ae=>{const Vt=ae.EntityId||ae.entityId||ae.id,ut=ae.displayName||ae.DisplayName||ae.username||ae.name||"Unknown User";console.log("[Search] Mapping user result:",{EntityId:ae.EntityId,entityId:ae.entityId,id:ae.id,displayName:ae.displayName,DisplayName:ae.DisplayName,username:ae.username,finalUserId:Vt,finalName:ut}),Ve.push({id:Vt,name:ut,type:"user",avatar:ae.avatarUrl||ae.avatar||ae.profileImage})})}catch(xe){console.error("User search failed:",xe)}try{const xe=await le.searchChats(W);console.log("[Search] Chat results:",xe,"Type:",typeof xe,"IsArray:",Array.isArray(xe)),Array.isArray(xe)?xe.forEach((ae,Vt)=>{console.log(`[Search] Processing chat result #${Vt}:`,ae),console.log(`[Search] Result #${Vt} - chatType:`,ae.chatType,"type:",ae.type,"displayName:",ae.displayName,"name:",ae.name);let ut="channel";if(typeof ae.chatType=="number")ut=ae.chatType===0?"user":ae.chatType===1?"group":"channel",console.log(`[Search] Used numeric chatType (${ae.chatType}) -> ${ut}`);else if(ae.type&&typeof ae.type=="string"){const Dt=String(ae.type).toLowerCase().trim();if(Dt==="dm"||Dt==="directmessage")ut="user",console.log("[Search] Used type field 'dm/directmessage' -> user");else if(Dt==="group")ut="group",console.log("[Search] Used type field 'group' -> group");else if(Dt==="channel")ut="channel",console.log("[Search] Used type field 'channel' -> channel");else if(console.log(`[Search] type field '${ae.type}' is unknown, trying chatType...`),ae.chatType&&typeof ae.chatType=="string"){const oa=String(ae.chatType).toLowerCase().trim();oa==="conversation"||oa==="dm"||oa==="directmessage"?(ut="user",console.log("[Search] Used chatType field 'conversation/dm' -> user")):oa==="group"?(ut="group",console.log("[Search] Used chatType field 'group' -> group")):oa==="channel"?(ut="channel",console.log("[Search] Used chatType field 'channel' -> channel")):console.log(`[Search] chatType '${oa}' unknown, defaulting to channel`)}}else if(ae.chatType&&typeof ae.chatType=="string"){const Dt=String(ae.chatType).toLowerCase().trim();Dt==="conversation"||Dt==="dm"||Dt==="directmessage"||Dt==="0"?(ut="user",console.log(`[Search] Used string chatType '${ae.chatType}' (${Dt}) -> user`)):Dt==="group"||Dt==="1"?(ut="group",console.log(`[Search] Used string chatType '${ae.chatType}' (${Dt}) -> group`)):Dt==="channel"||Dt==="2"?(ut="channel",console.log(`[Search] Used string chatType '${ae.chatType}' (${Dt}) -> channel`)):console.log(`[Search] string chatType '${Dt}' unknown, defaulting to channel`)}else console.log("[Search] No type info found, using default (channel)");const sa=String(ae.displayName||ae.name||ae.username||ae.title||"Unknown").trim(),li=ae.avatarUrl||ae.avatar||ae.profileImage||"",vr={id:String(ae.entityId||ae.id||"unknown"),name:sa==="Unknown"||sa.length===0?"Unknown User":sa,type:ut,avatar:li||void 0};console.log("[Search] Mapped result:",vr,"Original:",{displayName:ae.displayName,name:ae.name,username:ae.username,avatar:ae.avatar,avatarUrl:ae.avatarUrl}),Ve.push(vr)}):(console.warn("[Search] Chat results is not an array:",xe),console.warn("[Search] Type of chatsResults:",typeof xe))}catch(xe){console.error("Chat search failed:",xe)}const ce=new Set,de=Ve.filter(xe=>{const ae=`${xe.name.toLowerCase().trim()}|${xe.type}`;return ce.has(ae)?(console.log(`[Search] Filtered duplicate: ${ae}`),!1):(ce.add(ae),!0)});de.sort((xe,ae)=>{const Vt={user:0,group:1,channel:2};return(Vt[xe.type]??3)-(Vt[ae.type]??3)}),console.log("[Search] Final deduplicated results (by name+type):",de,"Removed duplicates:",Ve.length-de.length),Y(de),oe(!1)}catch(J){console.error("Search error:",J),oe(!1)}},300))},ln=async W=>{if(console.log("[Search] Selected result:",W,"Type:",W.type),W.type==="user"){pe(null),Qe(W),te(!0);try{const J=await It(()=>Promise.resolve().then(()=>ei),void 0).then(Ve=>Ve.userService);console.log("[Search] Loading user profile for ID:",W.id);const le=await J.getUserProfile(W.id);console.log("[Search] Loaded user profile:",le),pe(le),Se(!0)}catch(J){console.error("[Search] Failed to load user profile:",J),pe(W),Se(!0)}finally{te(!1)}}else{console.log("[Search] Opening group/channel profile for:",W.name),pe(null),te(!0);try{const J=await rt.getChatProfile(W.id);console.log("[Search] Loaded chat profile:",J),nt.getState().setCurrentChat(J),At(!0)}catch(J){console.error("[Search] Failed to load chat profile:",J),ke.error(Ke(J,"Failed to load profile"))}finally{te(!1)}}Re(""),Y([])},Mt=async(W,J)=>{try{if(!W){ke.error("Error: User ID not found");return}console.log("[Dashboard] handleSendMessage called with userId:",W,"message:",J),Se(!1),pe(null),Qe(null);const le=nt.getState();console.log("[Dashboard] Looking for existing DM with user:",W);let ce=le.chats.find(de=>de.type!=="dm"||!de.members||de.members.length===0?!1:de.members.some(xe=>xe.userId===W||xe.id===W||xe.user?.id===W||xe.user?.userId===W));if(ce||(console.log("[Dashboard] No existing DM found, creating temporary blank chat for user:",W),ce={id:`temp_dm_${W}`,name:Ce?.username||"User",type:"dm",avatar:Ce?.avatar,description:"",privacy:"private",members:[],unreadCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("[Dashboard] Setting current chat to:",ce.id),le.setCurrentChat(ce),J&&J.trim()){console.log("[Dashboard] Sending initial message to user:",W);try{const de=new FormData;de.append("receiverId",W),de.append("content",J),await be.post("/messages/",de,{headers:{"Content-Type":"multipart/form-data"}}),console.log("[Dashboard] Message sent successfully, backend auto-created DM"),await new Promise(Vt=>setTimeout(Vt,500)),await le.loadChats();const ae=le.chats.find(Vt=>Vt.type!=="dm"||!Vt.members||Vt.members.length===0?!1:Vt.members.some(ut=>ut.userId===W||ut.id===W||ut.user?.id===W||ut.user?.userId===W));ae&&(console.log("[Dashboard] Found newly created DM:",ae.id),le.setCurrentChat(ae))}catch(de){console.error("[Dashboard] Error sending message:",de),ke.error(Ke(de,"Failed to send message"))}}}catch(le){console.error("[Dashboard] Failed to open DM:",le),ke.error(Ke(le,"Failed to open direct message"))}},ri=async W=>{if(!(!a||!ge)){Lt(!0);try{const J=ge.type;console.log("[Dashboard] Joining",J+":",W),await rt.joinChat(W,J);const le=nt.getState();await le.loadChats();const ce=(await rt.getAllChats()).find(de=>de.id===W);ce&&(le.setCurrentChat(ce),console.log("[Dashboard] Joined and selected group/channel:",ce.id)),Se(!1),Qe(null)}catch(J){console.error("[Dashboard] Failed to join group/channel:",J),ke.error(Ke(J,"Failed to join group/channel"))}finally{Lt(!1)}}};return p.jsxs("div",{className:`${A.dashboard} ${lt?A.darkMode:""}`,children:[p.jsx(X4,{chats:s,currentChat:o,onSelectChat:W=>{ct(W),pt(!1)},isLoadingChats:l,user:a,onLogout:Yt,onMenuOpen:()=>Ue(!He),searchQuery:je,onSearchChange:Rt,searchResults:L,onSelectSearchResult:W=>{ln(W),pt(!1)},isSearching:ee,isDarkMode:lt,onClearSearch:()=>{Re(""),Qe(null),Se(!1)},isMobileOpen:Ft,onMobileClose:()=>pt(!1)}),p.jsx(p3,{isOpen:He,onClose:()=>Ue(!1),onCreateGroup:()=>{T(!0),Ue(!1)},onCreateChannel:()=>{E(!0),Ue(!1)},onCreateCustomReaction:()=>{ve(!0),Ue(!1)},onEditProfile:()=>{V(!0),Ue(!1)},onShowNotifications:()=>{Z(!0),Ue(!1)},onShowAdminPanel:()=>{De(!0),Ue(!1)},isDarkMode:lt,onToggleDarkMode:d,onLogout:Yt}),p.jsx(K4,{currentChat:o,messages:m,isLoadingMessages:v,onSendMessage:Gs,onOpenGroupCreate:()=>T(!0),onOpenChannelCreate:()=>E(!0),onOpenUserProfile:async W=>{te(!0),Se(!0),Qe(null);try{const le=await(await It(()=>Promise.resolve().then(()=>ei),void 0).then(Ve=>Ve.userService)).getUserProfile(W);pe(le)}catch(J){console.error("Failed to load user profile:",J)}finally{te(!1)}},onOpenMobileSidebar:()=>pt(!0),onOpenChatProfile:()=>At(!0)}),p.jsx(Bx,{isOpen:S,onClose:()=>T(!1),onCreate:Ys,isDarkMode:lt,isChannel:!1}),p.jsx(Bx,{isOpen:_,onClose:()=>E(!1),onCreate:X,isDarkMode:lt,isChannel:!0}),p.jsx(m3,{isOpen:D,onClose:()=>{R(!1),z(null)},chat:H,onUpdate:he,isDarkMode:lt,isChannel:H?.type==="channel"}),p.jsx(g3,{isOpen:$,onClose:()=>V(!1),user:a,onUpdate:In,isDarkMode:lt}),p.jsx(y3,{isOpen:Q,onClose:()=>Z(!1),isDarkMode:lt}),p.jsx(h3,{isOpen:ne,onClose:()=>ve(!1),onCreate:oi,isDarkMode:lt}),p.jsx(ZD,{isOpen:ue,onClose:()=>De(!1),isDarkMode:lt}),!ge?.type||ge?.type==="user"?p.jsx(Lx,{isOpen:we,onClose:()=>{Se(!1),pe(null),Qe(null)},user:Ce,isLoading:at,onSendMessage:Mt,isDarkMode:lt}):p.jsx(Lx,{isOpen:we,onClose:()=>{Se(!1),Qe(null),pe(null)},user:ge,isLoading:at,onSendMessage:Mt,onJoinGroup:ri,isGroup:ge?.type==="group",isChannel:ge?.type==="channel",chatId:ge?.id,isJoining:_t,isDarkMode:lt}),o&&(o.type==="group"||o.type==="channel")&&p.jsx(F4,{isOpen:rn,onClose:()=>At(!1),chat:o,currentUserId:a?.id||"",onEditGroup:()=>{At(!1),z(o),R(!0)},onLeaveGroup:ia,onDeleteGroup:Hn,onBanMember:it,onUnbanMember:ht,onUpdatePrivacy:Et,onViewUserProfile:W=>{wt(W),ie(!0)}}),_e&&p.jsx(q4,{isOpen:q,onClose:()=>{ie(!1),wt(null)},userId:_e,onSendMessage:W=>{console.log("Send message to user:",W)},onBlockUser:si})]})},$o={getNotifications:async()=>{try{console.log("[NotificationService] Fetching notifications from GET /notifications");const a=await be.get("/notifications");console.log("[NotificationService] Raw API Response:",{status:a.status,statusText:a.statusText,data:a.data});let n=[];a.data?.success&&a.data?.data?(n=a.data.data,console.log("[NotificationService] Got notifications from response.data.data:",n.length,"items")):a.data&&Array.isArray(a.data)?(n=a.data,console.log("[NotificationService] Response is direct array:",n.length,"items")):(console.log("[NotificationService] Unexpected response format:",a.data),n=[]);const s=Array.isArray(n)?n.map(o=>({id:o.notificationId||o.id,chatId:o.chatId,messageId:o.messageId,chatName:o.chatName||"",chatAvatar:o.chatAvatar||"",senderName:o.senderName||"",content:o.content||"",fileUrl:o.fileUrl,sentTime:o.sentTime||new Date().toISOString(),seen:o.seen!==void 0?o.seen:!1})):[];return console.log("[NotificationService] Returning",s.length,"normalized notifications"),s}catch(a){return console.error("[NotificationService] Failed to fetch notifications:",a.message),console.error("[NotificationService] Error details:",{status:a.response?.status,statusText:a.response?.statusText,data:a.response?.data,url:a.config?.url}),[]}},markAsSeen:async a=>{try{console.log("[NotificationService] Marking notification as seen:",a);const n=await be.put(`/notifications/seen?notificationId=${a}`);return console.log("[NotificationService] Mark as seen response:",n.data),n.data?.data||n.data}catch(n){throw console.error("[NotificationService] Failed to mark notification as seen:",n),console.error("[NotificationService] Error details:",{status:n.response?.status,statusText:n.response?.statusText,data:n.response?.data}),n}},markMultipleAsSeen:async a=>{try{if(!Array.isArray(a)||a.length===0)return console.warn("[NotificationService] No notification IDs provided"),{success:!0};console.log("[NotificationService] Marking multiple notifications as seen:",a),console.log("[NotificationService] Notification IDs (type, count):",typeof a[0],a.length);const n={notificationIds:a};console.log("[NotificationService] Request body:",JSON.stringify(n));const s=await be.put("/notifications/seen/batch",n);return console.log("[NotificationService] Mark multiple response:",{status:s.status,statusText:s.statusText,data:s.data}),s.data?.success||s.status===200?(console.log("[NotificationService] Successfully marked",a.length,"notifications as seen"),s.data||{success:!0}):(console.warn("[NotificationService] Response indicates potential issue:",s.data),s.data||{success:!0})}catch(n){throw console.error("[NotificationService] Failed to mark multiple notifications as seen:",n),console.error("[NotificationService] Full error details:",{message:n.message,status:n.response?.status,statusText:n.response?.statusText,responseData:n.response?.data,requestData:n.config?.data,headers:n.config?.headers}),n}},markAllAsSeen:async()=>{try{const a=await be.put("/notifications/seen/all");return a.data?.data||a.data}catch(a){throw console.warn("[NotificationService] PUT /notifications/seen/all may not be implemented:",a),a}}},$l=Object.freeze(Object.defineProperty({__proto__:null,notificationService:$o},Symbol.toStringTag,{value:"Module"})),x3=rc(a=>({notifications:[],isLoading:!1,error:null,loadNotifications:async()=>{a({isLoading:!0,error:null});try{const n=await $o.getNotifications();a({notifications:n,isLoading:!1})}catch(n){const s=n.response?.data?.message||"Failed to load notifications";a({error:s,isLoading:!1})}},markAsSeen:async n=>{a({error:null});try{await $o.markAsSeen(n),a(s=>({notifications:s.notifications.map(o=>o.id===n?{...o,seen:!0}:o)}))}catch(s){const o=s.response?.data?.message||"Failed to mark notification as seen";a({error:o})}},markMultipleAsSeen:async n=>{a({error:null});try{await $o.markMultipleAsSeen(n),a(s=>({notifications:s.notifications.map(o=>n.includes(o.id)?{...o,seen:!0}:o)}))}catch(s){const o=s.response?.data?.message||"Failed to mark notifications as seen";a({error:o})}},markAllAsSeen:async()=>{a({error:null});try{await $o.markAllAsSeen(),a(n=>({notifications:n.notifications.map(s=>({...s,seen:!0}))}))}catch(n){const s=n.response?.data?.message||"Failed to mark all notifications as seen";a({error:s})}},clearError:()=>a({error:null}),handleNewNotification:n=>{console.log("[NotificationStore] New notification:",n),a(s=>{const o={id:n.messageId,messageId:n.messageId,chatId:n.chatId,chatName:n.chatName,chatAvatar:n.chatAvatar,senderName:n.senderName,content:n.content,sentTime:n.sentTime,seen:!1,fileUrl:n.fileUrl};return s.notifications.some(u=>u.chatId===o.chatId&&u.sentTime===o.sentTime)?s:{notifications:[o,...s.notifications]}})}}));function b3(){const{isAuthenticated:a}=pr();return console.log("[AppRoutes] Rendering with isAuthenticated:",a),p.jsxs(j_,{children:[p.jsx(Bo,{path:"/login",element:a?p.jsx(Fo,{to:"/dashboard",replace:!0}):p.jsx(pT,{})}),p.jsx(Bo,{path:"/register",element:a?p.jsx(Fo,{to:"/dashboard",replace:!0}):p.jsx(yT,{})}),p.jsx(Bo,{path:"/dashboard",element:p.jsx(LC,{children:p.jsx(v3,{})})}),p.jsx(Bo,{path:"/",element:p.jsx(Fo,{to:a?"/dashboard":"/login",replace:!0})}),p.jsx(Bo,{path:"*",element:p.jsx(Fo,{to:"/",replace:!0})})]})}function S3(){const{isAuthenticated:a}=pr(),[n,s]=C.useState([]);C.useEffect(()=>js.subscribe(s),[]);const o=l=>{js.remove(l)};C.useEffect(()=>{console.log("[App] Initializing auth from localStorage..."),Jt.getState().initializeAuth(),console.log("[App] Auth initialization complete")},[]),C.useEffect(()=>{if(!a){console.log("[App] Not authenticated, skipping SignalR initialization");return}console.log("[App] Setting up SignalR event handlers...");const l=nt.getState(),u=x3.getState();return Ge.setEventHandlers({onUserOnline:h=>{l.handleUserOnline(h)},onUserOffline:h=>{l.handleUserOffline({...h,lastSeen:h.lastSeen||new Date().toISOString()})},onReceiveMessage:h=>{l.handleReceiveMessage(h)},onMessageEdited:h=>{l.handleMessageEdited(h)},onMessageDeleted:h=>{l.handleMessageDeleted(h)},onReactionAdded:h=>{l.handleReactionAdded(h)},onReactionRemoved:h=>{l.handleReactionRemoved(h)},onUserTyping:h=>{l.handleUserTyping(h)},onUserStoppedTyping:h=>{l.handleUserStoppedTyping(h)},onNewNotification:h=>{u.handleNewNotification(h)},onError:h=>{console.error("[App] SignalR Error:",h)}}),(async()=>{try{console.log("[App] Starting SignalR connection..."),await Ge.start(),console.log("[App] SignalR connected successfully");const h=nt.getState();h.chats.length===0&&(console.log("[App] Loading chats before fetching presence states..."),await h.loadChats());const m=h.chats.flatMap(y=>y.members?.map(v=>v.userId)||[]).filter((y,v,x)=>x.indexOf(y)===v);if(m.length>0){console.log("[App] Fetching presence states for",m.length,"users:",m);try{const y=await Ge.getPresenceStates(m);console.log("[App] Received presence states:",y),console.log("[App] Presence states type check:",typeof y,Object.keys(y).length,"keys"),h.setInitialPresenceStates(y),console.log("[App] Presence states initialized successfully"),console.log("[App] OnlineUsers map after init:",h.onlineUsers)}catch(y){console.error("[App] Failed to fetch initial presence states:",y)}}else console.log("[App] No users to fetch presence for")}catch(h){console.error("[App] Failed to start SignalR:",h)}})(),()=>{console.log("[App] Stopping SignalR connection..."),Ge.stop()}},[a]);try{return p.jsxs(p.Fragment,{children:[p.jsx(T_,{children:p.jsx(b3,{})}),p.jsx(mA,{toasts:n,onClose:o}),p.jsx(QD,{})]})}catch(l){return console.error("App Error:",l),p.jsxs("div",{style:{padding:"20px",color:"red"},children:[p.jsx("h1",{children:"Error Loading Application"}),p.jsx("p",{children:"Check browser console for details"}),p.jsx("pre",{children:String(l)})]})}}const dS=document.getElementById("root");if(!dS)throw new Error("Root element not found");console.log("React app starting...");ew.createRoot(dS).render(p.jsx(C.StrictMode,{children:p.jsx(S3,{})}));console.log("React app rendered");export{be as a};
