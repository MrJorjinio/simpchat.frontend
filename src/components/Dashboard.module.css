/* Dashboard Layout - Refined Dark Minimalism */

/* ===== CSS VARIABLES ===== */
:root {
  --dash-bg: #050505;
  --dash-surface: #0a0a0a;
  --dash-surface-elevated: #0f0f0f;
  --dash-surface-hover: #151515;
  --dash-border: rgba(255, 255, 255, 0.06);
  --dash-primary: #10b981;
  --dash-primary-soft: rgba(16, 185, 129, 0.15);
  --dash-text: #f1f5f9;
  --dash-text-secondary: #94a3b8;
  --dash-text-muted: #64748b;
  --dash-online: #22c55e;
  --dash-sidebar-width: 320px;
  --dash-right-panel-width: 320px;
  /* Custom Emerald Cursor */
  --cursor-default: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M5.5 3.21V20.8l4.75-4.73 2.99 6.73L15.5 21.6l-3-6.7h6z'/%3E%3Cpath fill='%23064e3b' d='M6.5 5.61v11.68l3.38-3.37.37-.37.48 1.07 1.93 4.35 1.07-.47L11.8 14.1l-.48-1.07H16z'/%3E%3C/svg%3E") 5 3, default;
  --cursor-pointer: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%2310b981' d='M9 2.5a2.5 2.5 0 0 1 5 0v7.996l3.904-.74a2.095 2.095 0 0 1 2.537 2.466L19.5 17.5a6 6 0 0 1-6 6H11a7 7 0 0 1-7-7V9a2 2 0 1 1 4 0v3.5h1z'/%3E%3Cpath fill='%23064e3b' d='M10 2.5V14h-.5a1.5 1.5 0 0 1-1.5-1.5V9a1 1 0 1 0-2 0v7.5a6 6 0 0 0 6 6h2.5a5 5 0 0 0 5-5l.941-5.278a1.095 1.095 0 0 0-1.324-1.288l-4.117.78V2.5a1.5 1.5 0 0 0-3 0z'/%3E%3C/svg%3E") 9 4, pointer;
}

/* ===== CUSTOM GREEN SCROLLBARS ===== */
.dashboardContainer ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dashboardContainer ::-webkit-scrollbar-track {
  background: var(--dash-surface);
  border-radius: 4px;
}

.dashboardContainer ::-webkit-scrollbar-thumb {
  background: var(--dash-primary);
  border-radius: 4px;
  border: 2px solid var(--dash-surface);
}

.dashboardContainer ::-webkit-scrollbar-thumb:hover {
  background: #0d9668;
}

.dashboardContainer ::-webkit-scrollbar-corner {
  background: var(--dash-surface);
}

/* Firefox scrollbar */
.dashboardContainer * {
  scrollbar-width: thin;
  scrollbar-color: var(--dash-primary) var(--dash-surface);
}

/* ===== GLOBAL OVERRIDES - KILL BLUE SHADOWS ===== */
/* Exclude togglePanelBtn which needs its transform for centering */
.dashboardContainer button:not(:disabled):not(.togglePanelBtn):hover {
  transform: none !important;
  box-shadow: none !important;
}

.dashboardContainer input:focus,
.dashboardContainer textarea:focus,
.dashboardContainer select:focus {
  box-shadow: none !important;
  border-color: transparent !important;
}

/* NOTE: Removed global padding: 0 from buttons - it was breaking button styling */
/* Each button type should define its own padding */
.dashboardContainer button {
  font-weight: 500;
  letter-spacing: normal;
}

/* ===== KEYFRAMES ===== */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes subtleGlow {
  0%, 100% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.08); }
  50% { box-shadow: 0 0 30px rgba(16, 185, 129, 0.12); }
}

/* ===== CUSTOM EMERALD CURSOR ===== */
.dashboardContainer {
  cursor: var(--cursor-default);
}

.dashboardContainer button,
.dashboardContainer a,
.dashboardContainer [role="button"],
.dashboardContainer input[type="submit"],
.dashboardContainer input[type="button"],
.dashboardContainer .clickable,
.dashboardContainer .chatItem,
.dashboardContainer .searchResultItem {
  cursor: var(--cursor-pointer);
}

.dashboardContainer input[type="text"],
.dashboardContainer input[type="email"],
.dashboardContainer input[type="password"],
.dashboardContainer input[type="search"],
.dashboardContainer textarea {
  cursor: text;
}

/* ===== MAIN CONTAINER ===== */
.dashboardContainer {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100%;
  background: var(--dash-bg);
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
  color: var(--dash-text);
  overflow: hidden;
}

/* ===== MAIN WRAPPER ===== */
.mainWrapper {
  display: flex;
  flex: 1;
  overflow: hidden;
  height: 100%;
}

/* ===== LEFT SIDEBAR ===== */
.sidebar {
  width: var(--dash-sidebar-width);
  min-width: var(--dash-sidebar-width);
  height: 100%;
  background: var(--dash-surface);
  border-right: 1px solid var(--dash-border);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* ===== SEARCH SECTION - ULTRA MINIMAL ===== */
.searchSection {
  padding: 20px 16px 12px;
}

.searchContainer {
  position: relative;
}

.searchWrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.searchIcon {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 18px;
  height: 18px;
  color: var(--dash-primary);
  opacity: 0.7;
  pointer-events: none;
  z-index: 1;
  transition: opacity 0.2s ease;
}

.searchInput {
  width: 100% !important;
  height: 36px !important;
  min-height: 36px !important;
  padding: 0 24px 0 24px !important;
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-top: none !important;
  border-left: none !important;
  border-right: none !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06) !important;
  border-radius: 0 !important;
  outline: none !important;
  box-shadow: none !important;
  font-size: 13px !important;
  font-weight: 400;
  line-height: 36px !important;
  font-family: inherit;
  color: var(--dash-text);
  transition: border-color 0.3s ease;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
}

/* Kill all browser autofill backgrounds */
.searchInput:-webkit-autofill,
.searchInput:-webkit-autofill:hover,
.searchInput:-webkit-autofill:focus,
.searchInput:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 1000px var(--dash-surface) inset !important;
  -webkit-text-fill-color: var(--dash-text) !important;
  background-color: transparent !important;
  transition: background-color 5000s ease-in-out 0s;
}

.searchInput::placeholder {
  color: var(--dash-text-muted);
  opacity: 0.5;
}

.searchInput:hover {
  border-bottom-color: rgba(255, 255, 255, 0.12) !important;
}

.searchInput:focus {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
  border-top: none !important;
  border-left: none !important;
  border-right: none !important;
  border-bottom: 1px solid var(--dash-primary) !important;
  border-radius: 0 !important;
  background: transparent !important;
  background-color: transparent !important;
}

.searchInput:focus::placeholder {
  opacity: 0.3;
}

/* Focus state for icon - use wrapper:focus-within */
.searchWrapper:focus-within .searchIcon {
  opacity: 1;
}

.clearSearch {
  position: absolute;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  padding: 4px !important;
  background: transparent;
  border: none;
  border-radius: 50%;
  color: var(--dash-primary);
  cursor: pointer;
  opacity: 0.5;
  transition: all 0.2s ease;
}

.clearSearch svg {
  width: 14px;
  height: 14px;
}

.clearSearch:hover {
  opacity: 1;
  background: var(--dash-primary-soft);
}

/* Search Dropdown */
.searchDropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  background: var(--dash-surface-elevated);
  border: 1px solid rgba(255, 255, 255, 0.04);
  border-radius: 10px;
  overflow: hidden;
  z-index: 100;
  animation: slideDown 0.15s ease-out;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

/* ===== SEARCH DROPDOWN - COMFORTABLE SIZE ===== */
.dropdownHeader {
  padding: 14px 20px 10px 28px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1.2px;
  color: var(--dash-primary);
}

.searchResultItem {
  position: relative;
  display: flex;
  align-items: center;
  gap: 16px;
  width: 100%;
  padding: 12px 20px 12px 28px !important;
  margin-bottom: 4px;
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;
  transition: background 0.2s ease;
  font-size: 14px;
}

/* Left line animation on hover */
.searchResultItem::before {
  content: '';
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 0;
  background: var(--dash-primary);
  border-radius: 0 3px 3px 0;
  transition: height 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.searchResultItem:hover::before {
  height: 55%;
}

.searchResultItem:last-child {
  margin-bottom: 14px;
}

.searchResultItem:hover {
  background: rgba(16, 185, 129, 0.06);
}

.resultAvatar {
  position: relative;
  width: 46px;
  height: 46px;
  border-radius: 50%;
  background: var(--dash-primary-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: 600;
  color: var(--dash-primary);
  flex-shrink: 0;
  overflow: hidden;
}

.resultAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.resultOnline {
  position: absolute;
  bottom: 2px;
  right: 2px;
  width: 12px;
  height: 12px;
  background: var(--dash-online);
  border: 2px solid var(--dash-surface-elevated);
  border-radius: 50%;
}

.resultInfo {
  display: flex;
  flex-direction: column;
  gap: 5px;
  min-width: 0;
}

.resultName {
  font-size: 16px;
  font-weight: 500;
  color: var(--dash-text);
  transition: color 0.2s ease;
}

.searchResultItem:hover .resultName {
  color: #fff;
}

.resultUsername {
  font-size: 14px;
  color: var(--dash-text-muted);
  transition: color 0.2s ease;
}

.searchResultItem:hover .resultUsername {
  color: var(--dash-primary);
}

.resultType {
  font-size: 12px;
  color: var(--dash-text-muted);
  text-transform: capitalize;
}

.resultTypeIcon {
  margin-left: auto;
  width: 28px;
  height: 28px;
  border-radius: 6px;
  background: rgba(16, 185, 129, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--dash-primary);
  flex-shrink: 0;
}

.resultTypeIcon.group {
  background: rgba(59, 130, 246, 0.1);
  color: #3b82f6;
}

.resultTypeIcon.channel {
  background: rgba(168, 85, 247, 0.1);
  color: #a855f7;
}

.resultAvatar.group {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.resultAvatar.channel {
  background: rgba(168, 85, 247, 0.15);
  color: #a855f7;
}

.dropdownHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px 8px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--dash-text-muted);
}

.dropdownHeader svg {
  opacity: 0.6;
}

.noResults {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 40px 24px;
  color: var(--dash-text-secondary);
}

.noResults svg {
  width: 32px;
  height: 32px;
  min-width: 32px;
  color: var(--dash-primary);
  opacity: 0.6;
}

.noResults span {
  font-size: 14px;
  opacity: 0.7;
}

/* ===== CHAT LIST ===== */
.chatList {
  flex: 1;
  overflow-y: auto;
  padding: 4px 10px 10px;
}

.chatList::-webkit-scrollbar {
  width: 4px;
}

.chatList::-webkit-scrollbar-track {
  background: transparent;
}

.chatList::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 2px;
}

.chatList::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.12);
}

/* Sidebar Footer - User Profile & Settings */
.sidebarFooter {
  padding: 12px;
  border-top: 1px solid var(--dash-border);
  background: var(--dash-surface);
}

.settingsButton {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 10px 12px;
  background: var(--dash-surface-elevated);
  border: 1px solid var(--dash-border);
  border-radius: 12px;
  cursor: var(--cursor-pointer);
  transition: all 0.2s ease;
  color: var(--dash-text-secondary);
}

.settingsButton:hover {
  background: var(--dash-surface-hover);
  border-color: var(--dash-primary);
  color: var(--dash-primary);
}

.settingsButton:hover .userStatus {
  color: var(--dash-primary);
}

.userInfo {
  display: flex;
  align-items: center;
  gap: 12px;
}

.settingsButton .userAvatar {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: var(--dash-primary-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 600;
  color: var(--dash-primary);
  overflow: hidden;
}

.settingsButton .userAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.userDetails {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.userName {
  font-size: 13px;
  font-weight: 600;
  color: var(--dash-text);
}

.userStatus {
  font-size: 11px;
  color: var(--dash-online);
  font-weight: 500;
  transition: color 0.2s ease;
}

/* Chat Item */
.chatItem {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: background 0.15s ease;
  margin-bottom: 2px;
}

.chatItem:hover {
  background: var(--dash-surface-elevated);
}

.chatItem.active {
  background: var(--dash-primary-soft);
}

.chatItem.active:hover {
  background: rgba(16, 185, 129, 0.2);
}

.chatAvatar {
  position: relative;
  width: 46px;
  height: 46px;
  border-radius: 50%;
  background: var(--dash-surface-hover);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  color: var(--dash-primary);
  flex-shrink: 0;
}

.chatAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

.chatAvatar.group {
  background: var(--dash-primary-soft);
}

.chatAvatar svg {
  width: 18px;
  height: 18px;
  min-width: 18px;
  flex-shrink: 0;
}

.chatAvatar.group svg {
  color: var(--dash-primary);
}

.chatOnlineStatus {
  position: absolute;
  bottom: 1px;
  right: 1px;
  width: 12px;
  height: 12px;
  background: var(--dash-online);
  border: 2px solid var(--dash-surface);
  border-radius: 50%;
}

.chatItem:hover .chatOnlineStatus {
  border-color: var(--dash-surface-elevated);
}

.chatItem.active .chatOnlineStatus {
  border-color: var(--dash-primary-soft);
}

.chatInfo {
  flex: 1;
  min-width: 0;
}

.chatNameRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 4px;
}

.chatName {
  font-size: 14px;
  font-weight: 500;
  color: var(--dash-text);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.chatTime {
  font-size: 11px;
  color: var(--dash-text-muted);
  flex-shrink: 0;
  margin-left: 8px;
}

.chatPreviewRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.chatPreview {
  font-size: 13px;
  color: var(--dash-text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
}

.unreadBadge {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  background: var(--dash-primary);
  border-radius: 10px;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-bg);
  flex-shrink: 0;
}

/* ===== MAIN CONTENT ===== */
.mainContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--dash-bg);
  position: relative;
  overflow: hidden;
}

/* Mobile Header */
.mobileHeader {
  display: none;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--dash-surface);
  border-bottom: 1px solid var(--dash-border);
}

.mobileTitle {
  font-size: 16px;
  font-weight: 600;
  color: var(--dash-text);
}

.mobileMenuBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 8px !important;
  background: var(--dash-surface-elevated);
  border: none;
  border-radius: 10px;
  color: var(--dash-primary);
  cursor: pointer;
  opacity: 0.7;
  transition: all 0.15s ease;
}

.mobileMenuBtn:hover {
  background: var(--dash-primary-soft);
  opacity: 1;
}

.mobileMenuBtn svg {
  width: 22px;
  height: 22px;
  min-width: 22px;
  flex-shrink: 0;
}

/* Empty State */
.emptyState {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  animation: fadeIn 0.3s ease;
}

.emptyStateIcon {
  width: 80px;
  height: 80px;
  border-radius: 20px;
  background: var(--dash-primary-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  animation: subtleGlow 3s ease-in-out infinite;
}

.emptyStateIcon svg {
  width: 32px;
  height: 32px;
  min-width: 32px;
  color: var(--dash-primary);
}

.emptyStateTitle {
  font-size: 18px;
  font-weight: 600;
  color: var(--dash-text);
  margin-bottom: 8px;
}

.emptyStateText {
  font-size: 14px;
  color: var(--dash-text-secondary);
  text-align: center;
  max-width: 280px;
  line-height: 1.5;
}

/* ===== RIGHT PANEL - REFINED & SPACIOUS ===== */
.rightPanel {
  width: var(--dash-right-panel-width);
  min-width: var(--dash-right-panel-width);
  height: 100%;
  background: var(--dash-surface);
  border-left: 1px solid var(--dash-border);
  display: flex;
  flex-direction: column;
  transition: all 0.2s ease;
}

.rightPanel.collapsed {
  width: 0;
  min-width: 0;
  border-left: none;
  opacity: 0;
  overflow: hidden;
}

.rightPanelHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 20px;
  border-bottom: 1px solid var(--dash-border);
}

.rightPanelTitle {
  font-size: 15px;
  font-weight: 600;
  color: var(--dash-text);
  letter-spacing: 0.2px;
}

.closePanel {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 8px !important;
  background: transparent;
  border: none;
  border-radius: 10px;
  color: var(--dash-primary);
  cursor: pointer;
  opacity: 0.6;
  transition: all 0.2s ease;
}

.closePanel:hover {
  background: var(--dash-primary-soft);
  opacity: 1;
}

.closePanel svg {
  width: 20px;
  height: 20px;
  min-width: 20px;
  flex-shrink: 0;
}

.rightPanelContent {
  flex: 1;
  padding: 24px 20px;
  overflow-y: auto;
}

.rightPanelContent::-webkit-scrollbar {
  width: 4px;
}

.rightPanelContent::-webkit-scrollbar-track {
  background: transparent;
}

.rightPanelContent::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 2px;
}

.panelPlaceholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  text-align: center;
  padding: 32px 24px;
}

.panelPlaceholder svg {
  width: 40px;
  height: 40px;
  min-width: 40px;
  color: var(--dash-primary);
  margin-bottom: 16px;
}

.panelPlaceholder p {
  font-size: 14px;
  color: var(--dash-text-muted);
  line-height: 1.5;
  max-width: 180px;
}

/* Toggle Panel Button */
.togglePanelBtn {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 56px;
  padding: 5px !important;
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 8px;
  color: var(--dash-text-muted);
  cursor: pointer;
  transition: color 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  z-index: 10;
}

.togglePanelBtn:hover {
  color: var(--dash-primary);
  border-color: var(--dash-primary);
  box-shadow: 0 0 12px rgba(16, 185, 129, 0.3);
  /* Force no movement on hover */
  transform: translateY(-50%) !important;
}

.togglePanelBtn:active {
  transform: translateY(-50%) !important;
  box-shadow: 0 0 8px rgba(16, 185, 129, 0.5);
}

.togglePanelBtn svg {
  width: 18px;
  height: 18px;
  min-width: 18px;
  flex-shrink: 0;
}

/* ===== MOBILE OVERLAY ===== */
.mobileOverlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 199;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  backdrop-filter: blur(2px);
}

.mobileOverlay.visible {
  opacity: 1;
  pointer-events: auto;
}

/* ===== RESPONSIVE ===== */

@media (max-width: 1024px) {
  :root {
    --dash-sidebar-width: 300px;
    --dash-right-panel-width: 260px;
  }
}

@media (max-width: 768px) {
  .mobileHeader {
    display: flex;
  }

  .mobileOverlay {
    display: block;
  }

  .sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    z-index: 200;
    transform: translateX(-100%);
    transition: transform 0.25s ease;
    width: 85vw;
    max-width: 340px;
    min-width: auto;
  }

  .sidebar.open {
    transform: translateX(0);
  }

  .rightPanel {
    position: fixed;
    right: 0;
    top: 0;
    height: 100vh;
    z-index: 200;
    transform: translateX(100%);
    transition: transform 0.25s ease;
    width: 85vw;
    max-width: 340px;
    min-width: auto;
  }

  .rightPanel:not(.collapsed) {
    transform: translateX(0);
  }

  .rightPanel.collapsed {
    transform: translateX(100%);
    opacity: 1;
  }

  .togglePanelBtn {
    display: none;
  }

  .chatAvatar {
    width: 44px;
    height: 44px;
  }

  .searchBar {
    height: 40px;
  }

  .newChatBtn {
    width: 40px;
    height: 40px;
  }
}

@media (max-width: 480px) {
  .sidebar {
    width: 100%;
    max-width: 100%;
  }

  .rightPanel {
    width: 100%;
    max-width: 100%;
  }

  .searchSection {
    padding: 12px;
    gap: 10px;
  }

  .chatList {
    padding: 4px 8px 8px;
  }

  .chatItem {
    padding: 10px;
    gap: 10px;
  }

  .chatAvatar {
    width: 42px;
    height: 42px;
  }

  .chatName {
    font-size: 13px;
  }

  .chatPreview {
    font-size: 12px;
  }
}

/* ===== LOADING & EMPTY STATES ===== */
.loadingChats,
.noChats,
.loadingMessages,
.noMessages {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 48px 24px;
  color: var(--dash-text-secondary);
}

.loadingChats svg,
.noChats svg,
.loadingMessages svg,
.noMessages svg {
  width: 32px;
  height: 32px;
  min-width: 32px;
  color: var(--dash-primary);
  opacity: 0.6;
}

.loadingChats span,
.noChats span,
.loadingMessages span,
.noMessages span {
  font-size: 14px;
  opacity: 0.7;
}

.spinner {
  width: 28px;
  height: 28px;
  min-width: 28px;
  color: var(--dash-primary);
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ===== CHAT VIEW CONTAINER ===== */
.chatViewContainer {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* ===== CHAT HEADER ===== */
.chatHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  background: var(--dash-surface);
  border-bottom: 1px solid var(--dash-border);
  flex-shrink: 0;
}

.chatHeaderLeft {
  display: flex;
  align-items: center;
  gap: 14px;
}

.chatHeaderAvatar {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  background: var(--dash-surface-hover);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  color: var(--dash-primary);
  flex-shrink: 0;
  overflow: hidden;
}

.chatHeaderAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.chatHeaderAvatar.group {
  background: var(--dash-primary-soft);
}

.chatHeaderAvatar svg {
  width: 20px;
  height: 20px;
  min-width: 20px;
  flex-shrink: 0;
}

.chatHeaderAvatar.group svg {
  color: var(--dash-primary);
}

.chatHeaderInfo {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.chatHeaderName {
  font-size: 15px;
  font-weight: 600;
  color: var(--dash-text);
  margin: 0;
}

.chatHeaderStatus {
  font-size: 12px;
  color: var(--dash-text-muted);
}

.chatHeaderRight {
  display: flex;
  align-items: center;
  gap: 8px;
}

.chatHeaderBtn {
  width: 36px;
  height: 36px;
  padding: 0;
  border-radius: 8px;
  background: var(--dash-surface-hover);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--dash-text-secondary);
  transition: all 0.2s ease;
}

.chatHeaderBtn:hover {
  background: var(--dash-primary-soft);
  color: var(--dash-primary);
}

/* ===== MESSAGES CONTAINER - COMPACT ===== */
.messagesContainer {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.messagesContainer::-webkit-scrollbar {
  width: 4px;
}

.messagesContainer::-webkit-scrollbar-track {
  background: transparent;
}

.messagesContainer::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 2px;
}

/* ===== MESSAGE - COMPACT DESIGN ===== */
.message {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  max-width: 75%;
  padding: 2px 0;
}

.message.own {
  align-self: flex-end;
  flex-direction: row-reverse;
}

.messageAvatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--dash-surface-hover);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-primary);
  flex-shrink: 0;
  overflow: hidden;
  margin-top: 2px;
}

.messageAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.messageBubble {
  padding: 8px 12px;
  background: var(--dash-surface-elevated);
  border-radius: 14px 14px 14px 4px;
  max-width: 100%;
  position: relative;
  cursor: pointer;
  user-select: text;
  transition: background 0.15s ease;
}

.messageBubble:hover {
  background: var(--dash-surface-hover);
}

.message.own .messageBubble {
  background: var(--dash-primary);
  border-radius: 14px 14px 4px 14px;
}

.message.own .messageBubble:hover {
  background: #0ea371;
}

.messageSender {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-primary);
  margin-bottom: 2px;
  letter-spacing: 0.2px;
}

.message.own .messageSender {
  display: none;
}

.messageText {
  font-size: 13.5px;
  line-height: 1.4;
  color: var(--dash-text);
  margin: 0;
  word-wrap: break-word;
}

.message.own .messageText {
  color: var(--dash-bg);
}

.messageTime {
  font-size: 10px;
  color: var(--dash-text-muted);
  opacity: 0.8;
}

.message.own .messageTime {
  color: rgba(0, 0, 0, 0.45);
}

.messageStatus {
  color: inherit;
}

/* ===== SEEN INDICATOR ===== */
.seenIndicator {
  display: inline-flex;
  align-items: center;
  margin-left: 3px;
  font-size: 10px;
  letter-spacing: -1px;
}

.seenIndicator.seen {
  color: var(--dash-primary);
}

.seenIndicator.delivered {
  color: var(--dash-text-muted);
  opacity: 0.6;
}

.message.own .seenIndicator.seen {
  color: rgba(0, 0, 0, 0.7);
}

.message.own .seenIndicator.delivered {
  color: rgba(0, 0, 0, 0.4);
}

/* ===== MESSAGE ATTACHMENT - COMPACT ===== */
.messageAttachment {
  margin-bottom: 4px;
}

.attachmentImage {
  max-width: 100%;
  max-height: 180px;
  border-radius: 6px;
  object-fit: cover;
}

.attachmentLink {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.04);
  border-radius: 8px;
  color: var(--dash-text-secondary);
  text-decoration: none;
  font-size: 12px;
  transition: background 0.15s ease;
}

.attachmentLink:hover {
  background: rgba(255, 255, 255, 0.08);
}

.message.own .attachmentLink {
  background: rgba(0, 0, 0, 0.12);
  color: var(--dash-bg);
}

.message.own .attachmentLink:hover {
  background: rgba(0, 0, 0, 0.2);
}

.attachmentLink svg {
  width: 16px;
  height: 16px;
  min-width: 16px;
  flex-shrink: 0;
  color: var(--dash-primary);
}

/* ===== MESSAGE INPUT - COMPACT ===== */
.messageInputContainer {
  padding: 12px 16px;
  background: var(--dash-surface);
  border-top: 1px solid var(--dash-border);
  flex-shrink: 0;
}

.inputDisabledNotice {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 14px 20px;
  background: var(--dash-surface-elevated);
  border-radius: 8px;
  color: var(--dash-text-muted);
  font-size: 13px;
  text-align: center;
}

.filePreview {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 10px;
  margin-bottom: 8px;
  background: var(--dash-surface-elevated);
  border-radius: 6px;
}

.fileName {
  font-size: 12px;
  color: var(--dash-text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.removeFile {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  padding: 4px !important;
  background: transparent;
  border: none;
  border-radius: 4px;
  color: var(--dash-text-muted);
  cursor: pointer;
  transition: all 0.15s ease;
  flex-shrink: 0;
}

.removeFile:hover {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  transform: none !important;
  box-shadow: none !important;
}

.removeFile svg {
  width: 12px;
  height: 12px;
  min-width: 12px;
  flex-shrink: 0;
}

.messageInputRow {
  display: flex;
  align-items: center;
  gap: 8px;
}

.fileInput {
  display: none;
}

.attachBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  padding: 10px !important;
  background: transparent;
  border: none;
  border-radius: 10px;
  color: var(--dash-primary);
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
  opacity: 0.7;
}

.attachBtn:hover {
  background: var(--dash-primary-soft);
  opacity: 1;
  transform: none !important;
  box-shadow: none !important;
}

.attachBtn:active {
  transform: scale(0.95) !important;
}

.attachBtn svg {
  width: 20px;
  height: 20px;
  min-width: 20px;
  flex-shrink: 0;
}

.messageInput {
  flex: 1;
  height: 42px;
  min-height: 42px;
  padding: 0 16px !important;
  background: rgba(255, 255, 255, 0.03);
  border: none;
  border-radius: 10px;
  color: var(--dash-text);
  font-size: 14px;
  font-weight: 400;
  font-family: inherit;
  outline: none !important;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  transition: background 0.2s ease;
}

.messageInput::-webkit-outer-spin-button,
.messageInput::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.messageInput::placeholder {
  color: var(--dash-text-muted);
  opacity: 0.5;
}

.messageInput:hover {
  background: rgba(255, 255, 255, 0.03);
}

.messageInput:focus {
  outline: none !important;
  border: none !important;
  box-shadow: none !important;
  background: rgba(16, 185, 129, 0.04);
}

.messageInput:focus::placeholder {
  opacity: 0.3;
}

/* Override any browser focus styles */
.messageInput:focus-visible {
  outline: none !important;
  border: none !important;
  box-shadow: none !important;
}

.sendBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  padding: 10px !important;
  background: var(--dash-primary);
  border: none;
  border-radius: 10px;
  color: var(--dash-bg);
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.sendBtn:hover:not(:disabled) {
  background: #0ea371;
  transform: none !important;
  box-shadow: none !important;
}

.sendBtn:active:not(:disabled) {
  transform: scale(0.95) !important;
}

.sendBtn:disabled {
  opacity: 0.25;
  cursor: not-allowed;
  background: var(--dash-text-muted);
}

.sendBtn svg {
  width: 18px;
  height: 18px;
  min-width: 18px;
  flex-shrink: 0;
}

/* ===== RIGHT PANEL DETAILS - CLEAN MODERN DESIGN ===== */
.panelDetails {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 32px 24px;
}

.panelAvatar {
  width: 88px;
  height: 88px;
  border-radius: 50%;
  background: var(--dash-surface-elevated);
  border: 2px solid var(--dash-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  overflow: hidden;
}

.panelAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.panelAvatar svg {
  width: 36px;
  height: 36px;
  min-width: 36px;
  color: var(--dash-primary);
}

.panelAvatar span {
  font-size: 32px;
  font-weight: 600;
  color: var(--dash-primary);
}

.panelName {
  font-size: 18px;
  font-weight: 600;
  color: var(--dash-text);
  margin: 0 0 6px;
}

.panelType {
  font-size: 12px;
  color: var(--dash-primary) !important;
  margin: 0 0 24px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
}

.panelDescription {
  font-size: 14px;
  color: var(--dash-text-secondary);
  margin: 0 0 24px;
  line-height: 1.6;
  max-width: 240px;
}

.panelMemberCount {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 20px;
  background: var(--dash-surface-elevated);
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  color: var(--dash-text);
}

.panelMemberCount svg {
  width: 18px;
  height: 18px;
  min-width: 18px;
  color: var(--dash-primary);
}

/* ===== REPLY PREVIEW IN MESSAGE - COMPACT ===== */
.replyPreview {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  margin-bottom: 4px;
  background: rgba(255, 255, 255, 0.03);
  border-left: 2px solid var(--dash-primary);
  border-radius: 0 4px 4px 0;
  cursor: pointer;
  transition: background 0.15s ease;
}

.replyPreview:hover {
  background: rgba(255, 255, 255, 0.06);
}

.message.own .replyPreview {
  background: rgba(0, 0, 0, 0.08);
  border-left-color: rgba(0, 0, 0, 0.25);
}

.message.own .replyPreview:hover {
  background: rgba(0, 0, 0, 0.12);
}

.replyPreview svg {
  width: 10px;
  height: 10px;
  min-width: 10px;
  color: var(--dash-text-muted);
  flex-shrink: 0;
  opacity: 0.7;
}

.message.own .replyPreview svg {
  color: rgba(0, 0, 0, 0.35);
}

.replyAuthor {
  font-size: 10px;
  font-weight: 600;
  color: var(--dash-primary);
}

.message.own .replyAuthor {
  color: rgba(0, 0, 0, 0.55);
}

.replyContent {
  font-size: 10px;
  color: var(--dash-text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 120px;
  opacity: 0.8;
}

.message.own .replyContent {
  color: rgba(0, 0, 0, 0.45);
}

/* ===== MESSAGE REACTIONS - COMPACT PILLS ===== */
.messageReactions {
  display: flex;
  flex-wrap: wrap;
  gap: 3px;
  margin-top: 4px;
}

.reactionBadge {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  padding: 2px 6px !important;
  background: rgba(255, 255, 255, 0.05);
  border: none;
  border-radius: 10px;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.15s ease;
  position: relative;
}

.reactionBadge:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: scale(1.05);
}

.reactionBadge span {
  font-size: 9px;
  color: var(--dash-text-muted);
  font-weight: 500;
}

.message.own .reactionBadge {
  background: rgba(0, 0, 0, 0.12);
}

.message.own .reactionBadge:hover {
  background: rgba(0, 0, 0, 0.2);
}

.message.own .reactionBadge span {
  color: rgba(0, 0, 0, 0.5);
}

/* Reaction tooltip on hover */
.reactionBadge::after {
  content: attr(title);
  position: absolute;
  bottom: calc(100% + 4px);
  left: 50%;
  transform: translateX(-50%) scale(0.9);
  padding: 4px 8px;
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 6px;
  font-size: 10px;
  color: var(--dash-text-secondary);
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: all 0.15s ease;
  z-index: 100;
}

.reactionBadge:hover::after {
  opacity: 1;
  transform: translateX(-50%) scale(1);
}

/* ===== MESSAGE FOOTER - COMPACT ===== */
.messageFooter {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 4px;
  margin-top: 2px;
}

.editedLabel {
  font-style: italic;
  opacity: 0.6;
  font-size: 9px;
}

/* Seen Indicator */
.seenIndicator {
  font-size: 11px;
  margin-left: 3px;
  letter-spacing: -1px;
}

.seenIndicator.delivered {
  color: var(--dash-text-muted);
}

.seenIndicator.seen {
  color: var(--dash-primary);
}

/* Hidden - we use right-click/tap instead */
.messageMenuBtn {
  display: none;
}

/* ===== CONTEXT MENU ===== */
.contextMenu {
  background: var(--dash-surface-elevated);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  overflow: hidden;
  min-width: 160px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  animation: slideDown 0.15s ease-out;
  z-index: 1000;
}

.contextReactions {
  display: flex;
  gap: 2px;
  padding: 10px 12px;
  justify-content: center;
}

.contextReactionBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 6px !important;
  background: transparent;
  border: none;
  border-radius: 8px;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.contextReactionBtn:hover {
  background: rgba(255, 255, 255, 0.08);
  transform: scale(1.1);
}

.contextDivider {
  height: 1px;
  background: rgba(255, 255, 255, 0.06);
  margin: 0 10px;
}

.contextMenuItem {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 10px 14px !important;
  background: transparent;
  border: none;
  font-size: 13px;
  color: var(--dash-text-secondary);
  cursor: pointer;
  transition: background 0.15s ease;
  text-align: left;
}

.contextMenuItem:hover {
  background: rgba(255, 255, 255, 0.06);
  color: var(--dash-text);
}

.contextMenuItem svg {
  width: 16px;
  height: 16px;
  min-width: 16px;
  flex-shrink: 0;
  color: var(--dash-primary);
  opacity: 0.7;
}

.contextMenuItem.danger {
  color: #ef4444;
}

.contextMenuItem.danger:hover {
  background: rgba(239, 68, 68, 0.1);
  color: #f87171;
}

/* ===== HIGHLIGHTED MESSAGE (Jump Animation) ===== */
@keyframes highlightPulse {
  0%, 100% { background: transparent; }
  50% { background: rgba(16, 185, 129, 0.15); }
}

.highlighted .messageBubble {
  animation: highlightPulse 0.5s ease-in-out 3;
}

/* ===== SCROLL TO BOTTOM BUTTON ===== */
.scrollToBottomBtn {
  position: absolute;
  bottom: 90px;
  right: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  padding: 10px !important;
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 50%;
  color: var(--dash-primary);
  cursor: pointer;
  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.15);
  transition: all 0.2s ease;
  z-index: 50;
  animation: fadeIn 0.2s ease;
}

.scrollToBottomBtn:hover {
  background: var(--dash-primary-soft);
  transform: scale(1.08);
  box-shadow: 0 6px 20px rgba(16, 185, 129, 0.25);
}

.scrollToBottomBtn svg {
  width: 20px;
  height: 20px;
  min-width: 20px;
}

/* ===== REPLY BAR (Above Input) - COMPACT ===== */
.replyBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 10px;
  margin-bottom: 8px;
  background: rgba(16, 185, 129, 0.04);
  border-left: 2px solid var(--dash-primary);
  border-radius: 0 6px 6px 0;
}

.replyBarContent {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 0;
}

.replyBarIcon {
  display: none;
}

.replyBarIcon svg {
  width: 12px;
  height: 12px;
  min-width: 12px;
  color: var(--dash-primary);
}

.replyBarInfo {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 0;
}

.replyBarLabel {
  font-size: 11px;
  font-weight: 500;
  color: var(--dash-primary);
}

.replyBarText {
  font-size: 11px;
  color: var(--dash-text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  opacity: 0.7;
}

.replyBarClose {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  padding: 5px !important;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--dash-primary);
  cursor: pointer;
  transition: all 0.15s ease;
  flex-shrink: 0;
  opacity: 0.6;
}

.replyBarClose:hover {
  background: var(--dash-primary-soft);
  opacity: 1;
}

.replyBarClose svg {
  width: 14px;
  height: 14px;
  min-width: 14px;
}

/* ===== EDIT BAR (Above Input) - COMPACT ===== */
.editBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 10px;
  margin-bottom: 8px;
  background: rgba(245, 158, 11, 0.04);
  border-left: 2px solid #f59e0b;
  border-radius: 0 6px 6px 0;
}

.editBarContent {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 0;
}

.editBarIcon {
  display: none;
}

.editBarIcon svg {
  width: 12px;
  height: 12px;
  min-width: 12px;
  color: #f59e0b;
}

.editBarInfo {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 0;
}

.editBarLabel {
  font-size: 11px;
  font-weight: 500;
  color: #f59e0b;
}

.editBarText {
  font-size: 11px;
  color: var(--dash-text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  opacity: 0.7;
}

.editBarClose {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  padding: 5px !important;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: #f59e0b;
  cursor: pointer;
  transition: all 0.15s ease;
  flex-shrink: 0;
  opacity: 0.6;
}

.editBarClose:hover {
  background: rgba(245, 158, 11, 0.15);
  opacity: 1;
}

.editBarClose svg {
  width: 14px;
  height: 14px;
  min-width: 14px;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 768px) {
  .chatHeader {
    padding: 12px 16px;
  }

  .messagesContainer {
    padding: 16px;
  }

  .message {
    max-width: 85%;
  }

  .messageInputContainer {
    padding: 12px 16px;
  }

  .messageInput {
    height: 42px;
  }

  .sendBtn,
  .attachBtn {
    width: 42px;
    height: 42px;
  }

  .scrollToBottomBtn {
    bottom: 80px;
    right: 16px;
    width: 36px;
    height: 36px;
  }

  .contextMenu {
    min-width: 140px;
  }

  .replyContent {
    max-width: 100px;
  }
}

/* ===== PINNED MESSAGES BAR ===== */
.pinnedBar {
  background: var(--dash-surface);
  border-bottom: 1px solid var(--dash-border);
  flex-shrink: 0;
}

.pinnedBarHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 10px 16px;
  background: transparent;
  border: none;
  cursor: pointer;
  transition: background 0.15s ease;
}

.pinnedBarHeader:hover {
  background: var(--dash-surface-hover);
}

.pinnedBarLeft {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 500;
  color: var(--dash-text-secondary);
}

.pinnedBarLeft svg {
  color: var(--dash-primary);
}

.pinnedBarChevron {
  color: var(--dash-text-muted);
  transition: transform 0.2s ease;
}

.pinnedBarChevron.expanded {
  transform: rotate(180deg);
}

.pinnedBarContent {
  overflow: hidden;
  border-top: 1px solid var(--dash-border);
}

.pinnedLoading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
}

.pinnedItem {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 16px;
  border-bottom: 1px solid var(--dash-border);
  transition: background 0.15s ease;
}

.pinnedItem:last-child {
  border-bottom: none;
}

.pinnedItem:hover {
  background: var(--dash-surface-hover);
}

.pinnedItemInfo {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
  flex: 1;
}

.pinnedItemSender {
  font-size: 12px;
  font-weight: 600;
  color: var(--dash-primary);
}

.pinnedItemPreview {
  font-size: 12px;
  color: var(--dash-text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.pinnedItemJump {
  padding: 4px 10px;
  background: var(--dash-primary-soft);
  border: none;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-primary);
  cursor: pointer;
  transition: all 0.15s ease;
  flex-shrink: 0;
}

.pinnedItemJump:hover {
  background: var(--dash-primary);
  color: var(--dash-bg);
}

/* ===== PANEL DETAILS CLICKABLE ===== */
.panelDetails.clickable {
  cursor: pointer;
  transition: background 0.15s ease;
  border-radius: 12px;
  margin: -16px;
  padding: 16px;
}

.panelDetails.clickable:hover {
  background: var(--dash-surface-elevated);
}

.panelClickHint {
  font-size: 11px;
  color: var(--dash-primary);
  margin-top: 12px;
  opacity: 0.7;
}

/* ===== MODAL BACKDROP ===== */
.modalBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

/* ===== USER PROFILE MODAL ===== */
.userProfileModal {
  position: relative;
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 16px;
  padding: 32px 24px;
  max-width: 340px;
  width: 100%;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.modalClose {
  position: absolute;
  top: 12px;
  right: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 6px;
  background: transparent;
  border: none;
  border-radius: 8px;
  color: var(--dash-text-muted);
  cursor: pointer;
  transition: all 0.15s ease;
}

.modalClose:hover {
  background: var(--dash-surface-hover);
  color: var(--dash-text);
}

.userProfileAvatar {
  position: relative;
  width: 96px;
  height: 96px;
  margin: 0 auto 16px;
  border-radius: 50%;
  background: var(--dash-primary-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.userProfileAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.userProfileAvatar span {
  font-size: 36px;
  font-weight: 600;
  color: var(--dash-primary);
}

.userProfileStatus {
  position: absolute;
  bottom: 4px;
  right: 4px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--dash-text-muted);
  border: 3px solid var(--dash-surface);
}

.userProfileStatus.online {
  background: var(--dash-online);
}

.userProfileName {
  font-size: 20px;
  font-weight: 600;
  color: var(--dash-text);
  margin: 0 0 4px;
}

.userProfileHandle {
  font-size: 13px;
  color: var(--dash-text-muted);
  margin: 0 0 12px;
}

.userProfileBio {
  font-size: 13px;
  color: var(--dash-text-secondary);
  line-height: 1.5;
  margin: 0 0 12px;
  padding: 12px;
  background: var(--dash-surface-elevated);
  border-radius: 8px;
}

.userProfileOnline {
  font-size: 12px;
  color: var(--dash-text-muted);
  margin: 0 0 20px;
}

.userProfileActions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.userProfileBtn {
  width: 100%;
  padding: 12px 16px;
  background: var(--dash-surface-elevated);
  border: 1px solid var(--dash-border);
  border-radius: 10px;
  font-size: 13px;
  font-weight: 600;
  color: var(--dash-text);
  cursor: pointer;
  transition: all 0.15s ease;
}

.userProfileBtn:hover {
  background: var(--dash-surface-hover);
}

.userProfileBtn.block {
  color: #f59e0b;
  border-color: rgba(245, 158, 11, 0.2);
}

.userProfileBtn.block:hover {
  background: rgba(245, 158, 11, 0.1);
}

.userProfileBtn.unblock {
  color: var(--dash-primary);
  border-color: var(--dash-primary-soft);
}

.userProfileBtn.unblock:hover {
  background: var(--dash-primary-soft);
}

.userProfileBtn.danger {
  color: #ef4444;
  border-color: rgba(239, 68, 68, 0.2);
}

.userProfileBtn.danger:hover {
  background: rgba(239, 68, 68, 0.1);
}

/* ===== GROUP PROFILE MODAL ===== */
.groupProfileModal {
  position: relative;
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 16px;
  padding: 32px 24px;
  max-width: 400px;
  width: 100%;
  max-height: 85vh;
  overflow-y: auto;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.groupProfileModal::-webkit-scrollbar {
  width: 4px;
}

.groupProfileModal::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
}

.groupProfileAvatar {
  width: 88px;
  height: 88px;
  margin: 0 auto 16px;
  border-radius: 50%;
  background: var(--dash-primary-soft);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.groupProfileAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.groupProfileAvatar svg {
  color: var(--dash-primary);
}

.groupProfileName {
  font-size: 20px;
  font-weight: 600;
  color: var(--dash-text);
  margin: 0 0 8px;
}

.groupProfileDesc {
  font-size: 13px;
  color: var(--dash-text-secondary);
  margin: 0 0 16px;
  line-height: 1.5;
}

.groupProfileStats {
  display: flex;
  justify-content: center;
  gap: 32px;
  margin-bottom: 20px;
}

.groupProfileStat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.statValue {
  font-size: 20px;
  font-weight: 700;
  color: var(--dash-text);
}

.statValue.online {
  color: var(--dash-online);
}

.statLabel {
  font-size: 11px;
  color: var(--dash-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Group Member List */
.groupMemberList {
  margin-bottom: 20px;
  background: var(--dash-surface-elevated);
  border-radius: 10px;
  overflow: hidden;
  text-align: left;
}

.groupMemberListHeader {
  padding: 10px 14px;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 1px solid var(--dash-border);
}

.groupMemberListContent {
  max-height: 200px;
  overflow-y: auto;
}

.groupMemberListContent::-webkit-scrollbar {
  width: 3px;
}

.groupMemberListContent::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
}

.groupMemberItem {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 14px;
  transition: background 0.15s ease;
}

.groupMemberItem:hover {
  background: var(--dash-surface-hover);
}

.groupMemberAvatar {
  position: relative;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--dash-surface-hover);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  flex-shrink: 0;
}

.groupMemberAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.groupMemberAvatar span {
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-primary);
}

.groupMemberOnline {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--dash-online);
  border: 2px solid var(--dash-surface-elevated);
}

.groupMemberName {
  font-size: 13px;
  font-weight: 500;
  color: var(--dash-text);
  display: flex;
  align-items: center;
  gap: 6px;
}

.adminBadge {
  font-size: 10px;
  font-weight: 600;
  color: #fbbf24;
  background: rgba(251, 191, 36, 0.15);
  padding: 2px 6px;
  border-radius: 4px;
}

.groupMemberMore {
  padding: 10px 14px;
  font-size: 12px;
  color: var(--dash-text-muted);
  text-align: center;
  border-top: 1px solid var(--dash-border);
}

.groupProfileActions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.groupProfileBtn {
  width: 100%;
  padding: 12px 16px;
  background: var(--dash-surface-elevated);
  border: 1px solid var(--dash-border);
  border-radius: 10px;
  font-size: 13px;
  font-weight: 600;
  color: var(--dash-text);
  cursor: pointer;
  transition: all 0.15s ease;
}

.groupProfileBtn:hover {
  background: var(--dash-surface-hover);
}

.groupProfileBtn.danger {
  color: #ef4444;
  border-color: rgba(239, 68, 68, 0.2);
}

.groupProfileBtn.danger:hover {
  background: rgba(239, 68, 68, 0.1);
}

.groupProfileBtn.leave {
  color: #f59e0b;
  border-color: rgba(245, 158, 11, 0.2);
}

.groupProfileBtn.leave:hover {
  background: rgba(245, 158, 11, 0.1);
}

/* ===== ENHANCED MODAL STYLES ===== */

/* Modal Loading State */
.modalLoading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  gap: 16px;
  color: var(--dash-text-muted);
}

.modalLoading span {
  font-size: 14px;
}

/* Modal Error State */
.modalError {
  padding: 40px 20px;
  text-align: center;
  color: #f87171;
  font-size: 14px;
}

/* User Profile Enhancements */
.userProfileOnlineBadge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  border-radius: 12px;
  background: var(--dash-surface-elevated);
  margin-bottom: 16px;
}

.userProfileOnlineBadge span {
  font-size: 12px;
  font-weight: 500;
  color: var(--dash-text-muted);
}

.onlineDot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--dash-text-muted);
}

.onlineDot.online {
  background: var(--dash-online);
}

.onlineDotLarge {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--dash-online);
}

.userProfileSection {
  padding: 14px;
  background: var(--dash-surface-elevated);
  border-radius: 10px;
  margin-bottom: 16px;
  text-align: left;
}

.userProfileSection h4 {
  margin: 0 0 8px;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.userProfileSection p {
  margin: 0;
  font-size: 13px;
  color: var(--dash-text-secondary);
  line-height: 1.5;
}

.blockStatusBanner {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 10px;
  margin-bottom: 16px;
}

.blockStatusBanner svg {
  color: #f87171;
  flex-shrink: 0;
}

.blockStatusBanner span {
  font-size: 13px;
  color: #f87171;
}

.userProfileBtn.primary {
  background: var(--dash-primary);
  color: white;
  border-color: var(--dash-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.userProfileBtn.primary:hover {
  background: #0d9668;
}

.userProfileBtn svg {
  flex-shrink: 0;
}

/* ===== ENHANCED GROUP PROFILE STYLES ===== */

.groupProfileStatsGrid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.groupProfileStatBox {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 12px 8px;
  background: var(--dash-surface-elevated);
  border-radius: 10px;
}

.groupProfileStatBox svg {
  color: var(--dash-text-muted);
}

.privacyBadge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: var(--dash-surface-elevated);
  border-radius: 10px;
  margin-bottom: 16px;
}

.privacyBadge svg {
  color: var(--dash-text-muted);
}

.privacyBadge > span {
  font-size: 13px;
  font-weight: 500;
  color: var(--dash-text-secondary);
}

.privacyToggle {
  margin-left: 8px;
  padding: 4px 10px;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-primary);
  background: var(--dash-primary-soft);
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.privacyToggle:hover {
  background: var(--dash-primary);
  color: white;
}

/* Admin Actions Bar */
.adminActionsBar {
  display: flex;
  gap: 8px;
  margin-bottom: 16px;
}

.adminActionBtn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 10px 14px;
  background: var(--dash-surface-elevated);
  border: 1px solid var(--dash-border);
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  color: var(--dash-text);
  cursor: pointer;
  transition: all 0.15s ease;
}

.adminActionBtn:hover {
  background: var(--dash-surface-hover);
  border-color: var(--dash-primary-soft);
}

.adminActionBtn svg {
  flex-shrink: 0;
}

/* Member Search Box */
.memberSearchBox {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  background: var(--dash-surface-elevated);
  border-radius: 8px;
  margin-bottom: 12px;
}

.memberSearchBox svg {
  color: var(--dash-text-muted);
  flex-shrink: 0;
}

.memberSearchBox input {
  flex: 1;
  background: transparent;
  border: none;
  font-size: 13px;
  color: var(--dash-text);
  outline: none;
}

.memberSearchBox input::placeholder {
  color: var(--dash-text-muted);
}

.memberSearchBox button {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
  background: transparent;
  border: none;
  color: var(--dash-text-muted);
  cursor: pointer;
}

.memberSearchBox button:hover {
  color: var(--dash-text);
}

/* Member Role Sections */
.memberRoleSection {
  margin-bottom: 12px;
}

.memberRoleHeader {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  font-size: 11px;
  font-weight: 600;
  color: var(--dash-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.memberRoleHeader svg {
  color: inherit;
}

/* Member List Item */
.memberListItem {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  border-radius: 8px;
  transition: background 0.15s ease;
}

.memberListItem:hover {
  background: var(--dash-surface-hover);
}

.memberListItemMain {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  cursor: pointer;
}

.memberListItemAvatar {
  position: relative;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--dash-surface-hover);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  flex-shrink: 0;
}

.memberListItemAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.memberListItemAvatar span {
  font-size: 12px;
  font-weight: 600;
  color: var(--dash-primary);
}

.memberListItemOnline {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--dash-text-muted);
  border: 2px solid var(--dash-surface-elevated);
}

.memberListItemOnline.online {
  background: var(--dash-online);
}

.memberListItemInfo {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.memberListItemName {
  font-size: 13px;
  font-weight: 500;
  color: var(--dash-text);
}

.memberListItemStatus {
  font-size: 11px;
  color: var(--dash-text-muted);
}

.memberListItemActions {
  position: relative;
}

.memberActionBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--dash-text-muted);
  cursor: pointer;
  transition: all 0.15s ease;
}

.memberActionBtn:hover {
  background: var(--dash-surface-elevated);
  color: var(--dash-text);
}

.memberActionsMenu {
  position: absolute;
  right: 0;
  bottom: 100%;
  margin-bottom: 4px;
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 8px;
  overflow: hidden;
  min-width: 120px;
  z-index: 10;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

.memberActionsMenu button {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  background: transparent;
  border: none;
  font-size: 12px;
  font-weight: 500;
  color: var(--dash-text);
  cursor: pointer;
  transition: background 0.15s ease;
}

.memberActionsMenu button:hover {
  background: var(--dash-surface-hover);
}

.memberActionsMenu button.danger {
  color: #ef4444;
}

.memberActionsMenu button.danger:hover {
  background: rgba(239, 68, 68, 0.1);
}

/* Sub-Modal Styles */
.subModal {
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 14px;
  max-width: 400px;
  width: 100%;
  max-height: 70vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.subModalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid var(--dash-border);
}

.subModalHeader h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--dash-text);
  display: flex;
  align-items: center;
  gap: 8px;
}

.subModalHeader h3 svg {
  color: var(--dash-text-muted);
}

.subModalHeader button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  background: transparent;
  border: none;
  border-radius: 8px;
  color: var(--dash-text-muted);
  cursor: pointer;
  transition: all 0.15s ease;
}

.subModalHeader button:hover {
  background: var(--dash-surface-hover);
  color: var(--dash-text);
}

.subModalSearch {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 20px;
  border-bottom: 1px solid var(--dash-border);
}

.subModalSearch svg {
  color: var(--dash-text-muted);
  flex-shrink: 0;
}

.subModalSearch input {
  flex: 1;
  background: transparent;
  border: none;
  font-size: 14px;
  color: var(--dash-text);
  outline: none;
}

.subModalSearch input::placeholder {
  color: var(--dash-text-muted);
}

.subModalContent {
  flex: 1;
  overflow-y: auto;
  padding: 12px;
}

.subModalContent::-webkit-scrollbar {
  width: 4px;
}

.subModalContent::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
}

.subModalLoading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  gap: 12px;
  color: var(--dash-text-muted);
}

.subModalLoading span {
  font-size: 13px;
}

.subModalEmpty {
  padding: 40px 20px;
  text-align: center;
  font-size: 13px;
  color: var(--dash-text-muted);
}

.subModalItem {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 8px;
  transition: background 0.15s ease;
}

.subModalItem:hover {
  background: var(--dash-surface-elevated);
}

.subModalItemAvatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--dash-surface-hover);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  flex-shrink: 0;
}

.subModalItemAvatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.subModalItemAvatar span {
  font-size: 14px;
  font-weight: 600;
  color: var(--dash-primary);
}

.subModalItemInfo {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.subModalItemName {
  font-size: 14px;
  font-weight: 500;
  color: var(--dash-text);
}

.subModalItemMeta {
  font-size: 11px;
  color: var(--dash-text-muted);
}

.subModalItemBtn {
  padding: 8px 16px;
  background: var(--dash-primary);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s ease;
}

.subModalItemBtn:hover {
  background: #0d9668;
}

.subModalItemBtn.unban {
  background: rgba(34, 197, 94, 0.15);
  color: #4ade80;
}

.subModalItemBtn.unban:hover {
  background: rgba(34, 197, 94, 0.25);
}

/* Group Profile Button with icon */
.groupProfileBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.groupProfileBtn svg {
  flex-shrink: 0;
}

/* ===== RESPONSIVE FOR MODALS ===== */
@media (max-width: 480px) {
  .userProfileModal,
  .groupProfileModal {
    margin: 10px;
    padding: 24px 16px;
  }

  .userProfileAvatar {
    width: 80px;
    height: 80px;
  }

  .groupProfileAvatar {
    width: 72px;
    height: 72px;
  }
}
